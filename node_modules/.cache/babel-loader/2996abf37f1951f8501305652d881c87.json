{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/VisitorAppointment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/VisitorAppointment.vue","mtime":1645178321201},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGV2ZW50QnVzIGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9wbHVnaW5zL2NvbW1vbi9ldmVudEJ1cy5qcyc7CmltcG9ydCB7IHRpbWVRdWVyeSBhcyBfdGltZVF1ZXJ5IH0gZnJvbSAnQC9wYWdlcy92aXNpdG9yLWg1L2FwaS9teVZpc2l0b3InOwppbXBvcnQgdmlzaXRvclBhbmVsIGZyb20gJy4vVmlzaXRvclBhbmVsLnZ1ZSc7CmltcG9ydCB0ZWFtUGFuZWwgZnJvbSAnLi9UZWFtUGFuZWwudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHZpc2l0b3JQYW5lbDogdmlzaXRvclBhbmVsLAogICAgdGVhbVBhbmVsOiB0ZWFtUGFuZWwKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUsCiAgICAgIG1ha2VBbkFwcG9pbnRtZW50OiAwLAogICAgICB0ZXJtT2ZWYWxpZGl0eTogNSwKICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkudHlwZQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRpbWVRdWVyeTogZnVuY3Rpb24gdGltZVF1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX3RpbWVRdWVyeSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBvYmogPSByZXMuZGF0YVswXTsKICAgICAgICBfdGhpcy5tYWtlQW5BcHBvaW50bWVudCA9IG9iai5tYWtlQW5BcHBvaW50bWVudDsKICAgICAgICBfdGhpcy50ZXJtT2ZWYWxpZGl0eSA9IG9iai50ZXJtT2ZWYWxpZGl0eTsKCiAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgndmlzaXRvci9TRVRfVElNRU9CSicsIHsKICAgICAgICAgIHRlcm1PZlZhbGlkaXR5OiBfdGhpcy50ZXJtT2ZWYWxpZGl0eSwKICAgICAgICAgIG1ha2VBbkFwcG9pbnRtZW50OiBfdGhpcy5tYWtlQW5BcHBvaW50bWVudAogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRUeXBlOiBmdW5jdGlvbiBzZXRUeXBlKCkgewogICAgICB0aGlzLnNldEluZm8oKTsKICAgIH0sCiAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKG5hbWUsIHRpdGxlKSB7CiAgICAgIHdpbmRvdy5wYWdlWU9mZnNldCA9IDA7CiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOwogICAgICBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7CiAgICAgIHRoaXMudHlwZSA9IG5hbWU7CiAgICAgIHRoaXMuYWN0aXZlID0gbmFtZTsKICAgIH0sCiAgICBzZXRJbmZvOiBmdW5jdGlvbiBzZXRJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGV2ZW50QnVzLiRvZmYoJ3NldGN1clR5cGUnKTsKICAgICAgZXZlbnRCdXMuJG9uKCdzZXRjdXJUeXBlJywgZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5hY3RpdmUgPSByZXM7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMudGltZVF1ZXJ5KCk7CiAgICB0aGlzLnNldFR5cGUoKTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgLy8g5LuO5YiX6KGo6Lez6L2s6L+H5p2l55qE6aG16Z2i5a6a5L2N5Yiw5a+555So5Zui5L2T5oiW6ICF6K6/5a6i6aG1562+CiAgICB0aGlzLnNldFR5cGUoKTsKICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIGlmIChmcm9tLnBhdGggPT09ICcvdmlzaXRvci1saXN0JykgewogICAgICBuZXh0KGZ1bmN0aW9uICh2bSkgewogICAgICAgIGlmICh2bS5hY3RpdmUgPT09ICd0ZWFtVmlzaXRvcicpIHsKICAgICAgICAgIHZtLiRyZWZzLnRlYW1QYW5lbCAmJiB2bS4kcmVmcy50ZWFtUGFuZWwuaW5pdCgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2bS4kcmVmcy52aXNpdG9yUGFuZWwgJiYgdm0uJHJlZnMudmlzaXRvclBhbmVsLmluaXQoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIG5leHQoKTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICB0aGlzLnNldFR5cGUoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["VisitorAppointment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAsBA,OAAA,QAAA,MAAA,+CAAA;AACA,SAAA,SAAA,IAAA,UAAA,QAAA,kCAAA;AACA,OAAA,YAAA,MAAA,oBAAA;AACA,OAAA,SAAA,MAAA,iBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,YAAA,EAAA,YADA;AAEA,IAAA,SAAA,EAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IADA;AAEA,MAAA,iBAAA,EAAA,CAFA;AAGA,MAAA,cAAA,EAAA,CAHA;AAIA,MAAA,IAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AAJA,KAAA;AAMA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA;;AACA,MAAA,UAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,GAAA,GAAA,CAAA,IAAA,CAAA,CAAA,CAAA;AACA,QAAA,KAAA,CAAA,iBAAA,GAAA,GAAA,CAAA,iBAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,GAAA,CAAA,cAAA;;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,MAAA,CAAA,qBAAA,EAAA;AACA,UAAA,cAAA,EAAA,KAAA,CAAA,cADA;AAEA,UAAA,iBAAA,EAAA,KAAA,CAAA;AAFA,SAAA;AAIA,OARA;AASA,KAXA;AAYA,IAAA,OAZA,qBAYA;AACA,WAAA,OAAA;AACA,KAdA;AAeA,IAAA,OAfA,mBAeA,IAfA,EAeA,KAfA,EAeA;AACA,MAAA,MAAA,CAAA,WAAA,GAAA,CAAA;AACA,MAAA,QAAA,CAAA,eAAA,CAAA,SAAA,GAAA,CAAA;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,SAAA,GAAA,CAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,KArBA;AAsBA,IAAA,OAtBA,qBAsBA;AAAA;;AACA,MAAA,QAAA,CAAA,IAAA,CAAA,YAAA;AACA,MAAA,QAAA,CAAA,GAAA,CAAA,YAAA,EAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,GAAA,GAAA;AACA,OAFA;AAGA;AA3BA,GAbA;AA0CA,EAAA,OA1CA,qBA0CA;AACA,SAAA,SAAA;AACA,SAAA,OAAA;AACA,GA7CA;AA8CA,EAAA,SA9CA,uBA8CA;AACA;AACA,SAAA,OAAA;AACA,GAjDA;AAkDA,EAAA,gBAlDA,4BAkDA,EAlDA,EAkDA,IAlDA,EAkDA,IAlDA,EAkDA;AACA,QAAA,IAAA,CAAA,IAAA,KAAA,eAAA,EAAA;AACA,MAAA,IAAA,CAAA,UAAA,EAAA,EAAA;AACA,YAAA,EAAA,CAAA,MAAA,KAAA,aAAA,EAAA;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,SAAA,IAAA,EAAA,CAAA,KAAA,CAAA,SAAA,CAAA,IAAA,EAAA;AACA,SAFA,MAEA;AACA,UAAA,EAAA,CAAA,KAAA,CAAA,YAAA,IAAA,EAAA,CAAA,KAAA,CAAA,YAAA,CAAA,IAAA,EAAA;AACA;AACA,OANA,CAAA;AAOA;;AACA,IAAA,IAAA;AACA,GA7DA;AA8DA,EAAA,KAAA,EAAA;AACA,IAAA,MADA,kBACA,EADA,EACA,IADA,EACA;AACA,WAAA,OAAA;AACA;AAHA;AA9DA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-tabs v-model=\"active\" color=\"#3388FF\" @click=\"onClick\">\n      <van-tab title=\"访客邀请\" name=\"visitor\">\n        <visitor-panel\n          ref=\"visitorPanel\"\n          v-if=\"active == 'visitor'\"\n          :type=\"type\"\n        ></visitor-panel>\n      </van-tab>\n      <van-tab title=\"团体邀请\" name=\"teamVisitor\">\n        <team-panel\n          ref=\"teamPanel\"\n          v-if=\"active == 'teamVisitor'\"\n          :type=\"type\"\n        ></team-panel>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\nimport eventBus from '@/pages/visitor-h5/plugins/common/eventBus.js';\nimport { timeQuery } from '@/pages/visitor-h5/api/myVisitor';\nimport visitorPanel from './VisitorPanel.vue';\nimport teamPanel from './TeamPanel.vue';\n\nexport default {\n  components: {\n    visitorPanel,\n    teamPanel\n  },\n  data() {\n    return {\n      active: this.$route.query.type,\n      makeAnAppointment: 0,\n      termOfValidity: 5,\n      type: this.$route.query.type\n    };\n  },\n  methods: {\n    timeQuery() {\n      timeQuery().then(res => {\n        let obj = res.data[0];\n        this.makeAnAppointment = obj.makeAnAppointment;\n        this.termOfValidity = obj.termOfValidity;\n        this.$store.commit('visitor/SET_TIMEOBJ', {\n          termOfValidity: this.termOfValidity,\n          makeAnAppointment: this.makeAnAppointment\n        });\n      });\n    },\n    setType() {\n      this.setInfo();\n    },\n    onClick(name, title) {\n      window.pageYOffset = 0;\n      document.documentElement.scrollTop = 0;\n      document.body.scrollTop = 0;\n      this.type = name;\n      this.active = name;\n    },\n    setInfo() {\n      eventBus.$off('setcurType');\n      eventBus.$on('setcurType', res => {\n        this.active = res;\n      });\n    }\n  },\n  created() {\n    this.timeQuery();\n    this.setType();\n  },\n  activated() {\n    // 从列表跳转过来的页面定位到对用团体或者访客页签\n    this.setType();\n  },\n  beforeRouteEnter(to, from, next) {\n    if (from.path === '/visitor-list') {\n      next(vm => {\n        if (vm.active === 'teamVisitor') {\n          vm.$refs.teamPanel && vm.$refs.teamPanel.init();\n        } else {\n          vm.$refs.visitorPanel && vm.$refs.visitorPanel.init();\n        }\n      });\n    }\n    next();\n  },\n  watch: {\n    $route(to, from) {\n      this.setType();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .van-tab--active {\n  color: #3388ff;\n}\n</style>\n"],"sourceRoot":"src/pages/visitor-h5/views/my-visitor"}]}