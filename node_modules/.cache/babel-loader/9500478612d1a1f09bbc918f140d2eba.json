{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/visitor-verify/ExtendVisitor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/visitor-verify/ExtendVisitor.vue","mtime":1645178321205},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IHZpc2l0b3JEZWxheSB9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9hcGkvdmVyaWZ5JzsKaW1wb3J0IHsgZm9ybWF0ZURhdGUgfSBmcm9tICdAL3BhZ2VzL3Zpc2l0b3ItaDUvcGx1Z2lucy9jb21tb24vdXRpbHMnOwppbXBvcnQgdGltZVBpY2tlciBmcm9tICcuL1RpbWVQaWNrZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgdGltZVBpY2tlcjogdGltZVBpY2tlcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICflsI/njosnLAogICAgICBmb3JtUGFyYW1zOiB7CiAgICAgICAgcmVtYXJrczogJycsCiAgICAgICAgdmlzaXRUaW1lOiAnJwogICAgICB9LAogICAgICBpc1NhdmU6IGZhbHNlLAogICAgICBzaG93VGltZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRUaW1lOiBmdW5jdGlvbiBnZXRUaW1lKGRhdGUpIHsKICAgICAgdGhpcy5mb3JtUGFyYW1zLnZpc2l0VGltZSA9IGRhdGU7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybVBhcmFtcy52aXNpdFRpbWUpOwogICAgfSwKICAgIG9uU2F2ZTogZnVuY3Rpb24gb25TYXZlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pc1NhdmUgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmV4dGVuZEZvcm0udmFsaWRhdGUoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoIV90aGlzLmZvcm1QYXJhbXMudmlzaXRUaW1lKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICB2YXIgbG9hZGluZyA9IF90aGlzLiR0b2FzdC5sb2FkaW5nKHsKICAgICAgICAgIG1hc2s6IHRydWUKICAgICAgICB9KTsKCiAgICAgICAgdmlzaXRvckRlbGF5KHsKICAgICAgICAgIGlkOiBfdGhpcy4kcm91dGUucXVlcnkuaWQsCiAgICAgICAgICByZW5ld2FsTGVhdmVUaW1lOiAiIi5jb25jYXQoZm9ybWF0ZURhdGUobmV3IERhdGUoKSwgNCksICIgIikuY29uY2F0KF90aGlzLmZvcm1QYXJhbXMudmlzaXRUaW1lKSwKICAgICAgICAgIGxlYXZlUmVhc29uOiBfdGhpcy5mb3JtUGFyYW1zLnJlbWFya3MKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3Zpc2l0b3ItdmVyaWZ5L2RvLXN1Y2Nlc3MnKTsKCiAgICAgICAgICBsb2FkaW5nLmNsZWFyKCk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMuJHRvYXN0LmZhaWwocmVzLm1lc3NhZ2UpOwoKICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBsb2FkaW5nLmNsZWFyKCk7CiAgICAgICAgICB9LCAxNTAwKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ExtendVisitor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA,SAAA,YAAA,QAAA,+BAAA;AACA,SAAA,WAAA,QAAA,yCAAA;AACA,OAAA,UAAA,MAAA,cAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,UAAA,EAAA;AAAA,GADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IADA;AAEA,MAAA,UAAA,EAAA;AACA,QAAA,OAAA,EAAA,EADA;AAEA,QAAA,SAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA,KANA;AAOA,MAAA,QAAA,EAAA;AAPA,KAAA;AASA,GAZA;AAaA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,mBACA,IADA,EACA;AACA,WAAA,UAAA,CAAA,SAAA,GAAA,IAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,UAAA,CAAA,SAAA;AACA,KAJA;AAKA,IAAA,MALA,oBAKA;AAAA;;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,UAAA,CAAA,QAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,CAAA,KAAA,CAAA,UAAA,CAAA,SAAA,EAAA;AACA;AACA;;AACA,YAAA,OAAA,GAAA,KAAA,CAAA,MAAA,CAAA,OAAA,CAAA;AACA,UAAA,IAAA,EAAA;AADA,SAAA,CAAA;;AAGA,QAAA,YAAA,CAAA;AACA,UAAA,EAAA,EAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EADA;AAEA,UAAA,gBAAA,YAAA,WAAA,CAAA,IAAA,IAAA,EAAA,EAAA,CAAA,CAAA,cACA,KAAA,CAAA,UAAA,CAAA,SADA,CAFA;AAKA,UAAA,WAAA,EAAA,KAAA,CAAA,UAAA,CAAA;AALA,SAAA,CAAA,CAOA,IAPA,CAOA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,OAAA,CAAA,4BAAA;;AACA,UAAA,OAAA,CAAA,KAAA;AACA,SAVA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,IAAA,CAAA,GAAA,CAAA,OAAA;;AACA,UAAA,UAAA,CAAA,YAAA;AACA,YAAA,OAAA,CAAA,KAAA;AACA,WAFA,EAEA,IAFA,CAAA;AAGA,SAhBA;AAiBA,OAxBA;AAyBA;AAhCA;AAbA,CAAA","sourcesContent":["<template>\n  <div class=\"app-wrapper\">\n    <van-form ref=\"extendForm\">\n      <div class=\"form-line \">\n        <div class=\"form-title\">\n          【{{ $route.query && $route.query.visitorName }}】逾期未签离说明\n        </div>\n        <van-field\n          class=\"form-textarea\"\n          v-model=\"formParams.remarks\"\n          required\n          rows=\"3\"\n          autosize\n          type=\"textarea\"\n          maxlength=\"50\"\n          placeholder=\"请输入逾期未签离说明（最多限制50字）\"\n          show-word-limit\n          :rules=\"[{ required: true, message: '' }]\"\n        />\n      </div>\n\n      <div class=\"form-line form-time\">\n        <span class=\"form-required\">*</span>\n        <div class=\"form-title-short\">延长拜访时间至</div>\n        <time-picker\n          ref=\"urgencyTime\"\n          class=\"form-input-short\"\n          @setTime=\"getTime\"\n        ></time-picker>\n        <span\n          @click=\"this.$refs.urgencyTime.handleShow\"\n          v-if=\"!formParams.visitTime && isSave\"\n          class=\"form-error\"\n          >时间未填写</span\n        >\n      </div>\n\n      <div class=\"btn-save\">\n        <van-button type=\"info\" size=\"large\" @click=\"onSave\">提交</van-button>\n      </div>\n    </van-form>\n  </div>\n</template>\n\n<script>\nimport { visitorDelay } from '@/pages/visitor-h5/api/verify';\nimport { formateDate } from '@/pages/visitor-h5/plugins/common/utils';\nimport timePicker from './TimePicker';\nexport default {\n  components: { timePicker },\n  data() {\n    return {\n      name: '小王',\n      formParams: {\n        remarks: '',\n        visitTime: ''\n      },\n      isSave: false,\n      showTime: false\n    };\n  },\n  methods: {\n    getTime(date) {\n      this.formParams.visitTime = date;\n      console.log(this.formParams.visitTime);\n    },\n    onSave() {\n      this.isSave = true;\n      this.$refs.extendForm.validate().then(res => {\n        if (!this.formParams.visitTime) {\n          return;\n        }\n        const loading = this.$toast.loading({\n          mask: true\n        });\n        visitorDelay({\n          id: this.$route.query.id,\n          renewalLeaveTime: `${formateDate(new Date(), 4)} ${\n            this.formParams.visitTime\n          }`,\n          leaveReason: this.formParams.remarks\n        })\n          .then(res => {\n            this.$router.replace('/visitor-verify/do-success');\n            loading.clear();\n          })\n          .catch(res => {\n            this.$toast.fail(res.message);\n            setTimeout(() => {\n              loading.clear();\n            }, 1500);\n          });\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.app-wrapper {\n  padding: 15px 0;\n}\n.form-line {\n  padding: 0 16px;\n  box-sizing: border-box;\n  position: relative;\n  margin-bottom: 16px;\n  .form-error {\n    position: absolute;\n    bottom: 0px;\n    right: 140px;\n    font-weight: 400;\n    color: #ee0a24;\n    font-size: 14px;\n    // z-index: -1;\n  }\n  &.form-time {\n    .form-input {\n      padding-top: 0;\n    }\n  }\n  .form-title {\n    font-size: 15px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.85);\n    line-height: 21px;\n    margin-bottom: 10px;\n    margin-left: 20px;\n  }\n  .form-input,\n  .form-textarea {\n    width: 343px;\n    height: 40px;\n    background: #ffffff;\n    border-radius: 5px;\n    border: 1px solid #abbfd6;\n  }\n\n  .form-textarea {\n    height: 110px;\n  }\n  .form-required {\n    position: absolute;\n    left: 25px;\n    top: 3px;\n    color: red;\n  }\n}\n\n.form-time {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  line-height: 50px;\n  .form-title-short {\n    margin-left: 20px;\n  }\n  .form-input-short {\n    width: 217px;\n    height: 40px;\n    background: #ffffff;\n    border-radius: 5px;\n    border: 1px solid #abbfd6;\n  }\n}\n/deep/ .form-line .van-cell--required::before {\n  top: -32px;\n}\n/deep/ .van-field__error-message {\n  margin-top: 7px;\n  margin-left: -12px;\n  font-weight: 400;\n  color: #ff5756;\n}\n\n.btn-save {\n  width: 351px;\n  height: 49px;\n  background: #3388ff;\n  border-radius: 3px;\n  position: fixed;\n  bottom: 50px;\n  left: 12px;\n}\n</style>\n"],"sourceRoot":"src/pages/visitor-h5/views/verify-visitor/visitor-verify"}]}