{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/plugins/axios.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/plugins/axios.js","mtime":1645176309890},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:J3VzZSBzdHJpY3QnOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBBUElfSE9TVCBmcm9tICcuL2NvbW1vbi9hcGknOwppbXBvcnQgcXMgZnJvbSAncXMnOyAvLyBpbXBvcnQgeyBNZXNzYWdlLCBNZXNzYWdlQm94IH0gZnJvbSAnZWxlbWVudC11aSc7CgppbXBvcnQgeyBnZXRUb2tlbiwgc2V0VG9rZW4gfSBmcm9tICdAL3BsdWdpbnMvY29yZS9hdXRoJzsgLy8gRnVsbCBjb25maWc6ICBodHRwczovL2dpdGh1Yi5jb20vYXhpb3MvYXhpb3MjcmVxdWVzdC1jb25maWcKLy8gYXhpb3MuZGVmYXVsdHMuYmFzZVVSTCA9IHByb2Nlc3MuZW52LmJhc2VVUkwgfHwgcHJvY2Vzcy5lbnYuYXBpVXJsIHx8ICcnOwovLyBheGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnQXV0aG9yaXphdGlvbiddID0gQVVUSF9UT0tFTjsKLy8gYXhpb3MuZGVmYXVsdHMuaGVhZGVycy5wb3N0WydDb250ZW50LVR5cGUnXSA9ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnOwoKdmFyIGNvbmZpZyA9IHsKICAvLyBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJIHx8ICcnLAogIC8vIHRpbWVvdXQ6IDYwICogMTAwMCwgLy8gVGltZW91dAogIC8vIHdpdGhDcmVkZW50aWFsczogdHJ1ZSwgLy8gQ2hlY2sgY3Jvc3Mtc2l0ZSBBY2Nlc3MtQ29udHJvbAogIGhlYWRlcnM6IHsKICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJywKICAgIFByYWdtYTogJ25vLWNhY2hlJwogIH0KfTsKdmFyIGNvZGVGdW5NYXAgPSB7fTsKCnZhciBfYXhpb3MgPSBheGlvcy5jcmVhdGUoY29uZmlnKTsKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIERvIHNvbWV0aGluZyBiZWZvcmUgcmVxdWVzdCBpcyBzZW50CiAgdmFyIHRva2VuID0gZ2V0VG9rZW4oKTsKCiAgaWYgKHRva2VuKSB7CiAgICBjb25maWcuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gdG9rZW47IC8vIOiuqeavj+S4quivt+axguaQuuW4puiHquWumuS5iXRva2VuIOivt+agueaNruWunumZheaDheWGteiHquihjOS/ruaUuQogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgLy8gRG8gc29tZXRoaW5nIHdpdGggcmVxdWVzdCBlcnJvcgogIGNvbnNvbGUubG9nKGVycm9yKTsgLy8gZm9yIGRlYnVnCgogIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyBBZGQgYSByZXNwb25zZSBpbnRlcmNlcHRvcgoKCl9heGlvcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXNwb25zZSkgewogIC8vIOWIt+aWsHRva2VuCiAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLmhlYWRlcnMgJiYgcmVzcG9uc2UuaGVhZGVycy5BdXRob3JpemF0aW9uKSB7CiAgICBzZXRUb2tlbihyZXNwb25zZS5oZWFkZXJzLkF1dGhvcml6YXRpb24pOwogIH0gLy8gRG8gc29tZXRoaW5nIHdpdGggcmVzcG9uc2UgZGF0YQoKCiAgdmFyIHJlcyA9IHJlc3BvbnNlLmRhdGE7IC8vIOivt+axguaIkOWKnwoKICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9IC8vIOWutuagoVBIUOi/lOWbnueggeeUqOeahOmDveaYr2NvZGXmnaXlgZrliKTmlq0KCgogIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9CgogIGlmIChyZXMuY29kZSA9PT0gODIwMCkgewogICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7CiAgfSAvLyDmlofku7bnsbvlnovnm7TmjqXov5Tlm54KCgogIGlmIChCbG9iICYmIHJlcyBpbnN0YW5jZW9mIEJsb2IpIHsKICAgIHJldHVybiByZXM7CiAgfSAvLyDlpITnkIbor7fmsYLlhbbku5blvILluLjnirbmgIHnqIvluo8KCgogIHZhciBjdXN0b21Db2RlRGVhbEZ1biA9IGNvZGVGdW5NYXBbJ1N8JyArIHJlc3BvbnNlLmRhdGEuc3RhdHVzXSB8fCBjb2RlRnVuTWFwWydTJ107IC8vIOaJp+ihjOmFjee9rueahGNvZGXlvILluLjlr7nlupTmlrnms5UKCiAgaWYgKGN1c3RvbUNvZGVEZWFsRnVuICYmIHR5cGVvZiBjdXN0b21Db2RlRGVhbEZ1biA9PSAnZnVuY3Rpb24nKSB7CiAgICBjdXN0b21Db2RlRGVhbEZ1bihyZXNwb25zZS5kYXRhKTsKICB9CgogIHJldHVybiBQcm9taXNlLnJlamVjdChyZXMpOwp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICAvLyBEbyBzb21ldGhpbmcgd2l0aCByZXNwb25zZSBlcnJvcgogIHZhciBkZWZhdWx0RXJyb3IgPSB7CiAgICBzdGF0dXM6IDUwMCwKICAgIG1lc3NhZ2U6ICfns7vnu5/lvILluLgnCiAgfTsKCiAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5jYW5jZWwgPT0gJ2NhbmNlbCcpIHsKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvci5yZXNwb25zZSB8fCBkZWZhdWx0RXJyb3IpOwogIH0KCiAgdmFyIGN1c3RvbUNvZGVEZWFsRnVuOwogIHZhciBtZXNzYWdlOyAvLyDliKTmlq3mmK/lkKbmmK/nvZHnu5zlvILluLjor7fmsYIKCiAgaWYgKGVycm9yLnJlc3BvbnNlKSB7CiAgICB2YXIgcmVzcG9uc2UgPSBlcnJvci5yZXNwb25zZTsKICAgIG1lc3NhZ2UgPSByZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCByZXNwb25zZS5zdGF0dXNUZXh0OwogICAgY3VzdG9tQ29kZURlYWxGdW4gPSBjb2RlRnVuTWFwWydFfCcgKyByZXNwb25zZS5zdGF0dXNdIHx8IGNvZGVGdW5NYXBbJ0UnXTsKICB9IGVsc2UgewogICAgbWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CgogICAgaWYgKGVycm9yLmNvZGUgPT09ICdFQ09OTkFCT1JURUQnICYmICFlcnJvci5tZXNzYWdlLmluZGV4T2YoJ3RpbWVvdXQnKSAhPT0gLTEpIHsKICAgICAgbWVzc2FnZSA9ICfnvZHnu5zotoXml7Ys6K+356iN5ZCO6YeN6K+V77yBJzsKICAgIH0KCiAgICBjdXN0b21Db2RlRGVhbEZ1biA9IGNvZGVGdW5NYXBbJ0UnXTsKICB9CgogIHZhciByZXMgPSBlcnJvci5yZXNwb25zZSB8fCBkZWZhdWx0RXJyb3I7IC8vIOaJp+ihjOmFjee9rueahGNvZGXlvILluLjlr7nlupTmlrnms5UKCiAgaWYgKGN1c3RvbUNvZGVEZWFsRnVuICYmIHR5cGVvZiBjdXN0b21Db2RlRGVhbEZ1biA9PSAnZnVuY3Rpb24nKSB7CiAgICBjdXN0b21Db2RlRGVhbEZ1bihyZXMsIG1lc3NhZ2UpOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KHJlcyk7Cn0pOwoKdmFyIFBsdWdpbiA9IHt9OwoKUGx1Z2luLmluc3RhbGwgPSBmdW5jdGlvbiAoVnVlLCBvcHRpb25zKSB7CiAgVnVlLmF4aW9zID0gYXhpb3NXaXRoSG9zdDsKICBjb2RlRnVuTWFwID0gb3B0aW9uczsKICBWdWUucHJvdG90eXBlLmF4aW9zID0gYXhpb3NXaXRoSG9zdDsKICBWdWUucHJvdG90eXBlLiRheGlvcyA9IGF4aW9zV2l0aEhvc3Q7CiAgd2luZG93LmF4aW9zID0gYXhpb3NXaXRoSG9zdDsKfTsgLy/or7fmsYLln5/lkI3mi7zmjqUKCgpmdW5jdGlvbiBheGlvc1dpdGhIb3N0KGNvbmZpZywgdHlwZSkgewogIHZhciB1cmwgPSAoQVBJX0hPU1RbdHlwZV0gfHwgJycpICsgY29uZmlnLnVybDsKICB2YXIgYXhpb3NDb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBjb25maWcsIHsKICAgIHVybDogdXJsCiAgfSk7CiAgcmV0dXJuIF9heGlvcyhheGlvc0NvbmZpZyk7Cn0KCmF4aW9zV2l0aEhvc3QuZ2V0ID0gZnVuY3Rpb24gKGFqYXhVcmwsIGNvbmZpZywgdHlwZSkgewogIHZhciB1cmwgPSAoQVBJX0hPU1RbdHlwZV0gfHwgJycpICsgYWpheFVybDsKICByZXR1cm4gX2F4aW9zLmdldCh1cmwsIHsKICAgIHBhcmFtczogY29uZmlnCiAgfSk7Cn07CgpheGlvc1dpdGhIb3N0LnBvc3QgPSBmdW5jdGlvbiAoYWpheFVybCwgZGF0YSwgY29uZmlnLCB0eXBlKSB7CiAgdmFyIHVybCA9IChBUElfSE9TVFt0eXBlXSB8fCAnJykgKyBhamF4VXJsOwogIHJldHVybiBfYXhpb3MucG9zdCh1cmwsIGRhdGEsIGNvbmZpZyk7Cn07CgpheGlvc1dpdGhIb3N0LmRlbGV0ZSA9IGZ1bmN0aW9uIChhamF4VXJsLCBkYXRhLCBjb25maWcsIHR5cGUpIHsKICB2YXIgdXJsID0gKEFQSV9IT1NUW3R5cGVdIHx8ICcnKSArIGFqYXhVcmw7CiAgcmV0dXJuIF9heGlvcy5kZWxldGUodXJsLCBkYXRhLCBjb25maWcpOwp9OwoKZXhwb3J0IGRlZmF1bHQgYXhpb3NXaXRoSG9zdDsKZXhwb3J0IHZhciBheGlvc1BsdWdpbiA9IFBsdWdpbjs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/plugins/axios.js"],"names":["axios","API_HOST","qs","getToken","setToken","config","headers","Pragma","codeFunMap","_axios","create","interceptors","request","use","token","error","console","log","Promise","reject","response","Authorization","res","data","status","code","Blob","customCodeDealFun","defaultError","message","cancel","statusText","indexOf","Plugin","install","Vue","options","axiosWithHost","prototype","$axios","window","type","url","axiosConfig","Object","assign","get","ajaxUrl","params","post","delete","axiosPlugin"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nimport axios from 'axios';\r\nimport API_HOST from './common/api';\r\nimport qs from 'qs';\r\n// import { Message, MessageBox } from 'element-ui';\r\nimport { getToken, setToken } from '@/plugins/core/auth';\r\n\r\n// Full config:  https://github.com/axios/axios#request-config\r\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\r\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\r\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\nlet config = {\r\n  // baseURL: process.env.VUE_APP_BASE_API || '',\r\n  // timeout: 60 * 1000, // Timeout\r\n  // withCredentials: true, // Check cross-site Access-Control\r\n  headers: {\r\n    'Cache-Control': 'no-cache',\r\n    Pragma: 'no-cache'\r\n  }\r\n};\r\n\r\nlet codeFunMap = {};\r\nconst _axios = axios.create(config);\r\n\r\n_axios.interceptors.request.use(\r\n  function(config) {\r\n    // Do something before request is sent\r\n    const token = getToken();\r\n    if (token) {\r\n      config.headers['Authorization'] = token; // 让每个请求携带自定义token 请根据实际情况自行修改\r\n    }\r\n    return config;\r\n  },\r\n  function(error) {\r\n    // Do something with request error\r\n    console.log(error); // for debug\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Add a response interceptor\r\n_axios.interceptors.response.use(\r\n  function(response) {\r\n    // 刷新token\r\n    if (response && response.headers && response.headers.Authorization) {\r\n      setToken(response.headers.Authorization);\r\n    }\r\n\r\n    // Do something with response data\r\n    const res = response.data;\r\n    // 请求成功\r\n    if (res.status === 200) {\r\n      return response.data;\r\n    }\r\n    // 家校PHP返回码用的都是code来做判断\r\n    if (res.code === 200) {\r\n      return response.data;\r\n    }\r\n    if (res.code === 8200) {\r\n      return response.data;\r\n    }\r\n    // 文件类型直接返回\r\n    if (Blob && res instanceof Blob) {\r\n      return res;\r\n    }\r\n    // 处理请求其他异常状态程序\r\n    let customCodeDealFun =\r\n      codeFunMap['S|' + response.data.status] || codeFunMap['S'];\r\n    // 执行配置的code异常对应方法\r\n    if (customCodeDealFun && typeof customCodeDealFun == 'function') {\r\n      customCodeDealFun(response.data);\r\n    }\r\n    return Promise.reject(res);\r\n  },\r\n  function(error) {\r\n    // Do something with response error\r\n    var defaultError = {\r\n      status: 500,\r\n      message: '系统异常'\r\n    };\r\n    if (error.message && error.message.cancel == 'cancel') {\r\n      return Promise.reject(error.response || defaultError);\r\n    }\r\n    let customCodeDealFun;\r\n    let message;\r\n    // 判断是否是网络异常请求\r\n    if (error.response) {\r\n      let { response } = error;\r\n      message = (response.data && response.data.message) || response.statusText;\r\n      customCodeDealFun = codeFunMap['E|' + response.status] || codeFunMap['E'];\r\n    } else {\r\n      message = error.message;\r\n      if (\r\n        error.code === 'ECONNABORTED' &&\r\n        !error.message.indexOf('timeout') !== -1\r\n      ) {\r\n        message = '网络超时,请稍后重试！';\r\n      }\r\n      customCodeDealFun = codeFunMap['E'];\r\n    }\r\n    let res = error.response || defaultError;\r\n    // 执行配置的code异常对应方法\r\n    if (customCodeDealFun && typeof customCodeDealFun == 'function') {\r\n      customCodeDealFun(res, message);\r\n    }\r\n    return Promise.reject(res);\r\n  }\r\n);\r\n\r\nvar Plugin = {};\r\nPlugin.install = function(Vue, options) {\r\n  Vue.axios = axiosWithHost;\r\n  codeFunMap = options;\r\n  Vue.prototype.axios = axiosWithHost;\r\n  Vue.prototype.$axios = axiosWithHost;\r\n  window.axios = axiosWithHost;\r\n};\r\n//请求域名拼接\r\nfunction axiosWithHost(config, type) {\r\n  let url = (API_HOST[type] || '') + config.url;\r\n  let axiosConfig = Object.assign({}, config, { url });\r\n  return _axios(axiosConfig);\r\n}\r\naxiosWithHost.get = function(ajaxUrl, config, type) {\r\n  let url = (API_HOST[type] || '') + ajaxUrl;\r\n  return _axios.get(url, { params: config });\r\n};\r\naxiosWithHost.post = function(ajaxUrl, data, config, type) {\r\n  let url = (API_HOST[type] || '') + ajaxUrl;\r\n  return _axios.post(url, data, config);\r\n};\r\naxiosWithHost.delete = function(ajaxUrl, data, config, type) {\r\n  let url = (API_HOST[type] || '') + ajaxUrl;\r\n  return _axios.delete(url, data, config);\r\n};\r\n\r\nexport default axiosWithHost;\r\nexport const axiosPlugin = Plugin;\r\n"]}]}