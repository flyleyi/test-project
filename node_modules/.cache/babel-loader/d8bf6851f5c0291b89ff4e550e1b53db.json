{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/views/system/User/components/ClassAuth.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/views/system/User/components/ClassAuth.vue","mtime":1627979214401},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9TY3JvbGxiYXIyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3Njcm9sbGJhci5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9TY3JvbGxiYXIgZnJvbSAiZWxlbWVudC11aS9saWIvc2Nyb2xsYmFyIjsKaW1wb3J0IF9Qb3BvdmVyMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9wb3BvdmVyLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX1BvcG92ZXIgZnJvbSAiZWxlbWVudC11aS9saWIvcG9wb3ZlciI7CmltcG9ydCBfQ2hlY2tib3gyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2NoZWNrYm94LmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0NoZWNrYm94IGZyb20gImVsZW1lbnQtdWkvbGliL2NoZWNrYm94IjsKaW1wb3J0IF9CdXR0b24yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2J1dHRvbi5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9CdXR0b24gZnJvbSAiZWxlbWVudC11aS9saWIvYnV0dG9uIjsKaW1wb3J0IF9EaWFsb2cyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2RpYWxvZy5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9EaWFsb2cgZnJvbSAiZWxlbWVudC11aS9saWIvZGlhbG9nIjsKCnZhciBfY29tcG9uZW50czsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvYnVzaW5lc3MvQlRhYmxlJzsKaW1wb3J0IENUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL0NUYWJsZSc7CmltcG9ydCB7IHF1ZXJ5QWxsQ2xhc3NCeURlcGFydENvZGVzLCBxdWVyeUNsYXNzQnlDb2RlTGlzdCB9IGZyb20gJy4uLy4uLy4uLy4uL2FwaS9zeXN0ZW0vdXNlcic7CmltcG9ydCB7IGRpY3QgfSBmcm9tICcuLi8uLi8uLi8uLi9wbHVnaW5zL2NvcmUvZGljdCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2xhc3NBdXRoJywKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfRGlhbG9nLm5hbWUsIF9EaWFsb2cpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9CdXR0b24ubmFtZSwgX0J1dHRvbiksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgQlRhYmxlLm5hbWUsIEJUYWJsZSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0NoZWNrYm94Lm5hbWUsIF9DaGVja2JveCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX1BvcG92ZXIubmFtZSwgX1BvcG92ZXIpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9TY3JvbGxiYXIubmFtZSwgX1Njcm9sbGJhciksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgQ1RhYmxlLm5hbWUsIENUYWJsZSksIF9jb21wb25lbnRzKSwKICBwcm9wczogewogICAgLyoqCiAgICAgKiDpgInmi6nkuK3nmoTnj63nuqfliJfooagKICAgICAqLwogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIOagh+mimAogICAgICovCiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAoKICAgIC8qKgogICAgICog6K+35rGC5pa55rOVCiAgICAgKi8KICAgIGFqYXg6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCgogICAgLyoqCiAgICAgKiDlhbbku5blj4LmlbAKICAgICAqLwogICAgb3RoZXJQYXJhbXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAoKICAgIC8qKgogICAgICog5p+l6K+i6KGo5Y2V6aG5CiAgICAgKi8KICAgIGN1c3RvbUZvcm1JdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFt7CiAgICAgICAgICB0eXBlOiAnaW5wdXQnLAogICAgICAgICAgbGFiZWw6ICfnj63nuqflkI3np7AnLAogICAgICAgICAgcHJvcDogJ2NsYXNzTmFtZScsCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICBtYXhsZW5ndGg6IDMwCiAgICAgICAgICB9CiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDlvILmraXojrflj5bmlbDmja4KICAgICAqLwogICAgY3VzdG9tQWpheDogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKCiAgICAvKioKICAgICAqIOiHquWumuS5ieWIlwogICAgICovCiAgICBjdXN0b21Db2x1bW5zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW3sKICAgICAgICAgIGxhYmVsOiAn5a2m5bm0JywKICAgICAgICAgIHByb3A6ICdzaWduWWVhclR5cGUnLAogICAgICAgICAgZm9ybWF0dGVyOiBmdW5jdGlvbiBmb3JtYXR0ZXIobW9kZWwsIGNvbHVtbiwgdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIGRpY3QoJ1hOTScsIHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+WtpumDqCcsCiAgICAgICAgICBwcm9wOiAnZGVwYXJ0TmFtZScKICAgICAgICB9LCB7CiAgICAgICAgICBsYWJlbDogJ+W5tOe6pycsCiAgICAgICAgICBwcm9wOiAnZ3JhZGVOYW1lJwogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAn54+t5Z6LJywKICAgICAgICAgIHByb3A6ICdjbGFzc1R5cGVOYW1lJwogICAgICAgIH0sIHsKICAgICAgICAgIGxhYmVsOiAn54+t57qnJywKICAgICAgICAgIHByb3A6ICdjbGFzc05hbWUnCiAgICAgICAgfV07CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDmnIDlpJrpgInmi6kKICAgICAqIOm7mOiupO+8mjDvvIzkuI3pmZDliLYKICAgICAqLwogICAgbGltaXQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOaooeaAgeahhuaYvuekuumakOiXjwogICAgICBzZWxlY3Rpb246IFtdLAogICAgICAvLyDpgInmi6nnmoTnj63nuqfliJfooagKICAgICAgY29uZmlybUxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDmj5DkuqTkuK0KICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g5YiX6KGo5pWw5o2uCiAgICAgIGNvdW50OiAwLAogICAgICBzZWxlY3RlZFZpc2libGU6IGZhbHNlLAogICAgICAvLyDlt7LpgInkuK3nj63nuqfmqKHmgIHmoYbmmL7npLrkuI7pmpDol48KICAgICAgc2VsZWN0ZWREaWFsb2dMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5bey6YCJ5Lit54+t57qn5qih5oCB5qGG5Yqg6L295LitCiAgICAgIHNlbGVjdGVkTGlzdDogW10gLy8g6YCJ5Lit55qE54+t57qn5YiX6KGoCgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvKioKICAgICAqIOWIl+ihqOWIl+aVsOaNrgogICAgICovCiAgICBjb2x1bW5zOiBmdW5jdGlvbiBjb2x1bW5zKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBjb2x1bW5zID0gdGhpcy5jdXN0b21Db2x1bW5zOwogICAgICBjb2x1bW5zLnVuc2hpZnQoewogICAgICAgIHR5cGU6ICdzZWxlY3Rpb24nLAogICAgICAgIGxhYmVsOiAn6YCJ5oupJywKICAgICAgICBwcm9wOiAnaWQnLAogICAgICAgIHdpZHRoOiAnNjBweCcKICAgICAgfSk7CiAgICAgIHJldHVybiBjb2x1bW5zOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8qKgogICAgICog5q+P5qyh5pi+56S655qE5pe25YCZ5Yi35paw5YiX6KGoCiAgICAgKi8KICAgIHZpc2libGU6IGZ1bmN0aW9uIHZpc2libGUoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnZpc2libGUgJiYgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLiRyZWZzLmJUYWJsZSAmJiBfdGhpcy4kcmVmcy5iVGFibGUuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOiOt+WPluaVsOaNruaWueazlQogICAgICovCiAgICBhamF4R2V0RGF0YTogZnVuY3Rpb24gYWpheEdldERhdGEocGFyYW1zKSB7CiAgICAgIHBhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyYW1zKSwgdGhpcy5vdGhlclBhcmFtcyk7CiAgICAgIHBhcmFtcy5kZXBhcnRDb2RlcyA9IHBhcmFtcy5kZXBhcnRDb2RlID8gcGFyYW1zLmRlcGFydENvZGUgOiBwYXJhbXMuZGVwYXJ0Q29kZXMuam9pbignLCcpOwogICAgICBpZiAodHlwZW9mIHRoaXMuY3VzdG9tQWpheCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHRoaXMuY3VzdG9tQWpheChwYXJhbXMpOwogICAgICByZXR1cm4gcXVlcnlBbGxDbGFzc0J5RGVwYXJ0Q29kZXMocGFyYW1zKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDmmL7npLrmqKHmgIHmoYYKICAgICAqLwogICAgc2hvdzogZnVuY3Rpb24gc2hvdygpIHsKICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDpmpDol4/mqKHmgIHmoYYKICAgICAqLwogICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAoKICAgIC8qKgogICAgICog5aSa6YCJ5qih5byP56Gu5a6a6YCJ5oup5YWD57SgCiAgICAgKi8KICAgIG9uQ2xpY2tDb25maXJtOiBmdW5jdGlvbiBvbkNsaWNrQ29uZmlybSgpIHsKICAgICAgdmFyIHJvd3MgPSB0aGlzLnNlbGVjdGlvbi5zbGljZSgwKTsgLy8g5qCh6aqM5pyA5aSn6YCJ5oup54+t57qnCgogICAgICBpZiAodGhpcy5saW1pdCA+IDAgJiYgcm93cy5sZW5ndGggPiB0aGlzLmxpbWl0KSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCJcdTY3MDBcdTU5MUFcdTkwMDlcdTYyRTkiLmNvbmNhdCh0aGlzLmxpbWl0LCAiXHU5ODc5XHVGRjBDXHU1RjUzXHU1MjREXHU1REYyXHU5MDA5XHU2MkU5IikuY29uY2F0KHJvd3MubGVuZ3RoLCAiXHU5ODc5XHUzMDAyIikpOwogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHJvd3MpOwogICAgICB0aGlzLiRlbWl0KCdzZWxlY3QnLCByb3dzKTsgLy8g5qCh6aqM5piv5ZCm6ZyA6KaB5byC5q2l5a6M5oiQ5ZCO5YWz6Zet56qX5Y+jCgogICAgICBpZiAodHlwZW9mIHRoaXMuYWpheCAhPT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHRoaXMuc2VsZWN0ZWRWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmludm9rZUFqYXgocm93cyk7CiAgICB9LAoKICAgIC8qKgogICAgICog6YCJ5oupCiAgICAgKi8KICAgIG9uU2VsZWN0OiBmdW5jdGlvbiBvblNlbGVjdCgpIHsKICAgICAgdGhpcy5zZWxlY3Rpb24gPSB0aGlzLnZhbHVlLnNsaWNlKDApOwogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmNvdW50Kys7CiAgICB9LAoKICAgIC8qKgogICAgICog5omn6KGM5byC5q2l5Zue6LCD5o6l5Y+jCiAgICAgKiBAcGFyYW0ge0FycmF5fSByb3dzIOePree6p+WIl+ihqAogICAgICovCiAgICBpbnZva2VBamF4OiBmdW5jdGlvbiBpbnZva2VBamF4KHJvd3MpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczIuY29uZmlybUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYWpheChyb3dzKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfdGhpczIuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzMi52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDUpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzEsLCA1LCA5XV0pOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDpgInkuK3lhYPntKAKICAgICAqIEBwYXJhbSB7Kn0gcm93IOWFg+e0oAogICAgICogQHBhcmFtIHtib29sZWFufSBzZWxlY3RlZCDmmK/lkKbpgInkuK0KICAgICAqLwogICAgdG9nZ2xlUm93U2VsZWN0ZWQ6IGZ1bmN0aW9uIHRvZ2dsZVJvd1NlbGVjdGVkKHJvdywgc2VsZWN0ZWQpIHsKICAgICAgLy8g5p+l5om+5YWD57Sg57Si5byVCiAgICAgIHZhciBpbmRleCA9IHRoaXMuc2VsZWN0aW9uLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtID09PSByb3cuY2xhc3NDb2RlOwogICAgICB9KTsKICAgICAgc2VsZWN0ZWQgPyBpbmRleCA9PT0gLTEgJiYgdGhpcy5zZWxlY3Rpb24ucHVzaChyb3cuY2xhc3NDb2RlKSAvLyDmlrDlop4KICAgICAgOiBpbmRleCA+PSAwICYmIHRoaXMuc2VsZWN0aW9uLnNwbGljZShpbmRleCwgMSk7IC8vIOWIoOmZpAogICAgfSwKCiAgICAvKioKICAgICAqIOmAieaLqQogICAgICovCiAgICBoYW5kbGVTZWxlY3Q6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdChzZWxlY3Rpb24sIHJvdykgewogICAgICAvLyDmmK/lkKbpgInkuK0KICAgICAgdmFyIHNlbGVjdGVkID0gc2VsZWN0aW9uLmluZGV4T2Yocm93KSA+PSAwOwogICAgICB0aGlzLnRvZ2dsZVJvd1NlbGVjdGVkKHJvdywgc2VsZWN0ZWQpOwogICAgfSwKICAgIC8vIOWFqOmAiQogICAgaGFuZGxlU2VsZWN0QWxsOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3RBbGwoc2VsZWN0aW9uLCB0YWJsZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIOaYr+WQpumAieS4rQogICAgICB2YXIgc2VsZWN0ZWQgPSAhIXNlbGVjdGlvbi5sZW5ndGg7CiAgICAgIGlmICghc2VsZWN0ZWQpIHNlbGVjdGlvbiA9IHRhYmxlLnRhYmxlRGF0YTsKICAgICAgc2VsZWN0aW9uLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gX3RoaXMzLnRvZ2dsZVJvd1NlbGVjdGVkKGl0ZW0sIHNlbGVjdGVkKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5pWw5o2u5YiX6KGo5Y+Y5YyW77yM5Zue5pi+6YCJ5LitCiAgICAgKiBAcGFyYW0geyp9IHRhYmxlRGF0YSDliJfooajmlbDmja4KICAgICAqLwogICAgY2hhbmdlVGFibGVEYXRhOiBmdW5jdGlvbiBjaGFuZ2VUYWJsZURhdGEodGFibGVEYXRhKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0YWJsZSA9IF90aGlzNC4kcmVmcy5iVGFibGUuJHJlZnMudGFibGUuJHJlZnMudGFibGU7IC8vIGNvbnNvbGUubG9nKAogICAgICAgIC8vICAgdGFibGVEYXRhLmZpbHRlcihpdGVtID0+IHRoaXMuc2VsZWN0aW9uLmZpbmQoaWQgPT4gaXRlbS5pZCA9PT0gaWQpKQogICAgICAgIC8vICk7CiAgICAgICAgLy8g5Zue5pi+6YCJ5LitCgogICAgICAgIHRhYmxlLnRhYmxlRGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBfdGhpczQuc2VsZWN0aW9uLmZpbmQoZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICByZXR1cm4gaXRlbS5jbGFzc0NvZGUgPT09IHJvdzsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihpdGVtLCB0cnVlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5omT5byA5bey6YCJ5Lit54+t57qn5qih5oCB5qGGCiAgICAgKi8KICAgIG9uT3BlblNlbGVjdGVkRGlhbG9nOiBmdW5jdGlvbiBvbk9wZW5TZWxlY3RlZERpYWxvZygpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmNvdW50Kys7CiAgICAgIHRoaXMuc2VsZWN0aW9uID0gdGhpcy52YWx1ZS5zbGljZSgwKTsKICAgICAgdGhpcy5zZWxlY3RlZFZpc2libGUgPSB0cnVlOwogICAgICB0aGlzLnNlbGVjdGVkRGlhbG9nTG9hZGluZyA9IHRydWU7CiAgICAgIHF1ZXJ5Q2xhc3NCeUNvZGVMaXN0KHRoaXMudmFsdWUpLnRoZW4oZnVuY3Rpb24gKF9yZWYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYuZGF0YTsKICAgICAgICBfdGhpczUuc2VsZWN0ZWRMaXN0ID0gZGF0YTsKCiAgICAgICAgX3RoaXM1LiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczUuJHJlZnMuY1RhYmxlICYmIF90aGlzNS4kcmVmcy5jVGFibGUuJHJlZnMudGFibGUgJiYgX3RoaXM1LiRyZWZzLmNUYWJsZS4kcmVmcy50YWJsZS50b2dnbGVBbGxTZWxlY3Rpb24oKTsKICAgICAgICB9KTsKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LnNlbGVjdGVkRGlhbG9nTG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ClassAuth.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n    <el-button type=\"primary\" @click=\"onSelect\">请选择</el-button>\n    <el-button type=\"text\" @click=\"onOpenSelectedDialog\">\n      已授权{{ value.length }}个班级\n    </el-button>\n    <!-- 班级选择列表 -->\n    <el-dialog\n      :visible.sync=\"visible\"\n      :title=\"title || '班级权限'\"\n      width=\"860px\"\n      center\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      :append-to-body=\"true\"\n      v-on=\"$listeners\"\n    >\n      <b-table\n        :key=\"count\"\n        class=\"b-table\"\n        ref=\"bTable\"\n        loading\n        row-key=\"id\"\n        :form-items=\"customFormItems\"\n        :immediate-load=\"false\"\n        :page-limit=\"10\"\n        :headers=\"columns\"\n        :show-column=\"false\"\n        :ajax-get-data=\"ajaxGetData\"\n        :reserve-selection=\"true\"\n        @select=\"handleSelect\"\n        @select-all=\"\n          selections =>\n            handleSelectAll(selections, $refs.bTable.$refs.table.$refs.table)\n        \"\n        @table-data-change=\"\n          selection =>\n            changeTableData(selection, $refs.bTable.$refs.table.$refs.table)\n        \"\n      >\n        <!-- 列表前的插槽 -->\n        <div class=\"class-selected\" slot=\"table-before\">\n          已选中{{ selection.length }}个班级\n        </div>\n        <!-- 多选列 -->\n        <!-- <template slot=\"column|id\" slot-scope=\"{ row }\">\n          <el-checkbox v-model=\"selected\" :label=\"row.id\"><span /></el-checkbox>\n        </template>\n        <template slot=\"column|header|id\">\n          <el-checkbox\n            :key=\"isAllCheck\"\n            :indeterminate=\"selected.length > 0 && !isAllCheck\"\n            :value=\"isAllCheck\"\n            @click.native=\"onClickAllCheck\"\n          >\n            {{ isAllCheck }}\n          </el-checkbox>\n        </template> -->\n      </b-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          :loading=\"confirmLoading\"\n          size=\"small\"\n          @click=\"visible = false\"\n        >\n          取消\n        </el-button>\n        <el-button\n          :loading=\"confirmLoading\"\n          size=\"small\"\n          type=\"primary\"\n          @click=\"onClickConfirm\"\n        >\n          确定\n        </el-button>\n      </span>\n    </el-dialog>\n    <!-- 已选中班级列表 -->\n    <el-dialog\n      :key=\"count\"\n      title=\"已授权班级\"\n      :visible.sync=\"selectedVisible\"\n      width=\"860px\"\n      center\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      :append-to-body=\"true\"\n    >\n      <!-- 列表前的插槽 -->\n      <div class=\"class-selected\">已选中{{ selection.length }}个班级</div>\n      <c-table\n        ref=\"cTable\"\n        row-key=\"id\"\n        border\n        size=\"small\"\n        :data=\"selectedList\"\n        :headers=\"columns\"\n        :loading=\"selectedDialogLoading\"\n        @select=\"handleSelect\"\n        @select-all=\"\n          selection => handleSelectAll(selection, $refs.cTable.$refs.table)\n        \"\n      >\n      </c-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          :loading=\"confirmLoading\"\n          size=\"small\"\n          @click=\"selectedVisible = false\"\n        >\n          取消\n        </el-button>\n        <el-button\n          :loading=\"confirmLoading\"\n          size=\"small\"\n          type=\"primary\"\n          @click=\"onClickConfirm\"\n        >\n          确定\n        </el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  Dialog,\n  Button,\n  Message,\n  Checkbox,\n  Popover,\n  Scrollbar\n} from 'element-ui';\nimport BTable from '@/components/business/BTable';\nimport CTable from '@/components/common/CTable';\nimport {\n  queryAllClassByDepartCodes,\n  queryClassByCodeList\n} from '../../../../api/system/user';\nimport { dict } from '../../../../plugins/core/dict';\n\nexport default {\n  name: 'ClassAuth',\n  components: {\n    [Dialog.name]: Dialog,\n    [Button.name]: Button,\n    [BTable.name]: BTable,\n    [Checkbox.name]: Checkbox,\n    [Popover.name]: Popover,\n    [Scrollbar.name]: Scrollbar,\n    [CTable.name]: CTable\n  },\n  props: {\n    /**\n     * 选择中的班级列表\n     */\n    value: {\n      type: Array,\n      default: () => []\n    },\n    /**\n     * 标题\n     */\n    title: {\n      type: String,\n      default: ''\n    },\n    /**\n     * 请求方法\n     */\n    ajax: {\n      type: Function,\n      default: null\n    },\n    /**\n     * 其他参数\n     */\n    otherParams: {\n      type: Object,\n      default: null\n    },\n    /**\n     * 查询表单项\n     */\n    customFormItems: {\n      type: Array,\n      default: () => [\n        {\n          type: 'input',\n          label: '班级名称',\n          prop: 'className',\n          attrs: {\n            maxlength: 30\n          }\n        }\n      ]\n    },\n    /**\n     * 异步获取数据\n     */\n    customAjax: {\n      type: Function,\n      default: null\n    },\n    /**\n     * 自定义列\n     */\n    customColumns: {\n      type: Array,\n      default: () => [\n        {\n          label: '学年',\n          prop: 'signYearType',\n          formatter(model, column, value) {\n            return dict('XNM', value);\n          }\n        },\n        {\n          label: '学部',\n          prop: 'departName'\n        },\n        {\n          label: '年级',\n          prop: 'gradeName'\n        },\n        {\n          label: '班型',\n          prop: 'classTypeName'\n        },\n        {\n          label: '班级',\n          prop: 'className'\n        }\n      ]\n    },\n    /**\n     * 最多选择\n     * 默认：0，不限制\n     */\n    limit: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      visible: false, // 模态框显示隐藏\n      selection: [], // 选择的班级列表\n      confirmLoading: false, // 提交中\n      tableData: [], // 列表数据\n      count: 0,\n      selectedVisible: false, // 已选中班级模态框显示与隐藏\n      selectedDialogLoading: false, // 已选中班级模态框加载中\n      selectedList: [] // 选中的班级列表\n    };\n  },\n  computed: {\n    /**\n     * 列表列数据\n     */\n    columns() {\n      let self = this;\n      let columns = this.customColumns;\n      columns.unshift({\n        type: 'selection',\n        label: '选择',\n        prop: 'id',\n        width: '60px'\n      });\n      return columns;\n    }\n  },\n  watch: {\n    /**\n     * 每次显示的时候刷新列表\n     */\n    visible() {\n      this.visible &&\n        this.$nextTick(() => {\n          this.$refs.bTable && this.$refs.bTable.ajaxGetTableDataByPage();\n        });\n    }\n  },\n  created() {},\n  methods: {\n    /**\n     * 获取数据方法\n     */\n    ajaxGetData(params) {\n      params = {\n        ...params,\n        ...this.otherParams\n      };\n      params.departCodes = params.departCode\n        ? params.departCode\n        : params.departCodes.join(',');\n      if (typeof this.customAjax === 'function') return this.customAjax(params);\n      return queryAllClassByDepartCodes(params);\n    },\n    /**\n     * 显示模态框\n     */\n    show() {\n      this.visible = true;\n    },\n    /**\n     * 隐藏模态框\n     */\n    hide() {\n      this.visible = false;\n    },\n    /**\n     * 多选模式确定选择元素\n     */\n    onClickConfirm() {\n      let rows = this.selection.slice(0);\n      // 校验最大选择班级\n      if (this.limit > 0 && rows.length > this.limit)\n        return this.$message.warning(\n          `最多选择${this.limit}项，当前已选择${rows.length}项。`\n        );\n      this.$emit('input', rows);\n      this.$emit('select', rows);\n      // 校验是否需要异步完成后关闭窗口\n      if (typeof this.ajax !== 'function') {\n        this.visible = false;\n        this.selectedVisible = false;\n        return;\n      }\n      this.invokeAjax(rows);\n    },\n    /**\n     * 选择\n     */\n    onSelect() {\n      this.selection = this.value.slice(0);\n      this.visible = true;\n      this.count++;\n    },\n    /**\n     * 执行异步回调接口\n     * @param {Array} rows 班级列表\n     */\n    async invokeAjax(rows) {\n      this.confirmLoading = true;\n      try {\n        let res = await this.ajax(rows);\n      } finally {\n        this.confirmLoading = false;\n        this.visible = false;\n      }\n    },\n    /**\n     * 选中元素\n     * @param {*} row 元素\n     * @param {boolean} selected 是否选中\n     */\n    toggleRowSelected(row, selected) {\n      // 查找元素索引\n      let index = this.selection.findIndex(item => item === row.classCode);\n      selected\n        ? index === -1 && this.selection.push(row.classCode) // 新增\n        : index >= 0 && this.selection.splice(index, 1); // 删除\n    },\n    /**\n     * 选择\n     */\n    handleSelect(selection, row) {\n      // 是否选中\n      let selected = selection.indexOf(row) >= 0;\n      this.toggleRowSelected(row, selected);\n    },\n    // 全选\n    handleSelectAll(selection, table) {\n      // 是否选中\n      let selected = !!selection.length;\n      if (!selected) selection = table.tableData;\n      selection.forEach(item => this.toggleRowSelected(item, selected));\n    },\n    /**\n     * 数据列表变化，回显选中\n     * @param {*} tableData 列表数据\n     */\n    changeTableData(tableData) {\n      this.$nextTick(() => {\n        let table = this.$refs.bTable.$refs.table.$refs.table;\n        // console.log(\n        //   tableData.filter(item => this.selection.find(id => item.id === id))\n        // );\n        // 回显选中\n        table.tableData\n          .filter(item => this.selection.find(row => item.classCode === row))\n          .forEach(item => {\n            table.toggleRowSelection(item, true);\n          });\n      });\n    },\n    /**\n     * 打开已选中班级模态框\n     */\n    onOpenSelectedDialog() {\n      this.count++;\n      this.selection = this.value.slice(0);\n      this.selectedVisible = true;\n      this.selectedDialogLoading = true;\n      queryClassByCodeList(this.value)\n        .then(({ data }) => {\n          this.selectedList = data;\n          this.$nextTick(() => {\n            this.$refs.cTable &&\n              this.$refs.cTable.$refs.table &&\n              this.$refs.cTable.$refs.table.toggleAllSelection();\n          });\n        })\n        .finally(() => {\n          this.selectedDialogLoading = false;\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.class-selected {\n  font-size: 14px;\n  font-weight: bold;\n  line-height: 24px;\n}\n</style>\n"],"sourceRoot":"src/pages/sims/views/system/User/components"}]}