{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/views/test/DataCorrection/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/views/test/DataCorrection/index.vue","mtime":1645176309858},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKaW1wb3J0IF9CdXR0b24yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2J1dHRvbi5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9CdXR0b24gZnJvbSAiZWxlbWVudC11aS9saWIvYnV0dG9uIjsKaW1wb3J0IF9UYWJQYW5lMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay90YWItcGFuZS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9UYWJQYW5lIGZyb20gImVsZW1lbnQtdWkvbGliL3RhYi1wYW5lIjsKaW1wb3J0IF9UYWJzMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay90YWJzLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX1RhYnMgZnJvbSAiZWxlbWVudC11aS9saWIvdGFicyI7Cgp2YXIgX2NvbXBvbmVudHM7CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IENEeW5hbWljRm9ybSBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL0NEeW5hbWljRm9ybSc7CmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcvaW5kZXguanMnOwppbXBvcnQgYXhpb3MgZnJvbSAnQC9wbHVnaW5zL2F4aW9zJzsKaW1wb3J0IFhMU1ggZnJvbSAneGxzeCc7Ci8qKgogKiDor7vlj5bmnKzlnLBleGNlbOaWh+S7tgogKiBAcGFyYW0geyp9IGZpbGUg5paH5Lu2CiAqIEByZXR1cm4ge1Byb21pc2V9CiAqLwoKZnVuY3Rpb24gcmVhZFdvcmtib29rRnJvbUxvY2FsRmlsZShmaWxlKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwoKICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgZGF0YSA9IGUudGFyZ2V0LnJlc3VsdDsKICAgICAgdmFyIHdvcmtib29rID0gWExTWC5yZWFkKGRhdGEsIHsKICAgICAgICB0eXBlOiAnYmluYXJ5JwogICAgICB9KTsKICAgICAgcmVzb2x2ZSh3b3JrYm9vayk7CiAgICB9OwoKICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0OwogICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhmaWxlKTsKICB9KTsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEYXRhQ29ycmVjdGlvbicsCiAgY29tcG9uZW50czogKF9jb21wb25lbnRzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX1RhYnMubmFtZSwgX1RhYnMpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9UYWJQYW5lLm5hbWUsIF9UYWJQYW5lKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQnV0dG9uLm5hbWUsIF9CdXR0b24pLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsICJDRHluYW1pY0Zvcm0iLCBDRHluYW1pY0Zvcm0pLCBfY29tcG9uZW50cyksCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHZhciBmb3JtRGF0YU1hcCA9IHt9OwogICAgY29uZmlnLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgZm9ybURhdGFNYXBbaXRlbS50aXRsZV0gPSB7fTsgLy8g5aSE55CG5a2X5YW45pWw5o2uCgogICAgICBpdGVtLmZvcm1JdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICByb3cuZGljdCAmJiAocm93Lm9wdGlvbnMgPSBfdGhpcy4kRChyb3cuZGljdCkpOwogICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgLyoqIOihqOWNlemFjee9ruaVsOaNriAqLwogICAgICBjb25maWc6IGNvbmZpZywKCiAgICAgIC8qKiDmiYDmnInooajljZXmlbDmja4gKi8KICAgICAgZm9ybURhdGFNYXA6IGZvcm1EYXRhTWFwLAoKICAgICAgLyoqIOa/gOa0u+eahOihqOWNlSAqLwogICAgICBhY3RpdmVOYW1lOiB0aGlzLiRyb3V0ZS5xdWVyeS5hY3RpdmVOYW1lIHx8IGNvbmZpZ1swXS50aXRsZSwKCiAgICAgIC8qKiDmuLLmn5NpbnB1dC1maWxlICovCiAgICAgIHJlbmRlckZpbGU6IHRydWUKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqCiAgICAgKiDmv4DmtLvnmoTooajljZUKICAgICAqLwogICAgYWN0aXZlRm9ybTogZnVuY3Rpb24gYWN0aXZlRm9ybSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gdGhpcy5jb25maWcuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnRpdGxlID09PSBfdGhpczIuYWN0aXZlTmFtZTsKICAgICAgfSk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLyoqCiAgICAgKiDkv67mlLnmv4DmtLsKICAgICAqLwogICAgYWN0aXZlTmFtZTogZnVuY3Rpb24gYWN0aXZlTmFtZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLiRyb3V0ZSksIHt9LCB7CiAgICAgICAgcXVlcnk6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy4kcm91dGUucXVlcnkpLCB7fSwgewogICAgICAgICAgYWN0aXZlTmFtZTogdGhpcy5hY3RpdmVOYW1lCiAgICAgICAgfSkKICAgICAgfSkpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOWtmOWCqOavj+S4quihqOWNleeahOaVsOaNrgogICAgICogQHBhcmFtIHsqfSBtb2RlbCDooajljZXmlbDmja4KICAgICAqLwogICAgaGFuZGxlQ2hhbmdlTW9kZWw6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZU1vZGVsKG1vZGVsKSB7CiAgICAgIHRoaXMuZm9ybURhdGFNYXBbdGhpcy5hY3RpdmVOYW1lXSA9IG1vZGVsOwogICAgfSwKCiAgICAvKioKICAgICAqIOaPkOS6pOihqOWNleaVsOaNrgogICAgICovCiAgICBoYW5kbGVDb25maXJtOiBmdW5jdGlvbiBoYW5kbGVDb25maXJtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBsb2FkaW5nID0gdGhpcy4kbG9hZGluZyh7CiAgICAgICAgdGV4dDogJ+aPkOS6pOS4rS4uLicKICAgICAgfSk7CiAgICAgIGF4aW9zKHsKICAgICAgICB1cmw6IHRoaXMuYWN0aXZlRm9ybS51cmwsCiAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgZGF0YTogdGhpcy5mb3JtRGF0YU1hcFt0aGlzLmFjdGl2ZU5hbWVdCiAgICAgIH0sICdzaW1zYmZmJykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aPkOS6pOaIkOWKnycpOyAvLyDmuIXnqbrooajljZUKICAgICAgICAvLyB0aGlzLmhhbmRsZVJlc2V0Rm9ybSgpOwoKICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDph43nva7ooajljZUKICAgICAqLwogICAgaGFuZGxlUmVzZXRGb3JtOiBmdW5jdGlvbiBoYW5kbGVSZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm1EYXRhTWFwLCB0aGlzLmFjdGl2ZU5hbWUsIHt9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDlr7zlhaXlip/og70KICAgICAqLwogICAgaGFuZGxlSW1wb3J0OiBmdW5jdGlvbiBoYW5kbGVJbXBvcnQoKSB7fSwKCiAgICAvKioKICAgICAqIOaUueWPmOaWh+S7tgogICAgICovCiAgICBoYW5kbGVDaGFuZ2VGaWxlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2VGaWxlKGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0cnkgewogICAgICAgIHZhciBmaWxlcyA9IGUudGFyZ2V0LmZpbGVzOwogICAgICAgIGlmICghZmlsZXMubGVuZ3RoKSByZXR1cm4gdGhpcy4kbWVzc2FnZS53YXJuaW5nKCfor7fpgInmi6nmlofku7YnKTsKICAgICAgICB2YXIgZmlsZSA9IGZpbGVzWzBdOyAvLyDliKTmlq3mmK/lkKbmmK9leGNlbOaWh+S7tgoKICAgICAgICBpZiAoWyd4bHMnLCAneGxzeCddLmluZGV4T2YoZmlsZS5uYW1lLnNwbGl0KCcuJylbMV0pID09PSAtMSkgcmV0dXJuIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn6K+36YCJ5oupeGxz44CBeGxzeOaWh+S7tu+8gScpOyAvLyDor7vlj5ZleGNlbOaWh+S7tuaVsOaNrgoKICAgICAgICByZWFkV29ya2Jvb2tGcm9tTG9jYWxGaWxlKGZpbGUpLnRoZW4oZnVuY3Rpb24gKHdvcmtib29rKSB7CiAgICAgICAgICAvLyDpgY3ljobmr4/lvKDooajor7vlj5YKICAgICAgICAgIHZhciBmcm9tVG8gPSAnJzsKICAgICAgICAgIHZhciBwZXJzb25zID0gW107CgogICAgICAgICAgZm9yICh2YXIgc2hlZXQgaW4gd29ya2Jvb2suU2hlZXRzKSB7CiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwod29ya2Jvb2suU2hlZXRzLCBzaGVldCkpIHsKICAgICAgICAgICAgICBmcm9tVG8gPSB3b3JrYm9vay5TaGVldHNbc2hlZXRdWychcmVmJ107CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZnJvbVRvKTsKICAgICAgICAgICAgICBwZXJzb25zID0gcGVyc29ucy5jb25jYXQoWExTWC51dGlscy5zaGVldF90b19qc29uKHdvcmtib29rLlNoZWV0c1tzaGVldF0sIHsKICAgICAgICAgICAgICAgIGhlYWRlcjogX3RoaXM0LmFjdGl2ZUZvcm0uZm9ybUl0ZW1zLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5wcm9wOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBkZWZ2YWw6ICcnIC8vIOm7mOiupOWAvOS4uuepuuWtl+espuS4sgoKICAgICAgICAgICAgICB9KSk7CiAgICAgICAgICAgICAgYnJlYWs7IC8vIOWmguaenOWPquWPluesrOS4gOW8oOihqO+8jOWwseWPlua2iOazqOmHiui/meihjAogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXM0LmJhdGNoSW1wb3J0KHBlcnNvbnMuc2xpY2UoMSkpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKCiAgICAgICAgICBfdGhpczQuJG1lc3NhZ2Uud2FybmluZygn5paH5Lu26K+75Y+W5aSx6LSlJyk7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5a+85YWl5aSx6LSl77ya5pyq55+l6ZSZ6K+vJyk7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5yZXNldEZpbGUoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIOaJuemHj+WvvOWFpQogICAgICovCiAgICBiYXRjaEltcG9ydDogZnVuY3Rpb24gYmF0Y2hJbXBvcnQobGlzdCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBsb2FkaW5nLCBzdWNjZXNzQ291bnQsIGk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfdGhpczUuJGxvYWRpbmcoewogICAgICAgICAgICAgICAgICB0ZXh0OiAn5a+85YWl5LitLi4uJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQgPSAwOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGlmICghKGkgPCBsaXN0Lmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgICAgICAgdXJsOiBfdGhpczUuYWN0aXZlRm9ybS51cmwsCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgICBkYXRhOiBsaXN0W2ldCiAgICAgICAgICAgICAgICB9LCAnc2ltc2JmZicpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBzdWNjZXNzQ291bnQrKzsKICAgICAgICAgICAgICAgIGxvYWRpbmcudGV4dCA9ICJcdTZCNjNcdTU3MjhcdTVCRkNcdTUxNjVcdTdCMkMiLmNvbmNhdChpICsgMSwgIlx1Njc2MVx1NjU3MFx1NjM2RVx1RkYwQ1x1NURGMlx1NjIxMFx1NTI5Rlx1NUJGQ1x1NTE2NSIpLmNvbmNhdChzdWNjZXNzQ291bnQsICJcdTY3NjFcdTY1NzBcdTYzNkVcdTMwMDIiKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDExOwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg0KTsKCiAgICAgICAgICAgICAgICBfdGhpczUuJG1lc3NhZ2Uud2FybmluZygn5a+85YWl6YOo5YiG5oiQ5Yqf77yaJyArIHN1Y2Nlc3NDb3VudCArICfmnaHmlbDmja4nKTsKCiAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CgogICAgICAgICAgICAgICAgX3RoaXM1LiRtZXNzYWdlLnN1Y2Nlc3MoJ+WvvOWFpeaIkOWKnycpOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1s0LCAxMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAoKICAgIC8qKgogICAgICog6YeN572uZmlsZeihqOWNle+8jOino+WGs+mHjeWkjemAieaLqeWQjOS4gOS4quaWh+S7tuS4jeinpuWPkWNoYW5nZeS6i+S7tumXrumimAogICAgICovCiAgICByZXNldEZpbGU6IGZ1bmN0aW9uIHJlc2V0RmlsZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICB0aGlzLnJlbmRlckZpbGUgPSBmYWxzZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi5yZW5kZXJGaWxlID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,YAAA,MAAA,kCAAA;AACA,OAAA,MAAA,MAAA,mBAAA;AACA,OAAA,KAAA,MAAA,iBAAA;AACA,OAAA,IAAA,MAAA,MAAA;AAEA;AACA;AACA;AACA;AACA;;AACA,SAAA,yBAAA,CAAA,IAAA,EAAA;AACA,SAAA,IAAA,OAAA,CAAA,UAAA,OAAA,EAAA,MAAA,EAAA;AACA,QAAA,MAAA,GAAA,IAAA,UAAA,EAAA;;AACA,IAAA,MAAA,CAAA,MAAA,GAAA,UAAA,CAAA,EAAA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,MAAA,CAAA,MAAA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA,CAAA;AACA,MAAA,OAAA,CAAA,QAAA,CAAA;AACA,KAJA;;AAKA,IAAA,MAAA,CAAA,OAAA,GAAA,MAAA;AACA,IAAA,MAAA,CAAA,kBAAA,CAAA,IAAA;AACA,GATA,CAAA;AAUA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,gBADA;AAEA,EAAA,UAAA,kDACA,MAAA,IADA,uCAEA,SAAA,IAFA,0CAGA,QAAA,IAHA,yDAIA,YAJA,eAFA;AAQA,EAAA,KAAA,EAAA,EARA;AASA,EAAA,IATA,kBASA;AAAA;;AACA,QAAA,WAAA,GAAA,EAAA;AACA,IAAA,MAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,MAAA,WAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CADA,CAEA;;AACA,MAAA,IAAA,CAAA,SAAA,CAAA,OAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,IAAA,KAAA,GAAA,CAAA,OAAA,GAAA,KAAA,CAAA,EAAA,CAAA,GAAA,CAAA,IAAA,CAAA;AACA,OAFA;AAGA,KANA;AAOA,WAAA;AACA;AACA,MAAA,MAAA,EAAA,MAFA;;AAGA;AACA,MAAA,WAAA,EAAA,WAJA;;AAKA;AACA,MAAA,UAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,UAAA,IAAA,MAAA,CAAA,CAAA,CAAA,CAAA,KANA;;AAOA;AACA,MAAA,UAAA,EAAA;AARA,KAAA;AAUA,GA5BA;AA6BA,EAAA,QAAA,EAAA;AACA;AACA;AACA;AACA,IAAA,UAJA,wBAIA;AAAA;;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,UAAA,IAAA;AAAA,eAAA,IAAA,CAAA,KAAA,KAAA,MAAA,CAAA,UAAA;AAAA,OAAA,CAAA;AACA;AANA,GA7BA;AAqCA,EAAA,KAAA,EAAA;AACA;AACA;AACA;AACA,IAAA,UAJA,wBAIA;AACA,WAAA,OAAA,CAAA,OAAA,iCACA,KAAA,MADA;AAEA,QAAA,KAAA,kCACA,KAAA,MAAA,CAAA,KADA;AAEA,UAAA,UAAA,EAAA,KAAA;AAFA;AAFA;AAOA;AAZA,GArCA;AAmDA,EAAA,OAnDA,qBAmDA,CAAA,CAnDA;AAoDA,EAAA,OApDA,qBAoDA,CAAA,CApDA;AAqDA,EAAA,OAAA,EAAA;AACA;AACA;AACA;AACA;AACA,IAAA,iBALA,6BAKA,KALA,EAKA;AACA,WAAA,WAAA,CAAA,KAAA,UAAA,IAAA,KAAA;AACA,KAPA;;AAQA;AACA;AACA;AACA,IAAA,aAXA,2BAWA;AAAA;;AACA,UAAA,OAAA,GAAA,KAAA,QAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA,CAAA;AAGA,MAAA,KAAA,CACA;AACA,QAAA,GAAA,EAAA,KAAA,UAAA,CAAA,GADA;AAEA,QAAA,MAAA,EAAA,MAFA;AAGA,QAAA,IAAA,EAAA,KAAA,WAAA,CAAA,KAAA,UAAA;AAHA,OADA,EAMA,SANA,CAAA,CAQA,IARA,CAQA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,EADA,CAEA;AACA;;AACA,OAZA,EAaA,OAbA,CAaA,YAAA;AACA,QAAA,OAAA,CAAA,KAAA;AACA,OAfA;AAgBA,KA/BA;;AAgCA;AACA;AACA;AACA,IAAA,eAnCA,6BAmCA;AACA,WAAA,IAAA,CAAA,KAAA,WAAA,EAAA,KAAA,UAAA,EAAA,EAAA;AACA,KArCA;;AAsCA;AACA;AACA;AACA,IAAA,YAzCA,0BAyCA,CAAA,CAzCA;;AA0CA;AACA;AACA;AACA,IAAA,gBA7CA,4BA6CA,CA7CA,EA6CA;AAAA;;AACA,UAAA;AACA,YAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;AACA,YAAA,CAAA,KAAA,CAAA,MAAA,EAAA,OAAA,KAAA,QAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AACA,YAAA,IAAA,GAAA,KAAA,CAAA,CAAA,CAAA,CAHA,CAIA;;AACA,YAAA,CAAA,KAAA,EAAA,MAAA,EAAA,OAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA,CAAA,GAAA,EAAA,CAAA,CAAA,MAAA,CAAA,CAAA,EACA,OAAA,KAAA,QAAA,CAAA,OAAA,CAAA,gBAAA,CAAA,CANA,CAOA;;AACA,QAAA,yBAAA,CAAA,IAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA,EAAA;AACA;AACA,cAAA,MAAA,GAAA,EAAA;AACA,cAAA,OAAA,GAAA,EAAA;;AACA,eAAA,IAAA,KAAA,IAAA,QAAA,CAAA,MAAA,EAAA;AACA,gBACA,MAAA,CAAA,SAAA,CAAA,cAAA,CAAA,IAAA,CAAA,QAAA,CAAA,MAAA,EAAA,KAAA,CADA,EAEA;AACA,cAAA,MAAA,GAAA,QAAA,CAAA,MAAA,CAAA,KAAA,EAAA,MAAA,CAAA;AACA,cAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,cAAA,OAAA,GAAA,OAAA,CAAA,MAAA,CACA,IAAA,CAAA,KAAA,CAAA,aAAA,CAAA,QAAA,CAAA,MAAA,CAAA,KAAA,CAAA,EAAA;AACA,gBAAA,MAAA,EAAA,MAAA,CAAA,UAAA,CAAA,SAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,yBAAA,IAAA,CAAA,IAAA;AAAA,iBAAA,CADA;AAEA,gBAAA,MAAA,EAAA,EAFA,CAEA;;AAFA,eAAA,CADA,CAAA;AAMA,oBATA,CASA;AACA;AACA;;AACA,UAAA,MAAA,CAAA,WAAA,CAAA,OAAA,CAAA,KAAA,CAAA,CAAA,CAAA;AACA,SArBA,EAsBA,KAtBA,CAsBA,UAAA,CAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,CAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA;AACA,SAzBA;AA0BA,OAlCA,CAkCA,OAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,CAAA;AACA,aAAA,QAAA,CAAA,OAAA,CAAA,WAAA;AACA,OArCA,SAqCA;AACA,aAAA,SAAA;AACA;AACA,KAtFA;;AAuFA;AACA;AACA;AACA,IAAA,WA1FA,uBA0FA,IA1FA,EA0FA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,OADA,GACA,MAAA,CAAA,QAAA,CAAA;AAAA,kBAAA,IAAA,EAAA;AAAA,iBAAA,CADA;AAEA,gBAAA,YAFA,GAEA,CAFA;AAGA,gBAAA,CAHA,GAGA,CAHA;;AAAA;AAAA,sBAGA,CAAA,GAAA,IAAA,CAAA,MAHA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAMA,KAAA,CACA;AACA,kBAAA,GAAA,EAAA,MAAA,CAAA,UAAA,CAAA,GADA;AAEA,kBAAA,MAAA,EAAA,MAFA;AAGA,kBAAA,IAAA,EAAA,IAAA,CAAA,CAAA;AAHA,iBADA,EAMA,SANA,CANA;;AAAA;AAcA,gBAAA,YAAA;AACA,gBAAA,OAAA,CAAA,IAAA,2CAAA,CAAA,GACA,CADA,mEACA,YADA;AAfA;AAAA;;AAAA;AAAA;AAAA;;AAkBA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,YAAA,YAAA,GAAA,KAAA;;AACA,gBAAA,OAAA,CAAA,KAAA;AAnBA;;AAAA;AAGA,gBAAA,CAAA,EAHA;AAAA;AAAA;;AAAA;AAuBA,gBAAA,OAAA,CAAA,KAAA;;AACA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA;;AAxBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAyBA,KAnHA;;AAoHA;AACA;AACA;AACA,IAAA,SAvHA,uBAuHA;AAAA;;AACA,WAAA,UAAA,GAAA,KAAA;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AACA,OAFA;AAGA;AA5HA;AArDA,CAAA","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-tabs v-model=\"activeName\">\n      <el-tab-pane\n        v-for=\"item in config\"\n        :key=\"item.title\"\n        :label=\"item.title\"\n        :name=\"item.title\"\n      >\n        <c-dynamic-form\n          :form-attrs=\"{ inline: true }\"\n          :form-data=\"formDataMap[item.title]\"\n          :form-items=\"item.formItems\"\n          @change-model=\"handleChangeModel\"\n        />\n      </el-tab-pane>\n    </el-tabs>\n    <div class=\"t-c\">\n      <el-button type=\"primary\" @click=\"handleConfirm\">提交</el-button>\n      <el-button @click=\"handleResetForm\">重置表单</el-button>\n      <el-button type=\"primary\" @click=\"$refs.file.click()\">导入</el-button>\n      <input\n        v-if=\"renderFile\"\n        ref=\"file\"\n        type=\"file\"\n        v-show=\"false\"\n        accept=\".xls,.xlsx\"\n        @change=\"handleChangeFile\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Tabs, TabPane, Button } from 'element-ui';\nimport CDynamicForm from '@/components/common/CDynamicForm';\nimport config from './config/index.js';\nimport axios from '@/plugins/axios';\nimport XLSX from 'xlsx';\n\n/**\n * 读取本地excel文件\n * @param {*} file 文件\n * @return {Promise}\n */\nfunction readWorkbookFromLocalFile(file) {\n  return new Promise((resolve, reject) => {\n    var reader = new FileReader();\n    reader.onload = function(e) {\n      var data = e.target.result;\n      var workbook = XLSX.read(data, { type: 'binary' });\n      resolve(workbook);\n    };\n    reader.onerror = reject;\n    reader.readAsBinaryString(file);\n  });\n}\n\nexport default {\n  name: 'DataCorrection',\n  components: {\n    [Tabs.name]: Tabs,\n    [TabPane.name]: TabPane,\n    [Button.name]: Button,\n    CDynamicForm\n  },\n  props: {},\n  data() {\n    const formDataMap = {};\n    config.forEach(item => {\n      formDataMap[item.title] = {};\n      // 处理字典数据\n      item.formItems.forEach(row => {\n        row.dict && (row.options = this.$D(row.dict));\n      });\n    });\n    return {\n      /** 表单配置数据 */\n      config,\n      /** 所有表单数据 */\n      formDataMap,\n      /** 激活的表单 */\n      activeName: this.$route.query.activeName || config[0].title,\n      /** 渲染input-file */\n      renderFile: true\n    };\n  },\n  computed: {\n    /**\n     * 激活的表单\n     */\n    activeForm() {\n      return this.config.find(item => item.title === this.activeName);\n    }\n  },\n  watch: {\n    /**\n     * 修改激活\n     */\n    activeName() {\n      this.$router.replace({\n        ...this.$route,\n        query: {\n          ...this.$route.query,\n          activeName: this.activeName\n        }\n      });\n    }\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    /**\n     * 存储每个表单的数据\n     * @param {*} model 表单数据\n     */\n    handleChangeModel(model) {\n      this.formDataMap[this.activeName] = model;\n    },\n    /**\n     * 提交表单数据\n     */\n    handleConfirm() {\n      const loading = this.$loading({\n        text: '提交中...'\n      });\n      axios(\n        {\n          url: this.activeForm.url,\n          method: 'POST',\n          data: this.formDataMap[this.activeName]\n        },\n        'simsbff'\n      )\n        .then(() => {\n          this.$message.success('提交成功');\n          // 清空表单\n          // this.handleResetForm();\n        })\n        .finally(() => {\n          loading.close();\n        });\n    },\n    /**\n     * 重置表单\n     */\n    handleResetForm() {\n      this.$set(this.formDataMap, this.activeName, {});\n    },\n    /**\n     * 导入功能\n     */\n    handleImport() {},\n    /**\n     * 改变文件\n     */\n    handleChangeFile(e) {\n      try {\n        const files = e.target.files;\n        if (!files.length) return this.$message.warning('请选择文件');\n        const file = files[0];\n        // 判断是否是excel文件\n        if (['xls', 'xlsx'].indexOf(file.name.split('.')[1]) === -1)\n          return this.$message.warning('请选择xls、xlsx文件！');\n        // 读取excel文件数据\n        readWorkbookFromLocalFile(file)\n          .then(workbook => {\n            // 遍历每张表读取\n            let fromTo = '';\n            let persons = [];\n            for (var sheet in workbook.Sheets) {\n              if (\n                Object.prototype.hasOwnProperty.call(workbook.Sheets, sheet)\n              ) {\n                fromTo = workbook.Sheets[sheet]['!ref'];\n                console.log(fromTo);\n                persons = persons.concat(\n                  XLSX.utils.sheet_to_json(workbook.Sheets[sheet], {\n                    header: this.activeForm.formItems.map(item => item.prop),\n                    defval: '' // 默认值为空字符串\n                  })\n                );\n                break; // 如果只取第一张表，就取消注释这行\n              }\n            }\n            this.batchImport(persons.slice(1));\n          })\n          .catch(e => {\n            console.log(e);\n            this.$message.warning('文件读取失败');\n          });\n      } catch (e) {\n        console.error(e);\n        this.$message.warning('导入失败：未知错误');\n      } finally {\n        this.resetFile();\n      }\n    },\n    /**\n     * 批量导入\n     */\n    async batchImport(list) {\n      const loading = this.$loading({ text: '导入中...' });\n      let successCount = 0;\n      for (let i = 0; i < list.length; i++) {\n        try {\n          // eslint-disable-next-line no-await-in-loop\n          await axios(\n            {\n              url: this.activeForm.url,\n              method: 'POST',\n              data: list[i]\n            },\n            'simsbff'\n          );\n          successCount++;\n          loading.text = `正在导入第${i +\n            1}条数据，已成功导入${successCount}条数据。`;\n        } catch (e) {\n          this.$message.warning('导入部分成功：' + successCount + '条数据');\n          loading.close();\n          return;\n        }\n      }\n      loading.close();\n      this.$message.success('导入成功');\n    },\n    /**\n     * 重置file表单，解决重复选择同一个文件不触发change事件问题\n     */\n    resetFile() {\n      this.renderFile = false;\n      this.$nextTick(() => {\n        this.renderFile = true;\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n"],"sourceRoot":"src/pages/sims/views/test/DataCorrection"}]}