{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/teacher-points/search.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/teacher-points/search.vue","mtime":1627979214414},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInZhbnQvZXMvbG9hZGluZy9zdHlsZSI7CmltcG9ydCBfTG9hZGluZyBmcm9tICJ2YW50L2VzL2xvYWRpbmciOwppbXBvcnQgInZhbnQvZXMvcHVsbC1yZWZyZXNoL3N0eWxlIjsKaW1wb3J0IF9QdWxsUmVmcmVzaCBmcm9tICJ2YW50L2VzL3B1bGwtcmVmcmVzaCI7CmltcG9ydCAidmFudC9lcy9saXN0L3N0eWxlIjsKaW1wb3J0IF9MaXN0IGZyb20gInZhbnQvZXMvbGlzdCI7CmltcG9ydCAidmFudC9lcy9zZWFyY2gvc3R5bGUiOwppbXBvcnQgX1NlYXJjaCBmcm9tICJ2YW50L2VzL3NlYXJjaCI7Cgp2YXIgX2NvbXBvbmVudHM7CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGNsaXN0IGZyb20gJy4vY29tcG9uZW50cy9saXN0JzsKaW1wb3J0IHsgYXdhcmRSZXBvcnRMaXN0IH0gZnJvbSAnQC9wYWdlcy90ZWFjaGluZy1wb2ludHMtaDUvYXBpL3RlYWNoaW5nLWFjdGl2aXR5L3RlYWNoaW5nLXBvaW50cyc7CmltcG9ydCBOb3REYXRhIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvY29tbW9uL05vdERhdGEudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdub3JtYWxFeGFtaW5lU2VhcmNoJywKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfU2VhcmNoLm5hbWUsIF9TZWFyY2gpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9MaXN0Lm5hbWUsIF9MaXN0KSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfUHVsbFJlZnJlc2gubmFtZSwgX1B1bGxSZWZyZXNoKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfTG9hZGluZy5uYW1lLCBfTG9hZGluZyksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgImNsaXN0IiwgY2xpc3QpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsICJOb3REYXRhIiwgTm90RGF0YSksIF9jb21wb25lbnRzKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW50ZWdyYWxMaXN0OiBbXSwKICAgICAgcGFnZUluZm86IHsKICAgICAgICAvL+Whq+aKpeS/oeaBr+aAu+mhteaVsAogICAgICAgIHRvdGFsOiAwCiAgICAgIH0sCiAgICAgIGlzc3VlTmFtZTogJycsCiAgICAgIHBhZ2luZ1BhcmFtczogewogICAgICAgIC8v5aGr5oql5YiG6aG15Y+C5pWwCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIG9mZnNldDogMAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgZmluaXNoZWQ6IGZhbHNlLAogICAgICByZWZyZXNoaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IGZhbHNlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZpbmlzaGVkVGV4dDogZnVuY3Rpb24gZmluaXNoZWRUZXh0KCkgewogICAgICBpZiAodGhpcy5wYWdlSW5mby50b3RhbCA9PT0gMCkgewogICAgICAgIHJldHVybiAn5pqC5peg5pWw5o2uJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ+ayoeacieabtOWkmuS6hic7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHRoaXMuJGRkLmJpei5uYXZpZ2F0aW9uLnNldFJpZ2h0KHsKICAgICAgICBzaG93OiBmYWxzZSAvL+aOp+WItuaMiemSruaYvuekuu+8jCB0cnVlIOaYvuekuu+8jCBmYWxzZSDpmpDol4/vvIwg6buY6K6kdHJ1ZQoKICAgICAgfSk7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfSwKICAgIG9uUmVmcmVzaDogZnVuY3Rpb24gb25SZWZyZXNoKCkgewogICAgICB0aGlzLmludGVncmFsTGlzdCA9IFtdOwogICAgICB0aGlzLmZpbmlzaGVkID0gZmFsc2U7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMucGFnZUluZm8udG90YWwgPSAwOwogICAgICB0aGlzLnBhZ2luZ1BhcmFtcy5vZmZzZXQgPSAwOwogICAgICB0aGlzLm9uTG9hZCgpOwogICAgfSwKICAgIG9uTG9hZDogZnVuY3Rpb24gb25Mb2FkKCkgewogICAgICBpZiAodGhpcy5yZWZyZXNoaW5nKSB7CiAgICAgICAgdGhpcy5pbnRlZ3JhbExpc3QgPSBbXTsKICAgICAgICB0aGlzLnJlZnJlc2hpbmcgPSBmYWxzZTsKICAgICAgfQoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPluWIl+ihqOaVsOaNrg0KICAgICAqLwogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLnBhZ2luZ1BhcmFtcy5vZmZzZXQgPiB0aGlzLnBhZ2VJbmZvLnRvdGFsKSByZXR1cm47CiAgICAgIGF3YXJkUmVwb3J0TGlzdChfb2JqZWN0U3ByZWFkKHsKICAgICAgICBpc3N1ZU5hbWU6IHRoaXMuaXNzdWVOYW1lCiAgICAgIH0sIHRoaXMucGFnaW5nUGFyYW1zKSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YS5yZWNvcmRzIHx8IFtdOwogICAgICAgICAgX3RoaXMuaW50ZWdyYWxMaXN0ID0gX3RoaXMuaW50ZWdyYWxMaXN0LmNvbmNhdChkYXRhKTsKICAgICAgICAgIF90aGlzLnBhZ2VJbmZvLnRvdGFsID0gcmVzLmRhdGEudG90YWwgfHwgMDsKCiAgICAgICAgICBpZiAoX3RoaXMucGFnZUluZm8udG90YWwgPD0gcmVzLmRhdGEuY3VycmVudCAqIHJlcy5kYXRhLnNpemUpIHsKICAgICAgICAgICAgX3RoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMucGFnaW5nUGFyYW1zLm9mZnNldCA9IChNYXRoLmZsb29yKF90aGlzLnBhZ2luZ1BhcmFtcy5vZmZzZXQgLyBfdGhpcy5wYWdpbmdQYXJhbXMubGltaXQpICsgMSkgKiBfdGhpcy5wYWdpbmdQYXJhbXMubGltaXQ7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfVG9hc3QuZmFpbChyZXMubWVzc2FnZSk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuZXJyb3IgPSB0cnVlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["search.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"search-page\">\r\n    <p>\r\n      <van-search\r\n        v-model=\"issueName\"\r\n        @search=\"onRefresh\"\r\n        shape=\"round\"\r\n        background=\"#F6F6F6\"\r\n        placeholder=\"请输入奖项名称\"\r\n      />\r\n    </p>\r\n    <div\r\n      class=\"list-content\"\r\n      v-if=\"Array.isArray(integralList) && integralList.length > 0\"\r\n    >\r\n      <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n        <van-list\r\n          v-model=\"loading\"\r\n          :finished=\"finished\"\r\n          :offset=\"20\"\r\n          :error.sync=\"error\"\r\n          error-text=\"请求失败，点击重新加载\"\r\n          :finished-text=\"finishedText\"\r\n          @load=\"onLoad\"\r\n        >\r\n          <dl>\r\n            <clist :integralList=\"integralList\"></clist>\r\n          </dl>\r\n        </van-list>\r\n      </van-pull-refresh>\r\n    </div>\r\n    <div v-else class=\"notHasData\">\r\n      <div class=\"loadingList\" v-if=\"!finished\">\r\n        <van-loading size=\"24px\">加载中...</van-loading>\r\n      </div>\r\n      <div v-else>\r\n        <not-data>\r\n          <div slot=\"notdataMessage\" class=\"notData\">\r\n            <div>当前页面没有数据</div>\r\n            <div>请到管理后台添加</div>\r\n          </div>\r\n        </not-data>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clist from './components/list';\r\nimport { awardReportList } from '@/pages/teaching-points-h5/api/teaching-activity/teaching-points';\r\nimport { Search, List, Toast, PullRefresh, Loading } from 'vant';\r\nimport NotData from '../../components/common/NotData.vue';\r\nexport default {\r\n  name: 'normalExamineSearch',\r\n  components: {\r\n    [Search.name]: Search,\r\n    [List.name]: List,\r\n    [PullRefresh.name]: PullRefresh,\r\n    [Loading.name]: Loading,\r\n    clist: clist,\r\n    NotData\r\n  },\r\n  data: function() {\r\n    return {\r\n      integralList: [],\r\n      pageInfo: {\r\n        //填报信息总页数\r\n        total: 0\r\n      },\r\n      issueName: '',\r\n      pagingParams: {\r\n        //填报分页参数\r\n        limit: 10,\r\n        offset: 0\r\n      },\r\n      loading: false,\r\n      finished: false,\r\n      refreshing: false,\r\n      error: false\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n  },\r\n  computed: {\r\n    finishedText() {\r\n      if (this.pageInfo.total === 0) {\r\n        return '暂无数据';\r\n      } else {\r\n        return '没有更多了';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$dd.biz.navigation.setRight({\r\n        show: false //控制按钮显示， true 显示， false 隐藏， 默认true\r\n      });\r\n      this.getData();\r\n    },\r\n    onRefresh() {\r\n      this.integralList = [];\r\n      this.finished = false;\r\n      this.loading = true;\r\n      this.pageInfo.total = 0;\r\n      this.pagingParams.offset = 0;\r\n      this.onLoad();\r\n    },\r\n    onLoad() {\r\n      if (this.refreshing) {\r\n        this.integralList = [];\r\n        this.refreshing = false;\r\n      }\r\n      this.loading = true;\r\n      this.getData();\r\n    },\r\n    /**\r\n     * 获取列表数据\r\n     */\r\n    getData() {\r\n      if (this.pagingParams.offset > this.pageInfo.total) return;\r\n      awardReportList({\r\n        issueName: this.issueName,\r\n        ...this.pagingParams\r\n      })\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            let data = res.data.records || [];\r\n            this.integralList = this.integralList.concat(data);\r\n            this.pageInfo.total = res.data.total || 0;\r\n            if (this.pageInfo.total <= res.data.current * res.data.size) {\r\n              this.finished = true;\r\n            } else {\r\n              this.pagingParams.offset =\r\n                (Math.floor(\r\n                  this.pagingParams.offset / this.pagingParams.limit\r\n                ) +\r\n                  1) *\r\n                this.pagingParams.limit;\r\n            }\r\n            this.loading = false;\r\n          } else {\r\n            Toast.fail(res.message);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.error = true;\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-page {\r\n  background: #f6f6f6;\r\n  /deep/ .van-search__content {\r\n    background-color: #fff;\r\n  }\r\n  /deep/ .van-search {\r\n    height: 1.08rem;\r\n  }\r\n  .list-content {\r\n    position: absolute;\r\n    width: 100%;\r\n    height: calc(100% - 1.08rem);\r\n    overflow-y: auto;\r\n  }\r\n}\r\n.notHasData {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  .loadingList {\r\n    margin-top: 2rem;\r\n  }\r\n  .notData {\r\n    text-align: center;\r\n    > div {\r\n      font-size: 0.28rem;\r\n      font-weight: 400;\r\n      color: rgba(0, 0, 0, 0.45);\r\n      line-height: 0.4rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages/teaching-points-h5/views/teacher-points"}]}