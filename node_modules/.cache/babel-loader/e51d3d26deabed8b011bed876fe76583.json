{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/VerifySearchList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/VerifySearchList.vue","mtime":1646020538186},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICdAdmFudC90b3VjaC1lbXVsYXRvcic7CmltcG9ydCB7IGdldFdyaXRlT2ZmQnlWaXNpdG9yQ29kZSB9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9hcGkvdmVyaWZ5JzsKaW1wb3J0IHZlcmlmeVNlYXJjaENhcmQgZnJvbSAnLi9jb21wb25lbnRzL1ZlcmlmeUNhcmQudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHZlcmlmeVNlYXJjaENhcmQ6IHZlcmlmeVNlYXJjaENhcmQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcnI6IG5ldyBBcnJheSg0KSwKICAgICAgY29uZmlybVNlYXJjaDogZmFsc2UsCiAgICAgIHNob3c6IGZhbHNlLAogICAgICB2YWx1ZTogJycsCiAgICAgIGxpc3Q6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5qC85byP5YyW5p+l6K+i5pWw5o2uIOWvueW6lOWxleekuuetvuWIsOetvuemuwogICAgZm9ybWF0SXRlbTogZnVuY3Rpb24gZm9ybWF0SXRlbShpdGVtKSB7CiAgICAgIGlmIChpdGVtLnZpc2l0b3JMaXN0WzBdLnZpc2l0b3JDYW1lVHlwZSA9PSAxKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRvcnI6IGl0ZW0uZG9vciwKICAgICAgICAgIGd1ZXN0VGltZUJlZ2luOiBpdGVtLmd1ZXN0VGltZUJlZ2luLAogICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICBsZWF2ZVZpc2l0b3JMaXN0OiBpdGVtLnZpc2l0b3JMaXN0CiAgICAgICAgfTsKICAgICAgfSBlbHNlIGlmIChpdGVtLnZpc2l0b3JMaXN0WzBdLnZpc2l0b3JDYW1lVHlwZSA9PSAzKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGRvcnI6IGl0ZW0uZG9vciwKICAgICAgICAgIGd1ZXN0VGltZUJlZ2luOiBpdGVtLmd1ZXN0VGltZUJlZ2luLAogICAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgICBvZmZWaXNpdG9yTGlzdDogaXRlbS52aXNpdG9yTGlzdAogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgIH0KICAgIH0sCiAgICBzaG93S2V5Ym9hcmQ6IGZ1bmN0aW9uIHNob3dLZXlib2FyZCgpIHsKICAgICAgLy8gdGhpcy4kcmVmcy5pbnB1dEZpZWxkLmZvY3VzKCk7CiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICB9LAogICAgY2xpY2tDYXJkOiBmdW5jdGlvbiBjbGlja0NhcmQoaXRlbSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy92ZXJpZnktZGV0YWlsJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmNvbmZpcm1TZWFyY2ggPSBmYWxzZTsKCiAgICAgICAgaWYgKF90aGlzLnZhbHVlLmxlbmd0aCA9PSA0KSB7CiAgICAgICAgICBfdGhpcy5zaG93ID0gZmFsc2U7IC8vIHRoaXMuJHJlZnMuaW5wdXRGaWVsZC5ibHVyKCk7CgogICAgICAgICAgZ2V0V3JpdGVPZmZCeVZpc2l0b3JDb2RlKHsKICAgICAgICAgICAgdmlzaXRvckNvZGU6IF90aGlzLnZhbHVlCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgX3RoaXMuY29uZmlybVNlYXJjaCA9IHRydWU7CiAgICAgICAgICAgIF90aGlzLmxpc3QgPSByZXMuZGF0YTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25EZWxldGU6IGZ1bmN0aW9uIG9uRGVsZXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuY29uZmlybVNlYXJjaCA9IGZhbHNlOwogICAgICAgIF90aGlzMi5saXN0ID0gW107CiAgICAgIH0pOwogICAgfSwKICAgIG9uQmx1cjogZnVuY3Rpb24gb25CbHVyKCkgewogICAgICB0aGlzLnNob3cgPSBmYWxzZTsKICAgIH0sCiAgICBvblNlYXJjaENsb3NlOiBmdW5jdGlvbiBvblNlYXJjaENsb3NlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMubGlzdCA9IFtdOwogICAgICBnZXRXcml0ZU9mZkJ5VmlzaXRvckNvZGUoewogICAgICAgIHZpc2l0b3JDb2RlOiB0aGlzLnZhbHVlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMy5saXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgfQp9Ow=="},{"version":3,"sources":["VerifySearchList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"verify-search-wrapper\">\n    <div class=\"hint\">输入访客码查找访客立即核销</div>\n    <div>\n      <ul class=\"input-wrapper\" @click=\"showKeyboard\">\n        <li\n          :class=\"index == value.length ? 'active' : ''\"\n          v-for=\"(item, index) in arr\"\n          :key=\"index\"\n        >\n          {{ value[index] }}\n        </li>\n        <!--  <van-field\n          v-model=\"value\"\n          type=\"digit\"\n          class=\"digit-input\"\n          autofocus\n          @input=\"search\"\n          ref=\"inputField\"\n        /> -->\n      </ul>\n      <van-number-keyboard\n        v-model=\"value\"\n        :show=\"show\"\n        :maxlength=\"4\"\n        @blur=\"onBlur\"\n        @input=\"search\"\n        @delete=\"onDelete\"\n        safe-area-inset-bottom\n      />\n    </div>\n    <div v-if=\"confirmSearch && list.length == 0\" class=\"error-notice\">\n      访客码有误，请确认后再输入\n    </div>\n    <div class=\"list\">\n      <ul>\n        <li v-for=\"item in list\" :key=\"item.id\">\n          <verify-search-card\n            :item=\"formatItem(item)\"\n            @clickCard=\"clickCard(item)\"\n            @onSearchClose=\"onSearchClose\"\n          ></verify-search-card>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport '@vant/touch-emulator';\nimport { getWriteOffByVisitorCode } from '@/pages/visitor-h5/api/verify';\nimport verifySearchCard from './components/VerifyCard.vue';\nexport default {\n  components: { verifySearchCard },\n  data() {\n    return {\n      arr: new Array(4),\n      confirmSearch: false,\n      show: false,\n      value: '',\n      list: []\n    };\n  },\n  methods: {\n    // 格式化查询数据 对应展示签到签离\n    formatItem(item) {\n      if (item.visitorList[0].visitorCameType == 1) {\n        return {\n          dorr: item.door,\n          guestTimeBegin: item.guestTimeBegin,\n          id: item.id,\n          leaveVisitorList: item.visitorList\n        };\n      } else if (item.visitorList[0].visitorCameType == 3) {\n        return {\n          dorr: item.door,\n          guestTimeBegin: item.guestTimeBegin,\n          id: item.id,\n          offVisitorList: item.visitorList\n        };\n      } else {\n        return item;\n      }\n    },\n    showKeyboard() {\n      // this.$refs.inputField.focus();\n      this.show = true;\n    },\n    clickCard(item) {\n      this.$router.push({\n        path: '/verify-detail',\n        query: {\n          id: item.id\n        }\n      });\n    },\n    search() {\n      this.$nextTick(() => {\n        this.confirmSearch = false;\n        if (this.value.length == 4) {\n          this.show = false;\n          // this.$refs.inputField.blur();\n          getWriteOffByVisitorCode({ visitorCode: this.value }).then(res => {\n            this.confirmSearch = true;\n            this.list = res.data;\n          });\n        }\n      });\n    },\n    onDelete() {\n      this.$nextTick(() => {\n        this.confirmSearch = false;\n        this.list = [];\n      });\n    },\n    onBlur() {\n      this.show = false;\n    },\n    onSearchClose() {\n      this.list = [];\n      getWriteOffByVisitorCode({ visitorCode: this.value }).then(res => {\n        this.list = res.data;\n      });\n    }\n  },\n  created() {\n    this.show = true;\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.verify-search-wrapper {\n  padding: 15px;\n  .hint {\n    font-size: 12px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.45);\n    line-height: 20px;\n    margin-bottom: 7px;\n    margin-left: 20px;\n  }\n  .error-notice {\n    font-size: 12px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: #ff5756;\n    line-height: 20px;\n    margin-bottom: 7px;\n    margin-left: 20px;\n  }\n  .list {\n    margin-top: 23px;\n  }\n  .input-wrapper {\n    margin: 0 auto;\n    width: 311px;\n    height: 120px;\n    padding: 30px 20px;\n    box-sizing: border-box;\n    background: rgba(51, 136, 255, 0.1);\n    border-radius: 5px;\n    display: flex;\n    justify-content: space-between;\n    position: relative;\n    font-size: 36px;\n    li {\n      width: 60px;\n      height: 60px;\n      line-height: 60px;\n      background: #ffffff;\n      border-radius: 5px;\n      border: 1px solid #979797;\n      text-align: center;\n      &.active {\n        border-color: #3388ff;\n      }\n    }\n    .digit-input {\n      position: absolute;\n      background: transparent;\n      opacity: 0;\n      width: 100%;\n      height: 100%;\n      top: 30px;\n      left: 20px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/pages/visitor-h5/views/verify-visitor"}]}