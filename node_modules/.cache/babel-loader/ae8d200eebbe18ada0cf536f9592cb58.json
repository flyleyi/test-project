{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BTable/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BTable/index.vue","mtime":1646020538151},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AveWp5LXByb2plY3RzL211bHRpLXByb2plY3QvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX0xvYWRpbmcyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2xvYWRpbmcuY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfTG9hZGluZyBmcm9tICJlbGVtZW50LXVpL2xpYi9sb2FkaW5nIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX0J1dHRvbjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYnV0dG9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9idXR0b24iOwppbXBvcnQgX0Zvcm1JdGVtMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9mb3JtLWl0ZW0uY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfRm9ybUl0ZW0gZnJvbSAiZWxlbWVudC11aS9saWIvZm9ybS1pdGVtIjsKaW1wb3J0IF9QYWdpbmF0aW9uMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9wYWdpbmF0aW9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX1BhZ2luYXRpb24gZnJvbSAiZWxlbWVudC11aS9saWIvcGFnaW5hdGlvbiI7Cgp2YXIgX2NvbXBvbmVudHM7CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIENGaWx0ZXJDaGVja1BhbmVsID0gZnVuY3Rpb24gQ0ZpbHRlckNoZWNrUGFuZWwoKSB7CiAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2NvbW1vbi9DRmlsdGVyQ2hlY2tQYW5lbC9pbmRleC5qcycpOwp9OwoKaW1wb3J0IGF4aW9zIGZyb20gJ0AvcGx1Z2lucy9heGlvcyc7CmltcG9ydCBDRHluYW1pY0Zvcm0gZnJvbSAnLi4vLi4vY29tbW9uL0NEeW5hbWljRm9ybSc7CmltcG9ydCBDVGFibGUgZnJvbSAnLi4vLi4vY29tbW9uL0NUYWJsZSc7CmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vY29uZmlnJzsKLyoqDQogKiDmoLzlvI/ljJbnqbrmlbDmja7mmL7npLoNCiAqLwoKdmFyIGZvcm1hdHRlckVtcHR5RGF0YSA9IGZ1bmN0aW9uIGZvcm1hdHRlckVtcHR5RGF0YShzdHIpIHsKICByZXR1cm4gWycnLCBudWxsLCB1bmRlZmluZWRdLmluZGV4T2Yoc3RyKSA+PSAwID8gJy0nIDogc3RyOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCVGFibGUnLAogIHByb3BzOiB7CiAgICAvL+aVsOaNruafpeivouaYr+WQpuWxleekumxvYWRpbmcKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvL+aVsOaNruafpeivomZ1bmPvvIzov5Tlm55wcm9taXNl5a+56LGhCiAgICBhamF4R2V0RGF0YTogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIC8v5L+d5a2Y562b6YCJ57uT5p6c77yI5pi+56S65YiXL+etm+mAiemhue+8iQogICAgYWpheEZpbHRlclNhdmU6IHsKICAgICAgdHlwZTogRnVuY3Rpb24KICAgIH0sCiAgICAvL+afpeivouetm+mAiee7k+aenO+8iOaYvuekuuWIly/nrZvpgInpobnvvIkKICAgIGFqYXhGaWx0ZXJRdWVyeTogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIC8v6KGo5aS05pWw57uECiAgICBoZWFkZXJzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvL+WIhumhtee7hOS7tuS4juihqOmXtOi3nQogICAgcGdNYXJnaW5Ub3A6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMAogICAgfSwKICAgIC8v5q+P6aG15bGV56S65pWw6YeP6YCJ5oupCiAgICBwYWdlU2l6ZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDUwMCwgMTAwMF07CiAgICAgIH0KICAgIH0sCiAgICAvL+m7mOiupOavj+mhteWxleekuuaVsOmHjwogICAgcGFnZUxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNTAKICAgIH0sCiAgICAvLyDooajljZXphY3nva4KICAgIGZvcm1JdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgLy8g5Yid5aeL5YyW6KGo5Y2V5pWw5o2uCiAgICBpbml0aWFsRm9ybURhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyDlt6XlhbfmoI8KICAgIHRvb2xiYXJzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvL+aYvuekuuWIt+aWsOaMiemSrgogICAgc2hvd1JlZnJlc2g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8v5pi+56S65YiXCiAgICBzaG93Q29sdW1uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy/mmL7npLrnrZvpgInpobnmjInpkq4KICAgIHNob3dRdWVyeUZpbHRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8v5L+d5a2YY29sdW1u5YiX5pi+56S65omA5L2/55So55qE55qEa2V5CiAgICBzYXZlQ29sdW1uS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvL+S/neWtmOetm+mAiemhueaYvuekuuaJgOS9v+eUqOeahOeahGtleQogICAgc2F2ZVF1ZXJ5S2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvL+mhueebruezu+e7nyjnlKjkuo7kv53lrZjliJfmlbDmja7ml7bnmoTlj4LmlbApCiAgICBzeXN0ZW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICAvL+S/neWtmOWIl+WvueW6lOeahOaIkOWKn+aPkOekuuaWh+ahiAogICAgc2F2ZVN1Y2Nlc3NNc2c6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAn5L+d5a2Y5oiQ5YqfJwogICAgfSwKICAgIC8v5L+d5a2Y5YiX5a+55bqU55qE5aSx6LSl5o+Q56S65paH5qGICiAgICBzYXZlRXJyb3JNc2c6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAn5pWw5o2u5L+d5a2Y5aSx6LSlJwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnq4vljbPliqDovb0NCiAgICAgKi8KICAgIGltbWVkaWF0ZUxvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogICAgLyoqDQogICAgICog6KGM5pWw5o2u6ZSu5YC8DQogICAgICovCiAgICAvLyByb3dLZXk6IHsKICAgIC8vICAgdHlwZTogW0Z1bmN0aW9uLCBTdHJpbmddCiAgICAvLyB9LAogICAgLy8gZXhwYW5kUm93S2V5czogewogICAgLy8gICB0eXBlOiBBcnJheQogICAgLy8gfQoKICB9LAogIGNvbXBvbmVudHM6IChfY29tcG9uZW50cyA9IHsKICAgIENUYWJsZTogQ1RhYmxlLAogICAgRWxQYWdpbmF0aW9uOiBfUGFnaW5hdGlvbiwKICAgIENEeW5hbWljRm9ybTogQ0R5bmFtaWNGb3JtCiAgfSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfRm9ybUl0ZW0ubmFtZSwgX0Zvcm1JdGVtKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQnV0dG9uLm5hbWUsIF9CdXR0b24pLCBfY29tcG9uZW50cyksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlclByb21pc2U6IG51bGwsCiAgICAgIGNvbXB1dGVkSGVhZGVyczogW10sCiAgICAgIGNvbXB1dGVkRm9ybUl0ZW1zOiBbXSwKICAgICAgYWpheENvdW50OiAwLAogICAgICBzZWxlY3RSb3dzOiBbXSwKICAgICAgbG9hZGluZ0luczogbnVsbCwKICAgICAgLy/liIbpobXlj4LmlbAKICAgICAgcGFnZVBhcmFtczogewogICAgICAgIHRvdGFsOiAwLAogICAgICAgIG9mZnNldDogMCwKICAgICAgICBsaW1pdDogdGhpcy5wYWdlTGltaXQsCiAgICAgICAgcGFnZTogMQogICAgICB9LAogICAgICAvL+aOkuW6j+WPguaVsAogICAgICBzb3J0UGFyYW1zOiB7CiAgICAgICAgc29ydDogdW5kZWZpbmVkLAogICAgICAgIG9yZGVyOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGZvcm1EYXRhOiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmluaXRpYWxGb3JtRGF0YSksCiAgICAgIC8vIOihqOWNleaVsOaNrgogICAgICBmb3JtQXR0cnM6IHsKICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgc2l6ZTogJ3NtYWxsJwogICAgICB9LAogICAgICAvLyDmmK/lkKbmmK/mlbDnu4QKICAgICAgaXNBcnJheTogZnVuY3Rpb24gaXNBcnJheShhcnIpIHsKICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpOwogICAgICB9LAogICAgICBzeXNDb25maWc6IHt9IC8v5qC55o2u6YWN572u5Y+C5pWw5Y+KcHJvcOWFpeWPgu+8jOWKqOaAgemFjee9rgoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgLy/mr4/pobXlsZXnpLrmlbDph4/lj5jljJYKICAgICdwYWdlUGFyYW1zLmxpbWl0JzogZnVuY3Rpb24gcGFnZVBhcmFtc0xpbWl0KCkgewogICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZVBhcmFtcy5wYWdlOwoKICAgICAgaWYgKHBhZ2UgPT0gMSkgewogICAgICAgIC8v5Zyo56ys5LiA6aG15L+u5pS55q+P6aG15pWw6YeP5pe277yM6Kem5Y+R6YeN5paw6K+35rGCCiAgICAgICAgdGhpcy5hamF4R2V0VGFibGVEYXRhQnlQYWdlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/pnZ7pppbpobXkv67mlLnvvIzlsIbpobXnoIHmlLnkuLrpppbpobXvvIzop6blj5HpobXnoIHmm7TmlrDnm5HlkKwKICAgICAgICB0aGlzLnBhZ2VQYXJhbXMucGFnZSA9IDE7CiAgICAgIH0KICAgIH0sCiAgICAvL+W9k+WJjemhteeggeWPmOWMlgogICAgJ3BhZ2VQYXJhbXMucGFnZSc6IGZ1bmN0aW9uIHBhZ2VQYXJhbXNQYWdlKCkgewogICAgICB2YXIgX3RoaXMkcGFnZVBhcmFtcyA9IHRoaXMucGFnZVBhcmFtcywKICAgICAgICAgIHBhZ2UgPSBfdGhpcyRwYWdlUGFyYW1zLnBhZ2UsCiAgICAgICAgICBsaW1pdCA9IF90aGlzJHBhZ2VQYXJhbXMubGltaXQ7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5vZmZzZXQgPSBsaW1pdCAqIChwYWdlIC0gMSk7CiAgICAgIHRoaXMuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgfSwKICAgIC8vIOaVsOaNruWPmOWMlgogICAgdGFibGVEYXRhOiBmdW5jdGlvbiB0YWJsZURhdGEoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3RhYmxlLWRhdGEtY2hhbmdlJywgdGhpcy50YWJsZURhdGEpOwogICAgfSwKICAgIGZvcm1JdGVtczogZnVuY3Rpb24gZm9ybUl0ZW1zKCkgewogICAgICAvL2Zvcm1JdGVtcyDlj5jljJblpITnkIYKICAgICAgdGhpcy5kZWFsUXVlcnlJdGVtcygpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v6K+35rGC5YWl5Y+CCiAgICBhamF4UGFnZVBhcmFtczogZnVuY3Rpb24gYWpheFBhZ2VQYXJhbXMoKSB7CiAgICAgIC8vIGxldCBwYXJhbSA9IHRoaXMucGFnZVBhcmFtczsKICAgICAgdmFyIF90aGlzJHBhZ2VQYXJhbXMyID0gdGhpcy5wYWdlUGFyYW1zLAogICAgICAgICAgb2Zmc2V0ID0gX3RoaXMkcGFnZVBhcmFtczIub2Zmc2V0LAogICAgICAgICAgbGltaXQgPSBfdGhpcyRwYWdlUGFyYW1zMi5saW1pdCwKICAgICAgICAgIHBhZ2UgPSBfdGhpcyRwYWdlUGFyYW1zMi5wYWdlOwogICAgICByZXR1cm4gewogICAgICAgIG9mZnNldDogb2Zmc2V0LAogICAgICAgIGxpbWl0OiBsaW1pdCwKICAgICAgICBwYWdlU2l6ZTogbGltaXQsCiAgICAgICAgcGFnZU51bTogcGFnZQogICAgICB9OwogICAgfSwKICAgIC8v5a2Y5YKo5YiX5pWw5o2u5omA55Soa2V5CiAgICBjb21wdXRlZFNhdmVDb2x1bW5LZXk6IGZ1bmN0aW9uIGNvbXB1dGVkU2F2ZUNvbHVtbktleSgpIHsKICAgICAgaWYgKHRoaXMuc2F2ZUNvbHVtbktleSkgcmV0dXJuIHRoaXMuc2F2ZUNvbHVtbktleTsKICAgICAgdmFyIGtleTsKCiAgICAgIHRyeSB7CiAgICAgICAga2V5ID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBrZXkgPSAnZGVmYXVsdCc7CiAgICAgIH0KCiAgICAgIHJldHVybiAndGFibGV8JyArIGtleTsKICAgIH0sCiAgICAvL+WtmOWCqOetm+mAiemhueaJgOeUqGtleQogICAgY29tcHV0ZWRTYXZlUXVlcnlLZXk6IGZ1bmN0aW9uIGNvbXB1dGVkU2F2ZVF1ZXJ5S2V5KCkgewogICAgICBpZiAodGhpcy5zYXZlUXVlcnlLZXkpIHJldHVybiB0aGlzLnNhdmVRdWVyeUtleTsKICAgICAgdmFyIGtleTsKCiAgICAgIHRyeSB7CiAgICAgICAga2V5ID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBrZXkgPSAnZGVmYXVsdCc7CiAgICAgIH0KCiAgICAgIHJldHVybiAncXVlcnl8JyArIGtleTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRDb25maWcoKTsgLy/pu5jorqTphY3nva7liJ3lp4vljJYKCiAgICB0aGlzLmhlYWRlclByb21pc2UgPSB0aGlzLmRlYWxIZWFkZXJzKCk7IC8v6KGo5aS05aSE55CGCgogICAgdGhpcy5kZWFsUXVlcnlJdGVtcygpOyAvL+ihqOWNleafpeivoumhueWkhOeQhgogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW1tZWRpYXRlTG9hZCAmJiB0aGlzLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5YiG6aG15o6l5Y+j6K+35rGC5pWw5o2u5aSE55CGCiAgICBhamF4R2V0VGFibGVEYXRhQnlQYWdlOiBmdW5jdGlvbiBhamF4R2V0VGFibGVEYXRhQnlQYWdlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgKHRoaXMuJHJlZnMuY0R5bmFtaWNGb3JtID8gdGhpcy4kcmVmcy5jRHluYW1pY0Zvcm0udmFsaWRhdGUoKSA6IFByb21pc2UucmVzb2x2ZSgpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdEFqYXhDb3VudCA9ICsrX3RoaXMuYWpheENvdW50OwogICAgICAgIHZhciBsYXN0TG9hZGluZ01hcCA9IF90aGlzLmxhc3RMb2FkaW5nTWFwOwogICAgICAgIGlmICghX3RoaXMuJHJlZnMudGFibGUpIHJldHVybjsgLy/mn6Xor6LkuK3pgJTlrp7kvovooqvplIDmr4HvvIznu4jnq68KICAgICAgICAvL+m7mOiupGxvYWTlrp7kvovkuI3lrZjlnKjvvIzliJvlu7ov5bey5a2Y5Zyo77yM5L2/55So5Y6f5pyJbG9hZOWvueixoQoKICAgICAgICBpZiAoIV90aGlzLmxvYWRpbmdJbnMpIHsKICAgICAgICAgIC8v5aGr5YWFbG9hZGluZ+Wxleekuum7mOiupOWAvO+8jOWFvOWuueWkhOeQhgogICAgICAgICAgdmFyIGxvYWRJbnMgPSB7CiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHt9CiAgICAgICAgICB9OyAvL+mcgOimgeWxleekumxvYWRpbmcKCiAgICAgICAgICBpZiAoX3RoaXMubG9hZGluZykgewogICAgICAgICAgICBsb2FkSW5zID0gX0xvYWRpbmcuc2VydmljZSh7CiAgICAgICAgICAgICAgdGFyZ2V0OiBfdGhpcy4kcmVmcy50YWJsZS4kZWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMubG9hZGluZ0lucyA9IGxvYWRJbnM7CiAgICAgICAgfQoKICAgICAgICB2YXIgYWpheFBhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5hamF4UGFnZVBhcmFtcyksIF90aGlzLmZvcm1EYXRhKSwgX3RoaXMuc29ydFBhcmFtcyk7IC8v6I635Y+WZnVuY+WFpeWPggoKCiAgICAgICAgdmFyIGRhdGFGdW4gPSBfdGhpcy5hamF4R2V0RGF0YTsgLy/lrozmiJDlm57osIMKCiAgICAgICAgdmFyIGNhbGxGdW4gPSBmdW5jdGlvbiBjYWxsRnVuKHJlcykgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJy0nLCB0QWpheENvdW50LCBhamF4Q291bnQsIHJlcywgdGhpcy5wYWdlUGFyYW1zKTsKICAgICAgICAgIGlmICh0QWpheENvdW50ICE9IF90aGlzLmFqYXhDb3VudCkgcmV0dXJuOyAvL+W9k+WJjeivt+axgumdnuacgOaWsOivt+axgu+8jOi3s+i/h+WkhOeQhgoKICAgICAgICAgIF90aGlzLmxvYWRpbmdJbnMuY2xvc2UoKTsgLy/lhbPpl61sb2FkaW5nCgoKICAgICAgICAgIF90aGlzLmxvYWRpbmdJbnMgPSBudWxsOyAvL+e9ruepumxvYWTnpLrkvosKCiAgICAgICAgICBpZiAoIXJlcykgcmV0dXJuOwogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YSB8fCB7fTsKICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IEFycmF5LmlzQXJyYXkoZGF0YS5yZWNvcmRzKSA/IGRhdGEucmVjb3JkcyA6IFtdOyAvL+ihqOaVsOaNrgoKICAgICAgICAgIF90aGlzLnBhZ2VQYXJhbXMudG90YWwgPSBkYXRhLnRvdGFsIHx8IDA7IC8v5pWw5o2u6ZW/5bqmCgogICAgICAgICAgaWYgKF90aGlzLnRhYmxlRGF0YS5sZW5ndGggPT09IDApIF90aGlzLnBhZ2VQYXJhbXMucGFnZSA9IDE7IC8v5peg5pWw5o2u5pe277yM6YeN5a6a5ZCR56ys5LiA6aG1CiAgICAgICAgfTsgLy9mdW5j5Yik6Z2e56m65bm25omn6KGMCgoKICAgICAgICB2YXIgZGF0YVByb21pc2UgPSBkYXRhRnVuICYmIGRhdGFGdW4oYWpheFBhcmFtcyk7IC8vcHJvbWlzZeaOpeaUtui/lOWbnuWAvAoKICAgICAgICBpZiAoZGF0YVByb21pc2UgJiYgdHlwZW9mIGRhdGFQcm9taXNlLnRoZW4gPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgUHJvbWlzZS5hbGwoW2RhdGFQcm9taXNlLCBfdGhpcy5oZWFkZXJQcm9taXNlXSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGNhbGxGdW4ocmVzWzBdKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgIGNhbGxGdW4oKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYWxsRnVuKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5pyN5Yqh56uv5L+d5a2Y55qE5YiXL+etm+mAiemhuemFjee9ruS/oeaBrw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIDE96KGo5aS05YiX5L+h5oGvICAyPeetm+mAiemhueS/oeaBrw0KICAgICAqLwogICAgYWpheEdldFNob3dGaWx0ZXJEYXRhOiBmdW5jdGlvbiBhamF4R2V0U2hvd0ZpbHRlckRhdGEoKSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB2YXIgX3RoaXMkc3lzQ29uZmlnID0gdGhpcy5zeXNDb25maWcsCiAgICAgICAgICBzeXN0ZW0gPSBfdGhpcyRzeXNDb25maWcuc3lzdGVtLAogICAgICAgICAgYWpheEZpbHRlclF1ZXJ5ID0gX3RoaXMkc3lzQ29uZmlnLmFqYXhGaWx0ZXJRdWVyeTsKICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U2F2ZUtleSh0eXBlKTsKICAgICAgaWYgKHR5cGVvZiBhamF4RmlsdGVyUXVlcnkgPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFqYXhGaWx0ZXJRdWVyeSh7CiAgICAgICAgc3lzdGVtOiBzeXN0ZW0sCiAgICAgICAga2V5OiBrZXkKICAgICAgfSk7CiAgICAgIHJldHVybiBbXTsKICAgIH0sCgogICAgLyoqDQogICAgICog5L+d5a2Y5pi+56S65YiXL+etm+mAiemhuQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIDE96KGo5aS05YiX5L+h5oGvICAyPeetm+mAiemhueS/oeaBrw0KICAgICAqLwogICAgYWpheFNhdmVGaWx0ZXJEYXRhOiBmdW5jdGlvbiBhamF4U2F2ZUZpbHRlckRhdGEocGFyYW1zKSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxOwogICAgICB2YXIgX3RoaXMkc3lzQ29uZmlnMiA9IHRoaXMuc3lzQ29uZmlnLAogICAgICAgICAgc3lzdGVtID0gX3RoaXMkc3lzQ29uZmlnMi5zeXN0ZW0sCiAgICAgICAgICBhamF4RmlsdGVyU2F2ZSA9IF90aGlzJHN5c0NvbmZpZzIuYWpheEZpbHRlclNhdmU7CiAgICAgIHZhciBrZXkgPSB0aGlzLmdldFNhdmVLZXkodHlwZSk7CiAgICAgIGlmICh0eXBlb2YgYWpheEZpbHRlclNhdmUgPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFqYXhGaWx0ZXJTYXZlKHsKICAgICAgICBzeXN0ZW06IHN5c3RlbSwKICAgICAgICBrZXk6IGtleSwKICAgICAgICBjb2x1bW5zOiBwYXJhbXMKICAgICAgfSk7CiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICAvL+ihqOWNleafpeivoumhuemihOWkhOeQhu+8jOm7mOiupOetm+mAieaYvuekuuaVsOaNruS7jui/nOeoi+aIluacrOWcsOiOt+WPluW5tuimhueblgogICAgZGVhbFF1ZXJ5SXRlbXM6IGZ1bmN0aW9uIGRlYWxRdWVyeUl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtSXRlbXMsIF90aGlzMiRzeXNDb25maWcsIGFqYXhGaWx0ZXJRdWVyeSwgYWpheEZpbHRlclNhdmUsIHJlbW90ZVF1ZXJ5cywgcmVzOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybUl0ZW1zID0gX3RoaXMyLmZvcm1JdGVtczsKICAgICAgICAgICAgICAgIF90aGlzMiRzeXNDb25maWcgPSBfdGhpczIuc3lzQ29uZmlnLCBhamF4RmlsdGVyUXVlcnkgPSBfdGhpczIkc3lzQ29uZmlnLmFqYXhGaWx0ZXJRdWVyeSwgYWpheEZpbHRlclNhdmUgPSBfdGhpczIkc3lzQ29uZmlnLmFqYXhGaWx0ZXJTYXZlOyAvL+mcgOimgeKAnOaYvuekuuWIl+KAneaMiemSruaXtu+8jOihqOWktOmcgOimgeiOt+WPluacrOWcsOaIlui/nOeoi+S/neWtmOaVsOaNrgoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLnNob3dRdWVyeUZpbHRlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKGFqYXhGaWx0ZXJRdWVyeSAmJiBhamF4RmlsdGVyU2F2ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hamF4R2V0U2hvd0ZpbHRlckRhdGEoMik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZW1vdGVRdWVyeXMgPSByZXM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVtb3RlLXF1ZXJ5cycsIHJlbW90ZVF1ZXJ5cyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICByZW1vdGVRdWVyeXMgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgcmVtb3RlUXVlcnlzID0gX3RoaXMyLmdldExvY2FsRmlsdGVyRGF0YSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2NhbC1xdWVyeXMnLCByZW1vdGVRdWVyeXMpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX3RoaXMyLmRlYWxDb2x1bW5zSGVhZGVyKGZvcm1JdGVtcywgcmVtb3RlUXVlcnlzKTsgLy/kvb/nlKjmnI3liqHnq6/mlbDmja7opobnm5bmnKzlnLDmlbDmja4KCgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICAvL+WvuWhlYWRlcuWBmum7mOiupOi1i+WAvOWkhOeQhgogICAgICAgICAgICAgICAgZm9ybUl0ZW1zID0gZm9ybUl0ZW1zLm1hcChmdW5jdGlvbiAoaGVhZEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgLy/liJ3lp4vpnIDopoHotYvlgLzlrZfmrrXvvIzlkKbliJnpobXpnaLml6Dms5XmoLnmja7lrZfmrrXlk43lupQKICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0ucmVxdWlyZWQgPSBoZWFkSXRlbS5yZXF1aXJlZCB8fCBmYWxzZTsKICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0uaGlkZGVuID0gaGVhZEl0ZW0uaGlkZGVuIHx8IGZhbHNlOyAvLyDkuIvmi4npgInmi6npu5jorqTlkK/nlKjmuIXpmaTmjInpkq7lip/og70KCiAgICAgICAgICAgICAgICAgIGlmIChoZWFkSXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgICAgICAgICAgIHZhciBjbGVhcmFibGUgPSBoZWFkSXRlbS5hdHRycyAmJiBoZWFkSXRlbS5hdHRycy5jbGVhcmFibGU7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJhYmxlID0gY2xlYXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2xlYXJhYmxlOwogICAgICAgICAgICAgICAgICAgIGlmICghaGVhZEl0ZW0uYXR0cnMpIGhlYWRJdGVtLmF0dHJzID0ge307CiAgICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0uYXR0cnMuY2xlYXJhYmxlID0gY2xlYXJhYmxlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gaGVhZEl0ZW07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMi5jb21wdXRlZEZvcm1JdGVtcyA9IGZvcm1JdGVtczsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNCwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vaGVhZGVy5LqM5qyh5bCB6KOF77yM5aSE55CG5YiG6aG16L+U5Zue5pWw5o2uCiAgICBkZWFsSGVhZGVyczogZnVuY3Rpb24gZGVhbEhlYWRlcnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBoZWFkZXJzLCBfdGhpczMkc3lzQ29uZmlnLCBhamF4RmlsdGVyUXVlcnksIGFqYXhGaWx0ZXJTYXZlLCByZW1vdGVIZWFkZXJzLCByZXM7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaGVhZGVycyA9IF90aGlzMy5oZWFkZXJzOwogICAgICAgICAgICAgICAgX3RoaXMzJHN5c0NvbmZpZyA9IF90aGlzMy5zeXNDb25maWcsIGFqYXhGaWx0ZXJRdWVyeSA9IF90aGlzMyRzeXNDb25maWcuYWpheEZpbHRlclF1ZXJ5LCBhamF4RmlsdGVyU2F2ZSA9IF90aGlzMyRzeXNDb25maWcuYWpheEZpbHRlclNhdmU7IC8v6ZyA6KaB4oCc5pi+56S65YiX4oCd5oyJ6ZKu5pe277yM6KGo5aS06ZyA6KaB6I635Y+W5pys5Zyw5oiW6L+c56iL5L+d5a2Y5pWw5o2uCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMuc2hvd0NvbHVtbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShhamF4RmlsdGVyUXVlcnkgJiYgYWpheEZpbHRlclNhdmUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYWpheEdldFNob3dGaWx0ZXJEYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVtb3RlSGVhZGVycyA9IHJlczsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdGUtaGVhZGVycycsIHJlbW90ZUhlYWRlcnMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIHJlbW90ZUhlYWRlcnMgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHJlbW90ZUhlYWRlcnMgPSBfdGhpczMuZ2V0TG9jYWxGaWx0ZXJEYXRhKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9jYWwtaGVhZGVycycsIHJlbW90ZUhlYWRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX3RoaXMzLmRlYWxDb2x1bW5zSGVhZGVyKGhlYWRlcnMsIHJlbW90ZUhlYWRlcnMpOyAvL+S9v+eUqOacjeWKoeerr+aVsOaNruimhuebluacrOWcsOaVsOaNrgoKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIC8v5a+5aGVhZGVy5YGa6buY6K6k6LWL5YC85aSE55CGCiAgICAgICAgICAgICAgICBfdGhpczMuY29tcHV0ZWRIZWFkZXJzID0gaGVhZGVycy5tYXAoZnVuY3Rpb24gKGhlYWRJdGVtKSB7CiAgICAgICAgICAgICAgICAgIC8v5Yid5aeL6ZyA6KaB6LWL5YC85a2X5q6177yM5ZCm5YiZ6aG16Z2i5peg5rOV5qC55o2u5a2X5q615ZON5bqUCiAgICAgICAgICAgICAgICAgIGhlYWRJdGVtLnJlcXVpcmVkID0gaGVhZEl0ZW0ucmVxdWlyZWQgfHwgZmFsc2U7CiAgICAgICAgICAgICAgICAgIGhlYWRJdGVtLmhpZGRlbiA9IGhlYWRJdGVtLmhpZGRlbiB8fCBmYWxzZTsKICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0ucmVzaXphYmxlID0gaGVhZEl0ZW0ucmVzaXphYmxlIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgICB2YXIgZnVuID0gaGVhZEl0ZW0uaW5kZXg7IC8v5bqP5Y+357G75Z6L77yM6KGl5YWF5YiG6aG15L+h5oGv6L+U5ZueCgogICAgICAgICAgICAgICAgICBpZiAoaGVhZEl0ZW0udHlwZSA9PSAnaW5kZXgnICYmIHR5cGVvZiBmdW4gPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgICAgIGhlYWRJdGVtLmluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuKGluZGV4LCBfdGhpczMucGFnZVBhcmFtcy5wYWdlLCBfdGhpczMucGFnZVBhcmFtcy5saW1pdCk7CiAgICAgICAgICAgICAgICAgICAgfTsgLy8gY29uc29sZS5sb2coaGVhZEl0ZW0uaW5kZXgpOwoKICAgICAgICAgICAgICAgICAgfSAvLyDlpITnkIbnqbrmlbDmja7mmL7npLrmqKrmnaAKCgogICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVyID0gaGVhZEl0ZW0uZm9ybWF0dGVyOwoKICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICBoZWFkSXRlbS5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gZm9ybWF0dGVyLmFwcGx5KG51bGwsIGFyZ3MpOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlckVtcHR5RGF0YShyZXMpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0uZm9ybWF0dGVyID0gZnVuY3Rpb24gKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlckVtcHR5RGF0YSh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRJdGVtOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIneWni+WMlumFjee9ru+8jOS7juWFqOWxgOWPlumFjee9rgogICAgaW5pdENvbmZpZzogZnVuY3Rpb24gaW5pdENvbmZpZygpIHsKICAgICAgdmFyIGNvbmZpZyA9IGdldENvbmZpZygpOwogICAgICB2YXIgX3RoaXMkJHByb3BzID0gdGhpcy4kcHJvcHMsCiAgICAgICAgICBzeXN0ZW0gPSBfdGhpcyQkcHJvcHMuc3lzdGVtLAogICAgICAgICAgYWpheEZpbHRlclNhdmUgPSBfdGhpcyQkcHJvcHMuYWpheEZpbHRlclNhdmUsCiAgICAgICAgICBhamF4RmlsdGVyUXVlcnkgPSBfdGhpcyQkcHJvcHMuYWpheEZpbHRlclF1ZXJ5OwogICAgICB0aGlzLnN5c0NvbmZpZy5zeXN0ZW0gPSBzeXN0ZW0gIT09IHVuZGVmaW5lZCA/IHN5c3RlbSA6IGNvbmZpZy5zeXN0ZW07CiAgICAgIHRoaXMuc3lzQ29uZmlnLmFqYXhGaWx0ZXJTYXZlID0gYWpheEZpbHRlclNhdmUgIT09IHVuZGVmaW5lZCA/IGFqYXhGaWx0ZXJTYXZlIDogY29uZmlnLmFqYXhGaWx0ZXJTYXZlOwogICAgICB0aGlzLnN5c0NvbmZpZy5hamF4RmlsdGVyUXVlcnkgPSBhamF4RmlsdGVyUXVlcnkgIT09IHVuZGVmaW5lZCA/IGFqYXhGaWx0ZXJRdWVyeSA6IGNvbmZpZy5hamF4RmlsdGVyUXVlcnk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPluS/neWtmOWIl+aIluetm+mAiemhueeahGtleQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIDE96KGo5aS05YiX5L+h5oGvICAyPeetm+mAiemhueS/oeaBrw0KICAgICAqLwogICAgZ2V0U2F2ZUtleTogZnVuY3Rpb24gZ2V0U2F2ZUtleSh0eXBlKSB7CiAgICAgIHJldHVybiB0eXBlID09IDEgPyB0aGlzLmNvbXB1dGVkU2F2ZUNvbHVtbktleSA6IHRoaXMuY29tcHV0ZWRTYXZlUXVlcnlLZXk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOS/neWtmOacrOWcsOWIly/nrZvpgInpobnmlbDmja4NCiAgICAgKiBAcGFyYW0ge0FycmF5fSBzYXZlRGF0YSDpnIDopoHkv53lrZjnmoTooajlpLTliJcv562b6YCJ6aG55pWw5o2uDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgMT3pnIDopoHkv53lrZjnmoTooajlpLTliJcvMj3nrZvpgInpobnmlbDmja4NCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0g6L+U5ZuecHJvbWlzZeWvueixoQ0KICAgICAqLwogICAgc2F2ZUxvY2FsRmlsdGVyRGF0YTogZnVuY3Rpb24gc2F2ZUxvY2FsRmlsdGVyRGF0YShzYXZlRGF0YSkgewogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTsKICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U2F2ZUtleSh0eXBlKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShzYXZlRGF0YSkpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBfTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm5hbWUgKyAnOicgKyBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgICAgfSk7CgogICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5pys5Zyw5YiX5pWw5o2uDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgMT3pnIDopoHkv53lrZjnmoTooajlpLTliJcvMj3nrZvpgInpobnmlbDmja4NCiAgICAgKi8KICAgIGdldExvY2FsRmlsdGVyRGF0YTogZnVuY3Rpb24gZ2V0TG9jYWxGaWx0ZXJEYXRhKCkgewogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U2F2ZUtleSh0eXBlKTsKICAgICAgdmFyIHJlc3VsdDsKCiAgICAgIHRyeSB7CiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKSB8fCBbXTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICByZXN1bHQgPSBbXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5p+l6K+i5Y+C5pWwDQogICAgICovCiAgICBnZXRRdWVyeVBhcmFtOiBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtKCkgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuYWpheFBhZ2VQYXJhbXMpLCB0aGlzLmZvcm1EYXRhKSwgdGhpcy5zb3J0UGFyYW1zKTsKICAgIH0sCgogICAgLyoqDQogICAgICog57uf5LiA5aSE55CG6KGo5aS05pWw5o2u77yM5pyN5Yqh56uv5pWw5o2u6KaG55uW5pys5Zyw5pWw5o2u77yI5pWw5o2u5Lul5pys5Zyw5Li65YeG77yM5pys5Zyw5LiN5a2Y5Zyo55qE5YiX5LiN5L2c5aSE55CG77yJDQogICAgICogQHBhcmFtIHtBcnJheX0gbG9jYWxMaXN0IOacrOWcsOWIneWni+eahOihqOWktOaVsOaNrg0KICAgICAqIEBwYXJhbSB7QXJyYXl9IHJlbW90ZUxpc3Qg5pyN5Yqh56uv6YWN572u55qE6KGo5aS05pWw5o2uDQogICAgICovCiAgICBkZWFsQ29sdW1uc0hlYWRlcjogZnVuY3Rpb24gZGVhbENvbHVtbnNIZWFkZXIobG9jYWxMaXN0LCByZW1vdGVMaXN0KSB7CiAgICAgIC8vIGNvbnNvbGUudGltZSgnZGVhbENvbHVtbnNIZWFkZXItdGltZScpOwogICAgICB2YXIgdGVtcFJlbW90ZUxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlbW90ZUxpc3QpKTsgLy/mi7fotJ3ov5znqIvmlbDmja4KCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsb2NhbExpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgbG9jYWxJdGVtID0gbG9jYWxMaXN0W2ldOwogICAgICAgIHZhciBsb2NhbFByb3AgPSBsb2NhbEl0ZW0ucHJvcDsgLy/mlbDmja7lhbPplK5rZXnkuI3lrZjlnKjvvIzmraTmlbDmja7pobnkuI3lgZrlpITnkIYKCiAgICAgICAgaWYgKCFsb2NhbFByb3ApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wUmVtb3RlTGlzdC5sZW5ndGg7IGorKykgewogICAgICAgICAgdmFyIHJlbW90ZUl0ZW0gPSB0ZW1wUmVtb3RlTGlzdFtqXTsKICAgICAgICAgIHZhciByZW1vdGVQcm9wID0gcmVtb3RlSXRlbS5wcm9wOyAvL+aVsOaNrmtleeS4gOiHtO+8jOimhuebluacrOWcsOaVsOaNru+8jOW5tuWcqOaLt+i0neaVsOaNruS4reenu+mZpOatpOmhue+8jOS4jeWBmumHjeWkjeW+queOrwoKICAgICAgICAgIGlmIChyZW1vdGVQcm9wID09IGxvY2FsUHJvcCkgewogICAgICAgICAgICBPYmplY3QuYXNzaWduKGxvY2FsSXRlbSwgcmVtb3RlSXRlbSwgewogICAgICAgICAgICAgIHJlcXVpcmVkOiBsb2NhbEl0ZW0ucmVxdWlyZWQsCiAgICAgICAgICAgICAgbGFiZWw6IGxvY2FsSXRlbS5sYWJlbCAvL+S8mOWFiOS9v+eUqOacrOWcsOWQjeensAoKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRlbXBSZW1vdGVMaXN0LnNwbGljZShqLCAxKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIGNvbnNvbGUudGltZUVuZCgnZGVhbENvbHVtbnNIZWFkZXItdGltZScpOwoKICAgIH0sCgogICAgLyoqDQogICAgICog6aG156CB5YiH5o2iDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGN1cnIg5b2T5YmN6aG15Y2h57Si5byVDQogICAgICovCiAgICAvLyBvblBnQ3VycmVudENoYW5nZShjdXJyKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKGN1cnIpOwogICAgLy8gICB0aGlzLnBhZ2VQYXJhbXMucGFnZSA9IGN1cnI7CiAgICAvLyB9LAogICAgLy/mr4/pobXlsZXnpLrmlbDph4/liIfmjaIKICAgIG9uUGdTaXplQ2hhbmdlOiBmdW5jdGlvbiBvblBnU2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5saW1pdCA9IHNpemU7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOihqOWNleafpeivog0KICAgICAqLwogICAgb25RdWVyeUZvcm06IGZ1bmN0aW9uIG9uUXVlcnlGb3JtKCkgewogICAgICB0aGlzLiRlbWl0KCdxdWVyeS1mb3JtJyk7CiAgICAgIHZhciBwYWdlID0gdGhpcy5wYWdlUGFyYW1zLnBhZ2U7CiAgICAgIHBhZ2UgPT09IDEgPyB0aGlzLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKSA6IHRoaXMucGFnZVBhcmFtcy5wYWdlID0gMTsKICAgIH0sCgogICAgLyoqDQogICAgICog6KGo5Y2V6YeN572uDQogICAgICovCiAgICBvblJlc2V0Rm9ybTogZnVuY3Rpb24gb25SZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybURhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmluaXRpYWxGb3JtRGF0YSk7CiAgICAgIHRoaXMuJHJlZnMuY0R5bmFtaWNGb3JtICYmIHRoaXMuJHJlZnMuY0R5bmFtaWNGb3JtLmluaXQoKTsKICAgICAgdGhpcy4kZW1pdCgncmVzZXQtZm9ybScpOwogICAgfSwKICAgIC8v6L+H5ruk562b6YCJ5p2h5Lu2CiAgICBvbkZpbHRlclF1ZXJ5Q29uZGl0aW9uOiBmdW5jdGlvbiBvbkZpbHRlclF1ZXJ5Q29uZGl0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXM0JHN5c0NvbmZpZywgYWpheEZpbHRlclNhdmUsIGFqYXhGaWx0ZXJRdWVyeSwgY2hlY2tGaWx0ZXJQbHVnaW47CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0JHN5c0NvbmZpZyA9IF90aGlzNC5zeXNDb25maWcsIGFqYXhGaWx0ZXJTYXZlID0gX3RoaXM0JHN5c0NvbmZpZy5hamF4RmlsdGVyU2F2ZSwgYWpheEZpbHRlclF1ZXJ5ID0gX3RoaXM0JHN5c0NvbmZpZy5hamF4RmlsdGVyUXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gQ0ZpbHRlckNoZWNrUGFuZWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY2hlY2tGaWx0ZXJQbHVnaW4gPSBfY29udGV4dDMuc2VudC5kZWZhdWx0OwogICAgICAgICAgICAgICAgLy/osIPnlKjmmL7npLrliJfmj5Lku7YKICAgICAgICAgICAgICAgIGNoZWNrRmlsdGVyUGx1Z2luLnNob3coewogICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpczQuZm9ybUl0ZW1zLAogICAgICAgICAgICAgICAgICAvL+a6kOaVsOaNriBjaGVja2JveOmbhuWQiAogICAgICAgICAgICAgICAgICAvL+eCueWHu+aPkOS6pOaXtuiwg+eUqOeahOaOpeWPowogICAgICAgICAgICAgICAgICBhamF4RnVuOiBhamF4RmlsdGVyU2F2ZSAmJiBhamF4RmlsdGVyUXVlcnkgPyBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5hamF4U2F2ZUZpbHRlckRhdGEocGFyYW1zLCAyKTsKICAgICAgICAgICAgICAgICAgfSAvL+acrOWcsOe8k+WtmAogICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNhdmVMb2NhbEZpbHRlckRhdGEocGFyYW1zLCAyKTsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgLy/mjqXlj6Pkv53lrZgKICAgICAgICAgICAgICAgICAgc3VjY2Vzc01zZzogX3RoaXM0LnNhdmVTdWNjZXNzTXNnLAogICAgICAgICAgICAgICAgICBlcnJvck1zZzogX3RoaXM0LnNhdmVFcnJvck1zZwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v55uR5ZCs6YCJ5oup5Y+Y5YyWCiAgICBvblNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gb25TZWxlY3Rpb25DaGFuZ2Uocm93cykgewogICAgICB0aGlzLnNlbGVjdFJvd3MgPSByb3dzOwogICAgfSwKICAgIC8v55uR5ZCs5o6S5bqP5Y+Y5YyWCiAgICBvblNvcnRDaGFuZ2U6IGZ1bmN0aW9uIG9uU29ydENoYW5nZShfcmVmKSB7CiAgICAgIHZhciBvcmRlciA9IF9yZWYub3JkZXIsCiAgICAgICAgICBwcm9wID0gX3JlZi5wcm9wOwogICAgICB0aGlzLnNvcnRQYXJhbXMgPSB7CiAgICAgICAgb3JkZXI6IG9yZGVyID09ICdhc2NlbmRpbmcnID8gJ2FzYycgOiAnZGVzYycsCiAgICAgICAgc29ydDogcHJvcAogICAgICB9OwogICAgICB0aGlzLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsKICAgIH0sCiAgICAvL+WIt+aWsHRhYmxlCiAgICBvblJlZnJlc2hUYWJsZTogZnVuY3Rpb24gb25SZWZyZXNoVGFibGUoKSB7CiAgICAgIHRoaXMuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgfSwKICAgIC8v5pi+56S65YiXCiAgICBvbkNoYW5nZUNvbHVtbjogZnVuY3Rpb24gb25DaGFuZ2VDb2x1bW4oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBfdGhpczUkc3lzQ29uZmlnLCBhamF4RmlsdGVyU2F2ZSwgYWpheEZpbHRlclF1ZXJ5LCBjaGVja0ZpbHRlclBsdWdpbjsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUkc3lzQ29uZmlnID0gX3RoaXM1LnN5c0NvbmZpZywgYWpheEZpbHRlclNhdmUgPSBfdGhpczUkc3lzQ29uZmlnLmFqYXhGaWx0ZXJTYXZlLCBhamF4RmlsdGVyUXVlcnkgPSBfdGhpczUkc3lzQ29uZmlnLmFqYXhGaWx0ZXJRdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBDRmlsdGVyQ2hlY2tQYW5lbCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjaGVja0ZpbHRlclBsdWdpbiA9IF9jb250ZXh0NC5zZW50LmRlZmF1bHQ7CiAgICAgICAgICAgICAgICAvL+iwg+eUqOaYvuekuuWIl+aPkuS7tgogICAgICAgICAgICAgICAgY2hlY2tGaWx0ZXJQbHVnaW4uc2hvdyh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6Ieq5a6a5LmJ5pi+56S65YiXJywKICAgICAgICAgICAgICAgICAgZGF0YTogX3RoaXM1LmhlYWRlcnMsCiAgICAgICAgICAgICAgICAgIC8v5rqQ5pWw5o2uIGNoZWNrYm946ZuG5ZCICiAgICAgICAgICAgICAgICAgIC8v54K55Ye75o+Q5Lqk5pe26LCD55So55qE5o6l5Y+jCiAgICAgICAgICAgICAgICAgIGFqYXhGdW46IGFqYXhGaWx0ZXJTYXZlICYmIGFqYXhGaWx0ZXJRdWVyeSA/IF90aGlzNS5hamF4U2F2ZUZpbHRlckRhdGEgLy/mnKzlnLDnvJPlrZgKICAgICAgICAgICAgICAgICAgOiBfdGhpczUuc2F2ZUxvY2FsRmlsdGVyRGF0YSwKICAgICAgICAgICAgICAgICAgLy/mjqXlj6Pkv53lrZgKICAgICAgICAgICAgICAgICAgc3VjY2Vzc01zZzogX3RoaXM1LnNhdmVTdWNjZXNzTXNnLAogICAgICAgICAgICAgICAgICBlcnJvck1zZzogX3RoaXM1LnNhdmVFcnJvck1zZwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmmK/lkKbmmL7npLrmjInpkq4NCiAgICAgKiBAcGFyYW0geyp9IGJ0biDkv67mlLnliJfooagNCiAgICAgKi8KICAgIGlzSGlkZGVuQnV0dG9uOiBmdW5jdGlvbiBpc0hpZGRlbkJ1dHRvbihidG4pIHsKICAgICAgdmFyIGhpZGRlbiA9IGJ0bi5oaWRkZW47CiAgICAgIGlmICh0eXBlb2YgaGlkZGVuID09PSAnZnVuY3Rpb24nKSByZXR1cm4gaGlkZGVuKGJ0bik7CiAgICAgIHJldHVybiBoaWRkZW47CiAgICB9CiAgfQp9Ow=="},null]}