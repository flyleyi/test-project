{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/components/business/utils/business-form.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/components/business/utils/business-form.js","mtime":1645176309836},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICIvVXNlcnMvZnV5dWV5aS9EZXNrdG9wL3ByYWN0aWNlL211dGlsd2FwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9kZWZpbmVQcm9wZXJ0eSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgXyBmcm9tICdsb2Rhc2gnOwovKiog5piv5ZCm6ZqQ6JeP5bGe5oCn5ZCNICovCgp2YXIgSElEREVOX0tFWSA9ICdoaWRkZW4nOwovKiog56aB55So5bGe5oCn5ZCNICovCgp2YXIgRElTQUJMRURfS0VZID0gJ2Rpc2FibGVkJzsKLyoqIOWPquivu+WxnuaAp+WQjSAqLwoKdmFyIFJFQURPTkxZX0tFWSA9ICdyZWFkb25seSc7Ci8qKiDlv4XloavlsZ7mgKflkI0gKi8KCnZhciBSRVFVSVJFRF9LRVkgPSAncmVxdWlyZWQnOwovKiog5pu/5o2i5pWw5o2u5rqQ5bGe5oCn5ZCNICovCgp2YXIgQUpBWF9LRVkgPSAnYWpheCc7Ci8qKgogKiDph43mlrDnlJ/miJDooajljZXpobnliJfooagKICogQHBhcmFtIHtBcnJheX0gZm9ybUl0ZW1zIOihqOWNlemFjee9rumhueWIl+ihqAogKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyDphY3nva7pobkKICogQHBhcmFtIHtkaXNhYmxlZDogYm9vbGVhbiwgcmVhZG9ubHk6IGJvb2xlYW59IGNvbmZpZyDmlbTkvZPphY3nva4KICovCgpleHBvcnQgZnVuY3Rpb24gcmVnZW5Gb3JtSXRlbXMoKSB7CiAgdmFyIGZvcm1JdGVtcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogW107CiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9OwogIHZhciBjb25maWcgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9OwogIC8vIC8vIOeUn+aIkOWtl+WFuOS+v+S6juafpeaJvgogIC8vIGxldCBtYXAgPSBmb3JtSXRlbXMucmVkdWNlKChtYXAsIGl0ZW0sIGluZGV4KSA9PiB7CiAgLy8gICBpZiAoaXRlbS5wcm9wKSBtYXBbaXRlbS5wcm9wXSA9IGluZGV4OwogIC8vICAgcmV0dXJuIG1hcDsKICAvLyB9LCB7fSk7CiAgLy8gLy8g5bGe5oCn6YeN5YaZCiAgLy8gT2JqZWN0LmtleXMobWFwKS5mb3JFYWNoKGtleSA9PiB7CiAgLy8gICBsZXQgaW5kZXggPSBtYXBba2V5XTsKICAvLyAgIGxldCBmb3JtSXRlbSA9IGZvcm1JdGVtc1tpbmRleF07CiAgLy8gICBsZXQgb3B0aW9uID0gb3B0aW9uc1trZXldOwogIC8vICAgZm9ybUl0ZW1zLnNwbGljZShpbmRleCwgMSwgcmVnZW5Gb3JtSXRlbShmb3JtSXRlbSwgb3B0aW9uLCBjb25maWcpKTsKICAvLyB9KTsKICByZXR1cm4gZm9ybUl0ZW1zLm1hcChmdW5jdGlvbiAoZm9ybUl0ZW0pIHsKICAgIC8vIOacieWtkOWFg+e0oOihqOWNlemhuQogICAgaWYgKEFycmF5LmlzQXJyYXkoZm9ybUl0ZW0uY2hpbGRyZW4pKSBmb3JtSXRlbS5jaGlsZHJlbiA9IHJlZ2VuRm9ybUl0ZW1zKGZvcm1JdGVtLmNoaWxkcmVuLCBvcHRpb25zLCBjb25maWcpOyAvLyDliKTmlq3mmK/lkKbmnIlwcm9wCgogICAgaWYgKCFmb3JtSXRlbS5wcm9wKSByZXR1cm4gX29iamVjdFNwcmVhZCh7fSwgZm9ybUl0ZW0pOyAvLyDph43mlrDnlJ/miJDooajljZXpobkKCiAgICB2YXIgb3B0aW9uID0gb3B0aW9uc1tmb3JtSXRlbS5wcm9wXTsKICAgIHJldHVybiByZWdlbkZvcm1JdGVtKGZvcm1JdGVtLCBvcHRpb24sIGNvbmZpZyk7CiAgfSk7Cn0KLyoqCiAqIOmHjeaWsOeUn+aIkOihqOWNlQogKiBAcGFyYW0ge09iamVjdH0gZm9ybUl0ZW0g6KGo5Y2V6aG5CiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb24g6YWN572uCiAqIEBwYXJhbSB7ZGlzYWJsZWQ6IGJvb2xlYW4sIHJlYWRvbmx5OiBib29sZWFufSBjb25maWcg5pW05L2T6YWN572uCiAqLwoKZXhwb3J0IGZ1bmN0aW9uIHJlZ2VuRm9ybUl0ZW0oKSB7CiAgdmFyIGZvcm1JdGVtID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTsKICB2YXIgb3B0aW9uID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKICB2YXIgY29uZmlnID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTsKCiAgdmFyIG5ld0Zvcm1JdGVtID0gX29iamVjdFNwcmVhZCh7fSwgZm9ybUl0ZW0pOyAvLyDlpITnkIbmmK/lkKbpmpDol48KCgogIGlmIChfLmhhcyhvcHRpb24sIEhJRERFTl9LRVkpKSBuZXdGb3JtSXRlbVtISURERU5fS0VZXSA9IG9wdGlvbltISURERU5fS0VZXTsgLy8g5aSE55CGYXR0cnPkuI3lrZjlnKgKCiAgaWYgKCFfLmhhcyhuZXdGb3JtSXRlbSwgJ2F0dHJzJykpIG5ld0Zvcm1JdGVtLmF0dHJzID0ge307ZWxzZSBuZXdGb3JtSXRlbS5hdHRycyA9IF9vYmplY3RTcHJlYWQoe30sIG5ld0Zvcm1JdGVtLmF0dHJzKTsgLy8g5aSE55CG5YWo5bGA5Y+q6K+7CgogIGlmIChfLmhhcyhjb25maWcsIFJFQURPTkxZX0tFWSkgJiYgXy5pc0Jvb2xlYW4oY29uZmlnW1JFQURPTkxZX0tFWV0pKSB7CiAgICBuZXdGb3JtSXRlbS5hdHRyc1tSRUFET05MWV9LRVldID0gY29uZmlnW1JFQURPTkxZX0tFWV07CiAgfSAvLyDlpITnkIblhajlsYDnpoHnlKgKCgogIGlmIChfLmhhcyhjb25maWcsIERJU0FCTEVEX0tFWSkgJiYgXy5pc0Jvb2xlYW4oY29uZmlnW0RJU0FCTEVEX0tFWV0pKSB7CiAgICBuZXdGb3JtSXRlbS5hdHRyc1tESVNBQkxFRF9LRVldID0gY29uZmlnW0RJU0FCTEVEX0tFWV07CiAgfSAvLyDlpITnkIblj6ror7sKCgogIGlmIChfLmhhcyhvcHRpb24sIFJFQURPTkxZX0tFWSkpIG5ld0Zvcm1JdGVtLmF0dHJzW1JFQURPTkxZX0tFWV0gPSBvcHRpb25bUkVBRE9OTFlfS0VZXTsgLy8g5aSE55CG56aB55SoCgogIGlmIChfLmhhcyhvcHRpb24sIERJU0FCTEVEX0tFWSkpIG5ld0Zvcm1JdGVtLmF0dHJzW0RJU0FCTEVEX0tFWV0gPSBvcHRpb25bRElTQUJMRURfS0VZXTsgLy8g5aSE55CG5b+F5aGrCgogIGlmIChfLmhhcyhvcHRpb24sIFJFUVVJUkVEX0tFWSkpIHsKICAgIHZhciBpbmRleDsKICAgIHZhciBydWxlcyA9IG5ld0Zvcm1JdGVtLnJ1bGVzOyAvLyDmn6Xmib7lv4XloavmoKHpqozphY3nva4KCiAgICBpZiAoQXJyYXkuaXNBcnJheShydWxlcykpIHsKICAgICAgaW5kZXggPSBydWxlcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gXy5oYXMoaXRlbSwgUkVRVUlSRURfS0VZKTsKICAgICAgfSk7CiAgICAgIHJ1bGVzID0gcnVsZXMuc2xpY2UoMCk7IC8vIOWFi+mahuaVsOe7hOS4jeW9seWTjeWOn+acieaVsOe7hAogICAgfSBlbHNlIHsKICAgICAgcnVsZXMgPSBbXTsKICAgIH0gLy8g5piv5ZCm5pyJ5b+F5aGr5qCh6aqM6YWN572uCgoKICAgIGlmIChpbmRleCA+IC0xKSB7CiAgICAgIHJ1bGVzLnNwbGljZShpbmRleCwgMSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBydWxlc1tpbmRleF0pLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBSRVFVSVJFRF9LRVksIG9wdGlvbltSRVFVSVJFRF9LRVldKSkpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIF9ydWxlcyRwdXNoOwoKICAgICAgcnVsZXMucHVzaCgoX3J1bGVzJHB1c2ggPSB7fSwgX2RlZmluZVByb3BlcnR5KF9ydWxlcyRwdXNoLCBSRVFVSVJFRF9LRVksIG9wdGlvbltSRVFVSVJFRF9LRVldKSwgX2RlZmluZVByb3BlcnR5KF9ydWxlcyRwdXNoLCAibWVzc2FnZSIsIChuZXdGb3JtSXRlbS5sYWJlbCB8fCAnJykgKyAn5pyq5aGr5YaZJyksIF9ydWxlcyRwdXNoKSk7CiAgICB9CgogICAgbmV3Rm9ybUl0ZW0ucnVsZXMgPSBydWxlczsKICB9IC8vIOWkhOeQhuaVsOaNrua6kAoKCiAgaWYgKF8uaGFzKG9wdGlvbiwgQUpBWF9LRVkpKSB7CiAgICB2YXIgYWpheCA9IG9wdGlvbltBSkFYX0tFWV07CgogICAgaWYgKHR5cGVvZiBhamF4ID09PSAnZnVuY3Rpb24nKSB7CiAgICAgIC8vIOi/nOeoi+aWueazlQogICAgICBuZXdGb3JtSXRlbS5hamF4ID0gYWpheDsKICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhamF4KSkgewogICAgICAvLyDmlbDnu4TmlbDmja4KICAgICAgbmV3Rm9ybUl0ZW0ub3B0aW9ucyA9IGFqYXg7CiAgICB9CiAgfQoKICByZXR1cm4gbmV3Rm9ybUl0ZW07Cn0="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/components/business/utils/business-form.js"],"names":["_","HIDDEN_KEY","DISABLED_KEY","READONLY_KEY","REQUIRED_KEY","AJAX_KEY","regenFormItems","formItems","options","config","map","formItem","Array","isArray","children","prop","option","regenFormItem","newFormItem","has","attrs","isBoolean","index","rules","findIndex","item","slice","splice","push","label","ajax"],"mappings":"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","sourcesContent":["import _ from 'lodash';\n/** 是否隐藏属性名 */\nconst HIDDEN_KEY = 'hidden';\n/** 禁用属性名 */\nconst DISABLED_KEY = 'disabled';\n/** 只读属性名 */\nconst READONLY_KEY = 'readonly';\n/** 必填属性名 */\nconst REQUIRED_KEY = 'required';\n/** 替换数据源属性名 */\nconst AJAX_KEY = 'ajax';\n\n/**\n * 重新生成表单项列表\n * @param {Array} formItems 表单配置项列表\n * @param {Object} options 配置项\n * @param {disabled: boolean, readonly: boolean} config 整体配置\n */\nexport function regenFormItems(formItems = [], options = {}, config = {}) {\n  // // 生成字典便于查找\n  // let map = formItems.reduce((map, item, index) => {\n  //   if (item.prop) map[item.prop] = index;\n  //   return map;\n  // }, {});\n\n  // // 属性重写\n  // Object.keys(map).forEach(key => {\n  //   let index = map[key];\n  //   let formItem = formItems[index];\n  //   let option = options[key];\n  //   formItems.splice(index, 1, regenFormItem(formItem, option, config));\n  // });\n  return formItems.map(formItem => {\n    // 有子元素表单项\n    if (Array.isArray(formItem.children))\n      formItem.children = regenFormItems(formItem.children, options, config);\n    // 判断是否有prop\n    if (!formItem.prop) return { ...formItem };\n    // 重新生成表单项\n    let option = options[formItem.prop];\n    return regenFormItem(formItem, option, config);\n  });\n}\n\n/**\n * 重新生成表单\n * @param {Object} formItem 表单项\n * @param {Object} option 配置\n * @param {disabled: boolean, readonly: boolean} config 整体配置\n */\nexport function regenFormItem(formItem = {}, option = {}, config = {}) {\n  let newFormItem = { ...formItem };\n  // 处理是否隐藏\n  if (_.has(option, HIDDEN_KEY)) newFormItem[HIDDEN_KEY] = option[HIDDEN_KEY];\n\n  // 处理attrs不存在\n  if (!_.has(newFormItem, 'attrs')) newFormItem.attrs = {};\n  else newFormItem.attrs = { ...newFormItem.attrs };\n\n  // 处理全局只读\n  if (_.has(config, READONLY_KEY) && _.isBoolean(config[READONLY_KEY])) {\n    newFormItem.attrs[READONLY_KEY] = config[READONLY_KEY];\n  }\n\n  // 处理全局禁用\n  if (_.has(config, DISABLED_KEY) && _.isBoolean(config[DISABLED_KEY])) {\n    newFormItem.attrs[DISABLED_KEY] = config[DISABLED_KEY];\n  }\n\n  // 处理只读\n  if (_.has(option, READONLY_KEY))\n    newFormItem.attrs[READONLY_KEY] = option[READONLY_KEY];\n\n  // 处理禁用\n  if (_.has(option, DISABLED_KEY))\n    newFormItem.attrs[DISABLED_KEY] = option[DISABLED_KEY];\n\n  // 处理必填\n  if (_.has(option, REQUIRED_KEY)) {\n    let index;\n    let rules = newFormItem.rules;\n    // 查找必填校验配置\n    if (Array.isArray(rules)) {\n      index = rules.findIndex(item => _.has(item, REQUIRED_KEY));\n      rules = rules.slice(0); // 克隆数组不影响原有数组\n    } else {\n      rules = [];\n    }\n\n    // 是否有必填校验配置\n    if (index > -1) {\n      rules.splice(index, 1, {\n        ...rules[index],\n        [REQUIRED_KEY]: option[REQUIRED_KEY]\n      });\n    } else {\n      rules.push({\n        [REQUIRED_KEY]: option[REQUIRED_KEY],\n        message: (newFormItem.label || '') + '未填写'\n      });\n    }\n    newFormItem.rules = rules;\n  }\n\n  // 处理数据源\n  if (_.has(option, AJAX_KEY)) {\n    let ajax = option[AJAX_KEY];\n    if (typeof ajax === 'function') {\n      // 远程方法\n      newFormItem.ajax = ajax;\n    } else if (Array.isArray(ajax)) {\n      // 数组数据\n      newFormItem.options = ajax;\n    }\n  }\n\n  return newFormItem;\n}\n"]}]}