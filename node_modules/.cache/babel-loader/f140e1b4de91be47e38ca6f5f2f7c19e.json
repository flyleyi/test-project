{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CDynamicForm/components/DfSelect.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CDynamicForm/components/DfSelect.vue","mtime":1627979214237},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX09wdGlvbjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvb3B0aW9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX09wdGlvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9vcHRpb24iOwppbXBvcnQgX1NlbGVjdDIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvc2VsZWN0LmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX1NlbGVjdCBmcm9tICJlbGVtZW50LXVpL2xpYi9zZWxlY3QiOwoKdmFyIF9jb21wb25lbnRzOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2VuZXJhdGVVVUlEIH0gZnJvbSAnQC9wbHVnaW5zL2NvbW1vbi9nZW5lcmF0ZSc7CmltcG9ydCBkZk9wdGlvbnNNaXhpbiBmcm9tICcuLi9taXhpbnMvZGYtb3B0aW9ucy1taXhpbic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGZTZWxlY3QnLAogIG1peGluczogW2RmT3B0aW9uc01peGluXSwKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfU2VsZWN0Lm5hbWUsIF9TZWxlY3QpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9PcHRpb24ubmFtZSwgX09wdGlvbiksIF9jb21wb25lbnRzKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXVpZDogZ2VuZXJhdGVVVUlEKCkKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy/lsZXnpLrkuIvmi4nmoYbmnKzmlod0aXAKICAgIGxhYmVsVmFsOiBmdW5jdGlvbiBsYWJlbFZhbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBfdGhpcyRDRHluYW1pY0Zvcm0gPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLkNEeW5hbWljRm9ybSksCiAgICAgICAgICBtb2RlbCA9IF90aGlzJENEeW5hbWljRm9ybS5tb2RlbDsKCiAgICAgIHZhciBfdGhpcyRjb25maWcgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmNvbmZpZyksCiAgICAgICAgICBsYWJlbFByb3AgPSBfdGhpcyRjb25maWcubGFiZWxQcm9wOyAvL+aXoOWAvOS4jeWxleekugoKCiAgICAgIGlmICh0aGlzLnZhbCAhPT0gZmFsc2UgJiYgIXRoaXMudmFsKSByZXR1cm4gJyc7CgogICAgICBpZiAobGFiZWxQcm9wKSB7CiAgICAgICAgcmV0dXJuIG1vZGVsW2xhYmVsUHJvcF07CiAgICAgIH0KCiAgICAgIHZhciByZXMgPSB0aGlzLm9wdGlvbkxpc3QuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtW190aGlzLnZhbHVlS2V5XSA9PT0gX3RoaXMudmFsOwogICAgICB9KTsKCiAgICAgIGlmIChyZXMpIHsKICAgICAgICByZXR1cm4gcmVzW3RoaXMubGFiZWxLZXldOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIHBvcHBlckNsYXNzOiBmdW5jdGlvbiBwb3BwZXJDbGFzcygpIHsKICAgICAgcmV0dXJuICdkcm9wZG93bi0nICsgdGhpcy5jb25maWcucHJvcCArICctJyArIHRoaXMudXVpZDsKICAgIH0sCiAgICBzY3JvbGxFbDogZnVuY3Rpb24gc2Nyb2xsRWwoKSB7CiAgICAgIHJldHVybiAnLicgKyB0aGlzLnBvcHBlckNsYXNzICsgJyAuZWwtc2VsZWN0LWRyb3Bkb3duX193cmFwJzsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAvL+WAvOa4heepuuaXtizlsIbjgJBsYWJlbFByb3DjgJHlr7nlupTnmoTlgLzmuIXnqboKICAgIHZhbDogZnVuY3Rpb24gdmFsKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSkgcmV0dXJuOwogICAgICB0aGlzLmNvbmZpZy5sYWJlbFByb3AgJiYgdGhpcy4kZW1pdCgnY2hhbmdlLWxhYmVsJywgdGhpcy5jb25maWcubGFiZWxQcm9wLCAnJyk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbWV0aG9kczogewogICAgLy/kuIvmi4nmoYbljLrln5/lpJbmu5rliqjvvIzlsIbkuIvmi4nmoYbpmpDol48KICAgIG9uQ2xvc2VEcm9wRG93bjogZnVuY3Rpb24gb25DbG9zZURyb3BEb3duKGUsIGVsKSB7CiAgICAgIHZhciBzZWxlY3RSZWYgPSB0aGlzLiRyZWZzWydzZWxlY3QnXTsgLy/lvZPliY3nu5HlrprnmoTmu5rliqjljLrln5/mmK/mraTkuIvmi4nmoYbvvIzlubbkuJTkuIvmi4nmoYbmmL7npLrkuobvvIzliJnlsIblhbbpmpDol48KCiAgICAgIGlmICh0aGlzLnNjcm9sbEVsID09PSBlbCAmJiBzZWxlY3RSZWYgJiYgc2VsZWN0UmVmLnZpc2libGUpIHNlbGVjdFJlZi5ibHVyKCk7CiAgICB9LAoKICAgIC8qKgogICAgICog5YC85pS55Y+YCiAgICAgKiAtIOWmguaenOacieiuvue9rmxhYmVsUHJvcOiHquWKqOWhq+WFhQogICAgICogQHBhcmFtIHsqfSB2YWx1ZSDlgLwKICAgICAqLwogICAgb25DaGFuZ2U6IGZ1bmN0aW9uIG9uQ2hhbmdlKHZhbHVlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMuY29uZmlnLmxhYmVsUHJvcCkgewogICAgICAgIHZhciByZXM7IC8v5aSa6YCJ5LiL5ouJCgogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkgewogICAgICAgICAgcmVzID0gW107CiAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwpIHsKICAgICAgICAgICAgdmFyIHYgPSBfdGhpczIub3B0aW9uTGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1bX3RoaXMyLnZhbHVlS2V5XSA9PT0gdmFsOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHYgJiYgcmVzLnB1c2godltfdGhpczIubGFiZWxLZXldKTsKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5DRHluYW1pY0Zvcm0ubW9kZWxbdGhpcy5jb25maWcubGFiZWxQcm9wXSA9IHJlczsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzID0gdGhpcy5vcHRpb25MaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW1bX3RoaXMyLnZhbHVlS2V5XSA9PT0gdmFsdWU7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIHRoaXMuQ0R5bmFtaWNGb3JtLm1vZGVsW3RoaXMuY29uZmlnLmxhYmVsUHJvcF0gPSByZXNbdGhpcy5sYWJlbEtleV07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLkNEeW5hbWljRm9ybS5tb2RlbFt0aGlzLmNvbmZpZy5sYWJlbFByb3BdID0gJyc7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["DfSelect.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-select\n    ref=\"select\"\n    :popper-class=\"popperClass\"\n    v-model=\"val\"\n    v-bind=\"attrs\"\n    v-on=\"events\"\n    v-scrolloutclose=\"{\n      el: scrollEl, //scroll滚动区域\n      handler: onCloseDropDown //触发事件\n    }\"\n    :title=\"labelVal\"\n    :loading=\"!!lastRequestSymbol\"\n    @change=\"onChange\"\n  >\n    <el-option\n      v-for=\"(item, index) in optionList\"\n      v-bind=\"item\"\n      :key=\"index\"\n      :value=\"item[valueKey]\"\n      :label=\"item[labelKey]\"\n    >\n    </el-option>\n  </el-select>\n</template>\n\n<script>\nimport { generateUUID } from '@/plugins/common/generate';\nimport { Select, Option } from 'element-ui';\nimport dfOptionsMixin from '../mixins/df-options-mixin';\n\nexport default {\n  name: 'DfSelect',\n  mixins: [dfOptionsMixin],\n  components: {\n    [Select.name]: Select,\n    [Option.name]: Option\n  },\n  data() {\n    return {\n      uuid: generateUUID()\n    };\n  },\n  computed: {\n    //展示下拉框本文tip\n    labelVal() {\n      let { model } = { ...this.CDynamicForm };\n      let { labelProp } = { ...this.config };\n      //无值不展示\n      if (this.val !== false && !this.val) return '';\n      if (labelProp) {\n        return model[labelProp];\n      }\n      let res = this.optionList.find(item => item[this.valueKey] === this.val);\n      if (res) {\n        return res[this.labelKey];\n      } else {\n        return '';\n      }\n    },\n    popperClass() {\n      return 'dropdown-' + this.config.prop + '-' + this.uuid;\n    },\n    scrollEl() {\n      return '.' + this.popperClass + ' .el-select-dropdown__wrap';\n    }\n  },\n  watch: {\n    //值清空时,将【labelProp】对应的值清空\n    val(value) {\n      if (value) return;\n      this.config.labelProp &&\n        this.$emit('change-label', this.config.labelProp, '');\n    }\n  },\n  created() {},\n  methods: {\n    //下拉框区域外滚动，将下拉框隐藏\n    onCloseDropDown(e, el) {\n      let selectRef = this.$refs['select'];\n      //当前绑定的滚动区域是此下拉框，并且下拉框显示了，则将其隐藏\n      if (this.scrollEl === el && selectRef && selectRef.visible)\n        selectRef.blur();\n    },\n    /**\n     * 值改变\n     * - 如果有设置labelProp自动填充\n     * @param {*} value 值\n     */\n    onChange(value) {\n      if (this.config.labelProp) {\n        let res;\n        //多选下拉\n        if (Array.isArray(value)) {\n          res = [];\n          value.forEach(val => {\n            let v = this.optionList.find(item => item[this.valueKey] === val);\n            v && res.push(v[this.labelKey]);\n          });\n          this.CDynamicForm.model[this.config.labelProp] = res;\n        } else {\n          res = this.optionList.find(item => item[this.valueKey] === value);\n          if (res) {\n            this.CDynamicForm.model[this.config.labelProp] = res[this.labelKey];\n          } else {\n            this.CDynamicForm.model[this.config.labelProp] = '';\n          }\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped></style>\n"],"sourceRoot":"src/components/common/CDynamicForm/components"}]}