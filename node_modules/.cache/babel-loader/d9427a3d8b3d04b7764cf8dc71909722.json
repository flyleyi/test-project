{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/survey-parent/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/survey-parent/index.vue","mtime":1645178321142},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInZhbnQvZXMvbGlzdC9zdHlsZSI7CmltcG9ydCBfTGlzdCBmcm9tICJ2YW50L2VzL2xpc3QiOwoKdmFyIF9jb21wb25lbnRzOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEcmFmdExpc3QgZnJvbSAnLi9jb21wb25lbnRzL0RyYWZ0TGlzdC52dWUnOwppbXBvcnQgeyBtYXBTdGF0ZSB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyBnZXRTdXJ2ZXlMaXN0IH0gZnJvbSAnLi4vLi4vYXBpL3N1cnZleSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3VydmV5UGFyZW50JywKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfTGlzdC5uYW1lLCBfTGlzdCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgIkRyYWZ0TGlzdCIsIERyYWZ0TGlzdCksIF9jb21wb25lbnRzKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiTGlzdDogWyflvoXmj5DkuqQnLCAn5bey5o+Q5LqkJ10sCiAgICAgIHRhYklkeDogMCwKICAgICAgLy8g5b2T5YmNdGFi5LiL5qCHCiAgICAgIHBhZ2U6IDAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBmaW5pc2hlZDogZmFsc2UsCiAgICAgIHdhaXRpbmdMaXN0OiBbXSwKICAgICAgLy8g5b6F5o+Q5Lqk5YiX6KGoCiAgICAgIHN1Ykxpc3Q6IFtdIC8vIOW3suaPkOS6pOWIl+ihqAoKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoJ3VzZXInLCBbJ3dlY2hhdFVzZXJJZCcsICdjbGFzc0lkJywgJ3JvbGUnLCAnc3R1ZGVudElkJ10pKSwKICAvLyBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy8gICBpZiAoZnJvbS5uYW1lID09ICdTdXJ2ZXlTdWJtaXQnKSB7CiAgLy8gICAgIC8vIOi/meS4qm5hbWXmmK/kuIvkuIDnuqfpobXpnaLnmoTot6/nlLFuYW1lCiAgLy8gICAgIHRvLm1ldGEuaXNCYWNrID0gdHJ1ZTsgLy8g6K6+572u5Li6dHJ1ZeivtOaYjuS9oOaYr+i/lOWbnuWIsOi/meS4qumhtemdou+8jOiAjOS4jeaYr+mAmui/h+i3s+i9rOS7juWFtuS7lumhtemdoui/m+WFpeWIsOi/meS4qumhtemdogogIC8vICAgfQogIC8vICAgbmV4dCgpOwogIC8vIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZE1vcmUoKTsKICB9LAogIC8vIGFjdGl2YXRlZCgpIHsKICAvLyAgIGlmICghdGhpcy4kcm91dGUubWV0YS5pc0JhY2spIHsKICAvLyAgICAgdGhpcy50YWJJZHggPSAwOyAvLyDlvZPliY10YWLkuIvmoIcKICAvLyAgICAgdGhpcy5wYWdlID0gMDsKICAvLyAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgLy8gICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsKICAvLyAgICAgdGhpcy53YWl0aW5nTGlzdCA9IFtdOyAvLyDlvoXmj5DkuqTliJfooagKICAvLyAgICAgdGhpcy5zdWJMaXN0ID0gW107IC8vIOW3suaPkOS6pOWIl+ihqHRoaXMuCiAgLy8gICAgIHRoaXMubG9hZE1vcmUoKTsKICAvLyAgIH0KICAvLyAgIHRoaXMuJHJvdXRlLm1ldGEuaXNCYWNrID0gZmFsc2U7IC8v6K+35rGC5a6M5ZCO6L+b6KGM5Yid5aeL5YyWCiAgLy8gfSwKICBtZXRob2RzOiB7CiAgICBsb2FkTW9yZTogZnVuY3Rpb24gbG9hZE1vcmUoKSB7CiAgICAgIHRoaXMucGFnZSArPSAxOyAvL+mhteaVsCsxCgogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvLyDojrflj5bliJfooajmlbDmja4KICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGZyb206ICcnLAogICAgICAgIHdlY2hhdFVzZXJJZDogdGhpcy53ZWNoYXRVc2VySWQsCiAgICAgICAgY2xhc3NJZHM6IHRoaXMuY2xhc3NJZCwKICAgICAgICBzdHVkZW50SWQ6IHRoaXMuc3R1ZGVudElkLAogICAgICAgIHJvbGU6IHRoaXMucm9sZSwKICAgICAgICBjdXJyZW50UGFnZTogdGhpcy5wYWdlLAogICAgICAgIHBhZ2VTaXplOiAyMCwKICAgICAgICB0eXBlTGlzdDogdGhpcy50YWJJZHggPT0gJzAnID8gMSA6IDIKICAgICAgfTsKICAgICAgZ2V0U3VydmV5TGlzdChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzLnBhZ2VMb2FkaW5nID0gZmFsc2U7CgogICAgICAgIGlmIChwYXJhbXMudHlwZUxpc3QgPT0gMSkgewogICAgICAgICAgLy8g5bey5Y+R5biDCiAgICAgICAgICBfdGhpcy5oaWRkZW5OdW0gPSByZXMuZGF0YS5oaWRkZW5OdW07CiAgICAgICAgICBfdGhpcy53YWl0aW5nTGlzdCA9IF90aGlzLndhaXRpbmdMaXN0LmNvbmNhdChyZXMuZGF0YS5saXN0KTsgLy8g5Yqg6L2954q25oCB57uT5p2fCgogICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOyAvLyDmlbDmja7lhajpg6jliqDovb3lrozmiJAKCiAgICAgICAgICBpZiAoX3RoaXMud2FpdGluZ0xpc3QubGVuZ3RoID49IHJlcy5kYXRhLnRvdGFsIHx8IHJlcy5kYXRhLmxpc3QubGVuZ3RoID09IDApIHsKICAgICAgICAgICAgX3RoaXMuZmluaXNoZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAocGFyYW1zLnR5cGVMaXN0ID09IDIpIHsKICAgICAgICAgIC8vIOiNieeov+eusQogICAgICAgICAgX3RoaXMuc3ViTGlzdCA9IF90aGlzLnN1Ykxpc3QuY29uY2F0KHJlcy5kYXRhLmxpc3QpOyAvLyDliqDovb3nirbmgIHnu5PmnZ8KCiAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7IC8vIOaVsOaNruWFqOmDqOWKoOi9veWujOaIkAoKICAgICAgICAgIGlmIChfdGhpcy5zdWJMaXN0Lmxlbmd0aCA+PSByZXMuZGF0YS50b3RhbCB8fCByZXMuZGF0YS5saXN0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgIF90aGlzLmZpbmlzaGVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpcy4kdG9hc3QoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIHRhYuWIh+aNogogICAgY2hhbmdlVGFiOiBmdW5jdGlvbiBjaGFuZ2VUYWIoaWR4KSB7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsKICAgICAgdGhpcy50YWJJZHggPSBpZHg7IC8vIOaVsOaNruWIneWni+WMlgoKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5wYWdlID0gMDsKICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOwogICAgICB0aGlzLnN1Ykxpc3QgPSBbXTsKICAgICAgdGhpcy53YWl0aW5nTGlzdCA9IFtdOwogICAgICB0aGlzLmxvYWRNb3JlKCk7CiAgICB9LAogICAgLy8g5aGr5oql6Zeu5Y23CiAgICBnb1N1Ym1pdDogZnVuY3Rpb24gZ29TdWJtaXQoaXRlbSkgewogICAgICB2YXIgaWQgPSBpdGVtLmlkLAogICAgICAgICAgc3R1ZGVudElkID0gaXRlbS5zdHVkZW50SWQsCiAgICAgICAgICBpc01haW4gPSBpdGVtLmlzTWFpbiwKICAgICAgICAgIHN0YXR1cyA9IGl0ZW0uc3RhdHVzOwoKICAgICAgaWYgKHRoaXMudGFiSWR4ID09IDAgJiYgc3RhdHVzID09IDMpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+l6Zeu5Y235bey57uT5p2fJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodGhpcy50YWJJZHggPT0gMSB8fCBpc01haW4gPT0gMCkgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvc3VydmV5LXN1Ym1pdC1kb25lP3N1cnZleUlkPSIuY29uY2F0KGlkLCAiJnN0dWRlbnRJZD0iKS5jb25jYXQoc3R1ZGVudElkLCAiJmlzTWFpbj0iKS5jb25jYXQoaXNNYWluKQogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICIvc3VydmV5LXN1Ym1pdD9zdXJ2ZXlJZD0iLmNvbmNhdChpZCwgIiZzdHVkZW50SWQ9IikuY29uY2F0KHN0dWRlbnRJZCwgIiZ0eXBlPSIpLmNvbmNhdCh0aGlzLnRhYklkeCwgIiZpc01haW49IikuY29uY2F0KGlzTWFpbikKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <!-- 顶部导航区 -->\n    <div class=\"top-container\">\n      <div class=\"tab\">\n        <div\n          class=\"tab-item\"\n          v-for=\"(item, index) in tabList\"\n          :key=\"index\"\n          @click=\"changeTab(index)\"\n        >\n          <div :style=\"tabIdx == index ? 'color:#5ECFA8' : ''\">\n            {{ item }}\n          </div>\n          <div :style=\"tabIdx == index ? 'background:#5ECFA8' : ''\"></div>\n        </div>\n      </div>\n    </div>\n    <!-- 列表 -->\n    <div class=\"content\">\n      <template v-if=\"tabIdx == 0\">\n        <van-list\n          v-model=\"loading\"\n          :immediate-check=\"false\"\n          :finished=\"finished\"\n          finished-text=\"\"\n          @load=\"loadMore\"\n          v-if=\"waitingList.length > 0\"\n        >\n          <draft-list :list=\"waitingList\" @goSubmit=\"goSubmit\"></draft-list>\n        </van-list>\n        <template v-if=\"waitingList.length == 0 && !loading\">\n          <div class=\"empty\">\n            <img\n              src=\"@/pages/jx-questionnaire-h5/assets/images/v1.0.0/empty.png\"\n            />\n            <div>还没有投票哦</div>\n          </div>\n        </template>\n      </template>\n      <template v-else-if=\"tabIdx == 1\">\n        <van-list\n          v-model=\"loading\"\n          :immediate-check=\"false\"\n          :finished=\"finished\"\n          finished-text=\"\"\n          @load=\"loadMore\"\n          v-if=\"subList.length > 0\"\n        >\n          <draft-list :list=\"subList\" @goSubmit=\"goSubmit\"></draft-list>\n        </van-list>\n        <template v-if=\"subList.length == 0 && !loading\">\n          <div class=\"empty\">\n            <img\n              src=\"@/pages/jx-questionnaire-h5/assets/images/v1.0.0/empty.png\"\n            />\n            <div>还没有投票哦</div>\n          </div>\n        </template>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\nimport DraftList from './components/DraftList.vue';\nimport { List } from 'vant';\nimport { mapState } from 'vuex';\nimport { getSurveyList } from '../../api/survey';\nexport default {\n  name: 'SurveyParent',\n  components: {\n    [List.name]: List,\n    DraftList\n  },\n  data() {\n    return {\n      tabList: ['待提交', '已提交'],\n      tabIdx: 0, // 当前tab下标\n      page: 0,\n      loading: false,\n      finished: false,\n      waitingList: [], // 待提交列表\n      subList: [] // 已提交列表\n    };\n  },\n  computed: {\n    ...mapState('user', ['wechatUserId', 'classId', 'role', 'studentId'])\n  },\n  // beforeRouteEnter(to, from, next) {\n  //   if (from.name == 'SurveySubmit') {\n  //     // 这个name是下一级页面的路由name\n  //     to.meta.isBack = true; // 设置为true说明你是返回到这个页面，而不是通过跳转从其他页面进入到这个页面\n  //   }\n  //   next();\n  // },\n  created() {\n    this.loadMore();\n  },\n  // activated() {\n  //   if (!this.$route.meta.isBack) {\n  //     this.tabIdx = 0; // 当前tab下标\n  //     this.page = 0;\n  //     this.loading = false;\n  //     this.finished = false;\n  //     this.waitingList = []; // 待提交列表\n  //     this.subList = []; // 已提交列表this.\n  //     this.loadMore();\n  //   }\n  //   this.$route.meta.isBack = false; //请求完后进行初始化\n  // },\n  methods: {\n    loadMore() {\n      this.page += 1; //页数+1\n      this.getList();\n    },\n    // 获取列表数据\n    getList() {\n      let params = {\n        from: '',\n        wechatUserId: this.wechatUserId,\n        classIds: this.classId,\n        studentId: this.studentId,\n        role: this.role,\n        currentPage: this.page,\n        pageSize: 20,\n        typeList: this.tabIdx == '0' ? 1 : 2\n      };\n      getSurveyList(params)\n        .then(res => {\n          this.pageLoading = false;\n          if (params.typeList == 1) {\n            // 已发布\n            this.hiddenNum = res.data.hiddenNum;\n            this.waitingList = this.waitingList.concat(res.data.list);\n\n            // 加载状态结束\n            this.loading = false;\n            // 数据全部加载完成\n            if (\n              this.waitingList.length >= res.data.total ||\n              res.data.list.length == 0\n            ) {\n              this.finished = true;\n            }\n          } else if (params.typeList == 2) {\n            // 草稿箱\n            this.subList = this.subList.concat(res.data.list);\n\n            // 加载状态结束\n            this.loading = false;\n            // 数据全部加载完成\n            if (\n              this.subList.length >= res.data.total ||\n              res.data.list.length == 0\n            ) {\n              this.finished = true;\n            }\n          }\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // tab切换\n    changeTab(idx) {\n      if (this.loading) return;\n      this.tabIdx = idx;\n      // 数据初始化\n      this.loading = true;\n      this.page = 0;\n      this.finished = false;\n      this.subList = [];\n      this.waitingList = [];\n      this.loadMore();\n    },\n    // 填报问卷\n    goSubmit(item) {\n      let { id, studentId, isMain, status } = item;\n      if (this.tabIdx == 0 && status == 3) {\n        this.$toast('该问卷已结束');\n        return;\n      }\n      if (this.tabIdx == 1 || isMain == 0) {\n        this.$router.push({\n          path: `/survey-submit-done?surveyId=${id}&studentId=${studentId}&isMain=${isMain}`\n        });\n      } else {\n        this.$router.push({\n          path: `/survey-submit?surveyId=${id}&studentId=${studentId}&type=${this.tabIdx}&isMain=${isMain}`\n        });\n      }\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.app {\n  .top-container {\n    width: 100%;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 999;\n    .tab {\n      width: 100%;\n      height: 0.98rem;\n      background-color: #ffffff;\n      box-shadow: 0 0 0.1rem 0 rgba(0, 0, 0, 0.08);\n      display: flex;\n      .tab-item {\n        width: 50%;\n        height: 0.98rem;\n        font-size: 0.3rem;\n        font-family: PingFangSC-Medium, PingFang SC;\n        font-weight: 500;\n        color: rgba(0, 0, 0, 0.65);\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        & > div:first-child {\n          padding: 0.2rem 0;\n        }\n        & > div:nth-child(2) {\n          width: 0.48rem;\n          height: 0.06rem;\n          background: #ffffff;\n          border-radius: 0.06rem;\n        }\n      }\n    }\n  }\n  .content {\n    padding: 1.2rem 0 0.4rem 0;\n    height: calc(100vh - 1.6rem);\n    overflow: scroll;\n  }\n  .empty {\n    padding-top: 2rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    & > img {\n      height: 4rem;\n    }\n    & > div {\n      font-size: 0.26rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: rgba(0, 0, 0, 0.45);\n      padding-top: 0.2rem;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-parent"}]}