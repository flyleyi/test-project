{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/store/modules/user.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/store/modules/user.js","mtime":1645176309883},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHsgRERMb2dpbiBhcyBfRERMb2dpbiwgbWFudWFsTG9naW4gYXMgX21hbnVhbExvZ2luLCBnZXRVc2VySW5mbyBhcyBfZ2V0VXNlckluZm8sIGdldENvcnBJZCB9IGZyb20gJy4uLy4uL2FwaS91c2VyL2luZGV4JzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXIvaW5kZXgnOyAvLyDot6/nlLEKCmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICcuLi8uLi8uLi8uLi9wbHVnaW5zL2NvcmUvYXV0aCc7CmltcG9ydCBkZCBmcm9tICdAL3BhZ2VzL3Zpc2l0b3ItaDUvcGx1Z2lucy9kaW5ndGFsayc7IC8vIGltcG9ydCB7IHJlc2V0Um91dGVyIH0gZnJvbSAnLi4vLi4vcm91dGVyJzsKCnZhciBkZWZhdWx0U3RhdGUgPSBmdW5jdGlvbiBkZWZhdWx0U3RhdGUoKSB7CiAgcmV0dXJuIHsKICAgIHRva2VuOiBnZXRUb2tlbigpLAogICAgc3RhZmZOYW1lOiAnJywKICAgIHN0YWZmQ29kZTogJycsCiAgICAvLyDlt6Xlj7cKICAgIGF1dGg6ICcnLAogICAgcm9sZVR5cGVJbml0OiBbXSwKICAgIGhhc1VzZXJJbmZvOiBmYWxzZSwKICAgIHJvbGVUeXBlOiAnJywKICAgIC8vNOWuoeaguOWRmCA15a6J5YWo566h55CG6YOo6Zeo5a6h5qC45ZGYIDbmoLjplIDkurrlkZgKICAgIHJvbGVQYXRoOiB7CiAgICAgICc0JzogJy9hdWRpdC1saXN0JywKICAgICAgJzUnOiAnL2F1ZGl0LWxpc3QnLAogICAgICAnNic6ICcvdmVyaWZ5LWxpc3QnCiAgICB9LAogICAgcm9sZURldGFpbFBhdGg6IHsvLyAnNCc6ICcvYXBwcm92YWwtb3JkZXItZGV0YWlsJwogICAgfQogIH07Cn07Cgp2YXIgc3RhdGUgPSBkZWZhdWx0U3RhdGUoKTsKdmFyIGdldHRlcnMgPSB7CiAgcm9sZVR5cGU6IGZ1bmN0aW9uIHJvbGVUeXBlKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucm9sZVR5cGU7CiAgfSwKICByb2xlUGF0aDogZnVuY3Rpb24gcm9sZVBhdGgoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5yb2xlUGF0aDsKICB9LAogIHJvbGVEZXRhaWxQYXRoOiBmdW5jdGlvbiByb2xlRGV0YWlsUGF0aChzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnJvbGVEZXRhaWxQYXRoOwogIH0sCiAgcm9sZVR5cGVJbml0OiBmdW5jdGlvbiByb2xlVHlwZUluaXQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5yb2xlVHlwZUluaXQ7CiAgfQp9Owp2YXIgbXV0YXRpb25zID0gewogIFJFU0VUX1NUQVRFOiBmdW5jdGlvbiBSRVNFVF9TVEFURShzdGF0ZSkgewogICAgT2JqZWN0LmFzc2lnbihzdGF0ZSwgZGVmYXVsdFN0YXRlKCkpOwogIH0sCiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwogIH0sCiAgU0VUX05BTUU6IGZ1bmN0aW9uIFNFVF9OQU1FKHN0YXRlLCBuYW1lKSB7CiAgICBzdGF0ZS5uYW1lID0gbmFtZTsKICB9LAogIFNFVF9BVkFUQVI6IGZ1bmN0aW9uIFNFVF9BVkFUQVIoc3RhdGUsIGF2YXRhcikgewogICAgc3RhdGUuYXZhdGFyID0gYXZhdGFyOwogIH0sCiAgU0VUX1NUQUZGX0NPREU6IGZ1bmN0aW9uIFNFVF9TVEFGRl9DT0RFKHN0YXRlLCBzdGFmZkNvZGUpIHsKICAgIHN0YXRlLnN0YWZmQ29kZSA9IHN0YWZmQ29kZTsKICB9LAogIFNFVF9TVEFGRl9OQU1FOiBmdW5jdGlvbiBTRVRfU1RBRkZfTkFNRShzdGF0ZSwgc3RhZmZOYW1lKSB7CiAgICBzdGF0ZS5zdGFmZk5hbWUgPSBzdGFmZk5hbWU7CiAgfSwKICBTRVRfUk9MRV9UWVBFOiBmdW5jdGlvbiBTRVRfUk9MRV9UWVBFKHN0YXRlLCByb2xlVHlwZSkgewogICAgc3RhdGUucm9sZVR5cGUgPSByb2xlVHlwZTsKICB9LAogIFNFVF9SRUFEWV9VU0VSX0lORk86IGZ1bmN0aW9uIFNFVF9SRUFEWV9VU0VSX0lORk8oc3RhdGUpIHsKICAgIHN0YXRlLmhhc1VzZXJJbmZvID0gdHJ1ZTsKICB9LAogIFNFVF9ST0xFX1RZUEVfSU5JVDogZnVuY3Rpb24gU0VUX1JPTEVfVFlQRV9JTklUKHN0YXRlLCByb2xlVHlwZUluaXQpIHsKICAgIHN0YXRlLnJvbGVUeXBlSW5pdCA9IHJvbGVUeXBlSW5pdDsKICB9Cn07CnZhciBhY3Rpb25zID0gewogIC8vIHVzZXIgbG9naW4KICBERExvZ2luOiBmdW5jdGlvbiBERExvZ2luKF9yZWYpIHsKICAgIHZhciBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2gsCiAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBnZXRDb3JwSWQoe30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGNyb3BJZCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgZGQucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgZGQucnVudGltZS5wZXJtaXNzaW9uLnJlcXVlc3RBdXRoQ29kZSh7CiAgICAgICAgICAgIGNvcnBJZDogY3JvcElkLAogICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHsKICAgICAgICAgICAgICBfRERMb2dpbih7CiAgICAgICAgICAgICAgICBjb2RlOiByZXN1bHQuY29kZQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YSk7CiAgICAgICAgICAgICAgICBzZXRUb2tlbihkYXRhKTsKICAgICAgICAgICAgICAgIGRpc3BhdGNoKCdnZXRVc2VySW5mbycpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb25GYWlsOiBmdW5jdGlvbiBvbkZhaWwoZSkgewogICAgICAgICAgICAgIHJlamVjdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIG1hbnVhbExvZ2luOiBmdW5jdGlvbiBtYW51YWxMb2dpbihfcmVmMiwgcGFyYW1zKSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwKICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICByZXR1cm4gX21hbnVhbExvZ2luKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBkYXRhKTsKICAgICAgICBzZXRUb2tlbihkYXRhKTsKICAgICAgICBkaXNwYXRjaCgnZ2V0VXNlckluZm8nKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIGdldCB1c2VyIGluZm8KICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oX3JlZjMpIHsKICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmMy5zdGF0ZTsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIF9nZXRVc2VySW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICBpZiAoIWRhdGEpIHsKICAgICAgICAgIHJldHVybiByZWplY3QoJ1ZlcmlmaWNhdGlvbiBmYWlsZWQsIHBsZWFzZSBMb2dpbiBhZ2Fpbi4nKTsKICAgICAgICB9CgogICAgICAgIHZhciByb2xlQmluZFR5cGUgPSBkYXRhLnJvbGVCaW5kVHlwZSwKICAgICAgICAgICAgc3RhZmZOYW1lID0gZGF0YS5zdGFmZk5hbWUsCiAgICAgICAgICAgIHN0YWZmQ29kZSA9IGRhdGEuc3RhZmZDb2RlOwogICAgICAgIHZhciByb2xlVHlwZSA9IHJvbGVCaW5kVHlwZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHZhciByb2xlS2V5cyA9IE9iamVjdC5rZXlzKHN0YXRlLnJvbGVQYXRoKTsKICAgICAgICAgIHJldHVybiByb2xlS2V5cy5pbmNsdWRlcyhpdGVtICsgJycpOwogICAgICAgIH0pOyAvLyBjb21taXQoJ1NFVF9OQU1FJywgbmFtZSk7CiAgICAgICAgLy8gY29tbWl0KCdTRVRfQVZBVEFSJywgYXZhdGFyKTsKCiAgICAgICAgY29tbWl0KCdTRVRfU1RBRkZfQ09ERScsIHN0YWZmQ29kZSk7CiAgICAgICAgY29tbWl0KCdTRVRfU1RBRkZfTkFNRScsIHN0YWZmTmFtZSk7CiAgICAgICAgY29tbWl0KCdTRVRfUk9MRV9UWVBFJywgcm9sZVR5cGUpOwogICAgICAgIGNvbW1pdCgnU0VUX1JPTEVfVFlQRV9JTklUJywgcm9sZVR5cGUpOwogICAgICAgIGNvbW1pdCgnU0VUX1JFQURZX1VTRVJfSU5GTycpOwoKICAgICAgICBpZiAoZGQudmVyc2lvbikgewogICAgICAgICAgaWYgKHJvbGVUeXBlLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgZGQuYml6Lm5hdmlnYXRpb24uc2V0UmlnaHQoewogICAgICAgICAgICAgIHNob3c6IHRydWUsCiAgICAgICAgICAgICAgLy/mjqfliLbmjInpkq7mmL7npLrvvIwgdHJ1ZSDmmL7npLrvvIwgZmFsc2Ug6ZqQ6JeP77yMIOm7mOiupHRydWUKICAgICAgICAgICAgICBjb250cm9sOiB0cnVlLAogICAgICAgICAgICAgIC8v5piv5ZCm5o6n5Yi254K55Ye75LqL5Lu277yMdHJ1ZSDmjqfliLbvvIxmYWxzZSDkuI3mjqfliLbvvIwg6buY6K6kZmFsc2UKICAgICAgICAgICAgICB0ZXh0OiAn5YiH5o2i6KeS6ImyJywKICAgICAgICAgICAgICAvL+aOp+WItuaYvuekuuaWh+acrO+8jOepuuWtl+espuS4suihqOekuuaYvuekuum7mOiupOaWh+acrAogICAgICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkgewogICAgICAgICAgICAgICAgLy/lpoLmnpxjb250cm9s5Li6dHJ1Ze+8jOWImW9uU3VjY2Vzc+WwhuWcqOWPkeeUn+aMiemSrueCueWHu+S6i+S7tuiiq+WbnuiwgwoKICAgICAgICAgICAgICAgIC8qCiAgICAgICAgICAgICAgICB7fQogICAgICAgICAgICAgICAgKi8KICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgcGF0aDogJy9jaG9vc2UtaWRlbnRpdHknCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9uRmFpbDogZnVuY3Rpb24gb25GYWlsKGVycikge30KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgLy8gdXNlciBsb2dvdXQKICBsb2dvdXQ6IGZ1bmN0aW9uIGxvZ291dChfcmVmNCkgewogICAgdmFyIGNvbW1pdCA9IF9yZWY0LmNvbW1pdCwKICAgICAgICBzdGF0ZSA9IF9yZWY0LnN0YXRlOwogICAgcmVtb3ZlVG9rZW4oKTsgLy8gbXVzdCByZW1vdmUgIHRva2VuICBmaXJzdAogICAgLy8gcmVzZXRSb3V0ZXIoKTsKCiAgICBjb21taXQoJ1JFU0VUX1NUQVRFJyk7IC8vIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICAvLyAgIGxvZ291dChzdGF0ZS50b2tlbikKICAgIC8vICAgICAudGhlbigoKSA9PiB7CiAgICAvLyAgICAgICByZW1vdmVUb2tlbigpOyAvLyBtdXN0IHJlbW92ZSAgdG9rZW4gIGZpcnN0CiAgICAvLyAgICAgICByZXNldFJvdXRlcigpOwogICAgLy8gICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgLy8gICAgICAgcmVzb2x2ZSgpOwogICAgLy8gICAgIH0pCiAgICAvLyAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgIC8vICAgICAgIHJlamVjdChlcnJvcik7CiAgICAvLyAgICAgfSk7CiAgICAvLyB9KTsKICB9LAogIC8vIHJlbW92ZSB0b2tlbgogIHJlc2V0VG9rZW46IGZ1bmN0aW9uIHJlc2V0VG9rZW4oX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgcmVtb3ZlVG9rZW4oKTsgLy8gbXVzdCByZW1vdmUgIHRva2VuICBmaXJzdAoKICAgICAgY29tbWl0KCdSRVNFVF9TVEFURScpOwogICAgICByZXNvbHZlKCk7CiAgICB9KTsKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBzdGF0ZSwKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/store/modules/user.js"],"names":["DDLogin","manualLogin","getUserInfo","getCorpId","router","getToken","setToken","removeToken","dd","defaultState","token","staffName","staffCode","auth","roleTypeInit","hasUserInfo","roleType","rolePath","roleDetailPath","state","getters","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","name","SET_AVATAR","avatar","SET_STAFF_CODE","SET_STAFF_NAME","SET_ROLE_TYPE","SET_READY_USER_INFO","SET_ROLE_TYPE_INIT","actions","dispatch","commit","Promise","resolve","reject","then","response","cropId","data","ready","runtime","permission","requestAuthCode","corpId","onSuccess","result","code","res","onFail","e","params","catch","error","roleBindType","filter","item","roleKeys","keys","includes","version","length","biz","navigation","setRight","show","control","text","push","path","err","logout","resetToken","namespaced"],"mappings":"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","sourcesContent":["import {\n  DDLogin,\n  manualLogin,\n  getUserInfo,\n  getCorpId\n} from '../../api/user/index';\nimport router from '../../router/index'; // 路由\nimport { getToken, setToken, removeToken } from '../../../../plugins/core/auth';\nimport dd from '@/pages/visitor-h5/plugins/dingtalk';\n\n// import { resetRouter } from '../../router';\nconst defaultState = () => {\n  return {\n    token: getToken(),\n    staffName: '',\n    staffCode: '', // 工号\n    auth: '',\n    roleTypeInit: [],\n    hasUserInfo: false,\n    roleType: '', //4审核员 5安全管理部门审核员 6核销人员\n    rolePath: {\n      '4': '/audit-list',\n      '5': '/audit-list',\n      '6': '/verify-list'\n    },\n    roleDetailPath: {\n      // '4': '/approval-order-detail'\n    }\n  };\n};\nconst state = defaultState();\n\nconst getters = {\n  roleType: state => state.roleType,\n  rolePath: state => state.rolePath,\n  roleDetailPath: state => state.roleDetailPath,\n  roleTypeInit: state => state.roleTypeInit\n};\n\nconst mutations = {\n  RESET_STATE: state => {\n    Object.assign(state, defaultState());\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token;\n  },\n  SET_NAME: (state, name) => {\n    state.name = name;\n  },\n  SET_AVATAR: (state, avatar) => {\n    state.avatar = avatar;\n  },\n  SET_STAFF_CODE: (state, staffCode) => {\n    state.staffCode = staffCode;\n  },\n  SET_STAFF_NAME: (state, staffName) => {\n    state.staffName = staffName;\n  },\n  SET_ROLE_TYPE: (state, roleType) => {\n    state.roleType = roleType;\n  },\n  SET_READY_USER_INFO: state => {\n    state.hasUserInfo = true;\n  },\n  SET_ROLE_TYPE_INIT: (state, roleTypeInit) => {\n    state.roleTypeInit = roleTypeInit;\n  }\n};\n\nconst actions = {\n  // user login\n  DDLogin({ dispatch, commit }) {\n    return new Promise((resolve, reject) => {\n      getCorpId({}).then(response => {\n        const cropId = response.data;\n        dd.ready(function() {\n          dd.runtime.permission.requestAuthCode({\n            corpId: cropId,\n            onSuccess: result => {\n              DDLogin({ code: result.code }).then(res => {\n                const { data } = res;\n                commit('SET_TOKEN', data);\n                setToken(data);\n                dispatch('getUserInfo').then(res => {\n                  resolve();\n                });\n              });\n            },\n            onFail: e => {\n              reject();\n            }\n          });\n        });\n      });\n    });\n  },\n  manualLogin({ dispatch, commit }, params) {\n    return new Promise((resolve, reject) => {\n      return manualLogin(params)\n        .then(response => {\n          const { data } = response;\n          commit('SET_TOKEN', data);\n          setToken(data);\n          dispatch('getUserInfo').then(res => {\n            resolve();\n          });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n\n  // get user info\n  getUserInfo({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getUserInfo()\n        .then(response => {\n          const { data } = response;\n\n          if (!data) {\n            return reject('Verification failed, please Login again.');\n          }\n          let { roleBindType, staffName, staffCode } = data;\n          let roleType = roleBindType.filter(item => {\n            const roleKeys = Object.keys(state.rolePath);\n            return roleKeys.includes(item + '');\n          });\n          // commit('SET_NAME', name);\n          // commit('SET_AVATAR', avatar);\n          commit('SET_STAFF_CODE', staffCode);\n          commit('SET_STAFF_NAME', staffName);\n          commit('SET_ROLE_TYPE', roleType);\n          commit('SET_ROLE_TYPE_INIT', roleType);\n          commit('SET_READY_USER_INFO');\n          if (dd.version) {\n            if (roleType.length > 0) {\n              dd.biz.navigation.setRight({\n                show: true, //控制按钮显示， true 显示， false 隐藏， 默认true\n                control: true, //是否控制点击事件，true 控制，false 不控制， 默认false\n                text: '切换角色', //控制显示文本，空字符串表示显示默认文本\n                onSuccess: result => {\n                  //如果control为true，则onSuccess将在发生按钮点击事件被回调\n                  /*\n                  {}\n                  */\n                  router.push({\n                    path: '/choose-identity'\n                  });\n                },\n                onFail: function(err) {}\n              });\n            }\n          }\n\n          resolve(data);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n\n  // user logout\n  logout({ commit, state }) {\n    removeToken(); // must remove  token  first\n    // resetRouter();\n    commit('RESET_STATE');\n    // return new Promise((resolve, reject) => {\n    //   logout(state.token)\n    //     .then(() => {\n    //       removeToken(); // must remove  token  first\n    //       resetRouter();\n    //       commit('RESET_STATE');\n    //       resolve();\n    //     })\n    //     .catch(error => {\n    //       reject(error);\n    //     });\n    // });\n  },\n\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      removeToken(); // must remove  token  first\n      commit('RESET_STATE');\n      resolve();\n    });\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};\n"]}]}