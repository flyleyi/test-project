{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BTable/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BTable/index.vue","mtime":1646020538151},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7CmltcG9ydCBfcmVnZW5lcmF0b3JSdW50aW1lIGZyb20gIkBiYWJlbC9ydW50aW1lL3JlZ2VuZXJhdG9yIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AveWp5LXByb2plY3RzL211bHRpLXByb2plY3QvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX0xvYWRpbmcyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2xvYWRpbmcuY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfTG9hZGluZyBmcm9tICJlbGVtZW50LXVpL2xpYi9sb2FkaW5nIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX0J1dHRvbjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYnV0dG9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9idXR0b24iOwppbXBvcnQgX0Zvcm1JdGVtMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9mb3JtLWl0ZW0uY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfRm9ybUl0ZW0gZnJvbSAiZWxlbWVudC11aS9saWIvZm9ybS1pdGVtIjsKaW1wb3J0IF9QYWdpbmF0aW9uMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9wYWdpbmF0aW9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX1BhZ2luYXRpb24gZnJvbSAiZWxlbWVudC11aS9saWIvcGFnaW5hdGlvbiI7Cgp2YXIgX2NvbXBvbmVudHM7CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIENGaWx0ZXJDaGVja1BhbmVsID0gZnVuY3Rpb24gQ0ZpbHRlckNoZWNrUGFuZWwoKSB7CiAgcmV0dXJuIGltcG9ydCgnQC9jb21wb25lbnRzL2NvbW1vbi9DRmlsdGVyQ2hlY2tQYW5lbC9pbmRleC5qcycpOwp9OwoKaW1wb3J0IGF4aW9zIGZyb20gJ0AvcGx1Z2lucy9heGlvcyc7CmltcG9ydCBDRHluYW1pY0Zvcm0gZnJvbSAnLi4vLi4vY29tbW9uL0NEeW5hbWljRm9ybSc7CmltcG9ydCBDVGFibGUgZnJvbSAnLi4vLi4vY29tbW9uL0NUYWJsZSc7CmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gJy4vY29uZmlnJzsKLyoqDQogKiDmoLzlvI/ljJbnqbrmlbDmja7mmL7npLoNCiAqLwoKdmFyIGZvcm1hdHRlckVtcHR5RGF0YSA9IGZ1bmN0aW9uIGZvcm1hdHRlckVtcHR5RGF0YShzdHIpIHsKICByZXR1cm4gWycnLCBudWxsLCB1bmRlZmluZWRdLmluZGV4T2Yoc3RyKSA+PSAwID8gJy0nIDogc3RyOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCVGFibGUnLAogIHByb3BzOiB7CiAgICAvL+aVsOaNruafpeivouaYr+WQpuWxleekumxvYWRpbmcKICAgIGxvYWRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvL+aVsOaNruafpeivomZ1bmPvvIzov5Tlm55wcm9taXNl5a+56LGhCiAgICBhamF4R2V0RGF0YTogewogICAgICB0eXBlOiBGdW5jdGlvbiwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7fQogICAgfSwKICAgIC8v5L+d5a2Y562b6YCJ57uT5p6c77yI5pi+56S65YiXL+etm+mAiemhue+8iQogICAgYWpheEZpbHRlclNhdmU6IHsKICAgICAgdHlwZTogRnVuY3Rpb24KICAgIH0sCiAgICAvL+afpeivouetm+mAiee7k+aenO+8iOaYvuekuuWIly/nrZvpgInpobnvvIkKICAgIGFqYXhGaWx0ZXJRdWVyeTogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfSwKICAgIC8v6KGo5aS05pWw57uECiAgICBoZWFkZXJzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvL+WIhumhtee7hOS7tuS4juihqOmXtOi3nQogICAgcGdNYXJnaW5Ub3A6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAyMAogICAgfSwKICAgIC8v5q+P6aG15bGV56S65pWw6YeP6YCJ5oupCiAgICBwYWdlU2l6ZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbMTAsIDUwLCAxMDAsIDUwMCwgMTAwMF07CiAgICAgIH0KICAgIH0sCiAgICAvL+m7mOiupOavj+mhteWxleekuuaVsOmHjwogICAgcGFnZUxpbWl0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNTAKICAgIH0sCiAgICAvLyDooajljZXphY3nva4KICAgIGZvcm1JdGVtczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgLy8g5Yid5aeL5YyW6KGo5Y2V5pWw5o2uCiAgICBpbml0aWFsRm9ybURhdGE6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICAvLyDlt6XlhbfmoI8KICAgIHRvb2xiYXJzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICAvL+aYvuekuuWIt+aWsOaMiemSrgogICAgc2hvd1JlZnJlc2g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIC8v5pi+56S65YiXCiAgICBzaG93Q29sdW1uOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgLy/mmL7npLrnrZvpgInpobnmjInpkq4KICAgIHNob3dRdWVyeUZpbHRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8v5L+d5a2YY29sdW1u5YiX5pi+56S65omA5L2/55So55qE55qEa2V5CiAgICBzYXZlQ29sdW1uS2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvL+S/neWtmOetm+mAiemhueaYvuekuuaJgOS9v+eUqOeahOeahGtleQogICAgc2F2ZVF1ZXJ5S2V5OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0sCiAgICAvL+mhueebruezu+e7nyjnlKjkuo7kv53lrZjliJfmlbDmja7ml7bnmoTlj4LmlbApCiAgICBzeXN0ZW06IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiB1bmRlZmluZWQKICAgIH0sCiAgICAvL+S/neWtmOWIl+WvueW6lOeahOaIkOWKn+aPkOekuuaWh+ahiAogICAgc2F2ZVN1Y2Nlc3NNc2c6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAn5L+d5a2Y5oiQ5YqfJwogICAgfSwKICAgIC8v5L+d5a2Y5YiX5a+55bqU55qE5aSx6LSl5o+Q56S65paH5qGICiAgICBzYXZlRXJyb3JNc2c6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAn5pWw5o2u5L+d5a2Y5aSx6LSlJwogICAgfSwKCiAgICAvKioNCiAgICAgKiDnq4vljbPliqDovb0NCiAgICAgKi8KICAgIGltbWVkaWF0ZUxvYWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogICAgLyoqDQogICAgICog6KGM5pWw5o2u6ZSu5YC8DQogICAgICovCiAgICAvLyByb3dLZXk6IHsKICAgIC8vICAgdHlwZTogW0Z1bmN0aW9uLCBTdHJpbmddCiAgICAvLyB9LAogICAgLy8gZXhwYW5kUm93S2V5czogewogICAgLy8gICB0eXBlOiBBcnJheQogICAgLy8gfQoKICB9LAogIGNvbXBvbmVudHM6IChfY29tcG9uZW50cyA9IHsKICAgIENUYWJsZTogQ1RhYmxlLAogICAgRWxQYWdpbmF0aW9uOiBfUGFnaW5hdGlvbiwKICAgIENEeW5hbWljRm9ybTogQ0R5bmFtaWNGb3JtCiAgfSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfRm9ybUl0ZW0ubmFtZSwgX0Zvcm1JdGVtKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQnV0dG9uLm5hbWUsIF9CdXR0b24pLCBfY29tcG9uZW50cyksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhlYWRlclByb21pc2U6IG51bGwsCiAgICAgIGNvbXB1dGVkSGVhZGVyczogW10sCiAgICAgIGNvbXB1dGVkRm9ybUl0ZW1zOiBbXSwKICAgICAgYWpheENvdW50OiAwLAogICAgICBzZWxlY3RSb3dzOiBbXSwKICAgICAgbG9hZGluZ0luczogbnVsbCwKICAgICAgLy/liIbpobXlj4LmlbAKICAgICAgcGFnZVBhcmFtczogewogICAgICAgIHRvdGFsOiAwLAogICAgICAgIG9mZnNldDogMCwKICAgICAgICBsaW1pdDogdGhpcy5wYWdlTGltaXQsCiAgICAgICAgcGFnZTogMQogICAgICB9LAogICAgICAvL+aOkuW6j+WPguaVsAogICAgICBzb3J0UGFyYW1zOiB7CiAgICAgICAgc29ydDogdW5kZWZpbmVkLAogICAgICAgIG9yZGVyOiB1bmRlZmluZWQKICAgICAgfSwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgLy8g6KGo5Y2V5pWw5o2uCiAgICAgIGZvcm1EYXRhOiBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmluaXRpYWxGb3JtRGF0YSksCiAgICAgIC8vIOihqOWNleaVsOaNrgogICAgICBmb3JtQXR0cnM6IHsKICAgICAgICBpbmxpbmU6IHRydWUsCiAgICAgICAgc2l6ZTogJ3NtYWxsJwogICAgICB9LAogICAgICAvLyDmmK/lkKbmmK/mlbDnu4QKICAgICAgaXNBcnJheTogZnVuY3Rpb24gaXNBcnJheShhcnIpIHsKICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpOwogICAgICB9LAogICAgICBzeXNDb25maWc6IHt9IC8v5qC55o2u6YWN572u5Y+C5pWw5Y+KcHJvcOWFpeWPgu+8jOWKqOaAgemFjee9rgoKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgLy/mr4/pobXlsZXnpLrmlbDph4/lj5jljJYKICAgICdwYWdlUGFyYW1zLmxpbWl0JzogZnVuY3Rpb24gcGFnZVBhcmFtc0xpbWl0KCkgewogICAgICB2YXIgcGFnZSA9IHRoaXMucGFnZVBhcmFtcy5wYWdlOwoKICAgICAgaWYgKHBhZ2UgPT0gMSkgewogICAgICAgIC8v5Zyo56ys5LiA6aG15L+u5pS55q+P6aG15pWw6YeP5pe277yM6Kem5Y+R6YeN5paw6K+35rGCCiAgICAgICAgdGhpcy5hamF4R2V0VGFibGVEYXRhQnlQYWdlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy/pnZ7pppbpobXkv67mlLnvvIzlsIbpobXnoIHmlLnkuLrpppbpobXvvIzop6blj5HpobXnoIHmm7TmlrDnm5HlkKwKICAgICAgICB0aGlzLnBhZ2VQYXJhbXMucGFnZSA9IDE7CiAgICAgIH0KICAgIH0sCiAgICAvL+W9k+WJjemhteeggeWPmOWMlgogICAgJ3BhZ2VQYXJhbXMucGFnZSc6IGZ1bmN0aW9uIHBhZ2VQYXJhbXNQYWdlKCkgewogICAgICB2YXIgX3RoaXMkcGFnZVBhcmFtcyA9IHRoaXMucGFnZVBhcmFtcywKICAgICAgICAgIHBhZ2UgPSBfdGhpcyRwYWdlUGFyYW1zLnBhZ2UsCiAgICAgICAgICBsaW1pdCA9IF90aGlzJHBhZ2VQYXJhbXMubGltaXQ7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5vZmZzZXQgPSBsaW1pdCAqIChwYWdlIC0gMSk7CiAgICAgIHRoaXMuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgfSwKICAgIC8vIOaVsOaNruWPmOWMlgogICAgdGFibGVEYXRhOiBmdW5jdGlvbiB0YWJsZURhdGEoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3RhYmxlLWRhdGEtY2hhbmdlJywgdGhpcy50YWJsZURhdGEpOwogICAgfSwKICAgIGZvcm1JdGVtczogZnVuY3Rpb24gZm9ybUl0ZW1zKCkgewogICAgICAvL2Zvcm1JdGVtcyDlj5jljJblpITnkIYKICAgICAgdGhpcy5kZWFsUXVlcnlJdGVtcygpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8v6K+35rGC5YWl5Y+CCiAgICBhamF4UGFnZVBhcmFtczogZnVuY3Rpb24gYWpheFBhZ2VQYXJhbXMoKSB7CiAgICAgIC8vIGxldCBwYXJhbSA9IHRoaXMucGFnZVBhcmFtczsKICAgICAgdmFyIF90aGlzJHBhZ2VQYXJhbXMyID0gdGhpcy5wYWdlUGFyYW1zLAogICAgICAgICAgb2Zmc2V0ID0gX3RoaXMkcGFnZVBhcmFtczIub2Zmc2V0LAogICAgICAgICAgbGltaXQgPSBfdGhpcyRwYWdlUGFyYW1zMi5saW1pdCwKICAgICAgICAgIHBhZ2UgPSBfdGhpcyRwYWdlUGFyYW1zMi5wYWdlOwogICAgICByZXR1cm4gewogICAgICAgIG9mZnNldDogb2Zmc2V0LAogICAgICAgIGxpbWl0OiBsaW1pdCwKICAgICAgICBwYWdlU2l6ZTogbGltaXQsCiAgICAgICAgcGFnZU51bTogcGFnZQogICAgICB9OwogICAgfSwKICAgIC8v5a2Y5YKo5YiX5pWw5o2u5omA55Soa2V5CiAgICBjb21wdXRlZFNhdmVDb2x1bW5LZXk6IGZ1bmN0aW9uIGNvbXB1dGVkU2F2ZUNvbHVtbktleSgpIHsKICAgICAgaWYgKHRoaXMuc2F2ZUNvbHVtbktleSkgcmV0dXJuIHRoaXMuc2F2ZUNvbHVtbktleTsKICAgICAgdmFyIGtleTsKCiAgICAgIHRyeSB7CiAgICAgICAga2V5ID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBrZXkgPSAnZGVmYXVsdCc7CiAgICAgIH0KCiAgICAgIHJldHVybiAndGFibGV8JyArIGtleTsKICAgIH0sCiAgICAvL+WtmOWCqOetm+mAiemhueaJgOeUqGtleQogICAgY29tcHV0ZWRTYXZlUXVlcnlLZXk6IGZ1bmN0aW9uIGNvbXB1dGVkU2F2ZVF1ZXJ5S2V5KCkgewogICAgICBpZiAodGhpcy5zYXZlUXVlcnlLZXkpIHJldHVybiB0aGlzLnNhdmVRdWVyeUtleTsKICAgICAgdmFyIGtleTsKCiAgICAgIHRyeSB7CiAgICAgICAga2V5ID0gdGhpcy4kcm91dGUucGF0aDsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBrZXkgPSAnZGVmYXVsdCc7CiAgICAgIH0KCiAgICAgIHJldHVybiAncXVlcnl8JyArIGtleTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmluaXRDb25maWcoKTsgLy/pu5jorqTphY3nva7liJ3lp4vljJYKCiAgICB0aGlzLmhlYWRlclByb21pc2UgPSB0aGlzLmRlYWxIZWFkZXJzKCk7IC8v6KGo5aS05aSE55CGCgogICAgdGhpcy5kZWFsUXVlcnlJdGVtcygpOyAvL+ihqOWNleafpeivoumhueWkhOeQhgogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW1tZWRpYXRlTG9hZCAmJiB0aGlzLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v5YiG6aG15o6l5Y+j6K+35rGC5pWw5o2u5aSE55CGCiAgICBhamF4R2V0VGFibGVEYXRhQnlQYWdlOiBmdW5jdGlvbiBhamF4R2V0VGFibGVEYXRhQnlQYWdlKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgKHRoaXMuJHJlZnMuY0R5bmFtaWNGb3JtID8gdGhpcy4kcmVmcy5jRHluYW1pY0Zvcm0udmFsaWRhdGUoKSA6IFByb21pc2UucmVzb2x2ZSgpKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdEFqYXhDb3VudCA9ICsrX3RoaXMuYWpheENvdW50OwogICAgICAgIHZhciBsYXN0TG9hZGluZ01hcCA9IF90aGlzLmxhc3RMb2FkaW5nTWFwOwogICAgICAgIGlmICghX3RoaXMuJHJlZnMudGFibGUpIHJldHVybjsgLy/mn6Xor6LkuK3pgJTlrp7kvovooqvplIDmr4HvvIznu4jnq68KICAgICAgICAvL+m7mOiupGxvYWTlrp7kvovkuI3lrZjlnKjvvIzliJvlu7ov5bey5a2Y5Zyo77yM5L2/55So5Y6f5pyJbG9hZOWvueixoQoKICAgICAgICBpZiAoIV90aGlzLmxvYWRpbmdJbnMpIHsKICAgICAgICAgIC8v5aGr5YWFbG9hZGluZ+Wxleekuum7mOiupOWAvO+8jOWFvOWuueWkhOeQhgogICAgICAgICAgdmFyIGxvYWRJbnMgPSB7CiAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHt9CiAgICAgICAgICB9OyAvL+mcgOimgeWxleekumxvYWRpbmcKCiAgICAgICAgICBpZiAoX3RoaXMubG9hZGluZykgewogICAgICAgICAgICBsb2FkSW5zID0gX0xvYWRpbmcuc2VydmljZSh7CiAgICAgICAgICAgICAgdGFyZ2V0OiBfdGhpcy4kcmVmcy50YWJsZS4kZWwKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMubG9hZGluZ0lucyA9IGxvYWRJbnM7CiAgICAgICAgfQoKICAgICAgICB2YXIgYWpheFBhcmFtcyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5hamF4UGFnZVBhcmFtcyksIF90aGlzLmZvcm1EYXRhKSwgX3RoaXMuc29ydFBhcmFtcyk7IC8v6I635Y+WZnVuY+WFpeWPggoKCiAgICAgICAgdmFyIGRhdGFGdW4gPSBfdGhpcy5hamF4R2V0RGF0YTsgLy/lrozmiJDlm57osIMKCiAgICAgICAgdmFyIGNhbGxGdW4gPSBmdW5jdGlvbiBjYWxsRnVuKHJlcykgewogICAgICAgICAgLy8gY29uc29sZS5sb2coJy0nLCB0QWpheENvdW50LCBhamF4Q291bnQsIHJlcywgdGhpcy5wYWdlUGFyYW1zKTsKICAgICAgICAgIGlmICh0QWpheENvdW50ICE9IF90aGlzLmFqYXhDb3VudCkgcmV0dXJuOyAvL+W9k+WJjeivt+axgumdnuacgOaWsOivt+axgu+8jOi3s+i/h+WkhOeQhgoKICAgICAgICAgIF90aGlzLmxvYWRpbmdJbnMuY2xvc2UoKTsgLy/lhbPpl61sb2FkaW5nCgoKICAgICAgICAgIF90aGlzLmxvYWRpbmdJbnMgPSBudWxsOyAvL+e9ruepumxvYWTnpLrkvosKCiAgICAgICAgICBpZiAoIXJlcykgcmV0dXJuOwogICAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YSB8fCB7fTsKICAgICAgICAgIF90aGlzLnRhYmxlRGF0YSA9IEFycmF5LmlzQXJyYXkoZGF0YS5yZWNvcmRzKSA/IGRhdGEucmVjb3JkcyA6IFtdOyAvL+ihqOaVsOaNrgoKICAgICAgICAgIF90aGlzLnBhZ2VQYXJhbXMudG90YWwgPSBkYXRhLnRvdGFsIHx8IDA7IC8v5pWw5o2u6ZW/5bqmCgogICAgICAgICAgaWYgKF90aGlzLnRhYmxlRGF0YS5sZW5ndGggPT09IDApIF90aGlzLnBhZ2VQYXJhbXMucGFnZSA9IDE7IC8v5peg5pWw5o2u5pe277yM6YeN5a6a5ZCR56ys5LiA6aG1CiAgICAgICAgfTsgLy9mdW5j5Yik6Z2e56m65bm25omn6KGMCgoKICAgICAgICB2YXIgZGF0YVByb21pc2UgPSBkYXRhRnVuICYmIGRhdGFGdW4oYWpheFBhcmFtcyk7IC8vcHJvbWlzZeaOpeaUtui/lOWbnuWAvAoKICAgICAgICBpZiAoZGF0YVByb21pc2UgJiYgdHlwZW9mIGRhdGFQcm9taXNlLnRoZW4gPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgUHJvbWlzZS5hbGwoW2RhdGFQcm9taXNlLCBfdGhpcy5oZWFkZXJQcm9taXNlXSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIGNhbGxGdW4ocmVzWzBdKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7CiAgICAgICAgICAgIGNhbGxGdW4oKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjYWxsRnVuKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5pyN5Yqh56uv5L+d5a2Y55qE5YiXL+etm+mAiemhuemFjee9ruS/oeaBrw0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIDE96KGo5aS05YiX5L+h5oGvICAyPeetm+mAiemhueS/oeaBrw0KICAgICAqLwogICAgYWpheEdldFNob3dGaWx0ZXJEYXRhOiBmdW5jdGlvbiBhamF4R2V0U2hvd0ZpbHRlckRhdGEoKSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiAxOwogICAgICB2YXIgX3RoaXMkc3lzQ29uZmlnID0gdGhpcy5zeXNDb25maWcsCiAgICAgICAgICBzeXN0ZW0gPSBfdGhpcyRzeXNDb25maWcuc3lzdGVtLAogICAgICAgICAgYWpheEZpbHRlclF1ZXJ5ID0gX3RoaXMkc3lzQ29uZmlnLmFqYXhGaWx0ZXJRdWVyeTsKICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U2F2ZUtleSh0eXBlKTsKICAgICAgaWYgKHR5cGVvZiBhamF4RmlsdGVyUXVlcnkgPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFqYXhGaWx0ZXJRdWVyeSh7CiAgICAgICAgc3lzdGVtOiBzeXN0ZW0sCiAgICAgICAga2V5OiBrZXkKICAgICAgfSk7CiAgICAgIHJldHVybiBbXTsKICAgIH0sCgogICAgLyoqDQogICAgICog5L+d5a2Y5pi+56S65YiXL+etm+mAiemhuQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIDE96KGo5aS05YiX5L+h5oGvICAyPeetm+mAiemhueS/oeaBrw0KICAgICAqLwogICAgYWpheFNhdmVGaWx0ZXJEYXRhOiBmdW5jdGlvbiBhamF4U2F2ZUZpbHRlckRhdGEocGFyYW1zKSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxOwogICAgICB2YXIgX3RoaXMkc3lzQ29uZmlnMiA9IHRoaXMuc3lzQ29uZmlnLAogICAgICAgICAgc3lzdGVtID0gX3RoaXMkc3lzQ29uZmlnMi5zeXN0ZW0sCiAgICAgICAgICBhamF4RmlsdGVyU2F2ZSA9IF90aGlzJHN5c0NvbmZpZzIuYWpheEZpbHRlclNhdmU7CiAgICAgIHZhciBrZXkgPSB0aGlzLmdldFNhdmVLZXkodHlwZSk7CiAgICAgIGlmICh0eXBlb2YgYWpheEZpbHRlclNhdmUgPT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFqYXhGaWx0ZXJTYXZlKHsKICAgICAgICBzeXN0ZW06IHN5c3RlbSwKICAgICAgICBrZXk6IGtleSwKICAgICAgICBjb2x1bW5zOiBwYXJhbXMKICAgICAgfSk7CiAgICAgIHJldHVybiBbXTsKICAgIH0sCiAgICAvL+ihqOWNleafpeivoumhuemihOWkhOeQhu+8jOm7mOiupOetm+mAieaYvuekuuaVsOaNruS7jui/nOeoi+aIluacrOWcsOiOt+WPluW5tuimhueblgogICAgZGVhbFF1ZXJ5SXRlbXM6IGZ1bmN0aW9uIGRlYWxRdWVyeUl0ZW1zKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtSXRlbXMsIF90aGlzMiRzeXNDb25maWcsIGFqYXhGaWx0ZXJRdWVyeSwgYWpheEZpbHRlclNhdmUsIHJlbW90ZVF1ZXJ5cywgcmVzOwoKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybUl0ZW1zID0gX3RoaXMyLmZvcm1JdGVtczsKICAgICAgICAgICAgICAgIF90aGlzMiRzeXNDb25maWcgPSBfdGhpczIuc3lzQ29uZmlnLCBhamF4RmlsdGVyUXVlcnkgPSBfdGhpczIkc3lzQ29uZmlnLmFqYXhGaWx0ZXJRdWVyeSwgYWpheEZpbHRlclNhdmUgPSBfdGhpczIkc3lzQ29uZmlnLmFqYXhGaWx0ZXJTYXZlOyAvL+mcgOimgeKAnOaYvuekuuWIl+KAneaMiemSruaXtu+8jOihqOWktOmcgOimgeiOt+WPluacrOWcsOaIlui/nOeoi+S/neWtmOaVsOaNrgoKICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLnNob3dRdWVyeUZpbHRlcikgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKGFqYXhGaWx0ZXJRdWVyeSAmJiBhamF4RmlsdGVyU2F2ZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hamF4R2V0U2hvd0ZpbHRlckRhdGEoMik7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICByZW1vdGVRdWVyeXMgPSByZXM7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVtb3RlLXF1ZXJ5cycsIHJlbW90ZVF1ZXJ5cyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oNCk7CiAgICAgICAgICAgICAgICByZW1vdGVRdWVyeXMgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgcmVtb3RlUXVlcnlzID0gX3RoaXMyLmdldExvY2FsRmlsdGVyRGF0YSgyKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2NhbC1xdWVyeXMnLCByZW1vdGVRdWVyeXMpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX3RoaXMyLmRlYWxDb2x1bW5zSGVhZGVyKGZvcm1JdGVtcywgcmVtb3RlUXVlcnlzKTsgLy/kvb/nlKjmnI3liqHnq6/mlbDmja7opobnm5bmnKzlnLDmlbDmja4KCgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICAvL+WvuWhlYWRlcuWBmum7mOiupOi1i+WAvOWkhOeQhgogICAgICAgICAgICAgICAgZm9ybUl0ZW1zID0gZm9ybUl0ZW1zLm1hcChmdW5jdGlvbiAoaGVhZEl0ZW0pIHsKICAgICAgICAgICAgICAgICAgLy/liJ3lp4vpnIDopoHotYvlgLzlrZfmrrXvvIzlkKbliJnpobXpnaLml6Dms5XmoLnmja7lrZfmrrXlk43lupQKICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0ucmVxdWlyZWQgPSBoZWFkSXRlbS5yZXF1aXJlZCB8fCBmYWxzZTsKICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0uaGlkZGVuID0gaGVhZEl0ZW0uaGlkZGVuIHx8IGZhbHNlOyAvLyDkuIvmi4npgInmi6npu5jorqTlkK/nlKjmuIXpmaTmjInpkq7lip/og70KCiAgICAgICAgICAgICAgICAgIGlmIChoZWFkSXRlbS50eXBlID09PSAnc2VsZWN0JykgewogICAgICAgICAgICAgICAgICAgIHZhciBjbGVhcmFibGUgPSBoZWFkSXRlbS5hdHRycyAmJiBoZWFkSXRlbS5hdHRycy5jbGVhcmFibGU7CiAgICAgICAgICAgICAgICAgICAgY2xlYXJhYmxlID0gY2xlYXJhYmxlID09PSB1bmRlZmluZWQgPyB0cnVlIDogY2xlYXJhYmxlOwogICAgICAgICAgICAgICAgICAgIGlmICghaGVhZEl0ZW0uYXR0cnMpIGhlYWRJdGVtLmF0dHJzID0ge307CiAgICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0uYXR0cnMuY2xlYXJhYmxlID0gY2xlYXJhYmxlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gaGVhZEl0ZW07CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzMi5jb21wdXRlZEZvcm1JdGVtcyA9IGZvcm1JdGVtczsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbNCwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vaGVhZGVy5LqM5qyh5bCB6KOF77yM5aSE55CG5YiG6aG16L+U5Zue5pWw5o2uCiAgICBkZWFsSGVhZGVyczogZnVuY3Rpb24gZGVhbEhlYWRlcnMoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBoZWFkZXJzLCBfdGhpczMkc3lzQ29uZmlnLCBhamF4RmlsdGVyUXVlcnksIGFqYXhGaWx0ZXJTYXZlLCByZW1vdGVIZWFkZXJzLCByZXM7CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaGVhZGVycyA9IF90aGlzMy5oZWFkZXJzOwogICAgICAgICAgICAgICAgX3RoaXMzJHN5c0NvbmZpZyA9IF90aGlzMy5zeXNDb25maWcsIGFqYXhGaWx0ZXJRdWVyeSA9IF90aGlzMyRzeXNDb25maWcuYWpheEZpbHRlclF1ZXJ5LCBhamF4RmlsdGVyU2F2ZSA9IF90aGlzMyRzeXNDb25maWcuYWpheEZpbHRlclNhdmU7IC8v6ZyA6KaB4oCc5pi+56S65YiX4oCd5oyJ6ZKu5pe277yM6KGo5aS06ZyA6KaB6I635Y+W5pys5Zyw5oiW6L+c56iL5L+d5a2Y5pWw5o2uCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczMuc2hvd0NvbHVtbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShhamF4RmlsdGVyUXVlcnkgJiYgYWpheEZpbHRlclNhdmUpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuYWpheEdldFNob3dGaWx0ZXJEYXRhKCk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgcmVtb3RlSGVhZGVycyA9IHJlczsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZW1vdGUtaGVhZGVycycsIHJlbW90ZUhlYWRlcnMpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAxMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSg0KTsKICAgICAgICAgICAgICAgIHJlbW90ZUhlYWRlcnMgPSBbXTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIHJlbW90ZUhlYWRlcnMgPSBfdGhpczMuZ2V0TG9jYWxGaWx0ZXJEYXRhKCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnbG9jYWwtaGVhZGVycycsIHJlbW90ZUhlYWRlcnMpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgICAgX3RoaXMzLmRlYWxDb2x1bW5zSGVhZGVyKGhlYWRlcnMsIHJlbW90ZUhlYWRlcnMpOyAvL+S9v+eUqOacjeWKoeerr+aVsOaNruimhuebluacrOWcsOaVsOaNrgoKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIC8v5a+5aGVhZGVy5YGa6buY6K6k6LWL5YC85aSE55CGCiAgICAgICAgICAgICAgICBfdGhpczMuY29tcHV0ZWRIZWFkZXJzID0gaGVhZGVycy5tYXAoZnVuY3Rpb24gKGhlYWRJdGVtKSB7CiAgICAgICAgICAgICAgICAgIC8v5Yid5aeL6ZyA6KaB6LWL5YC85a2X5q6177yM5ZCm5YiZ6aG16Z2i5peg5rOV5qC55o2u5a2X5q615ZON5bqUCiAgICAgICAgICAgICAgICAgIGhlYWRJdGVtLnJlcXVpcmVkID0gaGVhZEl0ZW0ucmVxdWlyZWQgfHwgZmFsc2U7CiAgICAgICAgICAgICAgICAgIGhlYWRJdGVtLmhpZGRlbiA9IGhlYWRJdGVtLmhpZGRlbiB8fCBmYWxzZTsKICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0ucmVzaXphYmxlID0gaGVhZEl0ZW0ucmVzaXphYmxlIHx8IGZhbHNlOwogICAgICAgICAgICAgICAgICB2YXIgZnVuID0gaGVhZEl0ZW0uaW5kZXg7IC8v5bqP5Y+357G75Z6L77yM6KGl5YWF5YiG6aG15L+h5oGv6L+U5ZueCgogICAgICAgICAgICAgICAgICBpZiAoaGVhZEl0ZW0udHlwZSA9PSAnaW5kZXgnICYmIHR5cGVvZiBmdW4gPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICAgICAgICAgIGhlYWRJdGVtLmluZGV4ID0gZnVuY3Rpb24gKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuKGluZGV4LCBfdGhpczMucGFnZVBhcmFtcy5wYWdlLCBfdGhpczMucGFnZVBhcmFtcy5saW1pdCk7CiAgICAgICAgICAgICAgICAgICAgfTsgLy8gY29uc29sZS5sb2coaGVhZEl0ZW0uaW5kZXgpOwoKICAgICAgICAgICAgICAgICAgfSAvLyDlpITnkIbnqbrmlbDmja7mmL7npLrmqKrmnaAKCgogICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVyID0gaGVhZEl0ZW0uZm9ybWF0dGVyOwoKICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmb3JtYXR0ZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICAgICAgICAgICAgICBoZWFkSXRlbS5mb3JtYXR0ZXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHsKICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTsKICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzID0gZm9ybWF0dGVyLmFwcGx5KG51bGwsIGFyZ3MpOwogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlckVtcHR5RGF0YShyZXMpOwogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgaGVhZEl0ZW0uZm9ybWF0dGVyID0gZnVuY3Rpb24gKHJvdywgY29sLCB2YWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlckVtcHR5RGF0YSh2YWx1ZSk7CiAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRJdGVtOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbNCwgMTJdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOWIneWni+WMlumFjee9ru+8jOS7juWFqOWxgOWPlumFjee9rgogICAgaW5pdENvbmZpZzogZnVuY3Rpb24gaW5pdENvbmZpZygpIHsKICAgICAgdmFyIGNvbmZpZyA9IGdldENvbmZpZygpOwogICAgICB2YXIgX3RoaXMkJHByb3BzID0gdGhpcy4kcHJvcHMsCiAgICAgICAgICBzeXN0ZW0gPSBfdGhpcyQkcHJvcHMuc3lzdGVtLAogICAgICAgICAgYWpheEZpbHRlclNhdmUgPSBfdGhpcyQkcHJvcHMuYWpheEZpbHRlclNhdmUsCiAgICAgICAgICBhamF4RmlsdGVyUXVlcnkgPSBfdGhpcyQkcHJvcHMuYWpheEZpbHRlclF1ZXJ5OwogICAgICB0aGlzLnN5c0NvbmZpZy5zeXN0ZW0gPSBzeXN0ZW0gIT09IHVuZGVmaW5lZCA/IHN5c3RlbSA6IGNvbmZpZy5zeXN0ZW07CiAgICAgIHRoaXMuc3lzQ29uZmlnLmFqYXhGaWx0ZXJTYXZlID0gYWpheEZpbHRlclNhdmUgIT09IHVuZGVmaW5lZCA/IGFqYXhGaWx0ZXJTYXZlIDogY29uZmlnLmFqYXhGaWx0ZXJTYXZlOwogICAgICB0aGlzLnN5c0NvbmZpZy5hamF4RmlsdGVyUXVlcnkgPSBhamF4RmlsdGVyUXVlcnkgIT09IHVuZGVmaW5lZCA/IGFqYXhGaWx0ZXJRdWVyeSA6IGNvbmZpZy5hamF4RmlsdGVyUXVlcnk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPluS/neWtmOWIl+aIluetm+mAiemhueeahGtleQ0KICAgICAqIEBwYXJhbSB7TnVtYmVyfSB0eXBlIDE96KGo5aS05YiX5L+h5oGvICAyPeetm+mAiemhueS/oeaBrw0KICAgICAqLwogICAgZ2V0U2F2ZUtleTogZnVuY3Rpb24gZ2V0U2F2ZUtleSh0eXBlKSB7CiAgICAgIHJldHVybiB0eXBlID09IDEgPyB0aGlzLmNvbXB1dGVkU2F2ZUNvbHVtbktleSA6IHRoaXMuY29tcHV0ZWRTYXZlUXVlcnlLZXk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOS/neWtmOacrOWcsOWIly/nrZvpgInpobnmlbDmja4NCiAgICAgKiBAcGFyYW0ge0FycmF5fSBzYXZlRGF0YSDpnIDopoHkv53lrZjnmoTooajlpLTliJcv562b6YCJ6aG55pWw5o2uDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgMT3pnIDopoHkv53lrZjnmoTooajlpLTliJcvMj3nrZvpgInpobnmlbDmja4NCiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0g6L+U5ZuecHJvbWlzZeWvueixoQ0KICAgICAqLwogICAgc2F2ZUxvY2FsRmlsdGVyRGF0YTogZnVuY3Rpb24gc2F2ZUxvY2FsRmlsdGVyRGF0YShzYXZlRGF0YSkgewogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMTsKICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U2F2ZUtleSh0eXBlKTsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShzYXZlRGF0YSkpOwogICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBfTWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm5hbWUgKyAnOicgKyBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgICAgICAgfSk7CgogICAgICAgICAgcmVqZWN0KCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5pys5Zyw5YiX5pWw5o2uDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IHR5cGUgMT3pnIDopoHkv53lrZjnmoTooajlpLTliJcvMj3nrZvpgInpobnmlbDmja4NCiAgICAgKi8KICAgIGdldExvY2FsRmlsdGVyRGF0YTogZnVuY3Rpb24gZ2V0TG9jYWxGaWx0ZXJEYXRhKCkgewogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogMTsKICAgICAgdmFyIGtleSA9IHRoaXMuZ2V0U2F2ZUtleSh0eXBlKTsKICAgICAgdmFyIHJlc3VsdDsKCiAgICAgIHRyeSB7CiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpKSB8fCBbXTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICByZXN1bHQgPSBbXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W5p+l6K+i5Y+C5pWwDQogICAgICovCiAgICBnZXRRdWVyeVBhcmFtOiBmdW5jdGlvbiBnZXRRdWVyeVBhcmFtKCkgewogICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuYWpheFBhZ2VQYXJhbXMpLCB0aGlzLmZvcm1EYXRhKSwgdGhpcy5zb3J0UGFyYW1zKTsKICAgIH0sCgogICAgLyoqDQogICAgICog57uf5LiA5aSE55CG6KGo5aS05pWw5o2u77yM5pyN5Yqh56uv5pWw5o2u6KaG55uW5pys5Zyw5pWw5o2u77yI5pWw5o2u5Lul5pys5Zyw5Li65YeG77yM5pys5Zyw5LiN5a2Y5Zyo55qE5YiX5LiN5L2c5aSE55CG77yJDQogICAgICogQHBhcmFtIHtBcnJheX0gbG9jYWxMaXN0IOacrOWcsOWIneWni+eahOihqOWktOaVsOaNrg0KICAgICAqIEBwYXJhbSB7QXJyYXl9IHJlbW90ZUxpc3Qg5pyN5Yqh56uv6YWN572u55qE6KGo5aS05pWw5o2uDQogICAgICovCiAgICBkZWFsQ29sdW1uc0hlYWRlcjogZnVuY3Rpb24gZGVhbENvbHVtbnNIZWFkZXIobG9jYWxMaXN0LCByZW1vdGVMaXN0KSB7CiAgICAgIC8vIGNvbnNvbGUudGltZSgnZGVhbENvbHVtbnNIZWFkZXItdGltZScpOwogICAgICB2YXIgdGVtcFJlbW90ZUxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlbW90ZUxpc3QpKTsgLy/mi7fotJ3ov5znqIvmlbDmja4KCiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsb2NhbExpc3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB2YXIgbG9jYWxJdGVtID0gbG9jYWxMaXN0W2ldOwogICAgICAgIHZhciBsb2NhbFByb3AgPSBsb2NhbEl0ZW0ucHJvcDsgLy/mlbDmja7lhbPplK5rZXnkuI3lrZjlnKjvvIzmraTmlbDmja7pobnkuI3lgZrlpITnkIYKCiAgICAgICAgaWYgKCFsb2NhbFByb3ApIHsKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIH0KCiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0ZW1wUmVtb3RlTGlzdC5sZW5ndGg7IGorKykgewogICAgICAgICAgdmFyIHJlbW90ZUl0ZW0gPSB0ZW1wUmVtb3RlTGlzdFtqXTsKICAgICAgICAgIHZhciByZW1vdGVQcm9wID0gcmVtb3RlSXRlbS5wcm9wOyAvL+aVsOaNrmtleeS4gOiHtO+8jOimhuebluacrOWcsOaVsOaNru+8jOW5tuWcqOaLt+i0neaVsOaNruS4reenu+mZpOatpOmhue+8jOS4jeWBmumHjeWkjeW+queOrwoKICAgICAgICAgIGlmIChyZW1vdGVQcm9wID09IGxvY2FsUHJvcCkgewogICAgICAgICAgICBPYmplY3QuYXNzaWduKGxvY2FsSXRlbSwgcmVtb3RlSXRlbSwgewogICAgICAgICAgICAgIHJlcXVpcmVkOiBsb2NhbEl0ZW0ucmVxdWlyZWQsCiAgICAgICAgICAgICAgbGFiZWw6IGxvY2FsSXRlbS5sYWJlbCAvL+S8mOWFiOS9v+eUqOacrOWcsOWQjeensAoKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRlbXBSZW1vdGVMaXN0LnNwbGljZShqLCAxKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IC8vIGNvbnNvbGUudGltZUVuZCgnZGVhbENvbHVtbnNIZWFkZXItdGltZScpOwoKICAgIH0sCgogICAgLyoqDQogICAgICog6aG156CB5YiH5o2iDQogICAgICogQHBhcmFtIHtOdW1iZXJ9IGN1cnIg5b2T5YmN6aG15Y2h57Si5byVDQogICAgICovCiAgICAvLyBvblBnQ3VycmVudENoYW5nZShjdXJyKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKGN1cnIpOwogICAgLy8gICB0aGlzLnBhZ2VQYXJhbXMucGFnZSA9IGN1cnI7CiAgICAvLyB9LAogICAgLy/mr4/pobXlsZXnpLrmlbDph4/liIfmjaIKICAgIG9uUGdTaXplQ2hhbmdlOiBmdW5jdGlvbiBvblBnU2l6ZUNoYW5nZShzaXplKSB7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5saW1pdCA9IHNpemU7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOihqOWNleafpeivog0KICAgICAqLwogICAgb25RdWVyeUZvcm06IGZ1bmN0aW9uIG9uUXVlcnlGb3JtKCkgewogICAgICB0aGlzLiRlbWl0KCdxdWVyeS1mb3JtJyk7CiAgICAgIHZhciBwYWdlID0gdGhpcy5wYWdlUGFyYW1zLnBhZ2U7CiAgICAgIHBhZ2UgPT09IDEgPyB0aGlzLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKSA6IHRoaXMucGFnZVBhcmFtcy5wYWdlID0gMTsKICAgIH0sCgogICAgLyoqDQogICAgICog6KGo5Y2V6YeN572uDQogICAgICovCiAgICBvblJlc2V0Rm9ybTogZnVuY3Rpb24gb25SZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuZm9ybURhdGEgPSBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmluaXRpYWxGb3JtRGF0YSk7CiAgICAgIHRoaXMuJHJlZnMuY0R5bmFtaWNGb3JtICYmIHRoaXMuJHJlZnMuY0R5bmFtaWNGb3JtLmluaXQoKTsKICAgICAgdGhpcy4kZW1pdCgncmVzZXQtZm9ybScpOwogICAgfSwKICAgIC8v6L+H5ruk562b6YCJ5p2h5Lu2CiAgICBvbkZpbHRlclF1ZXJ5Q29uZGl0aW9uOiBmdW5jdGlvbiBvbkZpbHRlclF1ZXJ5Q29uZGl0aW9uKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3RoaXM0JHN5c0NvbmZpZywgYWpheEZpbHRlclNhdmUsIGFqYXhGaWx0ZXJRdWVyeSwgY2hlY2tGaWx0ZXJQbHVnaW47CgogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM0JHN5c0NvbmZpZyA9IF90aGlzNC5zeXNDb25maWcsIGFqYXhGaWx0ZXJTYXZlID0gX3RoaXM0JHN5c0NvbmZpZy5hamF4RmlsdGVyU2F2ZSwgYWpheEZpbHRlclF1ZXJ5ID0gX3RoaXM0JHN5c0NvbmZpZy5hamF4RmlsdGVyUXVlcnk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gQ0ZpbHRlckNoZWNrUGFuZWwoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgY2hlY2tGaWx0ZXJQbHVnaW4gPSBfY29udGV4dDMuc2VudC5kZWZhdWx0OwogICAgICAgICAgICAgICAgLy/osIPnlKjmmL7npLrliJfmj5Lku7YKICAgICAgICAgICAgICAgIGNoZWNrRmlsdGVyUGx1Z2luLnNob3coewogICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpczQuZm9ybUl0ZW1zLAogICAgICAgICAgICAgICAgICAvL+a6kOaVsOaNriBjaGVja2JveOmbhuWQiAogICAgICAgICAgICAgICAgICAvL+eCueWHu+aPkOS6pOaXtuiwg+eUqOeahOaOpeWPowogICAgICAgICAgICAgICAgICBhamF4RnVuOiBhamF4RmlsdGVyU2F2ZSAmJiBhamF4RmlsdGVyUXVlcnkgPyBmdW5jdGlvbiAocGFyYW1zKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5hamF4U2F2ZUZpbHRlckRhdGEocGFyYW1zLCAyKTsKICAgICAgICAgICAgICAgICAgfSAvL+acrOWcsOe8k+WtmAogICAgICAgICAgICAgICAgICA6IGZ1bmN0aW9uIChwYXJhbXMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNhdmVMb2NhbEZpbHRlckRhdGEocGFyYW1zLCAyKTsKICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgLy/mjqXlj6Pkv53lrZgKICAgICAgICAgICAgICAgICAgc3VjY2Vzc01zZzogX3RoaXM0LnNhdmVTdWNjZXNzTXNnLAogICAgICAgICAgICAgICAgICBlcnJvck1zZzogX3RoaXM0LnNhdmVFcnJvck1zZwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v55uR5ZCs6YCJ5oup5Y+Y5YyWCiAgICBvblNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gb25TZWxlY3Rpb25DaGFuZ2Uocm93cykgewogICAgICB0aGlzLnNlbGVjdFJvd3MgPSByb3dzOwogICAgfSwKICAgIC8v55uR5ZCs5o6S5bqP5Y+Y5YyWCiAgICBvblNvcnRDaGFuZ2U6IGZ1bmN0aW9uIG9uU29ydENoYW5nZShfcmVmKSB7CiAgICAgIHZhciBvcmRlciA9IF9yZWYub3JkZXIsCiAgICAgICAgICBwcm9wID0gX3JlZi5wcm9wOwogICAgICB0aGlzLnNvcnRQYXJhbXMgPSB7CiAgICAgICAgb3JkZXI6IG9yZGVyID09ICdhc2NlbmRpbmcnID8gJ2FzYycgOiAnZGVzYycsCiAgICAgICAgc29ydDogcHJvcAogICAgICB9OwogICAgICB0aGlzLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsKICAgIH0sCiAgICAvL+WIt+aWsHRhYmxlCiAgICBvblJlZnJlc2hUYWJsZTogZnVuY3Rpb24gb25SZWZyZXNoVGFibGUoKSB7CiAgICAgIHRoaXMuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgfSwKICAgIC8v5pi+56S65YiXCiAgICBvbkNoYW5nZUNvbHVtbjogZnVuY3Rpb24gb25DaGFuZ2VDb2x1bW4oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBfdGhpczUkc3lzQ29uZmlnLCBhamF4RmlsdGVyU2F2ZSwgYWpheEZpbHRlclF1ZXJ5LCBjaGVja0ZpbHRlclBsdWdpbjsKCiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpczUkc3lzQ29uZmlnID0gX3RoaXM1LnN5c0NvbmZpZywgYWpheEZpbHRlclNhdmUgPSBfdGhpczUkc3lzQ29uZmlnLmFqYXhGaWx0ZXJTYXZlLCBhamF4RmlsdGVyUXVlcnkgPSBfdGhpczUkc3lzQ29uZmlnLmFqYXhGaWx0ZXJRdWVyeTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBDRmlsdGVyQ2hlY2tQYW5lbCgpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBjaGVja0ZpbHRlclBsdWdpbiA9IF9jb250ZXh0NC5zZW50LmRlZmF1bHQ7CiAgICAgICAgICAgICAgICAvL+iwg+eUqOaYvuekuuWIl+aPkuS7tgogICAgICAgICAgICAgICAgY2hlY2tGaWx0ZXJQbHVnaW4uc2hvdyh7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAn6Ieq5a6a5LmJ5pi+56S65YiXJywKICAgICAgICAgICAgICAgICAgZGF0YTogX3RoaXM1LmhlYWRlcnMsCiAgICAgICAgICAgICAgICAgIC8v5rqQ5pWw5o2uIGNoZWNrYm946ZuG5ZCICiAgICAgICAgICAgICAgICAgIC8v54K55Ye75o+Q5Lqk5pe26LCD55So55qE5o6l5Y+jCiAgICAgICAgICAgICAgICAgIGFqYXhGdW46IGFqYXhGaWx0ZXJTYXZlICYmIGFqYXhGaWx0ZXJRdWVyeSA/IF90aGlzNS5hamF4U2F2ZUZpbHRlckRhdGEgLy/mnKzlnLDnvJPlrZgKICAgICAgICAgICAgICAgICAgOiBfdGhpczUuc2F2ZUxvY2FsRmlsdGVyRGF0YSwKICAgICAgICAgICAgICAgICAgLy/mjqXlj6Pkv53lrZgKICAgICAgICAgICAgICAgICAgc3VjY2Vzc01zZzogX3RoaXM1LnNhdmVTdWNjZXNzTXNnLAogICAgICAgICAgICAgICAgICBlcnJvck1zZzogX3RoaXM1LnNhdmVFcnJvck1zZwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmmK/lkKbmmL7npLrmjInpkq4NCiAgICAgKiBAcGFyYW0geyp9IGJ0biDkv67mlLnliJfooagNCiAgICAgKi8KICAgIGlzSGlkZGVuQnV0dG9uOiBmdW5jdGlvbiBpc0hpZGRlbkJ1dHRvbihidG4pIHsKICAgICAgdmFyIGhpZGRlbiA9IGJ0bi5oaWRkZW47CiAgICAgIGlmICh0eXBlb2YgaGlkZGVuID09PSAnZnVuY3Rpb24nKSByZXR1cm4gaGlkZGVuKGJ0bik7CiAgICAgIHJldHVybiBoaWRkZW47CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"c-table\">\r\n    <c-dynamic-form\r\n      v-if=\"formItems && formItems.length\"\r\n      ref=\"cDynamicForm\"\r\n      :form-data=\"formData\"\r\n      :form-items=\"computedFormItems\"\r\n      :form-attrs=\"formAttrs\"\r\n      @change-model=\"model => (formData = model)\"\r\n      @keyup.enter.native=\"onQueryForm\"\r\n    >\r\n      <el-form-item slot=\"form-after\">\r\n        <el-button @click=\"onResetForm\">重置</el-button>\r\n        <el-button type=\"primary\" @click=\"onQueryForm\">查询</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          v-if=\"showQueryFilter\"\r\n          @click=\"onFilterQueryCondition\"\r\n          >设置筛选项</el-button\r\n        >\r\n      </el-form-item>\r\n    </c-dynamic-form>\r\n    <div class=\"toolbars\">\r\n      <div class=\"toolbars-left\">\r\n        <template v-for=\"(tool, index) in toolbars\">\r\n          <el-dropdown\r\n            v-if=\"tool.type === 'dropdown'\"\r\n            :key=\"index\"\r\n            size=\"small\"\r\n            @command=\"\r\n              command =>\r\n                typeof tool.command === 'function' &&\r\n                tool.command(command, selectRows)\r\n            \"\r\n          >\r\n            <el-button type=\"primary\" v-bind=\"tool.attrs\" size=\"small\">\r\n              {{ tool.label }}<i class=\"el-icon-arrow-down el-icon--right\"></i>\r\n            </el-button>\r\n            <el-dropdown-menu\r\n              v-if=\"tool.btns && tool.btns.length\"\r\n              slot=\"dropdown\"\r\n            >\r\n              <el-dropdown-item\r\n                v-for=\"(btn, i) in tool.btns\"\r\n                v-bind=\"btn.attrs\"\r\n                type=\"primary\"\r\n                size=\"small\"\r\n                :key=\"'' + index + i\"\r\n                v-show=\"!isHiddenButton(tool)\"\r\n                @click.native=\"\r\n                  typeof btn.click === 'function' && btn.click(selectRows)\r\n                \"\r\n              >\r\n                {{ btn.label }}\r\n              </el-dropdown-item>\r\n            </el-dropdown-menu>\r\n          </el-dropdown>\r\n          <slot\r\n            v-else-if=\"tool.type === 'slot'\"\r\n            :name=\"'toolbars|' + tool.slotName\"\r\n            v-bind:rows=\"selectRows\"\r\n          />\r\n          <el-button\r\n            v-else\r\n            v-bind=\"tool.attrs\"\r\n            :key=\"index\"\r\n            type=\"primary\"\r\n            size=\"small\"\r\n            v-show=\"!isHiddenButton(tool)\"\r\n            @click=\"typeof tool.click === 'function' && tool.click(selectRows)\"\r\n          >\r\n            {{ tool.label }}\r\n          </el-button>\r\n        </template>\r\n      </div>\r\n      <div class=\"toolbars-right\">\r\n        <el-button\r\n          type=\"primary\"\r\n          v-if=\"showRefresh\"\r\n          size=\"small\"\r\n          @click=\"onRefreshTable\"\r\n          >刷新</el-button\r\n        >\r\n        <el-button\r\n          type=\"primary\"\r\n          v-if=\"showColumn\"\r\n          size=\"small\"\r\n          @click=\"onChangeColumn\"\r\n          >自定义显示列</el-button\r\n        >\r\n      </div>\r\n    </div>\r\n    <!-- <hl-table :data=\"data\" :headers=\"headers\"></hl-table> -->\r\n    <slot name=\"table-before\" />\r\n    <slot name=\"table-title\"></slot>\r\n    <c-table\r\n      :border=\"true\"\r\n      v-bind=\"$attrs\"\r\n      v-on=\"$listeners\"\r\n      size=\"small\"\r\n      :data=\"tableData\"\r\n      :headers=\"computedHeaders\"\r\n      @selection-change=\"onSelectionChange\"\r\n      @sort-change=\"onSortChange\"\r\n      ref=\"table\"\r\n    >\r\n      <!-- 自定义列插槽 -->\r\n      <template\r\n        v-for=\"col in headers\"\r\n        :slot=\"'column|' + (col.slotName || col.prop)\"\r\n        slot-scope=\"scope\"\r\n      >\r\n        <slot\r\n          :name=\"'column|' + (col.slotName || col.prop)\"\r\n          :row=\"scope.row\"\r\n          :$index=\"scope.$index\"\r\n        ></slot>\r\n      </template>\r\n    </c-table>\r\n    <el-pagination\r\n      background\r\n      layout=\"total, prev, pager, next, sizes, slot, jumper\"\r\n      :page-sizes=\"pageSizes\"\r\n      :total=\"pageParams.total\"\r\n      :current-page.sync=\"pageParams.page\"\r\n      :page-size=\"pageParams.limit\"\r\n      :style=\"{ 'margin-top': pgMarginTop + 'px' }\"\r\n      @size-change=\"onPgSizeChange\"\r\n    >\r\n      <span class=\"el-pagination-slot\">跳至</span>\r\n    </el-pagination>\r\n  </div>\r\n</template>\r\n<script>\r\nlet CFilterCheckPanel = () =>\r\n  import('@/components/common/CFilterCheckPanel/index.js');\r\nimport axios from '@/plugins/axios';\r\nimport { Button, Pagination, Loading, FormItem, Message } from 'element-ui';\r\nimport CDynamicForm from '../../common/CDynamicForm';\r\nimport CTable from '../../common/CTable';\r\nimport { getConfig } from './config';\r\n/**\r\n * 格式化空数据显示\r\n */\r\nlet formatterEmptyData = str =>\r\n  ['', null, undefined].indexOf(str) >= 0 ? '-' : str;\r\nexport default {\r\n  name: 'BTable',\r\n  props: {\r\n    //数据查询是否展示loading\r\n    loading: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //数据查询func，返回promise对象\r\n    ajaxGetData: {\r\n      type: Function,\r\n      default: () => {}\r\n    },\r\n    //保存筛选结果（显示列/筛选项）\r\n    ajaxFilterSave: {\r\n      type: Function\r\n    },\r\n    //查询筛选结果（显示列/筛选项）\r\n    ajaxFilterQuery: {\r\n      type: Function\r\n    },\r\n    //表头数组\r\n    headers: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    //分页组件与表间距\r\n    pgMarginTop: {\r\n      type: Number,\r\n      default: 20\r\n    },\r\n    //每页展示数量选择\r\n    pageSizes: {\r\n      type: Array,\r\n      default: () => [10, 50, 100, 500, 1000]\r\n    },\r\n    //默认每页展示数量\r\n    pageLimit: {\r\n      type: Number,\r\n      default: 50\r\n    },\r\n    // 表单配置\r\n    formItems: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    // 初始化表单数据\r\n    initialFormData: {\r\n      type: Object,\r\n      default: () => ({})\r\n    },\r\n    // 工具栏\r\n    toolbars: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    //显示刷新按钮\r\n    showRefresh: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //显示列\r\n    showColumn: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //显示筛选项按钮\r\n    showQueryFilter: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    //保存column列显示所使用的的key\r\n    saveColumnKey: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    //保存筛选项显示所使用的的key\r\n    saveQueryKey: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    //项目系统(用于保存列数据时的参数)\r\n    system: {\r\n      type: String,\r\n      default: undefined\r\n    },\r\n    //保存列对应的成功提示文案\r\n    saveSuccessMsg: {\r\n      type: String,\r\n      default: '保存成功'\r\n    },\r\n    //保存列对应的失败提示文案\r\n    saveErrorMsg: {\r\n      type: String,\r\n      default: '数据保存失败'\r\n    },\r\n    /**\r\n     * 立即加载\r\n     */\r\n    immediateLoad: {\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n    /**\r\n     * 行数据键值\r\n     */\r\n    // rowKey: {\r\n    //   type: [Function, String]\r\n    // },\r\n    // expandRowKeys: {\r\n    //   type: Array\r\n    // }\r\n  },\r\n  components: {\r\n    CTable,\r\n    ElPagination: Pagination,\r\n    CDynamicForm,\r\n    [FormItem.name]: FormItem,\r\n    [Button.name]: Button\r\n  },\r\n  data() {\r\n    return {\r\n      headerPromise: null,\r\n      computedHeaders: [],\r\n      computedFormItems: [],\r\n      ajaxCount: 0,\r\n      selectRows: [],\r\n      loadingIns: null,\r\n      //分页参数\r\n      pageParams: {\r\n        total: 0,\r\n        offset: 0,\r\n        limit: this.pageLimit,\r\n        page: 1\r\n      },\r\n      //排序参数\r\n      sortParams: {\r\n        sort: undefined,\r\n        order: undefined\r\n      },\r\n      tableData: [],\r\n      // 表单数据\r\n      formData: { ...this.initialFormData },\r\n      // 表单数据\r\n      formAttrs: {\r\n        inline: true,\r\n        size: 'small'\r\n      },\r\n      // 是否是数组\r\n      isArray: arr => Array.isArray(arr),\r\n      sysConfig: {} //根据配置参数及prop入参，动态配置\r\n    };\r\n  },\r\n  watch: {\r\n    //每页展示数量变化\r\n    'pageParams.limit'() {\r\n      let { page } = this.pageParams;\r\n      if (page == 1) {\r\n        //在第一页修改每页数量时，触发重新请求\r\n        this.ajaxGetTableDataByPage();\r\n      } else {\r\n        //非首页修改，将页码改为首页，触发页码更新监听\r\n        this.pageParams.page = 1;\r\n      }\r\n    },\r\n    //当前页码变化\r\n    'pageParams.page'() {\r\n      let { page, limit } = this.pageParams;\r\n      this.pageParams.offset = limit * (page - 1);\r\n      this.ajaxGetTableDataByPage();\r\n    },\r\n    // 数据变化\r\n    tableData() {\r\n      this.$emit('table-data-change', this.tableData);\r\n    },\r\n    formItems() {\r\n      //formItems 变化处理\r\n      this.dealQueryItems();\r\n    }\r\n  },\r\n  computed: {\r\n    //请求入参\r\n    ajaxPageParams() {\r\n      // let param = this.pageParams;\r\n      let { offset, limit, page } = this.pageParams;\r\n      return { offset, limit, pageSize: limit, pageNum: page };\r\n    },\r\n    //存储列数据所用key\r\n    computedSaveColumnKey() {\r\n      if (this.saveColumnKey) return this.saveColumnKey;\r\n      let key;\r\n      try {\r\n        key = this.$route.path;\r\n      } catch (error) {\r\n        key = 'default';\r\n      }\r\n      return 'table|' + key;\r\n    },\r\n    //存储筛选项所用key\r\n    computedSaveQueryKey() {\r\n      if (this.saveQueryKey) return this.saveQueryKey;\r\n      let key;\r\n      try {\r\n        key = this.$route.path;\r\n      } catch (error) {\r\n        key = 'default';\r\n      }\r\n      return 'query|' + key;\r\n    }\r\n  },\r\n  created() {\r\n    this.initConfig(); //默认配置初始化\r\n    this.headerPromise = this.dealHeaders(); //表头处理\r\n    this.dealQueryItems(); //表单查询项处理\r\n  },\r\n  mounted() {\r\n    this.immediateLoad && this.ajaxGetTableDataByPage();\r\n  },\r\n  methods: {\r\n    //分页接口请求数据处理\r\n    ajaxGetTableDataByPage() {\r\n      (this.$refs.cDynamicForm\r\n        ? this.$refs.cDynamicForm.validate()\r\n        : Promise.resolve()\r\n      ).then(() => {\r\n        let tAjaxCount = ++this.ajaxCount;\r\n        let lastLoadingMap = this.lastLoadingMap;\r\n        if (!this.$refs.table) return; //查询中途实例被销毁，终端\r\n        //默认load实例不存在，创建/已存在，使用原有load对象\r\n        if (!this.loadingIns) {\r\n          //填充loading展示默认值，兼容处理\r\n          let loadIns = {\r\n            close() {}\r\n          };\r\n          //需要展示loading\r\n          if (this.loading) {\r\n            loadIns = Loading.service({\r\n              target: this.$refs.table.$el\r\n            });\r\n          }\r\n          this.loadingIns = loadIns;\r\n        }\r\n        let ajaxParams = {\r\n          ...this.ajaxPageParams,\r\n          ...this.formData,\r\n          ...this.sortParams\r\n        };\r\n        //获取func入参\r\n        let dataFun = this.ajaxGetData;\r\n        //完成回调\r\n        let callFun = res => {\r\n          // console.log('-', tAjaxCount, ajaxCount, res, this.pageParams);\r\n          if (tAjaxCount != this.ajaxCount) return; //当前请求非最新请求，跳过处理\r\n          this.loadingIns.close(); //关闭loading\r\n          this.loadingIns = null; //置空load示例\r\n          if (!res) return;\r\n          let data = res.data || {};\r\n          this.tableData = Array.isArray(data.records) ? data.records : []; //表数据\r\n          this.pageParams.total = data.total || 0; //数据长度\r\n          if (this.tableData.length === 0) this.pageParams.page = 1; //无数据时，重定向第一页\r\n        };\r\n        //func判非空并执行\r\n        let dataPromise = dataFun && dataFun(ajaxParams);\r\n        //promise接收返回值\r\n        if (dataPromise && typeof dataPromise.then == 'function') {\r\n          Promise.all([dataPromise, this.headerPromise])\r\n            .then(res => {\r\n              callFun(res[0]);\r\n            })\r\n            .catch(e => {\r\n              console.error(e);\r\n              callFun();\r\n            });\r\n        } else {\r\n          callFun();\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 获取服务端保存的列/筛选项配置信息\r\n     * @param {Number} type 1=表头列信息  2=筛选项信息\r\n     */\r\n    ajaxGetShowFilterData(type = 1) {\r\n      let { system, ajaxFilterQuery } = this.sysConfig;\r\n      let key = this.getSaveKey(type);\r\n      if (typeof ajaxFilterQuery == 'function')\r\n        return ajaxFilterQuery({\r\n          system,\r\n          key\r\n        });\r\n      return [];\r\n    },\r\n    /**\r\n     * 保存显示列/筛选项\r\n     * @param {Number} type 1=表头列信息  2=筛选项信息\r\n     */\r\n    ajaxSaveFilterData(params, type = 1) {\r\n      let { system, ajaxFilterSave } = this.sysConfig;\r\n      let key = this.getSaveKey(type);\r\n      if (typeof ajaxFilterSave == 'function')\r\n        return ajaxFilterSave({\r\n          system,\r\n          key,\r\n          columns: params\r\n        });\r\n      return [];\r\n    },\r\n    //表单查询项预处理，默认筛选显示数据从远程或本地获取并覆盖\r\n    async dealQueryItems() {\r\n      let formItems = this.formItems;\r\n      let { ajaxFilterQuery, ajaxFilterSave } = this.sysConfig;\r\n      //需要“显示列”按钮时，表头需要获取本地或远程保存数据\r\n      if (this.showQueryFilter) {\r\n        let remoteQuerys;\r\n        //服务端保存\r\n        if (ajaxFilterQuery && ajaxFilterSave) {\r\n          try {\r\n            let res = await this.ajaxGetShowFilterData(2);\r\n            remoteQuerys = res;\r\n            console.log('remote-querys', remoteQuerys);\r\n          } catch (error) {\r\n            remoteQuerys = [];\r\n          }\r\n        } else {\r\n          remoteQuerys = this.getLocalFilterData(2);\r\n          console.log('local-querys', remoteQuerys);\r\n        }\r\n        this.dealColumnsHeader(formItems, remoteQuerys); //使用服务端数据覆盖本地数据\r\n      }\r\n      //对header做默认赋值处理\r\n      formItems = formItems.map(headItem => {\r\n        //初始需要赋值字段，否则页面无法根据字段响应\r\n        headItem.required = headItem.required || false;\r\n        headItem.hidden = headItem.hidden || false;\r\n\r\n        // 下拉选择默认启用清除按钮功能\r\n        if (headItem.type === 'select') {\r\n          let clearable = headItem.attrs && headItem.attrs.clearable;\r\n          clearable = clearable === undefined ? true : clearable;\r\n          if (!headItem.attrs) headItem.attrs = {};\r\n          headItem.attrs.clearable = clearable;\r\n        }\r\n        return headItem;\r\n      });\r\n      this.computedFormItems = formItems;\r\n    },\r\n    //header二次封装，处理分页返回数据\r\n    async dealHeaders() {\r\n      let headers = this.headers;\r\n      let { ajaxFilterQuery, ajaxFilterSave } = this.sysConfig;\r\n      //需要“显示列”按钮时，表头需要获取本地或远程保存数据\r\n      if (this.showColumn) {\r\n        let remoteHeaders;\r\n        //服务端保存\r\n        if (ajaxFilterQuery && ajaxFilterSave) {\r\n          try {\r\n            let res = await this.ajaxGetShowFilterData();\r\n            remoteHeaders = res;\r\n            console.log('remote-headers', remoteHeaders);\r\n          } catch (error) {\r\n            remoteHeaders = [];\r\n          }\r\n        } else {\r\n          remoteHeaders = this.getLocalFilterData();\r\n          console.log('local-headers', remoteHeaders);\r\n        }\r\n        this.dealColumnsHeader(headers, remoteHeaders); //使用服务端数据覆盖本地数据\r\n      }\r\n      //对header做默认赋值处理\r\n      this.computedHeaders = headers.map(headItem => {\r\n        //初始需要赋值字段，否则页面无法根据字段响应\r\n        headItem.required = headItem.required || false;\r\n        headItem.hidden = headItem.hidden || false;\r\n        headItem.resizable = headItem.resizable || false;\r\n        let fun = headItem.index;\r\n        //序号类型，补充分页信息返回\r\n        if (headItem.type == 'index' && typeof fun == 'function') {\r\n          headItem.index = index =>\r\n            fun(index, this.pageParams.page, this.pageParams.limit);\r\n          // console.log(headItem.index);\r\n        }\r\n        // 处理空数据显示横杠\r\n        let formatter = headItem.formatter;\r\n        if (typeof formatter === 'function') {\r\n          headItem.formatter = (...args) => {\r\n            let res = formatter.apply(null, args);\r\n            return formatterEmptyData(res);\r\n          };\r\n        } else {\r\n          headItem.formatter = (row, col, value) => formatterEmptyData(value);\r\n        }\r\n        return headItem;\r\n      });\r\n    },\r\n    // 初始化配置，从全局取配置\r\n    initConfig() {\r\n      let config = getConfig();\r\n      let { system, ajaxFilterSave, ajaxFilterQuery } = this.$props;\r\n      this.sysConfig.system = system !== undefined ? system : config.system;\r\n      this.sysConfig.ajaxFilterSave =\r\n        ajaxFilterSave !== undefined ? ajaxFilterSave : config.ajaxFilterSave;\r\n      this.sysConfig.ajaxFilterQuery =\r\n        ajaxFilterQuery !== undefined\r\n          ? ajaxFilterQuery\r\n          : config.ajaxFilterQuery;\r\n    },\r\n    /**\r\n     * 获取保存列或筛选项的key\r\n     * @param {Number} type 1=表头列信息  2=筛选项信息\r\n     */\r\n    getSaveKey(type) {\r\n      return type == 1 ? this.computedSaveColumnKey : this.computedSaveQueryKey;\r\n    },\r\n    /**\r\n     * 保存本地列/筛选项数据\r\n     * @param {Array} saveData 需要保存的表头列/筛选项数据\r\n     * @param {Number} type 1=需要保存的表头列/2=筛选项数据\r\n     * @returns {Promise} 返回promise对象\r\n     */\r\n    saveLocalFilterData(saveData, type = 1) {\r\n      let key = this.getSaveKey(type);\r\n      return new Promise((resolve, reject) => {\r\n        try {\r\n          localStorage.setItem(key, JSON.stringify(saveData));\r\n          resolve();\r\n        } catch (error) {\r\n          Message({\r\n            message: error.name + ':' + error.message,\r\n            type: 'warning',\r\n            duration: 5 * 1000\r\n          });\r\n          reject();\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 获取本地列数据\r\n     * @param {Number} type 1=需要保存的表头列/2=筛选项数据\r\n     */\r\n    getLocalFilterData(type = 1) {\r\n      let key = this.getSaveKey(type);\r\n      let result;\r\n      try {\r\n        result = JSON.parse(localStorage.getItem(key)) || [];\r\n      } catch (error) {\r\n        result = [];\r\n      }\r\n      return result;\r\n    },\r\n    /**\r\n     * 获取查询参数\r\n     */\r\n    getQueryParam() {\r\n      return {\r\n        ...this.ajaxPageParams,\r\n        ...this.formData,\r\n        ...this.sortParams\r\n      };\r\n    },\r\n    /**\r\n     * 统一处理表头数据，服务端数据覆盖本地数据（数据以本地为准，本地不存在的列不作处理）\r\n     * @param {Array} localList 本地初始的表头数据\r\n     * @param {Array} remoteList 服务端配置的表头数据\r\n     */\r\n    dealColumnsHeader(localList, remoteList) {\r\n      // console.time('dealColumnsHeader-time');\r\n      let tempRemoteList = JSON.parse(JSON.stringify(remoteList)); //拷贝远程数据\r\n      for (let i = 0, len = localList.length; i < len; i++) {\r\n        let localItem = localList[i];\r\n        let localProp = localItem.prop;\r\n        //数据关键key不存在，此数据项不做处理\r\n        if (!localProp) {\r\n          continue;\r\n        }\r\n        for (let j = 0; j < tempRemoteList.length; j++) {\r\n          let remoteItem = tempRemoteList[j];\r\n          let remoteProp = remoteItem.prop;\r\n          //数据key一致，覆盖本地数据，并在拷贝数据中移除此项，不做重复循环\r\n          if (remoteProp == localProp) {\r\n            Object.assign(localItem, remoteItem, {\r\n              required: localItem.required,\r\n              label: localItem.label //优先使用本地名称\r\n            });\r\n            tempRemoteList.splice(j, 1);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      // console.timeEnd('dealColumnsHeader-time');\r\n    },\r\n    /**\r\n     * 页码切换\r\n     * @param {Number} curr 当前页卡索引\r\n     */\r\n    // onPgCurrentChange(curr) {\r\n    //   console.log(curr);\r\n    //   this.pageParams.page = curr;\r\n    // },\r\n    //每页展示数量切换\r\n    onPgSizeChange(size) {\r\n      this.pageParams.limit = size;\r\n    },\r\n    /**\r\n     * 表单查询\r\n     */\r\n    onQueryForm() {\r\n      this.$emit('query-form');\r\n      let { page } = this.pageParams;\r\n      page === 1 ? this.ajaxGetTableDataByPage() : (this.pageParams.page = 1);\r\n    },\r\n    /**\r\n     * 表单重置\r\n     */\r\n    onResetForm() {\r\n      this.formData = { ...this.initialFormData };\r\n      this.$refs.cDynamicForm && this.$refs.cDynamicForm.init();\r\n      this.$emit('reset-form');\r\n    },\r\n    //过滤筛选条件\r\n    async onFilterQueryCondition() {\r\n      let { ajaxFilterSave, ajaxFilterQuery } = this.sysConfig;\r\n      let checkFilterPlugin = (await CFilterCheckPanel()).default;\r\n      //调用显示列插件\r\n      checkFilterPlugin.show({\r\n        data: this.formItems, //源数据 checkbox集合\r\n        //点击提交时调用的接口\r\n        ajaxFun:\r\n          ajaxFilterSave && ajaxFilterQuery\r\n            ? params => this.ajaxSaveFilterData(params, 2) //本地缓存\r\n            : params => this.saveLocalFilterData(params, 2), //接口保存\r\n        successMsg: this.saveSuccessMsg,\r\n        errorMsg: this.saveErrorMsg\r\n      });\r\n    },\r\n    //监听选择变化\r\n    onSelectionChange(rows) {\r\n      this.selectRows = rows;\r\n    },\r\n    //监听排序变化\r\n    onSortChange({ order, prop }) {\r\n      this.sortParams = {\r\n        order: order == 'ascending' ? 'asc' : 'desc',\r\n        sort: prop\r\n      };\r\n      this.ajaxGetTableDataByPage();\r\n    },\r\n    //刷新table\r\n    onRefreshTable() {\r\n      this.ajaxGetTableDataByPage();\r\n    },\r\n    //显示列\r\n    async onChangeColumn() {\r\n      let { ajaxFilterSave, ajaxFilterQuery } = this.sysConfig;\r\n      let checkFilterPlugin = (await CFilterCheckPanel()).default;\r\n      //调用显示列插件\r\n      checkFilterPlugin.show({\r\n        title: '自定义显示列',\r\n        data: this.headers, //源数据 checkbox集合\r\n        //点击提交时调用的接口\r\n        ajaxFun:\r\n          ajaxFilterSave && ajaxFilterQuery\r\n            ? this.ajaxSaveFilterData //本地缓存\r\n            : this.saveLocalFilterData, //接口保存\r\n        successMsg: this.saveSuccessMsg,\r\n        errorMsg: this.saveErrorMsg\r\n      });\r\n    },\r\n    /**\r\n     * 是否显示按钮\r\n     * @param {*} btn 修改列表\r\n     */\r\n    isHiddenButton(btn) {\r\n      let { hidden } = btn;\r\n      if (typeof hidden === 'function') return hidden(btn);\r\n      return hidden;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.toolbars {\r\n  margin-bottom: 10px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.el-button + .el-dropdown,\r\n.el-dropdown + .el-button {\r\n  margin-left: 10px;\r\n}\r\n.el-pagination-slot {\r\n  color: @normal-txt;\r\n  font-weight: normal;\r\n  margin-right: -54px;\r\n  background: #fff;\r\n  display: inline-block;\r\n  position: relative;\r\n  z-index: 1;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/business/BTable"}]}