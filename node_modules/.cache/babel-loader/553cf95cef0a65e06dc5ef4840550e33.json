{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/remind-list/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/remind-list/index.vue","mtime":1645178321141},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGZpbmlzaGVkTGlzdCwgcmVtaW5kVW5maW5pc2hlZFBhcmVudHMgfSBmcm9tICcuLi8uLi9hcGkvc3VydmV5JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdSZW1pbmRMaXN0JywKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY3VySWR4OiAwLAogICAgICBmaW5pc2hlZExpc3Q6IFtdLAogICAgICAvLyDlt7Lmj5DkuqTliJfooagKICAgICAgdW5GaW5pc2hlZExpc3Q6IFtdIC8vIOacquaPkOS6pOWIl+ihqAoKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWxOdW06IGZ1bmN0aW9uIHRvdGFsTnVtKCkgewogICAgICB2YXIgbnVtID0gMDsKICAgICAgdGhpcy51bkZpbmlzaGVkTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgbnVtICs9IGl0ZW0uc3R1ZGVudExpc3QubGVuZ3RoOwogICAgICB9KTsKICAgICAgcmV0dXJuIG51bTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFJlbWluZExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluWCrOS6pOWtpueUn+WIl+ihqAogICAgZ2V0UmVtaW5kTGlzdDogZnVuY3Rpb24gZ2V0UmVtaW5kTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBzdXJ2ZXlJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnN1cnZleUlkOwogICAgICBmaW5pc2hlZExpc3QoewogICAgICAgIHN1cnZleUlkOiBzdXJ2ZXlJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXMuZGF0YS5maW5pc2hlZExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5pc1Nob3cgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgICByZXMuZGF0YS51bkZpbmlzaGVkTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpdGVtLmlzU2hvdyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgICAgIF90aGlzLmZpbmlzaGVkTGlzdCA9IHJlcy5kYXRhLmZpbmlzaGVkTGlzdDsKICAgICAgICBfdGhpcy51bkZpbmlzaGVkTGlzdCA9IHJlcy5kYXRhLnVuRmluaXNoZWRMaXN0OwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMuJHRvYXN0KGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyB0YWLliIfmjaIKICAgIGhhbmRsZVRhYkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlVGFiQ2hhbmdlKGlkeCkgewogICAgICB0aGlzLmN1cklkeCA9IGlkeDsKICAgIH0sCiAgICAvLyDlsZXlvIDlrabnlJ/liJfooagKICAgIG9wZW5TdHVuZGVudExpc3Q6IGZ1bmN0aW9uIG9wZW5TdHVuZGVudExpc3QoaWR4KSB7CiAgICAgIGlmICh0aGlzLmN1cklkeCA9PSAwKSB7CiAgICAgICAgdGhpcy51bkZpbmlzaGVkTGlzdFtpZHhdLmlzU2hvdyA9ICF0aGlzLnVuRmluaXNoZWRMaXN0W2lkeF0uaXNTaG93OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmluaXNoZWRMaXN0W2lkeF0uaXNTaG93ID0gIXRoaXMuZmluaXNoZWRMaXN0W2lkeF0uaXNTaG93OwogICAgICB9CiAgICB9LAogICAgLy8g5LiA6ZSu5o+Q6YaSCiAgICBoYW5kbGVSZW1pbmQ6IGZ1bmN0aW9uIGhhbmRsZVJlbWluZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgc3VydmV5SWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zdXJ2ZXlJZDsKICAgICAgcmVtaW5kVW5maW5pc2hlZFBhcmVudHMoewogICAgICAgIHN1cnZleUlkOiBzdXJ2ZXlJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIuJHRvYXN0KCflgqzkuqTmiJDlip8nKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzMi4kdG9hc3QoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA,SAAA,YAAA,EAAA,uBAAA,QAAA,kBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,YADA;AAEA,EAAA,UAAA,EAAA,EAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,CADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAEA;AACA,MAAA,cAAA,EAAA,EAHA,CAGA;;AAHA,KAAA;AAKA,GATA;AAUA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,UAAA,GAAA,GAAA,CAAA;AACA,WAAA,cAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,GAAA,IAAA,IAAA,CAAA,WAAA,CAAA,MAAA;AACA,OAFA;AAGA,aAAA,GAAA;AACA;AAPA,GAVA;AAmBA,EAAA,OAnBA,qBAmBA;AACA,SAAA,aAAA;AACA,GArBA;AAsBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,aAFA,2BAEA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,MAAA,YAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,GAAA,CAAA,IAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,GAAA,KAAA;AACA,SAFA;AAGA,QAAA,GAAA,CAAA,IAAA,CAAA,cAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,MAAA,GAAA,KAAA;AACA,SAFA;AAGA,QAAA,KAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,cAAA,GAAA,GAAA,CAAA,IAAA,CAAA,cAAA;AACA,OAVA,EAWA,KAXA,CAWA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAbA;AAcA,KAlBA;AAmBA;AACA,IAAA,eApBA,2BAoBA,GApBA,EAoBA;AACA,WAAA,MAAA,GAAA,GAAA;AACA,KAtBA;AAuBA;AACA,IAAA,gBAxBA,4BAwBA,GAxBA,EAwBA;AACA,UAAA,KAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,cAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,cAAA,CAAA,GAAA,EAAA,MAAA;AACA,OAFA,MAEA;AACA,aAAA,YAAA,CAAA,GAAA,EAAA,MAAA,GAAA,CAAA,KAAA,YAAA,CAAA,GAAA,EAAA,MAAA;AACA;AACA,KA9BA;AA+BA;AACA,IAAA,YAhCA,0BAgCA;AAAA;;AACA,UAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,MAAA,uBAAA,CAAA;AAAA,QAAA,QAAA,EAAA;AAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,MAAA;AACA,OAHA,EAIA,KAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,MAAA,CAAA,GAAA,CAAA,GAAA;AACA,OANA;AAOA;AAzCA;AAtBA,CAAA","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <div class=\"tab\">\n      <div class=\"item-tab\" @click=\"handleTabChange(0)\">\n        <div class=\"label\" :class=\"curIdx == 0 ? 'active' : ''\">\n          未提交{{ totalNum > 0 ? '(' + totalNum + ')' : '' }}\n        </div>\n        <div class=\"blank\" :class=\"curIdx == 0 ? 'active2' : ''\"></div>\n      </div>\n      <div class=\"item-tab\" @click=\"handleTabChange(1)\">\n        <div class=\"label\" :class=\"curIdx == 1 ? 'active' : ''\">\n          已提交{{\n            this.finishedList.length > 0\n              ? '(' + this.finishedList.length + ')'\n              : ''\n          }}\n        </div>\n        <div class=\"blank\" :class=\"curIdx == 1 ? 'active2' : ''\"></div>\n      </div>\n    </div>\n    <div style=\"height:1rem;\"></div>\n    <!-- 班级列表 未提交 -->\n    <template v-if=\"curIdx == 0\">\n      <div\n        class=\"class-item\"\n        :class=\"\n          item.isShow && index != unFinishedList.length - 1 ? 'active3' : ''\n        \"\n        v-for=\"(item, index) in unFinishedList\"\n        :key=\"index\"\n      >\n        <div class=\"class-info\">\n          <div class=\"class-name\" @click=\"openStundentList(index)\">\n            <div\n              class=\"base-info\"\n              :style=\"\n                item.studentList.length == 0 ? 'color:rgba(0, 0, 0, 0.45);' : ''\n              \"\n            >\n              <div>{{ item.className }}</div>\n            </div>\n            <img\n              class=\"arrow-icon\"\n              :src=\"\n                item.isShow\n                  ? require('@/pages/jx-questionnaire-h5/assets/images/icons/down_arrow_icon.png')\n                  : require('@/pages/jx-questionnaire-h5/assets/images/icons/right_arrow_icon.png')\n              \"\n            />\n          </div>\n        </div>\n        <!-- 学生列表 -->\n        <div class=\"list\" v-if=\"item.isShow\">\n          <template v-if=\"item.studentList.length > 0\">\n            <div\n              class=\"item\"\n              v-for=\"item2 in item.studentList\"\n              :key=\"item2.studentId\"\n            >\n              <div class=\"name\">{{ item2.studentName }}</div>\n            </div>\n          </template>\n          <template v-else>\n            <div class=\"no-student\">暂无激活学生</div>\n          </template>\n        </div>\n      </div>\n      <div class=\"blank\"></div>\n      <div class=\"bottom-btn\">\n        <div @click=\"handleRemind\">一键提醒</div>\n      </div>\n    </template>\n    <!-- 班级列表 已提交 -->\n    <template v-else-if=\"curIdx == 1\">\n      <div\n        class=\"class-item\"\n        :class=\"\n          item.isShow && index != finishedList.length - 1 ? 'active3' : ''\n        \"\n        v-for=\"(item, index) in finishedList\"\n        :key=\"index\"\n      >\n        <div class=\"class-info\">\n          <div class=\"class-name\" @click=\"openStundentList(index)\">\n            <div\n              class=\"base-info\"\n              :style=\"\n                item.studentList.length == 0 ? 'color:rgba(0, 0, 0, 0.45);' : ''\n              \"\n            >\n              <div>{{ item.className }}</div>\n            </div>\n            <img\n              class=\"arrow-icon\"\n              :src=\"\n                item.isShow\n                  ? require('@/pages/jx-questionnaire-h5/assets/images/icons/down_arrow_icon.png')\n                  : require('@/pages/jx-questionnaire-h5/assets/images/icons/right_arrow_icon.png')\n              \"\n            />\n          </div>\n        </div>\n        <!-- 学生列表 -->\n        <div class=\"list\" v-if=\"item.isShow\">\n          <div\n            class=\"item\"\n            v-for=\"item2 in item.studentList\"\n            :key=\"item2.studentId\"\n          >\n            <div class=\"name\">{{ item2.studentName }}</div>\n          </div>\n        </div>\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { finishedList, remindUnfinishedParents } from '../../api/survey';\nexport default {\n  name: 'RemindList',\n  components: {},\n  data() {\n    return {\n      curIdx: 0,\n      finishedList: [], // 已提交列表\n      unFinishedList: [] // 未提交列表\n    };\n  },\n  computed: {\n    totalNum() {\n      let num = 0;\n      this.unFinishedList.forEach(item => {\n        num += item.studentList.length;\n      });\n      return num;\n    }\n  },\n  created() {\n    this.getRemindList();\n  },\n  methods: {\n    // 获取催交学生列表\n    getRemindList() {\n      let surveyId = this.$route.query.surveyId;\n      finishedList({ surveyId })\n        .then(res => {\n          res.data.finishedList.forEach(item => {\n            item.isShow = false;\n          });\n          res.data.unFinishedList.forEach(item => {\n            item.isShow = false;\n          });\n          this.finishedList = res.data.finishedList;\n          this.unFinishedList = res.data.unFinishedList;\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // tab切换\n    handleTabChange(idx) {\n      this.curIdx = idx;\n    },\n    // 展开学生列表\n    openStundentList(idx) {\n      if (this.curIdx == 0) {\n        this.unFinishedList[idx].isShow = !this.unFinishedList[idx].isShow;\n      } else {\n        this.finishedList[idx].isShow = !this.finishedList[idx].isShow;\n      }\n    },\n    // 一键提醒\n    handleRemind() {\n      let surveyId = this.$route.query.surveyId;\n      remindUnfinishedParents({ surveyId })\n        .then(res => {\n          this.$toast('催交成功');\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.app {\n  .active {\n    color: #5ecfa8 !important;\n  }\n  .active2 {\n    background: #5ecfa8 !important;\n  }\n  .tab {\n    background: #ffffff;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 5;\n    display: flex;\n    .item-tab {\n      width: 3.75rem;\n      height: 0.98rem;\n      display: flex;\n      align-items: center;\n      flex-direction: column;\n      .label {\n        font-size: 0.3rem;\n        font-family: PingFangSC-Medium, PingFang SC;\n        font-weight: 500;\n        color: rgba(0, 0, 0, 0.65);\n        padding: 0.3rem 0 0.1rem 0;\n      }\n      .blank {\n        width: 0.48rem;\n        height: 0.06rem;\n        background: #ffffff;\n        border-radius: 0.06rem;\n      }\n    }\n  }\n\n  .class-item {\n    background-color: #ffffff;\n    .class-info {\n      margin: 0 0.24rem;\n      display: flex;\n      align-items: center;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      .class-name {\n        padding: 0.25rem 0;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        flex: 1;\n        .base-info {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.85);\n          display: flex;\n        }\n        .arrow-icon {\n          height: 0.4rem;\n        }\n      }\n    }\n    .list {\n      padding: 0.26rem 0.24rem 0 0.24rem;\n      .item {\n        padding-bottom: 0.26rem;\n        display: flex;\n        align-items: center;\n        & > div {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.85);\n        }\n        .name {\n          padding: 0 0.24rem 0 0.1rem;\n        }\n      }\n      .no-student {\n        padding-bottom: 0.24rem;\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.45);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n    }\n  }\n  .blank {\n    height: 1.76rem;\n  }\n  .bottom-btn {\n    width: 100%;\n    height: 1.76rem;\n    background-color: #ffffff;\n    box-shadow: 0 -0.04rem 0.1rem 0 rgba(0, 0, 0, 0.04);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    & > div {\n      width: 7.02rem;\n      height: 0.98rem;\n      background: #5ecfa8;\n      border-radius: 0.06rem;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 0.34rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: #ffffff;\n    }\n  }\n  .active3 {\n    margin-bottom: 0.2rem;\n  }\n}\n</style>\n"],"sourceRoot":"src/pages/jx-questionnaire-h5/views/remind-list"}]}