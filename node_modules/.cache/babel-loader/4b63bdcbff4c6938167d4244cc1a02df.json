{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/catering/views/order/PreviewOrder/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/catering/views/order/PreviewOrder/index.vue","mtime":1645178321130},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvZnV5dWV5aS9EZXNrdG9wL3lqeS1wcm9qZWN0cy9tdWx0aS1wcm9qZWN0L211dGlsd2FwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnBhZC1zdGFydC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgYmFzZVRyZWVXaXRoUG93ZXJTY2hvb2wsIG9yZGVyU3RhdGlzdGljcywgZ2V0T3JkZXJEZXRhaWwgYXMgX2dldE9yZGVyRGV0YWlsLCBjb21tb25PcmRlckNvbnRlbnRGb3JQYWdlLCBnZXRSZWNvcmQgYXMgX2dldFJlY29yZCwgb3JkZXJDb250ZW50Rm9yU2VsZWN0LCBkZWxldGVPcmRlciBhcyBfZGVsZXRlT3JkZXIsIGRlbGV0ZU9yZGVyQ29udGVudCwgc2F2ZU9yZGVyQW5kQ29udGVudCwgYXBwcm92ZU9yZGVyLCBvcmRlckNvbnRlbnRGb3JQYWdlLCBzYXZlT3JkZXJCYXNlLCBwdXJjaGFzZURldGFpbEV4cG9ydCwgcHVyY2hhc2VPcmRlckV4Y2VsLCBwdXJjaGFzZU9yZGVyRGV0YWlsRXhjZWwsIHB1cmNoYXNlUHJldmlld0V4Y2VsLCBnZXRPcmRlckNvbnRlbnRBcnJpdmFsRGF0ZUxpc3QgYXMgX2dldE9yZGVyQ29udGVudEFycml2YWxEYXRlTGlzdCwgZ2V0T3JkZXJEZXRhaWxJbmZvLCBnZXRPcmRlcklzV2l0aGRyYXduIGFzIF9nZXRPcmRlcklzV2l0aGRyYXduIH0gZnJvbSAnLi4vLi4vLi4vYXBpL29yZGVyL2luZGV4JzsKaW1wb3J0IHsgY29va2luZ1N0eWxlTGlzdCB9IGZyb20gJy4uLy4uLy4uL2FwaS9jcm93ZC9pbmRleCc7CmltcG9ydCBCVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2J1c2luZXNzL0JUYWJsZSc7CmltcG9ydCBDVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DVGFibGUnOwppbXBvcnQgYmFja01vZGlmeSBmcm9tICcuL2NvbXBvbmVudHMvQmFja01vZGlmeS52dWUnOwppbXBvcnQgY2hhcmdlQmFjayBmcm9tICcuL2NvbXBvbmVudHMvQ2hhcmdlQmFjay52dWUnOwppbXBvcnQgcmVjZWl2ZUdvb2RzIGZyb20gJy4vY29tcG9uZW50cy9SZWNlaXZlR29vZHMudnVlJzsKaW1wb3J0IGJhdGNoUmVjZWl2ZUdvb2RzIGZyb20gJy4vY29tcG9uZW50cy9CYXRjaFJlY2VpdmVHb29kcy52dWUnOwppbXBvcnQgTnV0cmlyaW9uQW5hbHlzaXMgZnJvbSAnLi9jb21wb25lbnRzL051dHJpcmlvbkFuYWx5c2lzLnZ1ZSc7CmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsgLy/nirbmgIHmmL7npLrmlofmoYgKCnZhciBzdGF0dXNPYmogPSB7CiAgJzEwMTAwJzogJ+iNieeovycsCiAgJzIwMTAwJzogJ+W+heWuoeaJuScsCiAgJzMwMTAwJzogJ+W3suWuoeaJueacquaUtui0pycsCiAgJzMwMjAwJzogJ+mAgOWNleeUs+ivt+S4rScsCiAgLy/kvpvlupTllYbmnKrlj5HotKcKICAnNDAxMDAnOiAn5bey5a6h5om55pyq5pS26LSnJywKICAnNDAyMDAnOiAn6YCA5Y2V55Sz6K+35LitJywKICAvL+S+m+W6lOWVhuW3suWPkei0pwogICc0MDExMCc6ICflt7LmlLbotKcnLAogICctMTAyMDAnOiAn5a6h5om55pyq6YCa6L+HJywKICAnLTIwMTAwJzogJ+W3sumAgOWNlScKfTsgLy/mk43kvZzmjInpkq7mlofmoYgKCnZhciBvcGVyYUNvZGUgPSB7CiAgJy0xJzogJ+aSpOWbnicsCiAgJy0xMDIwMCc6ICfmiZPlm57kv67mlLknLAogICcyMDEwMCc6ICfmj5DkuqTlrqHmibknLAogICczMDEwMCc6ICflj5bmtojpgIDljZUnLAogICc0MDEwMCc6ICflj5bmtojpgIDljZUnLAogICczMDIwMCc6ICfpgIDljZUnLAogIC8vIOW3suWuoeaJueacquWPkei0pwogICc0MDIwMCc6ICfpgIDljZUnLAogIC8v5L6b5bqU5ZWG5bey5Y+R6LSnCiAgJzQwMTEwJzogJ+aUtui0pycKfTsgLy/ljoblj7LorrDlvZXmmL7npLrliqjkvZzmlofmoYgKCnZhciBoaXN0b3J5Q29kZSA9IHsKICAnLTEnOiAn5pKk5ZueJywKICAnMjAxMDAnOiAn5o+Q5Lqk5a6h5om5JywKICAnMzAxMDAnOiAn5a6h5om56YCa6L+HJywKICAnMzAyMDAnOiAn6YCA5ZueJywKICAnNDAxMDAnOiAn5bey5Y+R6LSnJywKICAnNDAyMDAnOiAn6YCA5ZueJywKICAnNDAxMTAnOiAn5bey5pS26LSnJywKICAnLTIwMTAwJzogJ+W3sumAgOWNlScsCiAgJy0xMDIwMCc6ICcJ5a6h5om55LiN6YCa6L+HJwp9Owp2YXIgdGFicyA9IFt7CiAgbGFiZWw6ICfph4fotK3msYfmgLsnLAogIG5hbWU6ICdzdW1tYXJ5Jwp9LCAvLyB7Ci8vICAgbGFiZWw6ICfoj5zosLHph4fotK0nLAovLyAgIG5hbWU6ICdtZW51JwovLyB9LAp7CiAgbGFiZWw6ICfoj5zlk4Hph4fotK0nLAogIG5hbWU6ICdkaXNoJwp9LCB7CiAgbGFiZWw6ICfpo5/mnZDph4fotK0nLAogIG5hbWU6ICdpbmdyZWRpZW50cycKfV07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHJldmlld09yZGVyJywKICBjb21wb25lbnRzOiB7CiAgICBCVGFibGU6IEJUYWJsZSwKICAgIENUYWJsZTogQ1RhYmxlLAogICAgYmFja01vZGlmeTogYmFja01vZGlmeSwKICAgIGNoYXJnZUJhY2s6IGNoYXJnZUJhY2ssCiAgICByZWNlaXZlR29vZHM6IHJlY2VpdmVHb29kcywKICAgIGJhdGNoUmVjZWl2ZUdvb2RzOiBiYXRjaFJlY2VpdmVHb29kcywKICAgIE51dHJpcmlvbkFuYWx5c2lzOiBOdXRyaXJpb25BbmFseXNpcwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHN0YXRpc3RpY3NJbmZvOiB7CiAgICAgICAgY29udGVudE51bTogMCwKICAgICAgICAvL+iuouWNleWGheWuueaVsOmHjwogICAgICAgIGNsZWFuVmVnZXRhYmxlV2VpZ2h0OiAwLAogICAgICAgIC8v5YeA6I+c6YeN6YePCiAgICAgICAgb3JpZ2luYWxWZWdldGFibGVXZWlnaHQ6IDAsCiAgICAgICAgLy/mr5voj5zmlbDph48KICAgICAgICBjb3N0UHJpY2U6IDAsCiAgICAgICAgLy/miJDmnKzku7cKICAgICAgICBzZWxsaW5nUHJpY2U6IDAgLy/llK7ku7cKCiAgICAgIH0sCiAgICAgIG9yZGVyRm9ybUluZm86IHt9LAogICAgICAvL+iuouWNleivpuaDhQogICAgICBzdGF0dXNPYmo6IHN0YXR1c09iaiwKICAgICAgb3BlcmFDb2RlOiBvcGVyYUNvZGUsCiAgICAgIGhpc3RvcnlDb2RlOiBoaXN0b3J5Q29kZSwKICAgICAgYWN0aXZlTmFtZTogdGFic1swXS5uYW1lLAogICAgICB0YWJzOiB0YWJzLAogICAgICBvcmRlcklkOiBudWxsLAogICAgICBvcmRlckZsYWc6IG51bGwsCiAgICAgIG9yZGVyUmVtYXJrOiAnJywKICAgICAgb3BlcmFUeXBlOiAncHJldmlldycsCiAgICAgIHF1ZXJ5T2JqZWN0OiB7CiAgICAgICAgaW5ncmVkaWVudHM6IDEsCiAgICAgICAgZGlzaDogMiwKICAgICAgICBtZW51OiAzLAogICAgICAgIHN1bW1hcnk6IDkKICAgICAgfSwKICAgICAgbWVhbFR5cGVMaXN0OiBbewogICAgICAgIGxhYmVsOiAn5pep6aSQJywKICAgICAgICB2YWx1ZTogMQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfljYjppJAnLAogICAgICAgIHZhbHVlOiAyCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aZmumkkCcsCiAgICAgICAgdmFsdWU6IDMKICAgICAgfV0sCiAgICAgIGhpc3RvcnlUYWJsZURhdGE6IFtdLAogICAgICBoaXN0b3J0eUhlYWRlcnM6IFt7CiAgICAgICAgbGFiZWw6ICfmk43kvZzkuronLAogICAgICAgIHByb3A6ICdvcGVyYU5hbWUnLAogICAgICAgIGNvbFR5cGU6ICdjb2x1bW4nCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aTjeS9nOiusOW9lScsCiAgICAgICAgcHJvcDogJ29wZXJhUmVjb3JkJywKICAgICAgICBjb2xUeXBlOiAnY29sdW1uJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmk43kvZznirbmgIEnLAogICAgICAgIHByb3A6ICdvcGVyYVN0YXR1cycsCiAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgJ3Nob3ctb3ZlcmZsb3ctdG9vbHRpcCc6IHRydWUKICAgICAgfV0sCiAgICAgIHN1YkFjdGl2ZU5hbWU6ICdzdW0nLAogICAgICBjdXJyZW50VGFiczogW3sKICAgICAgICBsYWJlbDogJzIwMjEtMDctMDUnLAogICAgICAgIG5hbWU6ICcyMDIxLTA3LTA1JwogICAgICB9XSwKICAgICAgbW9kaWZ5VmlzaWJsZTogZmFsc2UsCiAgICAgIGNoYXJnZVZpc2libGU6IGZhbHNlLAogICAgICByZWNlaXZlR29vZHNWaXNpYmxlOiBmYWxzZSwKICAgICAgYmF0Y2hSZWNlaXZlR29vZHNWaXNpYmxlOiBmYWxzZSwKICAgICAgcGFyYW1zOiB7fSwKICAgICAgcmVhc29uOiAnJywKICAgICAgb3JkZXJTdGF0dXNJbWc6ICcnLAogICAgICBpc1BhcmVudDogdHJ1ZSwKICAgICAgY2FuQ2hhZ2VCYWNrOiB0cnVlLAogICAgICBzdXBwbGllck5hbWU6ICcnLAogICAgICAvLyDkvpvotKfllYYuCiAgICAgIGJhdGNoUmVjZWl2ZVJvd3M6IFtdIC8v5om56YeP5pS26LSnCgogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydyb2xlVHlwZSddKSksIHt9LCB7CiAgICBidXlTdGF0ZUxpc3Q6IGZ1bmN0aW9uIGJ1eVN0YXRlTGlzdCgpIHsKICAgICAgdmFyIG9yaWdpbkxpc3QgPSB0aGlzLiRzdG9yZS5zdGF0ZS5kaWN0LkJVWUVSX09SREVSX0RFVEFJTF9TVEFUVVM7CiAgICAgIHJldHVybiBbewogICAgICAgIGxhYmVsOiAn5YWo6YOoJywKICAgICAgICB2YWx1ZTogJycKICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShvcmlnaW5MaXN0KSk7CiAgICB9LAogICAgaGVhZGVyczogZnVuY3Rpb24gaGVhZGVycygpIHsKICAgICAgdmFyIGhlYWRlcnMgPSBbXTsKICAgICAgdmFyIHN1bW1hcnlIZWFkZXJzID0gW3sKICAgICAgICBsYWJlbDogJ+eugOaLvCcsCiAgICAgICAgcHJvcDogJ3BpbnlpbkhlYWRlcicsCiAgICAgICAgJ3Nob3ctb3ZlcmZsb3ctdG9vbHRpcCc6IHRydWUKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn6aOf5p2Q5ZCN56ewJywKICAgICAgICBwcm9wOiAncmVsYXRpb25OYW1lJywKICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICBzbG90TmFtZTogJ25hbWVNZW50aW9uJywKICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgICdzaG93LW92ZXJmbG93LXRvb2x0aXAnOiB0cnVlCiAgICAgIH0sIC8vIHsKICAgICAgLy8gICBsYWJlbDogJ+WIh+mFjeagh+WHhu+8iOmVvyrlrr0q6auYL2Nt77yJJywKICAgICAgLy8gICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgLy8gICBzbG90TmFtZTogJ2N1dFN0YW5kYXJkJywKICAgICAgLy8gICBtaW5XaWR0aDogMTIwLAogICAgICAvLyAgICdzaG93LW92ZXJmbG93LXRvb2x0aXAnOiB0cnVlCiAgICAgIC8vIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogJ+WHgOiPnOmHjemHj++8iGtn77yJJywKICAgICAgICBwcm9wOiAnY2xlYW5WZWdldGFibGVXZWlnaHQnLAogICAgICAgIHdpZHRoOiAxMjAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5q+b6I+c6YeN6YeP77yIa2fvvIknLAogICAgICAgIHByb3A6ICdvcmlnaW5hbFZlZ2V0YWJsZVdlaWdodCcsCiAgICAgICAgd2lkdGg6IDEyMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmlbDph48nLAogICAgICAgIGNvbFR5cGU6ICdjb2x1bW4nLAogICAgICAgIHNsb3ROYW1lOiAncGFja051bScsCiAgICAgICAgd2lkdGg6IDEyMAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmgLvph43ph4/vvIhrZ++8iScsCiAgICAgICAgcHJvcDogJ3F1YW50aXR5JywKICAgICAgICB3aWR0aDogMTIwCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aIkOacrOWPguiAg+S7t++8iOWFg++8iScsCiAgICAgICAgcHJvcDogJ2Nvc3RQcmljZScsCiAgICAgICAgd2lkdGg6IDE0MCAvLyBhbGlnbjogJ3JpZ2h0JwoKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn6aOf5p2Q57G75Z6LJywKICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICBwcm9wOiAnaW5ncmVkaWVudFR5cGUnLAogICAgICAgIHNsb3ROYW1lOiAnaW5ncmVkaWVudFR5cGUnCiAgICAgIH1dOwogICAgICB2YXIgbWVudUhlYWRlcnMgPSBbewogICAgICAgIGxhYmVsOiAn566A5ou8JywKICAgICAgICBwcm9wOiAncGlueWluSGVhZGVyJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfoj5zosLHlkI3np7AnLAogICAgICAgIHByb3A6ICdyZWxhdGlvbk5hbWUnLAogICAgICAgIGNvbFR5cGU6ICdjb2x1bW4nLAogICAgICAgIHNsb3ROYW1lOiAnbmFtZU1lbnRpb24nCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+mAgueUqOS6uue+pCcsCiAgICAgICAgcHJvcDogJ2Nyb3dkTmFtZXMnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aIkOacrOWPguiAg+S7t++8iOWFg++8iScsCiAgICAgICAgcHJvcDogJ2Nvc3RQcmljZScgLy8gd2lkdGg6IDEyMCwKICAgICAgICAvLyBhbGlnbjogJ3JpZ2h0JwoKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5ZSu5Lu377yI5YWD77yJJywKICAgICAgICBwcm9wOiAnc2VsbGluZ1ByaWNlJyAvLyB3aWR0aDogMTIwLAogICAgICAgIC8vIGFsaWduOiAncmlnaHQnCgogICAgICB9XTsKICAgICAgdmFyIGRpc2hIZWFkZXJzID0gW3sKICAgICAgICB0eXBlOiAnaW5kZXgnLAogICAgICAgIGxhYmVsOiAn5bqP5Y+3JywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIGluZGV4KF9pbmRleCwgcGFnZSwgc2l6ZSkgewogICAgICAgICAgcmV0dXJuIF9pbmRleCArIDEgKyAocGFnZSAtIDEpICogc2l6ZTsKICAgICAgICB9CiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+iPnOWTgeWQjeensCcsCiAgICAgICAgcHJvcDogJ3JlbGF0aW9uTmFtZScsCiAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgc2xvdE5hbWU6ICduYW1lTWVudGlvbicsCiAgICAgICAgbWluV2lkdGg6IDEyMCwKICAgICAgICAnc2hvdy1vdmVyZmxvdy10b29sdGlwJzogdHJ1ZQogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfoj5zns7snLAogICAgICAgIHByb3A6ICdkaXNoZXNTdHlsZU5hbWUnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+mAgueUqOS6uue+pCcsCiAgICAgICAgcHJvcDogJ2Nyb3dkTmFtZXMnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+mkkOWIqycsCiAgICAgICAgcHJvcDogJ21lYWxUeXBlJywKICAgICAgICBjb2xUeXBlOiAnY29sdW1uJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmlbDph4/vvIjku73vvIknLAogICAgICAgIHByb3A6ICdxdWFudGl0eScKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5Yiw6LSn5pe26Ze0JywKICAgICAgICBwcm9wOiAnYXJyaXZhbERhdGUnLAogICAgICAgIGNvbFR5cGU6ICdjb2x1bW4nLAogICAgICAgIHdpZHRoOiAxNTAKICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn5oiQ5pys5Y+C6ICD5Lu377yI5YWD77yJJywKICAgICAgICBwcm9wOiAnY29zdFByaWNlJyAvLyB3aWR0aDogMTIwLAogICAgICAgIC8vIGFsaWduOiAncmlnaHQnCgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfllK7ku7fvvIjlhYPvvIknLAogICAgICAgIHByb3A6ICdzZWxsaW5nUHJpY2UnIC8vIHdpZHRoOiAxMjAsCiAgICAgICAgLy8gYWxpZ246ICdyaWdodCcKCiAgICAgIH1dOwogICAgICB2YXIgaW5ncmVkaWVudHNIZWFkZXJzID0gW3sKICAgICAgICB0eXBlOiAnaW5kZXgnLAogICAgICAgIGxhYmVsOiAn5bqP5Y+3JywKICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIGluZGV4KF9pbmRleDIsIHBhZ2UsIHNpemUpIHsKICAgICAgICAgIHJldHVybiBfaW5kZXgyICsgMSArIChwYWdlIC0gMSkgKiBzaXplOwogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGxhYmVsOiAn6aOf5p2Q5ZCN56ewJywKICAgICAgICBwcm9wOiAncmVsYXRpb25OYW1lJywKICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICBzbG90TmFtZTogJ25hbWVNZW50aW9uJywKICAgICAgICBtaW5XaWR0aDogMTIwLAogICAgICAgICdzaG93LW92ZXJmbG93LXRvb2x0aXAnOiB0cnVlCiAgICAgIH0sIC8vIHsKICAgICAgLy8gICBsYWJlbDogJ+WIh+mFjeagh+WHhu+8iOmVvyrlrr0q6auYL2Nt77yJJywKICAgICAgLy8gICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgLy8gICBzbG90TmFtZTogJ2N1dFN0YW5kYXJkJywKICAgICAgLy8gICBtaW5XaWR0aDogMTIwCiAgICAgIC8vIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogJ+WHgOiPnOmHjemHj++8iGtn77yJJywKICAgICAgICBwcm9wOiAnY2xlYW5WZWdldGFibGVXZWlnaHQnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+avm+iPnOmHjemHj++8iGtn77yJJywKICAgICAgICBwcm9wOiAnb3JpZ2luYWxWZWdldGFibGVXZWlnaHQnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+aVsOmHjycsCiAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgc2xvdE5hbWU6ICdwYWNrTnVtJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmgLvph43ph4/vvIhrZ++8iScsCiAgICAgICAgcHJvcDogJ3F1YW50aXR5JwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfliLDotKfml7bpl7QnLAogICAgICAgIHByb3A6ICdhcnJpdmFsRGF0ZScsCiAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgd2lkdGg6IDE1MAogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfmiJDmnKzlj4LogIPku7fvvIjlhYPvvIknLAogICAgICAgIHByb3A6ICdjb3N0UHJpY2UnIC8vIHdpZHRoOiAxMjAsCiAgICAgICAgLy8gYWxpZ246ICdyaWdodCcKCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+mjn+adkOexu+WeiycsCiAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgcHJvcDogJ2luZ3JlZGllbnRUeXBlJywKICAgICAgICBzbG90TmFtZTogJ2luZ3JlZGllbnRUeXBlJwogICAgICB9XTsKCiAgICAgIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT09ICdzdW1tYXJ5JykgewogICAgICAgIGlmICghdGhpcy5pc1BhcmVudCkgewogICAgICAgICAgaGVhZGVycyA9IFt7CiAgICAgICAgICAgIHR5cGU6ICdzZWxlY3Rpb24nLAogICAgICAgICAgICBzZWxlY3RhYmxlOiB0aGlzLnNlbGVjdGFibGUgLy8g5piv5ZCm56aB6YCJCgogICAgICAgICAgfSwgewogICAgICAgICAgICB0eXBlOiAnaW5kZXgnLAogICAgICAgICAgICBsYWJlbDogJ+W6j+WPtycsCiAgICAgICAgICAgIGFsaWduOiAnY2VudGVyJywKICAgICAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIGluZGV4KF9pbmRleDMsIHBhZ2UsIHNpemUpIHsKICAgICAgICAgICAgICByZXR1cm4gX2luZGV4MyArIDEgKyAocGFnZSAtIDEpICogc2l6ZTsKICAgICAgICAgICAgfQogICAgICAgICAgfV0uY29uY2F0KHN1bW1hcnlIZWFkZXJzLCBbewogICAgICAgICAgICBsYWJlbDogJ+adpea6kCcsCiAgICAgICAgICAgIHByb3A6ICdzb3VyY2VTdHJpbmcnCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiAn5Yiw6LSn5pe26Ze0JywKICAgICAgICAgICAgcHJvcDogJ2Fycml2YWxEYXRlJywKICAgICAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgICAgIHdpZHRoOiAxNTAKICAgICAgICAgIH0sIHsKICAgICAgICAgICAgbGFiZWw6ICfnirbmgIEnLAogICAgICAgICAgICBwcm9wOiAnc3RhdHVzJywKICAgICAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgICAgIHNsb3ROYW1lOiAnc3VtU3RhdHVzJywKICAgICAgICAgICAgd2lkdGg6IDEyMAogICAgICAgICAgfSwgewogICAgICAgICAgICBsYWJlbDogJ+aTjeS9nCcsCiAgICAgICAgICAgIHdpZHRoOiAnMTAwcHgnLAogICAgICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICAgICAgc2xvdE5hbWU6ICdzdW1PcGVyYXRpb24nCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiAn5a6e5pS25pWw6YePJywKICAgICAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgICAgIHNsb3ROYW1lOiAnYWN0dWFsUXVhbnRpdHknLAogICAgICAgICAgICB3aWR0aDogMTIwCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiAn5a6e5pS25oiQ5pys77yI5YWD77yJJywKICAgICAgICAgICAgcHJvcDogJ2FjdHVhbENvc3QnLAogICAgICAgICAgICB3aWR0aDogMTIwCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGxhYmVsOiAn5pS26LSn57G75Z6LJywKICAgICAgICAgICAgcHJvcDogJ2FjdHVhbFR5cGUnLAogICAgICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICAgICAgc2xvdE5hbWU6ICdhY3R1YWxUeXBlJwogICAgICAgICAgfSwgewogICAgICAgICAgICBsYWJlbDogJ+Wkh+azqCcsCiAgICAgICAgICAgIHByb3A6ICdyZW1hcmtzJywKICAgICAgICAgICAgJ3Nob3ctb3ZlcmZsb3ctdG9vbHRpcCc6IHRydWUKICAgICAgICAgIH1dKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHRoaXMub3JkZXJGbGFnICE9ICcyMDEwMCcgJiYgdGhpcy5vcmRlckZsYWcgIT0gJzEwMTAwJyAmJiB0aGlzLm9yZGVyRmxhZyAhPSAnLTEwMjAwJykgewogICAgICAgICAgICBpZiAodGhpcy5zdWJBY3RpdmVOYW1lICE9PSAnc3VtJykgewogICAgICAgICAgICAgIC8v5YW35L2T5pel5pyfCiAgICAgICAgICAgICAgaGVhZGVycyA9IFt7CiAgICAgICAgICAgICAgICB0eXBlOiAnaW5kZXgnLAogICAgICAgICAgICAgICAgbGFiZWw6ICfluo/lj7cnLAogICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIGluZGV4KF9pbmRleDQsIHBhZ2UsIHNpemUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9pbmRleDQgKyAxICsgKHBhZ2UgLSAxKSAqIHNpemU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgbGFiZWw6ICfppJDliKsnLAogICAgICAgICAgICAgICAgcHJvcDogJ21lYWxUeXBlJywKICAgICAgICAgICAgICAgIGNvbFR5cGU6ICdjb2x1bW4nLAogICAgICAgICAgICAgICAgc2xvdE5hbWU6ICdtZWFsVHlwZScKICAgICAgICAgICAgICB9XS5jb25jYXQoc3VtbWFyeUhlYWRlcnMsIFt7CiAgICAgICAgICAgICAgICBsYWJlbDogJ+WIsOi0p+aXtumXtCcsCiAgICAgICAgICAgICAgICBwcm9wOiAnYXJyaXZhbFRpbWUnCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgbGFiZWw6ICfmnaXmupAnLAogICAgICAgICAgICAgICAgcHJvcDogJ3NvdXJjZVN0cmluZycKICAgICAgICAgICAgICB9XSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaGVhZGVycyA9IFt7CiAgICAgICAgICAgICAgICB0eXBlOiAnaW5kZXgnLAogICAgICAgICAgICAgICAgbGFiZWw6ICfluo/lj7cnLAogICAgICAgICAgICAgICAgYWxpZ246ICdjZW50ZXInLAogICAgICAgICAgICAgICAgaW5kZXg6IGZ1bmN0aW9uIGluZGV4KF9pbmRleDUsIHBhZ2UsIHNpemUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9pbmRleDUgKyAxICsgKHBhZ2UgLSAxKSAqIHNpemU7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfV0uY29uY2F0KHN1bW1hcnlIZWFkZXJzLCBbewogICAgICAgICAgICAgICAgbGFiZWw6ICfnirbmgIEnLAogICAgICAgICAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgICAgICAgICBwcm9wOiAnb3V0T2ZTdG9jaycsCiAgICAgICAgICAgICAgICBoaWRkZW46IHRoaXMub3BlcmFUeXBlID09ICdwcmV2aWV3JyA/IGZhbHNlIDogdHJ1ZQogICAgICAgICAgICAgIH1dKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g6I2J56i/L+W+heWuoeaJuS/lrqHmibnmnKrpgJrov4cKICAgICAgICAgICAgaWYgKHRoaXMuc3ViQWN0aXZlTmFtZSAhPT0gJ3N1bScpIHsKICAgICAgICAgICAgICBoZWFkZXJzID0gW3sKICAgICAgICAgICAgICAgIHR5cGU6ICdpbmRleCcsCiAgICAgICAgICAgICAgICBsYWJlbDogJ+W6j+WPtycsCiAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICBpbmRleDogZnVuY3Rpb24gaW5kZXgoX2luZGV4NiwgcGFnZSwgc2l6ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX2luZGV4NiArIDEgKyAocGFnZSAtIDEpICogc2l6ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBsYWJlbDogJ+mkkOWIqycsCiAgICAgICAgICAgICAgICBwcm9wOiAnbWVhbFR5cGUnLAogICAgICAgICAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgICAgICAgICBzbG90TmFtZTogJ21lYWxUeXBlJwogICAgICAgICAgICAgIH1dLmNvbmNhdChzdW1tYXJ5SGVhZGVycywgW3sKICAgICAgICAgICAgICAgIGxhYmVsOiAn5Yiw6LSn5pe26Ze0JywKICAgICAgICAgICAgICAgIHByb3A6ICdhcnJpdmFsVGltZScKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBsYWJlbDogJ+adpea6kCcsCiAgICAgICAgICAgICAgICBwcm9wOiAnc291cmNlU3RyaW5nJwogICAgICAgICAgICAgIH1dKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBoZWFkZXJzID0gW3sKICAgICAgICAgICAgICAgIHR5cGU6ICdpbmRleCcsCiAgICAgICAgICAgICAgICBsYWJlbDogJ+W6j+WPtycsCiAgICAgICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsCiAgICAgICAgICAgICAgICBpbmRleDogZnVuY3Rpb24gaW5kZXgoX2luZGV4NywgcGFnZSwgc2l6ZSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gX2luZGV4NyArIDEgKyAocGFnZSAtIDEpICogc2l6ZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9XS5jb25jYXQoc3VtbWFyeUhlYWRlcnMsIFt7CiAgICAgICAgICAgICAgICBsYWJlbDogJ+eKtuaAgScsCiAgICAgICAgICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICAgICAgICAgIHByb3A6ICdvdXRPZlN0b2NrJywKICAgICAgICAgICAgICAgIGhpZGRlbjogdGhpcy5vcGVyYVR5cGUgPT0gJ3ByZXZpZXcnID8gZmFsc2UgOiB0cnVlCiAgICAgICAgICAgICAgfV0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuYWN0aXZlTmFtZSA9PT0gJ21lbnUnKSB7CiAgICAgICAgaGVhZGVycyA9IFtdLmNvbmNhdChtZW51SGVhZGVycyk7CiAgICAgIH0gZWxzZSBpZiAodGhpcy5hY3RpdmVOYW1lID09ICdkaXNoJykgewogICAgICAgIGhlYWRlcnMgPSBbXS5jb25jYXQoZGlzaEhlYWRlcnMsIFt7CiAgICAgICAgICBsYWJlbDogJ+eKtuaAgScsCiAgICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICAgIHByb3A6ICdvdXRPZlN0b2NrJywKICAgICAgICAgIGhpZGRlbjogdGhpcy5vcGVyYVR5cGUgPT0gJ3ByZXZpZXcnID8gZmFsc2UgOiB0cnVlCiAgICAgICAgfV0pOwogICAgICB9IGVsc2UgewogICAgICAgIGhlYWRlcnMgPSBbXS5jb25jYXQoaW5ncmVkaWVudHNIZWFkZXJzLCBbewogICAgICAgICAgbGFiZWw6ICfnirbmgIEnLAogICAgICAgICAgY29sVHlwZTogJ2NvbHVtbicsCiAgICAgICAgICBwcm9wOiAnb3V0T2ZTdG9jaycsCiAgICAgICAgICBoaWRkZW46IHRoaXMub3BlcmFUeXBlID09ICdwcmV2aWV3JyA/IGZhbHNlIDogdHJ1ZQogICAgICAgIH1dKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGhlYWRlcnM7CiAgICB9LAogICAgZm9ybUl0ZW1zOiBmdW5jdGlvbiBmb3JtSXRlbXMoKSB7CiAgICAgIHZhciBmb3JtSXRlbXMgPSBbXTsKCiAgICAgIGlmICh0aGlzLmlzUGFyZW50KSB7CiAgICAgICAgc3dpdGNoICh0aGlzLmFjdGl2ZU5hbWUpIHsKICAgICAgICAgIGNhc2UgJ3N1bW1hcnknOgogICAgICAgICAgICBmb3JtSXRlbXMgPSBbewogICAgICAgICAgICAgIHR5cGU6ICdpbnB1dCcsCiAgICAgICAgICAgICAgcHJvcDogJ25hbWVPclBpbnlpbkhlYWRlcicsCiAgICAgICAgICAgICAgbGFiZWw6ICcnLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+ivt+i+k+WFpeWQjeensOOAgeeugOaLvCcKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICB0eXBlOiAnc2VsZWN0JywKICAgICAgICAgICAgICBwcm9wOiAnb3V0T2ZTdG9jaycsCiAgICAgICAgICAgICAgbGFiZWw6ICfnirbmgIEnLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+eKtuaAgScKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9wdGlvbnM6IFt7CiAgICAgICAgICAgICAgICBsYWJlbDogJ+WFqOmDqCcsCiAgICAgICAgICAgICAgICB2YWx1ZTogJycKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBsYWJlbDogJ+e8uui0pycsCiAgICAgICAgICAgICAgICB2YWx1ZTogMQogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGxhYmVsOiAnIOaciei0pycsCiAgICAgICAgICAgICAgICB2YWx1ZTogMAogICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdkaXNoJzoKICAgICAgICAgICAgZm9ybUl0ZW1zID0gW3sKICAgICAgICAgICAgICB0eXBlOiAnaW5wdXQnLAogICAgICAgICAgICAgIHByb3A6ICduYW1lT3JQaW55aW5IZWFkZXInLAogICAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXlkI3np7DjgIHnroDmi7wnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICAgICAgcHJvcDogJ2Rpc2hlc1N0eWxlSWQnLAogICAgICAgICAgICAgIGxhYmVsOiAn6I+c57O7JywKICAgICAgICAgICAgICBsYWJlbEtleTogJ25hbWUnLAogICAgICAgICAgICAgIHZhbHVlS2V5OiAnaWQnLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+iPnOezuycKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGFqYXg6IGZ1bmN0aW9uIGFqYXgoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29va2luZ1N0eWxlTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICAgICAgcHJvcDogJ21lYWxUeXBlJywKICAgICAgICAgICAgICBsYWJlbDogJ+mkkOWIqycsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6aSQ5YirJwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb3B0aW9uczogdGhpcy5tZWFsVHlwZUxpc3QKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgICAgIHByb3A6ICdvdXRPZlN0b2NrJywKICAgICAgICAgICAgICBsYWJlbDogJ+eKtuaAgScsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn54q25oCBJwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb3B0aW9uczogW3sKICAgICAgICAgICAgICAgIGxhYmVsOiAn5YWo6YOoJywKICAgICAgICAgICAgICAgIHZhbHVlOiAnJwogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGxhYmVsOiAn57y66LSnJywKICAgICAgICAgICAgICAgIHZhbHVlOiAxCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgbGFiZWw6ICcg5pyJ6LSnJywKICAgICAgICAgICAgICAgIHZhbHVlOiAwCiAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgJ2luZ3JlZGllbnRzJzoKICAgICAgICAgICAgZm9ybUl0ZW1zID0gW3sKICAgICAgICAgICAgICB0eXBlOiAnaW5wdXQnLAogICAgICAgICAgICAgIHByb3A6ICduYW1lT3JQaW55aW5IZWFkZXInLAogICAgICAgICAgICAgIGxhYmVsOiAnJywKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfor7fovpPlhaXlkI3np7DjgIHnroDmi7wnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgdHlwZTogJ3NlbGVjdCcsCiAgICAgICAgICAgICAgcHJvcDogJ291dE9mU3RvY2snLAogICAgICAgICAgICAgIGxhYmVsOiAn54q25oCBJywKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfnirbmgIEnCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvcHRpb25zOiBbewogICAgICAgICAgICAgICAgbGFiZWw6ICflhajpg6gnLAogICAgICAgICAgICAgICAgdmFsdWU6ICcnCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgbGFiZWw6ICfnvLrotKcnLAogICAgICAgICAgICAgICAgdmFsdWU6IDEKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBsYWJlbDogJyDmnInotKcnLAogICAgICAgICAgICAgICAgdmFsdWU6IDAKICAgICAgICAgICAgICB9XQogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgZm9ybUl0ZW1zID0gW107CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuYWN0aXZlTmFtZSkgewogICAgICAgICAgY2FzZSAnc3VtbWFyeSc6CiAgICAgICAgICAgIGZvcm1JdGVtcyA9IFt7CiAgICAgICAgICAgICAgdHlwZTogJ2lucHV0JywKICAgICAgICAgICAgICBwcm9wOiAnbmFtZU9yUGlueWluSGVhZGVyJywKICAgICAgICAgICAgICBsYWJlbDogJycsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5ZCN56ew44CB566A5ou8JwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgICAgIHByb3A6ICdzdGF0dXMnLAogICAgICAgICAgICAgIGxhYmVsOiAn54q25oCBJywKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfnirbmgIEnCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvcHRpb25zOiB0aGlzLmJ1eVN0YXRlTGlzdAogICAgICAgICAgICB9XTsKICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgY2FzZSAnZGlzaCc6CiAgICAgICAgICAgIGZvcm1JdGVtcyA9IFt7CiAgICAgICAgICAgICAgdHlwZTogJ2lucHV0JywKICAgICAgICAgICAgICBwcm9wOiAnbmFtZU9yUGlueWluSGVhZGVyJywKICAgICAgICAgICAgICBsYWJlbDogJycsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5ZCN56ew44CB566A5ou8JwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgICAgIHByb3A6ICdkaXNoZXNTdHlsZUlkJywKICAgICAgICAgICAgICBsYWJlbDogJ+iPnOezuycsCiAgICAgICAgICAgICAgbGFiZWxLZXk6ICduYW1lJywKICAgICAgICAgICAgICB2YWx1ZUtleTogJ2lkJywKICAgICAgICAgICAgICBhdHRyczogewogICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICfoj5zns7snCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBhamF4OiBmdW5jdGlvbiBhamF4KCkgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvb2tpbmdTdHlsZUxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgICAgIHByb3A6ICdtZWFsVHlwZScsCiAgICAgICAgICAgICAgbGFiZWw6ICfppJDliKsnLAogICAgICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ+mkkOWIqycKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG9wdGlvbnM6IHRoaXMubWVhbFR5cGVMaXN0CiAgICAgICAgICAgIH1dOwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlICdpbmdyZWRpZW50cyc6CiAgICAgICAgICAgIGZvcm1JdGVtcyA9IFt7CiAgICAgICAgICAgICAgdHlwZTogJ2lucHV0JywKICAgICAgICAgICAgICBwcm9wOiAnbmFtZU9yUGlueWluSGVhZGVyJywKICAgICAgICAgICAgICBsYWJlbDogJycsCiAgICAgICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAn6K+36L6T5YWl5ZCN56ew44CB566A5ou8JwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfV07CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIGZvcm1JdGVtcyA9IFtdOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmb3JtSXRlbXM7CiAgICB9LAogICAgc3ViVGFiczogZnVuY3Rpb24gc3ViVGFicygpIHsKICAgICAgdmFyIHRhYk9yaWdpbiA9IHsKICAgICAgICBsYWJlbDogJ+axh+aAuycsCiAgICAgICAgbmFtZTogJ3N1bScKICAgICAgfTsKICAgICAgcmV0dXJuIFt0YWJPcmlnaW5dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkodGhpcy5jdXJyZW50VGFicykpOwogICAgfSwKICAgIGNhbkJhdGNoUmVjZWl2ZTogZnVuY3Rpb24gY2FuQmF0Y2hSZWNlaXZlKCkgewogICAgICBpZiAodGhpcy5vcmRlckZsYWcgPT0gJzQwMTAwJyB8fCB0aGlzLm9yZGVyRmxhZyA9PSAnMzAxNTAnKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBxdWVyeU9iaiA9IHRoaXMuJHJvdXRlLnF1ZXJ5OwogICAgdGhpcy5vcmRlcklkID0gcXVlcnlPYmoub3JkZXJJZDsKICAgIHRoaXMub3BlcmFUeXBlID0gcXVlcnlPYmoub3BlcmFUeXBlOwoKICAgIGlmIChxdWVyeU9iai5vcmRlckZsYWcpIHsKICAgICAgdGhpcy5vcmRlckZsYWcgPSBxdWVyeU9iai5vcmRlckZsYWcgKyAnJzsKICAgIH0gLy8gdGhpcy5pc1BhcmVudCA9IHF1ZXJ5T2JqLmlzUGFyZW50ID8gSlNPTi5wYXJzZShxdWVyeU9iai5pc1BhcmVudCkgOiB0cnVlOwoKCiAgICB0cnkgewogICAgICB0aGlzLmlzUGFyZW50ID0gSlNPTi5wYXJzZShxdWVyeU9iai5pc1BhcmVudCk7CiAgICB9IGNhdGNoIChlKSB7fQoKICAgIFByb21pc2UuYWxsKFt0aGlzLmdldE9yZGVyRGV0YWlsKCksIHRoaXMuZ2V0T3JkZXJDb250ZW50QXJyaXZhbERhdGVMaXN0KCksIHRoaXMuZ2V0T3JkZXJJc1dpdGhkcmF3bigpXSk7CgogICAgaWYgKHRoaXMub3BlcmFUeXBlID09ICdvcmRlck1hbmFnZScpIHsKICAgICAgdGhpcy4kcm91dGUubWV0YS50aXRsZSA9ICforqLljZXnrqHnkIYnOwogICAgICB0aGlzLmdldFJlY29yZCgpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5zZXRJbWcoX3RoaXMub3JkZXJGbGFnKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgc2VsZWN0YWJsZTogZnVuY3Rpb24gc2VsZWN0YWJsZShyb3cpIHsKICAgICAgaWYgKHRoaXMub3JkZXJGbGFnICE9ICczMDIwMCcgJiYgdGhpcy5vcmRlckZsYWcgIT0gJzQwMjAwJykgewogICAgICAgIGlmIChyb3cuc3RhdHVzID09ICcyMDIwMTAwJykgewogICAgICAgICAgcmV0dXJuIHRoaXMuJGhhcyhbJ29yZGVyLW9wZXJhLXJlY2VpdmUnXSkgfHwgdGhpcy4kaGFzKFsnb3JkZXItb3BlcmEtcmVjZWl2ZS1zcGVjaWFsJ10pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHJvdy5zdGF0dXMgPT0gJzIwMzAxMDAnKSB7CiAgICAgICAgICByZXR1cm4gdGhpcy4kaGFzKFsnb3JkZXItb3BlcmEtcmVjZWl2ZSddKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlVGFiQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVRhYkNsaWNrKCkge30sCiAgICBpc09wZXJhdGlvbkRpc2FibGVkOiBmdW5jdGlvbiBpc09wZXJhdGlvbkRpc2FibGVkKCkgewogICAgICBjb25zb2xlLmxvZygzMzMzMzMzMywgdGhpcy4kaGFzKFsnb3JkZXItb3BlcmEtcmVjZWl2ZS1zcGVjaWFsJ10pKTsKCiAgICAgIGlmICh0aGlzLm9yZGVyRmxhZyA9PSAnMzAyMDAnIHx8IHRoaXMub3JkZXJGbGFnID09ICc0MDIwMCcpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTdWJUYWJDbGljazogZnVuY3Rpb24gaGFuZGxlU3ViVGFiQ2xpY2sodGFiKSB7CiAgICAgIHRoaXMuc3ViQWN0aXZlTmFtZSA9IHRhYi5uYW1lOwogICAgfSwKICAgIGZldGNoVGFibGVEYXRhOiBmdW5jdGlvbiBmZXRjaFRhYmxlRGF0YShkYXRhKSB7CiAgICAgIHRoaXMucGFyYW1zID0gZGF0YTsKICAgICAgcmV0dXJuIGNvbW1vbk9yZGVyQ29udGVudEZvclBhZ2UoT2JqZWN0LmFzc2lnbihkYXRhLCB7CiAgICAgICAgb3JkZXJJZDogdGhpcy5vcmRlcklkLAogICAgICAgIHF1ZXJ5VHlwZTogdGhpcy5xdWVyeU9iamVjdFt0aGlzLmFjdGl2ZU5hbWVdLAogICAgICAgIGFycml2YWxEYXRlOiB0aGlzLmFjdGl2ZU5hbWUgPT09ICdzdW1tYXJ5JyA/IHRoaXMuc3ViQWN0aXZlTmFtZSA9PT0gJ3N1bScgPyAnJyA6IHRoaXMuc3ViQWN0aXZlTmFtZSA6ICcnCiAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHsKICAgICAgICAgIHJldHVybiByZXNvbHZlKHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldE9yZGVyRGV0YWlsOiBmdW5jdGlvbiBnZXRPcmRlckRldGFpbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBfZ2V0T3JkZXJEZXRhaWwoewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIub3JkZXJGb3JtSW5mbyA9IHJlcy5kYXRhIHx8IHt9OwogICAgICAgIF90aGlzMi5vcmRlckZsYWcgPSBfdGhpczIub3JkZXJGb3JtSW5mby5zdGF0dXMgfHwgbnVsbDsKICAgICAgICBfdGhpczIuc3VwcGxpZXJOYW1lID0gX3RoaXMyLm9yZGVyRm9ybUluZm8uc3VwcGxpZXJOYW1lOwoKICAgICAgICBpZiAoX3RoaXMyLm9wZXJhVHlwZSA9PSAncHJldmlldycgfHwgX3RoaXMyLm9wZXJhVHlwZSA9PSAnb3JkZXJNYW5hZ2UnICYmIF90aGlzMi5vcmRlckZsYWcgPT0gJzEwMTAwJykgewogICAgICAgICAgX3RoaXMyLm9yZGVyUmVtYXJrID0gX3RoaXMyLm9yZGVyRm9ybUluZm8ucmVtYXJrczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldE9yZGVyQ29udGVudEFycml2YWxEYXRlTGlzdDogZnVuY3Rpb24gZ2V0T3JkZXJDb250ZW50QXJyaXZhbERhdGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIF9nZXRPcmRlckNvbnRlbnRBcnJpdmFsRGF0ZUxpc3QoewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0ZUxpc3QgPSByZXMuZGF0YSB8fCBbXTsKICAgICAgICBfdGhpczMuY3VycmVudFRhYnMgPSBkYXRlTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGxhYmVsOiBpdGVtLAogICAgICAgICAgICBuYW1lOiBpdGVtCiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRPcmRlcklzV2l0aGRyYXduOiBmdW5jdGlvbiBnZXRPcmRlcklzV2l0aGRyYXduKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIF9nZXRPcmRlcklzV2l0aGRyYXduKHsKICAgICAgICBpZDogdGhpcy5vcmRlcklkCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzNC5jYW5DaGFnZUJhY2sgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0Um93Q3VzdG9tTmFtZTogZnVuY3Rpb24gZ2V0Um93Q3VzdG9tTmFtZShfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleDsKCiAgICAgIGlmIChyb3cub3V0T2ZTdG9jaykgewogICAgICAgIHJldHVybiAndGFibGUtbm8tcHJvZHVjdGlvbic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICcnOwogICAgICB9CiAgICB9LAogICAgZ2V0T3JkZXJTdGF0dXM6IGZ1bmN0aW9uIGdldE9yZGVyU3RhdHVzKHN0YXR1cykgewogICAgICB2YXIgdHlwZSA9IHRoaXMuJEQoJ09SREVSX1RZUEUnLCAnJyArIHN0YXR1cykgfHwgJyc7IC8vIHN3aXRjaCAoc3RhdHVzKSB7CiAgICAgIC8vICAgY2FzZSAxOgogICAgICAvLyAgICAgdHlwZSA9ICfluLjop4QnOwogICAgICAvLyAgICAgYnJlYWs7CiAgICAgIC8vICAgY2FzZSAyOgogICAgICAvLyAgICAgdHlwZSA9ICfntKfmgKUnOwogICAgICAvLyAgICAgYnJlYWs7CiAgICAgIC8vICAgZGVmYXVsdDoKICAgICAgLy8gICAgIGJyZWFrOwogICAgICAvLyB9CgogICAgICByZXR1cm4gdHlwZTsKICAgIH0sCiAgICBkZWxldGVPcmRlcjogZnVuY3Rpb24gZGVsZXRlT3JkZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgdGhpcy4kY29uZmlybSgn5oKo56Gu5a6a6KaB5Yig6Zmk5ZCXPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfZGVsZXRlT3JkZXIoewogICAgICAgICAgb3JkZXJJZDogX3RoaXM1Lm9yZGVySWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNS53YXJuaW5nKCfliKDpmaTmiJDlip8nLCAnc3VjY2VzcycpOwoKICAgICAgICAgIF90aGlzNS4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL29yZGVyL29yZGVyLW1hbmFnZW1lbnQtcHVyY2hhc2UnCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIGVkaU9yZGVyOiBmdW5jdGlvbiBlZGlPcmRlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvb3JkZXIvZWRpdC1vcmRlcicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZCwKICAgICAgICAgIG9wZXJhVHlwZTogJ2VkaXQnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVPcmRlcjogZnVuY3Rpb24gaGFuZGxlT3JkZXIoY29kZSwgdHlwZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBuYW1lID0gdGhpcy5vcGVyYUNvZGVbY29kZV07CgogICAgICBpZiAodHlwZSA9PSAnYXBwcm92ZXInICYmIGNvZGUgPT0gJzMwMTAwJykgewogICAgICAgIG5hbWUgPSAn5a6h5om56YCa6L+HJzsKICAgICAgfQoKICAgICAgdGhpcy4kY29uZmlybSgiXHU2MEE4XHU3ODZFXHU1QjlBXHU4OTgxIi5jb25jYXQobmFtZSwgIlx1NTQxNz8iKSwgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGFwcHJvdmVPcmRlcih7CiAgICAgICAgICBpZDogX3RoaXM2Lm9yZGVySWQsCiAgICAgICAgICByZW1hcms6IF90aGlzNi5vcmRlclJlbWFyaywKICAgICAgICAgIGNvZGU6IGNvZGUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChjb2RlID09ICczMDIwMCcgfHwgY29kZSA9PSAnNDAyMDAnKSB7CiAgICAgICAgICAgIF90aGlzNi53YXJuaW5nKCfpgIDljZXnlLPor7flt7Lmj5DkuqQnLCAnc3VjY2VzcycpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXM2Lndhcm5pbmcoIiIuY29uY2F0KG5hbWUsICJcdTYyMTBcdTUyOUZcdUZGMDEiKSwgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9vcmRlci9vcmRlci1tYW5hZ2VtZW50LXB1cmNoYXNlJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICBoYW5kbGVNb2RpZnk6IGZ1bmN0aW9uIGhhbmRsZU1vZGlmeShjb2RlLCB0ZXh0KSB7CiAgICAgIHRoaXMubW9kaWZ5VmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuJHJlZnMubW9kaWZ5UmVmLmVkaXRSb3coewogICAgICAgIGlkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgY29kZTogY29kZQogICAgICB9LCB0ZXh0KTsKICAgIH0sCiAgICBoYW5kbGVNb2RpZnlDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZU1vZGlmeUNhbmNlbCgpIHsKICAgICAgdGhpcy5tb2RpZnlWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlTW9kaWZ5U3VibWl0OiBmdW5jdGlvbiBoYW5kbGVNb2RpZnlTdWJtaXQoKSB7CiAgICAgIHRoaXMubW9kaWZ5VmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9vcmRlci9vcmRlci1tYW5hZ2VtZW50LXB1cmNoYXNlJwogICAgICB9KTsKICAgIH0sCiAgICBmb3JtYXRlRGF0ZTogZnVuY3Rpb24gZm9ybWF0ZURhdGUodGltZXN0YW1wKSB7CiAgICAgIHZhciB0eXBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAxOwoKICAgICAgaWYgKCF0aW1lc3RhbXApIHsKICAgICAgICByZXR1cm4gJy0nOwogICAgICB9CgogICAgICB2YXIgdGltZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCk7CiAgICAgIHZhciB5ZWFyID0gdGltZS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgbW9udGggPSAodGltZS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpOwogICAgICB2YXIgZGF0ZSA9IHRpbWUuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgdmFyIGhvdXJzID0gdGltZS5nZXRIb3VycygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgdmFyIG1pbnV0ZSA9IHRpbWUuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKICAgICAgdmFyIHNlY29uZCA9IHRpbWUuZ2V0U2Vjb25kcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKTsKCiAgICAgIGlmICh0eXBlID09IDEpIHsKICAgICAgICByZXR1cm4geWVhciArICflubQnICsgbW9udGggKyAn5pyIJyArIGRhdGUgKyAn5pelJzsKICAgICAgfSBlbHNlIGlmICh0eXBlID09IDIpIHsKICAgICAgICByZXR1cm4geWVhciArICctJyArIG1vbnRoICsgJy0nICsgZGF0ZSArICcgJyArIGhvdXJzICsgJzonICsgbWludXRlICsgJzonICsgc2Vjb25kOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gMykgewogICAgICAgIHJldHVybiB5ZWFyICsgJ18nICsgbW9udGggKyAnXycgKyBkYXRlICsgJ18nICsgaG91cnMgKyAnXycgKyBtaW51dGUgKyAnXycgKyBzZWNvbmQ7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSA0KSB7CiAgICAgICAgcmV0dXJuIHllYXIgKyAnLScgKyBtb250aCArICctJyArIGRhdGU7CiAgICAgIH0KICAgIH0sCiAgICBnZXRSZWNvcmQ6IGZ1bmN0aW9uIGdldFJlY29yZCgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICBfZ2V0UmVjb3JkKHsKICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM3Lmhpc3RvcnlUYWJsZURhdGEgPSByZXMuZGF0YSB8fCBbXTsKCiAgICAgICAgaWYgKHJlcy5kYXRhICYmIHJlcy5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHZhciBmaW5kSXRlbSA9IHJlcy5kYXRhLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0ub3BlcmF0aW9uTmFtZSA9PT0gJ+WuoeaJueS4jemAmui/hyc7CiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAoZmluZEl0ZW0pIHsKICAgICAgICAgICAgX3RoaXM3LnJlYXNvbiA9IGZpbmRJdGVtLnJlbWFya3M7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnb1JlT3JkZXI6IGZ1bmN0aW9uIGdvUmVPcmRlcigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdBZGRPcmRlcicsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBvcGVyYVR5cGU6ICdjb3B5JywKICAgICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ29CYWNrTW9kaWZ5OiBmdW5jdGlvbiBnb0JhY2tNb2RpZnkoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnL29yZGVyL2VkaXQtb3JkZXInLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGV4cG9ydE9yZGVyOiBmdW5jdGlvbiBleHBvcnRPcmRlcigpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CgogICAgICB2YXIgb3JkZXJGb3JtSW5mbyA9IHRoaXMub3JkZXJGb3JtSW5mbywKICAgICAgICAgIGdldE9yZGVyU3RhdHVzID0gdGhpcy5nZXRPcmRlclN0YXR1cywKICAgICAgICAgIGZvcm1hdGVEYXRlID0gdGhpcy5mb3JtYXRlRGF0ZTsKICAgICAgdmFyIHR5cGUgPSBvcmRlckZvcm1JbmZvLnR5cGUsCiAgICAgICAgICBwcm92aW5jZU5hbWUgPSBvcmRlckZvcm1JbmZvLnByb3ZpbmNlTmFtZSwKICAgICAgICAgIGNpdHlOYW1lID0gb3JkZXJGb3JtSW5mby5jaXR5TmFtZSwKICAgICAgICAgIGRpc3RyaWN0TmFtZSA9IG9yZGVyRm9ybUluZm8uZGlzdHJpY3ROYW1lLAogICAgICAgICAgcGFyZW50RGVwdE5hbWUgPSBvcmRlckZvcm1JbmZvLnBhcmVudERlcHROYW1lLAogICAgICAgICAgZGVwdE5hbWUgPSBvcmRlckZvcm1JbmZvLmRlcHROYW1lLAogICAgICAgICAgY3JlYXRlVGltZSA9IG9yZGVyRm9ybUluZm8uY3JlYXRlVGltZSwKICAgICAgICAgIHVwZGF0ZVRpbWUgPSBvcmRlckZvcm1JbmZvLnVwZGF0ZVRpbWUsCiAgICAgICAgICBhcnJpdmFsVGltZSA9IG9yZGVyRm9ybUluZm8uYXJyaXZhbFRpbWUsCiAgICAgICAgICBjcmVhdG9yTmFtZSA9IG9yZGVyRm9ybUluZm8uY3JlYXRvck5hbWUsCiAgICAgICAgICBjb25maXJtVGltZSA9IG9yZGVyRm9ybUluZm8uY29uZmlybVRpbWU7CiAgICAgIHZhciBuYW1lID0gIlx1MzAxMCIuY29uY2F0KG9yZGVyRm9ybUluZm8ub3JkZXJObywgIlx1MzAxMVx1MzAxMCIpLmNvbmNhdChnZXRPcmRlclN0YXR1cyh0eXBlKSwgIlx1MzAxMSIpLmNvbmNhdChwcm92aW5jZU5hbWUpLmNvbmNhdChjaXR5TmFtZSkuY29uY2F0KGRpc3RyaWN0TmFtZSkuY29uY2F0KHBhcmVudERlcHROYW1lKS5jb25jYXQoZGVwdE5hbWUsICJcdTc2ODRcdThCQTJcdTUzNTVcdTUyMUJcdTVFRkFcdTY1RTVcdTY3MUYiKS5jb25jYXQoZm9ybWF0ZURhdGUoY3JlYXRlVGltZSksICJcdTRFMEJcdTUzNTVcdTY1RTVcdTY3MUYiKS5jb25jYXQoZm9ybWF0ZURhdGUoY29uZmlybVRpbWUpLCAiXyIpLmNvbmNhdChmb3JtYXRlRGF0ZShEYXRlLm5vdygpLCAzKSwgIi54bHN4Iik7CiAgICAgIHZhciBleHBvcnRGdW5jdGlvbjsKCiAgICAgIGlmICh0aGlzLm9wZXJhVHlwZSAhPSAncHJldmlldycpIHsKICAgICAgICBleHBvcnRGdW5jdGlvbiA9IHRoaXMuaXNQYXJlbnQgPyBwdXJjaGFzZU9yZGVyRXhjZWwgOiBwdXJjaGFzZU9yZGVyRGV0YWlsRXhjZWw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXhwb3J0RnVuY3Rpb24gPSBwdXJjaGFzZVByZXZpZXdFeGNlbDsKICAgICAgfQoKICAgICAgZXhwb3J0RnVuY3Rpb24oewogICAgICAgIG9yZGVySWQ6IHRoaXMub3JkZXJJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczguJHV0aWwuZG93bkxvYWRCbG9iKHJlcywgbmFtZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHdhcm5pbmc6IGZ1bmN0aW9uIHdhcm5pbmcobWVzc2FnZSkgewogICAgICB2YXIgdHlwZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3dhcm5pbmcnOwogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgICB0eXBlOiB0eXBlCiAgICAgIH0pOwogICAgfSwKICAgIGFqYXhHZXRUYWJsZURhdGFCeVBhZ2U6IGZ1bmN0aW9uIGFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOS4kcmVmcy5iVGFibGUyICYmIF90aGlzOS4kcmVmcy5iVGFibGUyWzBdLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVjZWl2ZUdvb2RzOiBmdW5jdGlvbiByZWNlaXZlR29vZHMoY29kZSwgaXRlbSwgbW9kZSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZGF0YU9iajsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gJ2ZsYWcnKSB7CiAgICAgICAgICAgICAgICAgIGlmIChfdGhpczEwLiRoYXMoWydvcmRlci1vcGVyYS1yZWNlaXZlJ10pKSB7CiAgICAgICAgICAgICAgICAgICAgY29kZSA9ICcyMDQwMTAwJzsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb2RlID0gJzIwMzAxMDAnOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMxMC5yZWNlaXZlR29vZHNWaXNpYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGRhdGFPYmogPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldE9yZGVyRGV0YWlsSW5mbyh7CiAgICAgICAgICAgICAgICAgIGlkOiBpdGVtLm9yZGVyQ29udGVudERldGFpbElkCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgZGF0YU9iaiA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF90aGlzMTAuJHJlZnMucmVjZWl2ZUdvb2RzUmVmLmVkaXRSb3coT2JqZWN0LmFzc2lnbihkYXRhT2JqLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczEwLm9yZGVySWQsCiAgICAgICAgICAgICAgICAgIGRldGFpbElkczogaXRlbS5vcmRlckNvbnRlbnREZXRhaWxJZCwKICAgICAgICAgICAgICAgICAgY29kZTogY29kZQogICAgICAgICAgICAgICAgfSksIG1vZGUgPyAnZWRpdCcgOiAnYWRkJyk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBpc1Nob3dSZW1hcms6IGZ1bmN0aW9uIGlzU2hvd1JlbWFyaygpIHsKICAgICAgdmFyIG9wZXJhVHlwZSA9IHRoaXMub3BlcmFUeXBlLAogICAgICAgICAgb3JkZXJGbGFnID0gdGhpcy5vcmRlckZsYWc7CgogICAgICBpZiAob3BlcmFUeXBlID09ICdwcmV2aWV3JykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuJGhhcyhbJ29yZGVyLW1hbmFnZS1pcy1hcHByb3ZhbCddKSAmJiBvcmRlckZsYWcgPT0gJzIwMTAwJyB8fCB0aGlzLiRoYXMoWydvcmRlci1tYW5hZ2UtaXMtcHVyY2hhc2UnXSkgJiYgKG9yZGVyRmxhZyA9PSAnLTEwMjAwJyB8fCBvcmRlckZsYWcgPT0gJzQwMjAwJyB8fCBvcmRlckZsYWcgPT0gJzMwMjAwJykpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVHb29kc0NhbmNlbDogZnVuY3Rpb24gaGFuZGxlR29vZHNDYW5jZWwoKSB7CiAgICAgIHRoaXMucmVjZWl2ZUdvb2RzVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGhhbmRsZUdvb2RzU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVHb29kc1N1Ym1pdCgpIHsKICAgICAgdGhpcy5yZWNlaXZlR29vZHNWaXNpYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgICB0aGlzLmdldFJlY29yZCgpOwogICAgfSwKICAgIGhhbmRsZUJhdGNoR29vZHNDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUJhdGNoR29vZHNDYW5jZWwoKSB7CiAgICAgIHRoaXMuYmF0Y2hSZWNlaXZlR29vZHNWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQmF0Y2hHb29kc1N1Ym1pdDogZnVuY3Rpb24gaGFuZGxlQmF0Y2hHb29kc1N1Ym1pdCgpIHsKICAgICAgdGhpcy5iYXRjaFJlY2VpdmVHb29kc1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5hamF4R2V0VGFibGVEYXRhQnlQYWdlKCk7CiAgICAgIHRoaXMuZ2V0UmVjb3JkKCk7CiAgICAgIHRoaXMuZ2V0T3JkZXJEZXRhaWwoKTsKICAgIH0sCiAgICBjaGFyZ2VCYWNrOiBmdW5jdGlvbiBjaGFyZ2VCYWNrKGNvZGUpIHsKICAgICAgdGhpcy5jaGFyZ2VWaXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5jaGFyZ2VCYWNrUmVmLmVkaXRSb3coewogICAgICAgIGlkOiB0aGlzLm9yZGVySWQsCiAgICAgICAgY29kZTogY29kZQogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDaGFyZ2VDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNoYXJnZUNhbmNlbCgpIHsKICAgICAgdGhpcy5jaGFyZ2VWaXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgaGFuZGxlQ2hhcmdlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVDaGFyZ2VTdWJtaXQoKSB7CiAgICAgIHRoaXMuY2hhcmdlVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9vcmRlci9vcmRlci1tYW5hZ2VtZW50LXB1cmNoYXNlJwogICAgICB9KTsKICAgIH0sCiAgICBzZXRJbWc6IGZ1bmN0aW9uIHNldEltZyhjb2RlKSB7CiAgICAgIHN3aXRjaCAoY29kZSkgewogICAgICAgIC8vIOmAgOWNleeUs+ivt+S4rQogICAgICAgIGNhc2UgJzMwMjAwJzoKICAgICAgICBjYXNlICc0MDIwMCc6CiAgICAgICAgICB0aGlzLm9yZGVyU3RhdHVzSW1nID0gcmVxdWlyZSgnQC9wYWdlcy9jYXRlcmluZy9hc3NldHMvaW1hZ2VzL29yZGVyL2JhY2tJbmcuc3ZnJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICAvLyDlt7LpgIDljZUKCiAgICAgICAgY2FzZSAnLTIwMTAwJzoKICAgICAgICAgIHRoaXMub3JkZXJTdGF0dXNJbWcgPSByZXF1aXJlKCdAL3BhZ2VzL2NhdGVyaW5nL2Fzc2V0cy9pbWFnZXMvb3JkZXIvYmFja1N1Y2Nlc3Muc3ZnJyk7CiAgICAgICAgICBicmVhazsKICAgICAgICAvLyDlvoXlj5HotKcKCiAgICAgICAgY2FzZSAnMzAxMDAnOgogICAgICAgIGNhc2UgJzQwMTA1JzoKICAgICAgICBjYXNlICczMDI1MCc6CiAgICAgICAgICB0aGlzLm9yZGVyU3RhdHVzSW1nID0gcmVxdWlyZSgnQC9wYWdlcy9jYXRlcmluZy9hc3NldHMvaW1hZ2VzL29yZGVyL2RlbGlldmVyUGVuZGluZy5zdmcnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIC8vIOW3suaUtui0pwoKICAgICAgICBjYXNlICc0MDExMCc6CiAgICAgICAgICB0aGlzLm9yZGVyU3RhdHVzSW1nID0gcmVxdWlyZSgnQC9wYWdlcy9jYXRlcmluZy9hc3NldHMvaW1hZ2VzL29yZGVyL3JlY2VpdmVkLnN2ZycpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgLy8g5b6F5pS26LSnCgogICAgICAgIGNhc2UgJzQwMTAwJzoKICAgICAgICBjYXNlICczMDE1MCc6CiAgICAgICAgICB0aGlzLm9yZGVyU3RhdHVzSW1nID0gcmVxdWlyZSgnQC9wYWdlcy9jYXRlcmluZy9hc3NldHMvaW1hZ2VzL29yZGVyL3JlY2VpdmVQZW5kaW5nLnN2ZycpOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgY29uc29sZS5sb2codGhpcy5vcmRlclN0YXR1c0ltZyk7CiAgICB9LAogICAgYmF0Y2hSZWNlaXZlR29vZHM6IGZ1bmN0aW9uIGJhdGNoUmVjZWl2ZUdvb2RzKCkgewogICAgICB0aGlzLmJhdGNoUmVjZWl2ZVJvd3MgPSBbXTsKICAgICAgdmFyIHJvd3MgPSB0aGlzLiRyZWZzLmJUYWJsZTJbMF0uc2VsZWN0Um93czsKCiAgICAgIGlmIChyb3dzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoJ+ivt+iHs+WwkemAieaLqeS4gOadoeaVsOaNricpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5iYXRjaFJlY2VpdmVSb3dzID0gX3RvQ29uc3VtYWJsZUFycmF5KHJvd3MpOwogICAgICB0aGlzLmJhdGNoUmVjZWl2ZUdvb2RzVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgY29weU9yZGVyOiBmdW5jdGlvbiBjb3B5T3JkZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnQWRkT3JkZXInLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgb3BlcmFUeXBlOiAnY29weScsCiAgICAgICAgICBvcmRlcklkOiB0aGlzLm9yZGVySWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},null]}