{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BMenuManage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BMenuManage/index.vue","mtime":1627979214235},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX1RyZWUyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3RyZWUuY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfVHJlZSBmcm9tICJlbGVtZW50LXVpL2xpYi90cmVlIjsKaW1wb3J0IF9TY3JvbGxiYXIyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3Njcm9sbGJhci5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9TY3JvbGxiYXIgZnJvbSAiZWxlbWVudC11aS9saWIvc2Nyb2xsYmFyIjsKaW1wb3J0IF9PcHRpb24yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL29wdGlvbi5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9PcHRpb24gZnJvbSAiZWxlbWVudC11aS9saWIvb3B0aW9uIjsKaW1wb3J0IF9TZWxlY3QyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3NlbGVjdC5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9TZWxlY3QgZnJvbSAiZWxlbWVudC11aS9saWIvc2VsZWN0IjsKaW1wb3J0IF9DYXJkMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9jYXJkLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0NhcmQgZnJvbSAiZWxlbWVudC11aS9saWIvY2FyZCI7CmltcG9ydCBfUG9wb3ZlcjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvcG9wb3Zlci5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9Qb3BvdmVyIGZyb20gImVsZW1lbnQtdWkvbGliL3BvcG92ZXIiOwppbXBvcnQgX0RpYWxvZzIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvZGlhbG9nLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0RpYWxvZyBmcm9tICJlbGVtZW50LXVpL2xpYi9kaWFsb2ciOwppbXBvcnQgX0J1dHRvbjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYnV0dG9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9idXR0b24iOwppbXBvcnQgX0lucHV0MiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9pbnB1dC5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9JbnB1dCBmcm9tICJlbGVtZW50LXVpL2xpYi9pbnB1dCI7CmltcG9ydCBfRm9ybUl0ZW0yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Zvcm0taXRlbS5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9Gb3JtSXRlbSBmcm9tICJlbGVtZW50LXVpL2xpYi9mb3JtLWl0ZW0iOwppbXBvcnQgX0Zvcm0yIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Zvcm0uY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfRm9ybSBmcm9tICJlbGVtZW50LXVpL2xpYi9mb3JtIjsKaW1wb3J0IF9Db2wyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2NvbC5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9Db2wgZnJvbSAiZWxlbWVudC11aS9saWIvY29sIjsKaW1wb3J0IF9Sb3cyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3Jvdy5jc3MiOwppbXBvcnQgImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL2Jhc2UuY3NzIjsKaW1wb3J0IF9Sb3cgZnJvbSAiZWxlbWVudC11aS9saWIvcm93IjsKaW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKCnZhciBfY29tcG9uZW50czsKCmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmcuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXRpbHMgZnJvbSAnQC9wbHVnaW5zL2NvbW1vbi91dGlscyc7CmltcG9ydCBkZWxldGVQbmcgZnJvbSAnQC9hc3NldHMvaW1hZ2VzL2RlbGV0ZS5wbmcnOwppbXBvcnQgQ0ljb25QaWNrZXIgZnJvbSAnLi4vLi4vY29tbW9uL0NJY29uUGlja2VyJzsKaW1wb3J0IENTdmdJY29uIGZyb20gJy4uLy4uL2NvbW1vbi9DU3ZnSWNvbic7CmltcG9ydCBheGlvcyBmcm9tICdAL3BsdWdpbnMvYXhpb3MnOwppbXBvcnQgQkltcG9ydERhdGFQYW5lbCBmcm9tICdAL2NvbXBvbmVudHMvYnVzaW5lc3MvQkltcG9ydERhdGFQYW5lbC9pbmRleC52dWUnOwoKZnVuY3Rpb24gZGVsZXRlT3JGaW5kQXJyKGFyckRhdGEsIG9iaiwgY2hpbGRyZW4sIF9hbGwsIGZpbmQsIHJlcGxhY2VBcnIpIHsKICAvL+WIoOmZpOaIluafpeaJvuaVsOe7hOS4reacieafkOS4quWvueixoeeahOWFg+e0oC4gX2FsbOS7o+ihqOaYr+WQpuWFqOmDqOWIoOmZpAogIGNoaWxkcmVuID0gY2hpbGRyZW4gfHwgJ2NoaWxkcmVuJzsgLy9vYmrlj6/ku6XmmK/ln7rmnKzmlbDmja7nsbvlnosucmVwbGFjZUFycuWcqOWIoOmZpOeahOS9jee9rua3u+WKoOeahOaVsOaNrgoKICBpZiAoIU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmaW5kKSA9PT0gJ1tvYmplY3QgQXJyYXldJykgewogICAgZmluZCA9IGZpbmQgPyBbXSA6IGZpbmQ7CiAgfQoKICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyckRhdGEpID09PSAnW29iamVjdCBBcnJheV0nKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyckRhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIG0gPSBhcnJEYXRhW2ldLAogICAgICAgICAgZmxnID0gMTsKCiAgICAgIGlmIChvYmogJiYgX3R5cGVvZihvYmopID09ICdvYmplY3QnKSB7CiAgICAgICAgZm9yICh2YXIgaiBpbiBvYmopIHsKICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdID09ICdmdW5jdGlvbicgPyAhb2JqW2pdKGosIG1bal0sIG0sIGFyckRhdGEsIGkpIDogbVtqXSAhPSBvYmpbal0pIHsKICAgICAgICAgICAgZmxnID0gMDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChtICE9IG9iaikgewogICAgICAgICAgZmxnID0gMDsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmIChmbGcpIHsKICAgICAgICBpZiAoZmluZCkgewogICAgICAgICAgZmluZC5wdXNoKG0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodHlwZW9mIHJlcGxhY2VBcnIgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICByZXBsYWNlQXJyID0gcmVwbGFjZUFycihpLCBtLCBhcnJEYXRhKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXBsYWNlQXJyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHJlcGxhY2VBcnIpID09ICdbb2JqZWN0IEFycmF5XScgPyByZXBsYWNlQXJyIDogcmVwbGFjZUFyciB8fCBbXTsKICAgICAgICAgIGFyckRhdGEuc3BsaWNlLmFwcGx5KGFyckRhdGEsIFtpLCAxXS5jb25jYXQocmVwbGFjZUFycikpOwogICAgICAgICAgaS0tOwogICAgICAgICAgX2FsbCAmJiAoaSA9IGkgKyByZXBsYWNlQXJyLmxlbmd0aCk7CiAgICAgICAgfQoKICAgICAgICBpZiAoIV9hbGwpIHsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgb2JqICYmIF90eXBlb2Yob2JqKSA9PSAnb2JqZWN0JyAmJiBkZWxldGVPckZpbmRBcnIobSwgb2JqLCBjaGlsZHJlbiwgX2FsbCwgZmluZCwgcmVwbGFjZUFycik7CiAgICB9CiAgfSBlbHNlIGlmIChhcnJEYXRhICYmIF90eXBlb2YoYXJyRGF0YSkgPT0gJ29iamVjdCcpIHsKICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnJEYXRhW2NoaWxkcmVuXSkgPT09ICdbb2JqZWN0IEFycmF5XScgJiYgZGVsZXRlT3JGaW5kQXJyKGFyckRhdGFbY2hpbGRyZW5dLCBvYmosIGNoaWxkcmVuLCBfYWxsLCBmaW5kLCByZXBsYWNlQXJyKTsKICB9CgogIHJldHVybiBmaW5kOwp9Ci8qKgogKiDmi7fotJ0KICovCgoKZnVuY3Rpb24gY2xvbmUob2JqLCBkZWVwKSB7CiAgaWYgKCFvYmopIHsKICAgIHJldHVybiBvYmo7CiAgfQoKICBpZiAob2JqLnRhZ05hbWUgJiYgb2JqLm5vZGVUeXBlID09IDEgJiYgdHlwZW9mIG9iai5jbG9uZU5vZGUgPT0gJ2Z1bmN0aW9uJykgewogICAgcmV0dXJuIG9iai5jbG9uZU5vZGUoZGVlcCk7CiAgfQoKICB2YXIgcmVzOwoKICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScpIHsKICAgIHJlcyA9IFtdOwoKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7CiAgICAgIHJlcy5wdXNoKHRoaXMuY2xvbmUob2JqW2ldLCBkZWVwKSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmIChvYmogJiYgX3R5cGVvZihvYmopID09ICdvYmplY3QnKSB7CiAgICAgIHJlcyA9IHt9OwoKICAgICAgZm9yICh2YXIgX2kgaW4gb2JqKSB7CiAgICAgICAgaWYgKCFkZWVwKSB7CiAgICAgICAgICByZXNbX2ldID0gb2JqW19pXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzW19pXSA9IHRoaXMuY2xvbmUob2JqW19pXSwgZGVlcCk7CiAgICAgICAgfQogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXMgPSBvYmo7CiAgICB9CiAgfQoKICByZXR1cm4gcmVzOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0JNZW51TWFuYWdlJywKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7CiAgICBDSWNvblBpY2tlcjogQ0ljb25QaWNrZXIsCiAgICBDU3ZnSWNvbjogQ1N2Z0ljb24KICB9LCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9Sb3cubmFtZSwgX1JvdyksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0NvbC5uYW1lLCBfQ29sKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfRm9ybS5uYW1lLCBfRm9ybSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0Zvcm1JdGVtLm5hbWUsIF9Gb3JtSXRlbSksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0lucHV0Lm5hbWUsIF9JbnB1dCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0J1dHRvbi5uYW1lLCBfQnV0dG9uKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfRGlhbG9nLm5hbWUsIF9EaWFsb2cpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9Qb3BvdmVyLm5hbWUsIF9Qb3BvdmVyKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQ2FyZC5uYW1lLCBfQ2FyZCksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX1NlbGVjdC5uYW1lLCBfU2VsZWN0KSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfT3B0aW9uLm5hbWUsIF9PcHRpb24pLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9TY3JvbGxiYXIubmFtZSwgX1Njcm9sbGJhciksIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX1RyZWUubmFtZSwgX1RyZWUpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsICJCSW1wb3J0RGF0YVBhbmVsIiwgQkltcG9ydERhdGFQYW5lbCksIF9jb21wb25lbnRzKSwKICBwcm9wczogewogICAgLyoqCiAgICAgKiDmnI3liqHlmajnsbvlnosKICAgICAqLwogICAgc2VydmVyVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAoKICAgIC8qKgogICAgICog5qCH6aKYCiAgICAgKi8KICAgIHJvb3RUaXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfoj5zljZUnCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwoKICAgIHRoaXMuJGZuID0gZnVuY3Rpb24gKGV2KSB7CiAgICAgIHNlbGYuaGlkZUNvbnRleHQuY2FsbChzZWxmLCBldik7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGVkaXRTdGF0dXM6ICcnLAogICAgICBhdXRoTGlzdDogW10sCiAgICAgIGJ0bkRhdGE6IHt9LAogICAgICBidG5EaWFsb2c6IGZhbHNlLAogICAgICBidG5Mb2FkaW5nOiBmYWxzZSwKICAgICAgZGVsZXRlUG5nOiBkZWxldGVQbmcsCiAgICAgIGJ0blJ1bGVzOiB7CiAgICAgICAgLy8g6KGo5Y2V6aqM6K+BCiAgICAgICAgaXRmTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogJ2NsaWNrJywKICAgICAgICAgIG1lc3NhZ2U6ICfmjInpkq7lkI3np7DmnKrloavlhpknCiAgICAgICAgfV0sCiAgICAgICAgaXRmQ29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogJ2NsaWNrJywKICAgICAgICAgIG1lc3NhZ2U6ICfmjqXlj6Njb2Rl5pyq5aGr5YaZJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIG1lbnVRdWVyeToge30sCiAgICAgIGxpc3RMb2FkaW5nOiBmYWxzZSwKICAgICAgcHJvcHNPcHRpb25zOiB7CiAgICAgICAgLy8g5qCR6buY6K6k6YCJ6aG5CiAgICAgICAgbGFiZWw6ICdtZW51TmFtZScsCiAgICAgICAgY2hpbGRyZW46ICdub2RlcycsCiAgICAgICAgaXNMZWFmOiAnbGVhZicKICAgICAgfSwKICAgICAgdHJlZURhdGE6IFtdLAogICAgICBub3dOb2RlOiB7fSwKICAgICAgLy/ooqvpgInkuK3oioLngrnmlbDmja4KICAgICAgbm93U3RhdHVzOiAwLAogICAgICAvLyDlvZPliY3nirbmgIEKICAgICAgc3VwZXJNZW51OiBbXSwKICAgICAgLy/kuIrnuqfoj5zljZXliJfooagKICAgICAgbWVudUNvbnRleHRTaG93OiBmYWxzZSwKICAgICAgLy/pvKDmoIflj43plK7mmL7npLroj5zljZUKICAgICAgbWVudUNvbnRleHRMaXN0OiBbXSwKICAgICAgLy/pvKDmoIflj43plK7opoHmmL7npLrnmoTliJfooagKICAgICAgdGl0bGU6ICfmlrDlop4nLAogICAgICBhZGREaWFsb2c6IGZhbHNlLAogICAgICAvL+aWsOWinuW8ueeqlwogICAgICBhZGREYXRhOiB7fSwKICAgICAgYWRkUnVsZXM6IHsKICAgICAgICB1cmw6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIG1heDogNjQsCiAgICAgICAgICBtZXNzYWdlOiAn6I+c5Y2V5Zyw5Z2A5LiN6IO95Li656m6JwogICAgICAgIH0sIHsKICAgICAgICAgIG1heDogNjQsCiAgICAgICAgICBtZXNzYWdlOiAn5pyA5aSn6ZW/5bqmNjTkuKrlrZfnrKYnCiAgICAgICAgfSwgewogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiB2YWxpZGF0b3IocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIC8vIHZhciByZXMgPSBkZWxldGVPckZpbmRBcnIoCiAgICAgICAgICAgIC8vICAgc2VsZi50cmVlRGF0YSwKICAgICAgICAgICAgLy8gICB7IHVybDogdmFsdWUgfSwKICAgICAgICAgICAgLy8gICBzZWxmLnByb3BzT3B0aW9ucy5jaGlsZHJlbiwKICAgICAgICAgICAgLy8gICAwLAogICAgICAgICAgICAvLyAgIDEKICAgICAgICAgICAgLy8gKTsgLy/mn6Xmib4KICAgICAgICAgICAgaWYgKCF2YWx1ZSB8fCAhdmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKC9eXHMrfFxzKyQvZywgJycpKSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfoj5zljZXlnLDlnYDkuI3og73kuLrnqbonKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy90aGlzLiRyb3V0ZXIub3B0aW9ucyYmdGhpcy4kcm91dGVyLm9wdGlvbnMucm91dGVzJiYocmVzPXRvb2xzLmRlbGV0ZU9yRmluZEFycih0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMse3VybDp2YWx1ZX0sIiIsMCwxKSk7Ly/mn6Xmib4KICAgICAgICAgICAgICAvL3Jlcy5sZW5ndGg+MD9jYWxsYmFjaygpOmNhbGxiYWNrKG5ldyBFcnJvcigi5peg5pWI55qE6I+c5Y2V5Zyw5Z2AIikpOwogICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9XSwKICAgICAgICBtZW51TmFtZTogW3sKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIG1heDogNjQsCiAgICAgICAgICBtZXNzYWdlOiAn5pyA5aSn6ZW/5bqmNjTkuKrlrZfnrKYnCiAgICAgICAgfSwgewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICBtZXNzYWdlOiAn6I+c5Y2V5ZCN56ew5LiN6IO95Li656m6JwogICAgICAgIH1dLAogICAgICAgIHJvbGVUeXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywKICAgICAgICAgIG1lc3NhZ2U6ICfoj5zljZXnsbvlnovmnKrloavlhpknCiAgICAgICAgfV0gLy9pY29uOntyZXF1aXJlZDogZmFsc2UsIHRyaWdnZXI6ICdibHVyJyxtZXNzYWdlOiAn5Zu+5qCH5LiN6IO95Li656m6J30KCiAgICAgIH0sCiAgICAgIHJvbGVMaXN0OiBbXSwKICAgICAgbm9kZURhdGE6IHsKICAgICAgICByb2xlVHlwZTogMAogICAgICB9LAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbm93Tm9kZTogZnVuY3Rpb24gbm93Tm9kZSgpIHt9CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqCiAgICAgKiDmmK/lkKbov5vlhaXlnKjmn5DkuKroj5zljZUKICAgICAqLwogICAgaXNOb3dOb2RlOiBmdW5jdGlvbiBpc05vd05vZGUoKSB7CiAgICAgIGlmICh0aGlzLm5vd05vZGUgJiYgdGhpcy5ub3dOb2RlLnVybCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIOaooeaAgeahhuagh+mimAogICAgICovCiAgICBidG50aXRsZTogZnVuY3Rpb24gYnRudGl0bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgbmV3OiAn5paw5aKeJywKICAgICAgICBlZGl0b3I6ICfnvJbovpEnCiAgICAgIH1bdGhpcy5lZGl0U3RhdHVzXSB8fCAnJzsKICAgIH0sCgogICAgLyoqCiAgICAgKiDoj5zljZXnsbvlnovnvJbovpHmmK/lkKbnpoHnlKgKICAgICAqIOaWsOW7uuS4gOe6p+iPnOWNleWPr+S7pee8lui+kQogICAgICovCiAgICByb2xlVHlwZURpc2FibGVkOiBmdW5jdGlvbiByb2xlVHlwZURpc2FibGVkKCkgewogICAgICByZXR1cm4gISh0aGlzLm5vd1N0YXR1cyA9PT0gMCAmJiArdGhpcy5ub2RlRGF0YS5pZCA9PT0gLTEpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXRMaXN0KCk7CiAgICBheGlvcyh7CiAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgIHVybDogJy91c2VyZ3cvYWRtaW4vYXV0aC9sYXN0T3JkZXInCiAgICB9LCB0aGlzLnNlcnZlclR5cGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgIF90aGlzLnN1cGVyTWVudSA9IGRhdGEuZGF0YTsgLy8gY29uc29sZS5sb2codGhpcy5zdXBlck1lbnUsICd0aGlzLnN1cGVyTWVudScpOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog5a+85Ye6CiAgICAgKi8KICAgIGV4cG9ydEV4Y2VsOiBmdW5jdGlvbiBleHBvcnRFeGNlbCgpIHsKICAgICAgdXRpbHMuZG93bmxvYWQoJy9tb2RlbC9tb2RlbERvd25sb2FkJywgewogICAgICAgIHR5cGU6ICdpdGYnCiAgICAgIH0sIHsKICAgICAgICBtZXRob2Q6ICdHRVQnCiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWIneWni+WMluaYvuekuuaooeaAgeahhgogICAgICovCiAgICBpbml0U2hvd0RpYWxvZzogZnVuY3Rpb24gaW5pdFNob3dEaWFsb2codHlwZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuYnRuRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0U3RhdHVzID0gdHlwZTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMi4kcmVmc1snYnRuRm9ybSddLmNsZWFyVmFsaWRhdGUoKTsKICAgICAgfSk7CiAgICB9LAogICAgYnRuU3VyZTogZnVuY3Rpb24gYnRuU3VyZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzWydidG5Gb3JtJ10gJiYgdGhpcy4kcmVmc1snYnRuRm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMy5lZGl0U3RhdHVzID09ICduZXcnKSB7CiAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICB1cmw6ICIvdXNlcmd3L2FkbWluL2F1dGgvaW5zZXJ0SXRmLyIuY29uY2F0KF90aGlzMy5idG5EYXRhLm1lbnVJZCksCiAgICAgICAgICAgICAgZGF0YTogX3RoaXMzLmJ0bkRhdGEKICAgICAgICAgICAgfSwgX3RoaXMzLnNlcnZlclR5cGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczMuZ2V0Tm9kZUxpc3QoKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8hJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICB1cmw6ICcvdXNlcmd3L2FkbWluL2F1dGgvdXBkYXRlSXRmQnlJZC8wJywKICAgICAgICAgICAgICBkYXRhOiBfdGhpczMuYnRuRGF0YQogICAgICAgICAgICB9LCBfdGhpczMuc2VydmVyVHlwZSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgIF90aGlzMy5nZXROb2RlTGlzdCgpOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+S/ruaUueaIkOWKnyEnCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvcgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczMuYnRuRGlhbG9nID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBidG5DYW5jZWw6IGZ1bmN0aW9uIGJ0bkNhbmNlbCgpIHsKICAgICAgdGhpcy5idG5EaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBjaGFuZ2VCdG46IGZ1bmN0aW9uIGNoYW5nZUJ0bihpdGVtLCB0eXBlKSB7CiAgICAgIHZhciBidG5JdGVtID0gT2JqZWN0LmFzc2lnbih7fSwgaXRlbSk7CiAgICAgIHRoaXMuYnRuRGF0YSA9IGJ0bkl0ZW07CiAgICAgIHRoaXMuaW5pdFNob3dEaWFsb2codHlwZSk7CiAgICB9LAogICAgZGVsZXRlQnRuOiBmdW5jdGlvbiBkZWxldGVCdG4oaXRlbSkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruWumuWIoOmZpOivpeaMiemSrj8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgIGlkOiBpdGVtLmlkLAogICAgICAgICAgdHlwZTogMQogICAgICAgIH07CiAgICAgICAgYXhpb3MoewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICB1cmw6ICcvdXNlcmd3L2FkbWluL2F1dGgvdXBkYXRlSXRmQnlJZC8xJywKICAgICAgICAgIGRhdGE6IHBhcmFtcwogICAgICAgIH0sIF90aGlzNC5zZXJ2ZXJUeXBlKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzNC5nZXROb2RlTGlzdCgpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5a+85YWlZXhlY2wKICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKCkgewogICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WvvOWFpeaIkOWKnycpOwogICAgICB0aGlzLmdldE5vZGVMaXN0KCk7CiAgICB9LAogICAgZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgdXJsOiAnL3VzZXJndy9hZG1pbi9hdXRoL2xpc3RJbml0JwogICAgICB9LCB0aGlzLnNlcnZlclR5cGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczUudHJlZURhdGEgPSBbewogICAgICAgICAgICBpZDogLTEsCiAgICAgICAgICAgIG1lbnVOYW1lOiBfdGhpczUucm9vdFRpdGxlLAogICAgICAgICAgICBwYXJlbnRNZW51SWQ6ICctMicsCiAgICAgICAgICAgIG5vZGVzOiBkYXRhLmRhdGEsCiAgICAgICAgICAgIG1lbnVJZDogLTEKICAgICAgICAgIH1dOwogICAgICAgIH0KCiAgICAgICAgX3RoaXM1Lmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUubGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RHJhZ1R5cGU6IGZ1bmN0aW9uIGdldERyYWdUeXBlKGRyb3BUeXBlKSB7CiAgICAgIHZhciByZXMgPSB7CiAgICAgICAgYmVmb3JlOiAwLAogICAgICAgIGFmdGVyOiAxLAogICAgICAgIGlubmVyOiAyCiAgICAgIH1bZHJvcFR5cGVdOwogICAgICByZXR1cm4gdHlwZW9mIHJlcyA9PT0gJ251bWJlcicgPyByZXMgOiAzOwogICAgfSwKICAgIGhhbmRsZURyYWdFbmQ6IGZ1bmN0aW9uIGhhbmRsZURyYWdFbmQoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSwgZHJvcFR5cGUsIGV2KSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgaWYgKGRyYWdnaW5nTm9kZS5kYXRhLm1lbnVJZCA9PSBkcm9wTm9kZS5kYXRhLm1lbnVJZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldERyYWdUeXBlKGRyb3BUeXBlKTsKCiAgICAgIGlmICh0eXBlID09IDMpIHsKICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICByZXR1cm4gdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBtZXNzYWdlOiAn5ouW5ou95aSx6LSlJwogICAgICAgIH0pOwogICAgICB9CgogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBtZW51SWQ6IGRyYWdnaW5nTm9kZS5kYXRhLm1lbnVJZCwKICAgICAgICByZWxhdGl2ZUlkOiBkcm9wTm9kZS5kYXRhLm1lbnVJZCwKICAgICAgICB0eXBlOiB0eXBlCiAgICAgIH07CiAgICAgIGlmIChkYXRhLm1lbnVJZCA9PSBkYXRhLnJlbGF0aXZlSWQpIHJldHVybjsKICAgICAgYXhpb3MoewogICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgIHVybDogIi91c2VyZ3cvYWRtaW4vYXV0aC9jaGFuZ2VPcmRlci8iLmNvbmNhdChkYXRhLm1lbnVJZCwgIi8iKS5jb25jYXQoZGF0YS5yZWxhdGl2ZUlkLCAiLyIpLmNvbmNhdChkYXRhLnR5cGUpCiAgICAgIH0sIHRoaXMuc2VydmVyVHlwZSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM2LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfmi5bmi73kv53lrZjmiJDlip8nCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczYuZ2V0TGlzdCgpOyAvL+WIt+aWsAoKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlRHJvcDogZnVuY3Rpb24gaGFuZGxlRHJvcChkcmFnZ2luZ05vZGUsIGRyb3BOb2RlLCBkcm9wVHlwZSwgZXYpIHt9LAogICAgYWxsb3dEcm9wOiBmdW5jdGlvbiBhbGxvd0Ryb3AoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSwgdHlwZSkgewogICAgICBpZiAoZHJvcE5vZGUuZGF0YS5pZCA9PSAtMSkgewogICAgICAgIHJldHVybiB0eXBlID09ICdpbm5lcic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDngrnlh7voioLngrnmmL7npLrkv6Hmga8KICAgICAqIEBwYXJhbSB7Kn0gbm9kZSDoioLngrnmlbDmja4KICAgICAqLwogICAgaGFuZGxlTm9kZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVOb2RlQ2xpY2sobm9kZSkgewogICAgICB0aGlzLm1lbnVDb250ZXh0U2hvdyA9IGZhbHNlOwogICAgICB0aGlzLm5vd05vZGUgPSBub2RlOwogICAgICAhbm9kZS5tZW51SWQgJiYgKHRoaXMucm9sZUxpc3QgPSBbXSk7CiAgICAgIHRoaXMuZ2V0Tm9kZUxpc3QoKTsKICAgIH0sCiAgICBnZXROb2RlTGlzdDogZnVuY3Rpb24gZ2V0Tm9kZUxpc3QoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgdGhpcy5ub3dOb2RlLm1lbnVJZCAmJiBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICB1cmw6ICIvdXNlcmd3L2FkbWluL2F1dGgvZ2V0QXV0aEJ5TWVudS8iLmNvbmNhdCh0aGlzLm5vd05vZGUubWVudUlkKQogICAgICB9LCB0aGlzLnNlcnZlclR5cGUpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczcucm9sZUxpc3QgPSBkYXRhLmRhdGEucm9sZTsKICAgICAgICAgIF90aGlzNy5hdXRoTGlzdCA9IGRhdGEuZGF0YS5hdXRoOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgaGlkZUNvbnRleHQ6IGZ1bmN0aW9uIGhpZGVDb250ZXh0KGV2KSB7CiAgICAgIC8v5YWz6Zet5Y+N6ZSu6I+c5Y2VCiAgICAgIHRoaXMubWVudUNvbnRleHRTaG93ID0gZmFsc2U7CiAgICB9LAogICAgZ2V0Q29udGV4dExpc3Q6IGZ1bmN0aW9uIGdldENvbnRleHRMaXN0KGxldmVsKSB7CiAgICAgIC8v6I635Y+W5Y+z6ZSu6KaB5bGV56S655qE6I+c5Y2VCiAgICAgIHZhciByb290ID0gMTsKCiAgICAgIGlmIChyb290KSB7CiAgICAgICAgc3dpdGNoIChsZXZlbCkgewogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXR1cm4gWzFdOwoKICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgcmV0dXJuIFsxLCAxLCAxXTsKCiAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIHJldHVybiBbMSwgMSwgMV07CgogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIFswLCAxLCAxXTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBsZXZlbCA9PSAxID8gWzEsIDEsIDFdIDogWzAsIDEsIDFdOwogICAgfSwKICAgIHNob3dDb250ZXh0OiBmdW5jdGlvbiBzaG93Q29udGV4dChldiwgZGF0YSwgbm9kZSwgcmVmKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgLy/miZPlvIDlj43plK7oj5zljZUKICAgICAgaWYgKGV2LndoaWNoID09IDMpIHsKICAgICAgICBldi5yZXR1cm5WYWx1ZSA9IGZhbHNlOwogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIGxldmVsID0gbm9kZS5sZXZlbDsgLy/lsYLnuqcKCiAgICAgICAgdGhpcy5tZW51Q29udGV4dFNob3cgPSB0cnVlOwogICAgICAgIHRoaXMubWVudUNvbnRleHRMaXN0ID0gdGhpcy5nZXRDb250ZXh0TGlzdChsZXZlbCk7CiAgICAgICAgdGhpcy5ub2RlRGF0YSA9IGRhdGE7CiAgICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgLy8g5Yik5pat5L2N572uCiAgICAgICAgICB2YXIgJG1lbnVDb250ZXh0ID0gX3RoaXM4LiRyZWZzWydtZW51LWNvbnRleHQnXTsKICAgICAgICAgIHZhciBsZWZ0ID0gZXYucGFnZVggfHwgZXYueDsgLy8g6byg5qCHeOi9tOS9jee9rgoKICAgICAgICAgIHZhciB0b3AgPSBldi5wYWdlWSB8fCBldi55OyAvLyDpvKDmoId56L205L2N572uCgogICAgICAgICAgdmFyIGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0OyAvLyDnqpflj6Ppq5jluqYKCiAgICAgICAgICB2YXIgd2lkdGggPSAkbWVudUNvbnRleHQuc2Nyb2xsV2lkdGg7IC8vIOmCruS7tuiPnOWNleWuveW6pgoKICAgICAgICAgIHZhciBoZWlnaHQgPSAkbWVudUNvbnRleHQuc2Nyb2xsSGVpZ2h0OyAvLyDlj7PplK7oj5zljZXpq5jluqYKICAgICAgICAgIC8vIOWmguaenOiPnOWNleS9jee9ruW6lemDqOS9jee9rui2heWHuueql+WPo+mrmOW6pu+8jOiPnOWNleaYvuekuuWcqOm8oOagh+S4iumdogoKICAgICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPiBjbGllbnRIZWlnaHQpIHsKICAgICAgICAgICAgdG9wID0gdG9wIC0gaGVpZ2h0OwogICAgICAgICAgfSAvLyDorr7nva7kvY3nva4KCgogICAgICAgICAgJG1lbnVDb250ZXh0LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKICAgICAgICAgICRtZW51Q29udGV4dC5zdHlsZS50b3AgPSB0b3AgKyAncHgnOyAvLyB0aGlzLiRyZWZzWyJtZW51LWNvbnRleHQiXS5zdHlsZS5sZWZ0PShldi5wYWdlWHx8ZXYueCkrInB4IgogICAgICAgICAgLy8gdGhpcy4kcmVmc1sibWVudS1jb250ZXh0Il0uc3R5bGUudG9wPShldi5wYWdlWXx8ZXYueSkrInB4IgoKICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM4LiRmbiwgZmFsc2UpOwogICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpczguJGZuLCBmYWxzZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUcmVlOiBmdW5jdGlvbiBoYW5kbGVUcmVlKHR5cGUpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICAvL+m8oOagh+WPjemUrueCueWHu+aWsOWinue8lui+keWIoOmZpAogICAgICBpZiAodHlwZSA9PSAyKSB7CiAgICAgICAgLy/liKDpmaQKICAgICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7lrprliKDpmaTor6Xoj5zljZU/JywgJ+aPkOekuicsIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlLAogICAgICAgICAgY2xvc2VPblByZXNzRXNjYXBlOiBmYWxzZQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgdXJsOiAiL3VzZXJndy9hZG1pbi9hdXRoL2RlbGV0ZWRNZW51LyIuY29uY2F0KF90aGlzOS5ub2RlRGF0YS5tZW51SWQpCiAgICAgICAgICB9LCBfdGhpczkuc2VydmVyVHlwZSk7CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAvLyB0b29scy5kZWxldGVPckZpbmRBcnIodGhpcy50cmVlRGF0YSx7bWVudUlkOnRoaXMubm9kZURhdGEubWVudUlkfSx0aGlzLnByb3BzT3B0aW9ucy5jaGlsZHJlbiwwKS8v5Yig6ZmkCiAgICAgICAgICByZXR1cm4gX3RoaXM5LiRuZXh0VGljaygpOwogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXM5LiRyZWZzWyd0cmVlTWVudSddLnJlbW92ZShfdGhpczkubm9kZURhdGEubWVudUlkLCBfdGhpczkubm93Tm9kZS5wYXJlbnQpOwoKICAgICAgICAgIF90aGlzOS4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICB9KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7Ly/lj5bmtogKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyDph43nva7ooajljZXpqozor4EKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczkuJHJlZnMuYWRkRm9ybSAmJiBfdGhpczkuJHJlZnMuYWRkRm9ybS5jbGVhclZhbGlkYXRlKCk7CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0eXBlID09IDEpIHsKICAgICAgICAgIC8vIOe8lui+kQogICAgICAgICAgdmFyIGNsb25lRGF0YSA9IGNsb25lKHRoaXMubm9kZURhdGEpOyAvLyDliKTmlq3mmK/lkKbmnIlyb2xlVHlwZeWtl+aute+8jOWmguaenOayoeaciem7mOiupOiuvue9ruS4uicwJwoKICAgICAgICAgIGlmICghY2xvbmVEYXRhLnJvbGVUeXBlKSB7CiAgICAgICAgICAgIGNsb25lRGF0YS5yb2xlVHlwZSA9ICcwJzsKICAgICAgICAgIH0KCiAgICAgICAgICB0aGlzLmFkZERhdGEgPSBjbG9uZURhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOaWsOW7ugogICAgICAgICAgaWYgKHRoaXMubm9kZURhdGEuaWQgPT09IC0xKSB7CiAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+agueiKgueCuQogICAgICAgICAgICAvLyDliJvlu7rkuIDnuqfoj5zljZUKICAgICAgICAgICAgdGhpcy5hZGREYXRhID0gewogICAgICAgICAgICAgIHBhcmVudE1lbnVJZDogdGhpcy5ub2RlRGF0YS5tZW51SWQsCiAgICAgICAgICAgICAgaWNvbjogJycsCiAgICAgICAgICAgICAgcm9sZVR5cGU6ICcwJwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5Yib5bu65LqM57qn6I+c5Y2VCiAgICAgICAgICAgIHRoaXMuYWRkRGF0YSA9IHsKICAgICAgICAgICAgICBwYXJlbnRNZW51SWQ6IHRoaXMubm9kZURhdGEubWVudUlkLAogICAgICAgICAgICAgIGljb246ICcnLAogICAgICAgICAgICAgIHJvbGVUeXBlOiB0aGlzLm5vZGVEYXRhLnJvbGVUeXBlIHx8ICcwJwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdGhpcy50aXRsZSA9IHR5cGUgPT0gMSA/ICfnvJbovpEnIDogJ+aWsOWinic7CiAgICAgICAgdGhpcy5fdHlwZSA9IHR5cGU7CiAgICAgICAgdGhpcy5hZGREaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMubm93U3RhdHVzID0gdHlwZTsgLy8g5L+d5a2Y57yW6L6R54q25oCBCiAgICAgIH0KICAgIH0sCiAgICBhZGRTdXJlOiBmdW5jdGlvbiBhZGRTdXJlKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICAvL+ehruiupOaWsOWinue8lui+kQogICAgICB0aGlzLiRyZWZzLmFkZEZvcm0gJiYgdGhpcy4kcmVmcy5hZGRGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgdmFyIG9yZGVyTm8gPSAxOwoKICAgICAgICAgIGlmICghX3RoaXMxMC5fdHlwZSkgewogICAgICAgICAgICAvL+aWsOWinuiOt+WPluacgOWkp+eahG9yZGVyTm8KICAgICAgICAgICAgdmFyIG5vZGVzID0gX3RoaXMxMC5ub2RlRGF0YVtfdGhpczEwLnByb3BzT3B0aW9ucy5jaGlsZHJlbl07CiAgICAgICAgICAgIG9yZGVyTm8gPSBub2RlcyAmJiBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXSAmJiAobm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0ub3JkZXJObyB8fCAwKSArIDEgfHwgMTsKICAgICAgICAgIH0KCiAgICAgICAgICBfdGhpczEwLmNvbmZpcm1Mb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICBfdGhpczEwLmVkaXRNZW51KF90aGlzMTAuYWRkRGF0YSwgX3RoaXMxMC5fdHlwZSwgb3JkZXJObykudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgICAgICB2YXIgbWVzc2FnZSA9ICcnOyAvLyDmj5DnpLrkv6Hmga8KCiAgICAgICAgICAgIGlmIChfdGhpczEwLl90eXBlID09IDEpIHsKICAgICAgICAgICAgICAvL+e8lui+kQogICAgICAgICAgICAgIGZvciAodmFyIGkgaW4gX3RoaXMxMC5hZGREYXRhKSB7CiAgICAgICAgICAgICAgICAvLyB0aGlzLm5vZGVEYXRhW2ldPXRoaXMuYWRkRGF0YVtpXTsKICAgICAgICAgICAgICAgIF90aGlzMTAuJHNldChfdGhpczEwLm5vZGVEYXRhLCBpLCBfdGhpczEwLmFkZERhdGFbaV0pOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbWVzc2FnZSA9ICfoj5zljZXkv67mlLnmiJDlip8nOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIC8v5paw5aKeCiAgICAgICAgICAgICAgX3RoaXMxMC5ub2RlRGF0YVtfdGhpczEwLnByb3BzT3B0aW9ucy5jaGlsZHJlbl0gfHwgX3RoaXMxMC4kc2V0KF90aGlzMTAubm9kZURhdGEsIF90aGlzMTAucHJvcHNPcHRpb25zLmNoaWxkcmVuLCBbXSk7CgogICAgICAgICAgICAgIF90aGlzMTAubm9kZURhdGFbX3RoaXMxMC5wcm9wc09wdGlvbnMuY2hpbGRyZW5dLnB1c2goX29iamVjdFNwcmVhZCh7CiAgICAgICAgICAgICAgICBvcmRlck5vOiBvcmRlck5vLAogICAgICAgICAgICAgICAgbWVudUlkOiBkYXRhLmRhdGEKICAgICAgICAgICAgICB9LCBfdGhpczEwLmFkZERhdGEpKTsKCiAgICAgICAgICAgICAgbWVzc2FnZSA9ICfoj5zljZXmt7vliqDmiJDlip8nOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfdGhpczEwLiRtZXNzYWdlLnN1Y2Nlc3MobWVzc2FnZSk7CgogICAgICAgICAgICBfdGhpczEwLmFkZERpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICBfdGhpczEwLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMTAuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZWRpdE1lbnU6IGZ1bmN0aW9uIGVkaXRNZW51KF9yZWYsIHR5cGUsIG9yZGVyTm8pIHsKICAgICAgdmFyIG1lbnVJZCA9IF9yZWYubWVudUlkLAogICAgICAgICAgbWVudU5hbWUgPSBfcmVmLm1lbnVOYW1lLAogICAgICAgICAgdXJsID0gX3JlZi51cmwsCiAgICAgICAgICBpY29uID0gX3JlZi5pY29uLAogICAgICAgICAgcGFyZW50TWVudUlkID0gX3JlZi5wYXJlbnRNZW51SWQsCiAgICAgICAgICByb2xlVHlwZSA9IF9yZWYucm9sZVR5cGU7CiAgICAgIC8vIOaWsOWinue8lui+keiPnOWNlS8vdHlwZT0w5Li65paw5aKeCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG1lbnVJZDogbWVudUlkLAogICAgICAgIG1lbnVOYW1lOiBtZW51TmFtZSwKICAgICAgICB1cmw6IHVybCwKICAgICAgICBpY29uOiBpY29uLAogICAgICAgIHBhcmVudE1lbnVJZDogcGFyZW50TWVudUlkLAogICAgICAgIHJvbGVUeXBlOiByb2xlVHlwZQogICAgICB9OwoKICAgICAgaWYgKCF0eXBlKSB7CiAgICAgICAgLy8gMOagueiKgueCueWIm+W7ugogICAgICAgIGRhdGEubWVudVR5cGUgPSBwYXJlbnRNZW51SWQgPyAwIDogMSwgZGF0YS5vcmRlck5vID0gb3JkZXJObzsKICAgICAgfQoKICAgICAgcmV0dXJuIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICB1cmw6ICIvdXNlcmd3L2FkbWluL2NvbW1vbi9zYXZlLzMwMi8iLmNvbmNhdCh0eXBlID8gJzAyJyA6ICcwMScpLAogICAgICAgIGRhdGE6IGRhdGEKICAgICAgfSwgdGhpcy5zZXJ2ZXJUeXBlKTsgLy8gMDHmlrDlop4KICAgIH0sCiAgICBoYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7fSwKICAgIGhhbmRsZVJlc2V0OiBmdW5jdGlvbiBoYW5kbGVSZXNldCgpIHsKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLm1lbnVRdWVyeSkgewogICAgICAgIHRoaXMubWVudVF1ZXJ5W2ldID0gJyc7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDmmK/lkKblhYHorrjmi5bmi73lm57osIMKICAgICAqIEBwYXJhbSB7Kn0gZHJhZ2dpbmdOb2RlIOaLluaLveeahOiKgueCuQogICAgICogQHBhcmFtIHsqfSBkcm9wTm9kZSDmlL7kuIvnmoTlhbPogZToioLngrkKICAgICAqIEBwYXJhbSB7Kn0gdHlwZSDmlL7kuIvnsbvlnosKICAgICAqLwogICAgYWxsb3dEcmFwOiBmdW5jdGlvbiBhbGxvd0RyYXAoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSwgdHlwZSkgewogICAgICBpZiAoZHJhZ2dpbmdOb2RlLmxldmVsID09PSAxKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfTs="},null]}