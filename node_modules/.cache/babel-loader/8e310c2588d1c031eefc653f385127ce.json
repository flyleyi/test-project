{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/plugins/core/ddAuth.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/plugins/core/ddAuth.js","mtime":1627979214301},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAqIGFzIGRkIGZyb20gJ2Rpbmd0YWxrLWpzYXBpJzsKdmFyIGRkQXV0aCA9IHsKICAvL+mSiemSieaOiOadg+eZu+W9lQogIGRlYnVnOiAwLAogIGNvbmZpZzogewogICAgLy8g5b+F5aGr77yM5b6u5bqU55SoSUQs5Zu65a6a5YC8CiAgICBhZ2VudElkOiAnJywKICAgIC8vIOW/heWhq++8jOS8geS4mklELOWbuuWumuWAvAogICAgY29ycElkOiAnJywKICAgIC8vIOW/heWhq++8jOeUn+aIkOetvuWQjeeahOaXtumXtOaIsyzpmo/mnLrlgLwKICAgIHRpbWVTdGFtcDogJycsCiAgICAvLyDlv4XloavvvIznlJ/miJDnrb7lkI3nmoTpmo/mnLrkuLIs6ZqP5py65YC8KOWPr+WbuuWumikKICAgIG5vbmNlU3RyOiAnJywKICAgIC8vIOW/heWhq++8jOetvuWQjSzpgJrov4ckdGlja2V0LCAkbm9uY2VTdHIsICR0aW1lU3RhbXAsICR1cmznlJ/miJDnmoTlgLwKICAgIHNpZ25hdHVyZTogJycsCiAgICAvLyDpgInloavvvIww6KGo56S65b6u5bqU55So55qEanNhcGnvvIwx6KGo56S65pyN5Yqh56qX55qEanNhcGnvvIzkuI3loavpu5jorqTkuLow44CC6K+l5Y+C5pWw5LuOZGluZ3RhbGsuanPnmoQwLjguM+eJiOacrOW8gOWni+aUr+aMgQogICAgdHlwZTogMCwKICAgIC8vIOW/heWhq++8jOmcgOimgeS9v+eUqOeahGpzYXBp5YiX6KGo77yM5rOo5oSP77ya5LiN6KaB5bimZGTjgIIKICAgIGpzQXBpTGlzdDogWydydW50aW1lLnBlcm1pc3Npb24ucmVxdWVzdEF1dGhDb2RlJywgJ2RldmljZS5hdWRpby5zdGFydFJlY29yZCcsICdkZXZpY2UuYXVkaW8uc3RvcFJlY29yZCcsICdkZXZpY2UuYXVkaW8ub25SZWNvcmRFbmQnLCAnZGV2aWNlLmF1ZGlvLnBsYXknLCAnZGV2aWNlLmF1ZGlvLnN0b3AnLCAnZGV2aWNlLmF1ZGlvLm9uUGxheUVuZCcsICdkZXZpY2UuYXVkaW8uZG93bmxvYWQnLCAnYml6LnVzZXIuZ2V0J10KICB9LAogIGxvZzogZnVuY3Rpb24gbG9nKHN0cikgewogICAgdGhpcy5kZWJ1ZyAmJiBhbGVydChzdHIpOwogIH0sCiAgc3RvcmU6IGZ1bmN0aW9uIHN0b3JlKGtleSwgdmFsdWUsIHR5cGUpIHsKICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UgJiYgd2luZG93W3R5cGUgPyAnbG9jYWxTdG9yYWdlJyA6ICdzZXNzaW9uU3RvcmFnZSddW3ZhbHVlID8gJ3NldEl0ZW0nIDogJ2dldEl0ZW0nXShrZXksIHZhbHVlKTsKICB9LAogIGdldFVybDogZnVuY3Rpb24gZ2V0VXJsKCkgewogICAgLy/lkI7nq6/ojrflj5ZzaWduYXR1cmXpnIDopoHkvb/nlKjnmoR1cmwo6ZmkaGFzaOS7peWklueahOWcsOWdgCks5LiOaGFzaOaXoOWFswogICAgcmV0dXJuIGxvY2F0aW9uLmhyZWYuc3BsaXQoJyMnKVswXTsKICB9LAogIGdldFF1ZXJ5U3RyaW5nOiBmdW5jdGlvbiBnZXRRdWVyeVN0cmluZyhuYW1lKSB7CiAgICAvL+aQnOe0olVSTOafkOS4quWtl+auteeahOWAvAogICAgdmFyIHJlZyA9IG5ldyBSZWdFeHAoJyhefCYpJyArIG5hbWUgKyAnPShbXiZdKikoJnwkKScpOwogICAgdmFyIHIgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKS5tYXRjaChyZWcpOwogICAgaWYgKHIgIT0gbnVsbCkgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyWzJdKTsKICAgIHJldHVybiAnJzsKICB9LAogIGlzOiBbJ2FuZHJvaWQnLCAnaW9zJywgJ3BjJ10sCiAgLy9kZC5wYwogIGlzREQ6IGZ1bmN0aW9uIGlzREQoKSB7CiAgICAvL+aYr+WQpumSiemSiQogICAgcmV0dXJuIHR5cGVvZiBkZCAhPSAndW5kZWZpbmVkJyAmJiBkZCAmJiBkZC52ZXJzaW9uOwogIH0sCiAgc2V0Q29uZmlnOiBmdW5jdGlvbiBzZXRDb25maWcoY29uZmlnKSB7CiAgICAvL+iuvue9rmNvbmZpZwogICAgZm9yICh2YXIgaSBpbiB0aGlzLmNvbmZpZykgewogICAgICBjb25maWdbaV0gJiYgIXRoaXMuY29uZmlnW2ldICYmICh0aGlzLmNvbmZpZ1tpXSA9IGNvbmZpZ1tpXSk7CiAgICB9CiAgfSwKICBvcGVuTGluazogZnVuY3Rpb24gb3BlbkxpbmsodXJsKSB7CiAgICAvL+mSiemSieWGhemDqOS9v+eUqOWklumDqOa1j+iniOWZqOaJk+W8gHVybAogICAgLy92YXIgdXJsPWxvY2F0aW9uLm9yaWdpbiArICIvbG9naW4uaHRtbD91cmw9ZGluZ3RhbGtwYy1jb2RlJmNvZGU9IiArIHJlc3VsdC5jb2RlOyAvL+imgeaJk+W8gOmTvuaOpeeahOWcsOWdgAogICAgZGQuYml6LnV0aWwub3BlbkxpbmsoewogICAgICB1cmw6IHVybCwKICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7CiAgICAgICAgLyoqLwogICAgICB9LAogICAgICBvbkZhaWw6IGZ1bmN0aW9uIG9uRmFpbCgpIHt9CiAgICB9KTsKICB9LAogIGdldENvZGU6IGZ1bmN0aW9uIGdldENvZGUoZm4pIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBjb2RlID0gdGhpcy5nZXRRdWVyeVN0cmluZygnZGRjb2RlJyk7CgogICAgaWYgKGNvZGUpIHsKICAgICAgdGhpcy5sb2coJ2NvZGVJblVybDonICsgSlNPTi5zdHJpbmdpZnkoY29kZSkpOwogICAgICByZXR1cm4gdHlwZW9mIGZuID09ICdmdW5jdGlvbicgJiYgZm4uY2FsbChzZWxmLCBjb2RlKTsgLy9yZXMuY29kZQogICAgfQoKICAgIGRkLnJ1bnRpbWUucGVybWlzc2lvbi5yZXF1ZXN0QXV0aENvZGUoewogICAgICBjb3JwSWQ6IHRoaXMuY29uZmlnLmNvcnBJZCwKICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzKSB7CiAgICAgICAgc2VsZi5sb2coJ2NvZGVJblJlcXVlc3Q6JyArIEpTT04uc3RyaW5naWZ5KHJlcykpOwogICAgICAgIHR5cGVvZiBmbiA9PSAnZnVuY3Rpb24nICYmIGZuLmNhbGwoc2VsZiwgcmVzLmNvZGUpOyAvL3Jlcy5jb2RlCiAgICAgIH0sCiAgICAgIG9uRmFpbDogZnVuY3Rpb24gb25GYWlsKGVycm9yKSB7CiAgICAgICAgc2VsZi5sb2coJ2dldEREQ29kZUVycm9yOicgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICB9CiAgICB9KTsKICB9LAogIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhmbikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgZGQuYml6LnVzZXIuZ2V0KHsKICAgICAgLy8g5Y+v6YCJ5Y+C5pWw77yM5aaC5p6c5LiN5Lyg5YiZ5L2/55So55So5oi35b2T5YmN5LyB5Lia55qEY29ycElk44CCCiAgICAgIGNvcnBJZDogdGhpcy5jb25maWcuY29ycElkLAogICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcyhpbmZvKSB7CiAgICAgICAgLy9pbmZvLmF2YXRhciAvL+eUqOaIt+WktOWDj+WcsOWdgCAgIC8vaW5mby5pZCAvL+eUqOaIt+WUr+S4gOagh+ivhklECiAgICAgICAgc2VsZi5sb2coJ2luZm86JyArIEpTT04uc3RyaW5naWZ5KGluZm8pKTsgLy9pbmZvLm5pY2tOYW1lfHxpbmZvLm9yZ1VzZXJOYW1lfHxpbmZvLm5pY2sgLy/pkonpkonnlKjmiLflkI0KCiAgICAgICAgdHlwZW9mIGZuID09ICdmdW5jdGlvbicgJiYgZm4uY2FsbChzZWxmLCBpbmZvKTsgLy9pbmZvLmVtcGxJZCAgLy/lt6Xlj7cKICAgICAgfSwKICAgICAgb25GYWlsOiBmdW5jdGlvbiBvbkZhaWwoZXJyb3IpIHsKICAgICAgICBzZWxmLmxvZygnZ2V0RERVc2VySW5mb0Vycm9yOicgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICB9CiAgICB9KTsKICB9LAogIHJlYWR5OiBmdW5jdGlvbiByZWFkeShzdWNjZXNzRm4sIGVyckZuLCBjb25maWcsIHR5cGUpIHsKICAgIC8v6ZKJ6ZKJ5o6I5p2D55m75b2VCiAgICAvL3RoaXMuJHRvYXN0KCfmkJzntKLlhbPplK7lrZfkuI3og73kuLrnqbonKQogICAgaWYgKCF0aGlzLmlzREQoKSkgewogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgY29uZmlnICYmIHRoaXMuc2V0Q29uZmlnKGNvbmZpZyk7CiAgICB0aGlzLmxvZygncmVhbENvbmZpZzonICsgSlNPTi5zdHJpbmdpZnkodGhpcy5jb25maWcpKTsKICAgIHRoaXMuY29uZmlnLnNpZ25hdHVyZSAmJiBkZC5jb25maWcodGhpcy5jb25maWcpOwogICAgZGQuZXJyb3IoZXJyRm4gfHwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIHNlbGYubG9nKCdEREVycm9yOicgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgfSk7CiAgICBkZC5yZWFkeShmdW5jdGlvbiAoKSB7CiAgICAgIHNlbGYubG9nKCdyZWFkeTpvaycpOwoKICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgIHNlbGYuZ2V0VXNlckluZm8oc3VjY2Vzc0ZuKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09IDIpIHsKICAgICAgICBzZWxmLmdldENvZGUoc3VjY2Vzc0ZuKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdWNjZXNzRm4uY2FsbChzZWxmKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gZGQucmVhZHk7CiAgfSwKICBpbml0OiBmdW5jdGlvbiBpbml0KHN1Y2Nlc3NGbiwgZXJyRm4sIGNvbmZpZykgewogICAgdGhpcy5yZWFkeShzdWNjZXNzRm4sIGVyckZuLCBjb25maWcsIDEpOwogIH0sCiAgZGVtbzogZnVuY3Rpb24gZGVtbygpIHsKICAgIHZhciBzZWxmID0gdGhpczsKCiAgICBpZiAoZGRBdXRoLmlzREQoKSkgewogICAgICAvL+WmguaenOaYr+mSiemSiQogICAgICBkZEF1dGguaW5pdChmdW5jdGlvbiAoaW5mbykgey8vaW5mby5lbXBsSWQKICAgICAgICAvLwogICAgICB9LCAwLCB0aGlzLmNvbmZpZyk7CiAgICB9IGVsc2Ugey8v5LiN5pivZGTlpITnkIYKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IGRkQXV0aDs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/plugins/core/ddAuth.js"],"names":["dd","ddAuth","debug","config","agentId","corpId","timeStamp","nonceStr","signature","type","jsApiList","log","str","alert","store","key","value","window","sessionStorage","getUrl","location","href","split","getQueryString","name","reg","RegExp","r","search","substr","match","decodeURIComponent","is","isDD","version","setConfig","i","openLink","url","biz","util","onSuccess","result","onFail","getCode","fn","self","code","JSON","stringify","call","runtime","permission","requestAuthCode","res","error","getUserInfo","user","get","info","ready","successFn","errFn","init","demo"],"mappings":"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","sourcesContent":["import * as dd from 'dingtalk-jsapi';\n\nvar ddAuth = {\n  //钉钉授权登录\n  debug: 0,\n  config: {\n    // 必填，微应用ID,固定值\n    agentId: '',\n    // 必填，企业ID,固定值\n    corpId: '',\n    // 必填，生成签名的时间戳,随机值\n    timeStamp: '',\n    // 必填，生成签名的随机串,随机值(可固定)\n    nonceStr: '',\n    // 必填，签名,通过$ticket, $nonceStr, $timeStamp, $url生成的值\n    signature: '',\n    // 选填，0表示微应用的jsapi，1表示服务窗的jsapi，不填默认为0。该参数从dingtalk.js的0.8.3版本开始支持\n    type: 0,\n    // 必填，需要使用的jsapi列表，注意：不要带dd。\n    jsApiList: [\n      'runtime.permission.requestAuthCode',\n      'device.audio.startRecord',\n      'device.audio.stopRecord',\n      'device.audio.onRecordEnd',\n      'device.audio.play',\n      'device.audio.stop',\n      'device.audio.onPlayEnd',\n      'device.audio.download',\n      'biz.user.get'\n    ]\n  },\n  log: function(str) {\n    this.debug && alert(str);\n  },\n  store: function(key, value, type) {\n    return (\n      window.sessionStorage &&\n      window[type ? 'localStorage' : 'sessionStorage'][\n        value ? 'setItem' : 'getItem'\n      ](key, value)\n    );\n  },\n  getUrl: function() {\n    //后端获取signature需要使用的url(除hash以外的地址),与hash无关\n    return location.href.split('#')[0];\n  },\n  getQueryString: function(name) {\n    //搜索URL某个字段的值\n    var reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)');\n    var r = window.location.search.substr(1).match(reg);\n    if (r != null) return decodeURIComponent(r[2]);\n    return '';\n  },\n  is: ['android', 'ios', 'pc'], //dd.pc\n  isDD: function() {\n    //是否钉钉\n    return typeof dd != 'undefined' && dd && dd.version;\n  },\n  setConfig: function(config) {\n    //设置config\n    for (var i in this.config) {\n      config[i] && !this.config[i] && (this.config[i] = config[i]);\n    }\n  },\n  openLink: function(url) {\n    //钉钉内部使用外部浏览器打开url\n    //var url=location.origin + \"/login.html?url=dingtalkpc-code&code=\" + result.code; //要打开链接的地址\n    dd.biz.util.openLink({\n      url: url,\n      onSuccess: function(result) {\n        /**/\n      },\n      onFail: function() {}\n    });\n  },\n  getCode: function(fn) {\n    var self = this,\n      code = this.getQueryString('ddcode');\n    if (code) {\n      this.log('codeInUrl:' + JSON.stringify(code));\n      return typeof fn == 'function' && fn.call(self, code); //res.code\n    }\n    dd.runtime.permission.requestAuthCode({\n      corpId: this.config.corpId,\n      onSuccess: function(res) {\n        self.log('codeInRequest:' + JSON.stringify(res));\n        typeof fn == 'function' && fn.call(self, res.code); //res.code\n      },\n      onFail: function(error) {\n        self.log('getDDCodeError:' + JSON.stringify(error));\n      }\n    });\n  },\n  getUserInfo: function(fn) {\n    var self = this;\n    dd.biz.user.get({\n      // 可选参数，如果不传则使用用户当前企业的corpId。\n      corpId: this.config.corpId,\n      onSuccess: function(info) {\n        //info.avatar //用户头像地址   //info.id //用户唯一标识ID\n        self.log('info:' + JSON.stringify(info)); //info.nickName||info.orgUserName||info.nick //钉钉用户名\n        typeof fn == 'function' && fn.call(self, info); //info.emplId  //工号\n      },\n      onFail: function(error) {\n        self.log('getDDUserInfoError:' + JSON.stringify(error));\n      }\n    });\n  },\n  ready: function(successFn, errFn, config, type) {\n    //钉钉授权登录\n    //this.$toast('搜索关键字不能为空')\n    if (!this.isDD()) {\n      return;\n    }\n    var self = this;\n    config && this.setConfig(config);\n    this.log('realConfig:' + JSON.stringify(this.config));\n    this.config.signature && dd.config(this.config);\n    dd.error(\n      errFn ||\n        function(error) {\n          self.log('DDError:' + JSON.stringify(error));\n        }\n    );\n    dd.ready(function() {\n      self.log('ready:ok');\n      if (type == 1) {\n        self.getUserInfo(successFn);\n      } else if (type == 2) {\n        self.getCode(successFn);\n      } else {\n        successFn.call(self);\n      }\n    });\n    return dd.ready;\n  },\n  init: function(successFn, errFn, config) {\n    this.ready(successFn, errFn, config, 1);\n  },\n  demo: function() {\n    var self = this;\n    if (ddAuth.isDD()) {\n      //如果是钉钉\n      ddAuth.init(\n        function(info) {\n          //info.emplId\n          //\n        },\n        0,\n        this.config\n      );\n    } else {\n      //不是dd处理\n    }\n  }\n};\nexport default ddAuth;\n"]}]}