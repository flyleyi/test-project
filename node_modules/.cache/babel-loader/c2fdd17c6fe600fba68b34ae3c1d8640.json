{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/plugins/directives/v-scrolloutclose.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/plugins/directives/v-scrolloutclose.js","mtime":1627979214417},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVmbGVjdC5kZWxldGUtcHJvcGVydHkuanMiOwoKLyoqDQogKiDlnKjmu5rliqjlpJbop6blj5ENCiAqIOS+i++8muS7o+ihqOW9k+WJjee7keWumuWFg+e0oOWGhemDqOa7muWKqOato+W4uO+8jOWklumDqOeahOa7muWKqOS8muinpuWPkW9uQ2xvc2UNCiAqIDxkaXYgdi1zY3JvbGxvdXRjbG9zZT0ib25DbG9zZSI+PC9kaXY+DQogKiDkvovvvJrku6PooaguY29udGFpbmVy6IyD5Zu05YaF77yMLnRlc3TlhYPntKDlhoXnmoTmu5rliqjmraPluLjvvIwudGVzdOWFg+e0oOWklueahOa7muWKqOS8muinpuWPkW9uQ2xvc2UNCiAqIDxkaXYgdi1zY3JvbGxvdXRjbG9zZT0ieyBlbDogJy50ZXN0JywgaGFuZGxlcjogb25DbG9zZSwgY29udGFpbmVyOiAnLmNvbnRhaW5lcicgfSI+PC9kaXY+DQogKi8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdzY3JvbGxvdXRjbG9zZScsCiAgb3B0aW9uOiB7CiAgICAvKioNCiAgICAgKiDkuLrlhYPntKDnu5HlrprljLrln5/lpJbmu5rliqjop6blj5Hmlrnms5UNCiAgICAgKiBAcGFyYW0ge0RPTX0gZWwg5b2T5YmN57uR5a6a5YWD57SgDQogICAgICogQHBhcmFtIHtPYmplY3QvRnVuY3Rpb259IHZhbHVlICDnu5Hlrprmlrnms5Ug5oiW6ICFIOe7keWumuWvueixoe+8jOS4uuWvueixoeaXtu+8jOagvOW8j+WmguS4iw0KICAgICAqIHsNCiAgICAgKiAgICBlbDog57uR5a6a5Yy65Z+f77yM5Zyo5q2k5Yy65Z+f5aSW55qE5rua5Yqo77yM5YGa5Zue6LCD6Kem5Y+RDQogICAgICogICAgaGFuZGxlcjog6Kem5Y+R5Zue6LCD5pa55rOVDQogICAgICogICAgY29udGFpbmVyOiDmjIflrprmu5rliqjlrrnlmajvvIzpu5jorqRkb2N1bWVudO+8jOW9k2Vs5Zyo5rua5Yqo5Yy65Z+f5YaF77yI5o6S6Zmk6Ieq6Lqr77yJ6Kem5Y+R5rua5Yqo5pe277yM5omn6KGM5Zue6LCDDQogICAgICogfQ0KICAgICAqLwogICAgYmluZDogZnVuY3Rpb24gYmluZChlbCwgX3JlZikgewogICAgICB2YXIgdmFsdWUgPSBfcmVmLnZhbHVlOwogICAgICB2YXIgaGFuZGxlciA9IHZhbHVlLmhhbmRsZXIgfHwgdmFsdWU7IC8v5LqL5Lu25aSE55CGCgogICAgICB2YXIgY29udGFpbmVyID0gZG9jdW1lbnQ7IC8v6K6+572u5rua5Yqo5a655Zmo77yM6buY6K6k5Y+WZG9jdW1lbnQKCiAgICAgIGlmICh2YWx1ZS5jb250YWluZXIpIHsKICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZhbHVlLmNvbnRhaW5lcik7CiAgICAgIH0KCiAgICAgIGlmICghY29udGFpbmVyKSByZXR1cm47IC8v5rua5Yqo5Zue6LCDCgogICAgICBmdW5jdGlvbiBzY3JvbGxIYW5kbGVyKGUpIHsKICAgICAgICB2YXIgYmluZEVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih2YWx1ZS5lbCkgfHwgZWw7IC8v5b2T5YmN5rua5Yqo5Yy65Z+f5YyF5ZCr5rua5Yqo6Kem5Y+R5rua5Yqo55qE6IqC54K577yM5YiZ5LiN5L2c5aSE55CGCgogICAgICAgIGlmIChiaW5kRWwuY29udGFpbnMoZS50YXJnZXQpKSB7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfSAvL+WMuuWfn+WklueahOa7muWKqO+8jOaJp+ihjOWbnuiwgwoKCiAgICAgICAgaWYgKGhhbmRsZXIpIHsKICAgICAgICAgIGhhbmRsZXIoZSwgdmFsdWUuZWwpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgZWwuX19jb250YWluZXJfXyA9IGNvbnRhaW5lcjsKICAgICAgZWwuX19zY3JvbGxIYW5kbGVyX18gPSBzY3JvbGxIYW5kbGVyOwoKICAgICAgaWYgKGRvY3VtZW50LmF0dGFjaEV2ZW50KSB7CiAgICAgICAgY29udGFpbmVyLmF0dGFjaEV2ZW50KCdvbnNjcm9sbCcsIGVsLl9fc2Nyb2xsSGFuZGxlcl9fKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgZWwuX19zY3JvbGxIYW5kbGVyX18pOwogICAgICB9CiAgICB9LAogICAgLy8g6Kej57uR5pe25riF6ZmkCiAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZChlbCkgewogICAgICB2YXIgY29udGFpbmVyID0gZWwuX19jb250YWluZXJfXzsKICAgICAgaWYgKCFjb250YWluZXIpIHJldHVybjsKCiAgICAgIGlmIChkb2N1bWVudC5hdHRhY2hFdmVudCkgewogICAgICAgIGNvbnRhaW5lci5kZXRhY2hFdmVudCgnb25zY3JvbGwnLCBlbC5fX3Njcm9sbEhhbmRsZXJfXyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGVsLl9fc2Nyb2xsSGFuZGxlcl9fKTsKICAgICAgfQoKICAgICAgUmVmbGVjdC5kZWxldGVQcm9wZXJ0eShlbCwgJ19fc2Nyb2xsSGFuZGxlcl9fJyk7CiAgICAgIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZWwsICdfX2NvbnRhaW5lcl9fJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/plugins/directives/v-scrolloutclose.js"],"names":["name","option","bind","el","value","handler","container","document","querySelector","scrollHandler","e","bindEl","contains","target","__container__","__scrollHandler__","attachEvent","addEventListener","unbind","detachEvent","removeEventListener","Reflect","deleteProperty"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACbA,EAAAA,IAAI,EAAE,gBADO;AAEbC,EAAAA,MAAM,EAAE;AACN;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACIC,IAAAA,IAAI,EAAE,cAASC,EAAT,QAAwB;AAAA,UAATC,KAAS,QAATA,KAAS;AAC5B,UAAIC,OAAO,GAAGD,KAAK,CAACC,OAAN,IAAiBD,KAA/B,CAD4B,CACU;;AACtC,UAAIE,SAAS,GAAGC,QAAhB,CAF4B,CAEF;;AAC1B,UAAIH,KAAK,CAACE,SAAV,EAAqB;AACnBA,QAAAA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuBJ,KAAK,CAACE,SAA7B,CAAZ;AACD;;AACD,UAAI,CAACA,SAAL,EAAgB,OANY,CAO5B;;AACA,eAASG,aAAT,CAAuBC,CAAvB,EAA0B;AACxB,YAAIC,MAAM,GAAGJ,QAAQ,CAACC,aAAT,CAAuBJ,KAAK,CAACD,EAA7B,KAAoCA,EAAjD,CADwB,CAExB;;AACA,YAAIQ,MAAM,CAACC,QAAP,CAAgBF,CAAC,CAACG,MAAlB,CAAJ,EAA+B;AAC7B,iBAAO,KAAP;AACD,SALuB,CAMxB;;;AACA,YAAIR,OAAJ,EAAa;AACXA,UAAAA,OAAO,CAACK,CAAD,EAAIN,KAAK,CAACD,EAAV,CAAP;AACD;AACF;;AACDA,MAAAA,EAAE,CAACW,aAAH,GAAmBR,SAAnB;AACAH,MAAAA,EAAE,CAACY,iBAAH,GAAuBN,aAAvB;;AACA,UAAIF,QAAQ,CAACS,WAAb,EAA0B;AACxBV,QAAAA,SAAS,CAACU,WAAV,CAAsB,UAAtB,EAAkCb,EAAE,CAACY,iBAArC;AACD,OAFD,MAEO;AACLT,QAAAA,SAAS,CAACW,gBAAV,CAA2B,QAA3B,EAAqCd,EAAE,CAACY,iBAAxC;AACD;AACF,KArCK;AAsCN;AACAG,IAAAA,MAAM,EAAE,gBAASf,EAAT,EAAa;AACnB,UAAIG,SAAS,GAAGH,EAAE,CAACW,aAAnB;AACA,UAAI,CAACR,SAAL,EAAgB;;AAChB,UAAIC,QAAQ,CAACS,WAAb,EAA0B;AACxBV,QAAAA,SAAS,CAACa,WAAV,CAAsB,UAAtB,EAAkChB,EAAE,CAACY,iBAArC;AACD,OAFD,MAEO;AACLT,QAAAA,SAAS,CAACc,mBAAV,CAA8B,QAA9B,EAAwCjB,EAAE,CAACY,iBAA3C;AACD;;AACDM,MAAAA,OAAO,CAACC,cAAR,CAAuBnB,EAAvB,EAA2B,mBAA3B;AACAkB,MAAAA,OAAO,CAACC,cAAR,CAAuBnB,EAAvB,EAA2B,eAA3B;AACD;AAjDK;AAFK,CAAf","sourcesContent":["/**\r\n * 在滚动外触发\r\n * 例：代表当前绑定元素内部滚动正常，外部的滚动会触发onClose\r\n * <div v-scrolloutclose=\"onClose\"></div>\r\n * 例：代表.container范围内，.test元素内的滚动正常，.test元素外的滚动会触发onClose\r\n * <div v-scrolloutclose=\"{ el: '.test', handler: onClose, container: '.container' }\"></div>\r\n */\r\nexport default {\r\n  name: 'scrolloutclose',\r\n  option: {\r\n    /**\r\n     * 为元素绑定区域外滚动触发方法\r\n     * @param {DOM} el 当前绑定元素\r\n     * @param {Object/Function} value  绑定方法 或者 绑定对象，为对象时，格式如下\r\n     * {\r\n     *    el: 绑定区域，在此区域外的滚动，做回调触发\r\n     *    handler: 触发回调方法\r\n     *    container: 指定滚动容器，默认document，当el在滚动区域内（排除自身）触发滚动时，执行回调\r\n     * }\r\n     */\r\n    bind: function(el, { value }) {\r\n      let handler = value.handler || value; //事件处理\r\n      let container = document; //设置滚动容器，默认取document\r\n      if (value.container) {\r\n        container = document.querySelector(value.container);\r\n      }\r\n      if (!container) return;\r\n      //滚动回调\r\n      function scrollHandler(e) {\r\n        let bindEl = document.querySelector(value.el) || el;\r\n        //当前滚动区域包含滚动触发滚动的节点，则不作处理\r\n        if (bindEl.contains(e.target)) {\r\n          return false;\r\n        }\r\n        //区域外的滚动，执行回调\r\n        if (handler) {\r\n          handler(e, value.el);\r\n        }\r\n      }\r\n      el.__container__ = container;\r\n      el.__scrollHandler__ = scrollHandler;\r\n      if (document.attachEvent) {\r\n        container.attachEvent('onscroll', el.__scrollHandler__);\r\n      } else {\r\n        container.addEventListener('scroll', el.__scrollHandler__);\r\n      }\r\n    },\r\n    // 解绑时清除\r\n    unbind: function(el) {\r\n      let container = el.__container__;\r\n      if (!container) return;\r\n      if (document.attachEvent) {\r\n        container.detachEvent('onscroll', el.__scrollHandler__);\r\n      } else {\r\n        container.removeEventListener('scroll', el.__scrollHandler__);\r\n      }\r\n      Reflect.deleteProperty(el, '__scrollHandler__');\r\n      Reflect.deleteProperty(el, '__container__');\r\n    }\r\n  }\r\n};\r\n"]}]}