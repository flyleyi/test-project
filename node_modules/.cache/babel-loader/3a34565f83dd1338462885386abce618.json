{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/views/Home.vue","mtime":1627979214302},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZGQgZnJvbSAnZGluZ3RhbGstanNhcGknOwppbXBvcnQgZGRBdXRoIGZyb20gJy4uL3BsdWdpbnMvY29yZS9kZEF1dGguanMnOwppbXBvcnQgeyBnZXRDb2RlLCBsb2dpbiBhcyBfbG9naW4sIGdldEF1dGggYXMgX2dldEF1dGgsIGdldFBsYXRlTGlzdCBhcyBfZ2V0UGxhdGVMaXN0IH0gZnJvbSAnLi4vYXBpL3VzZXIuanMnOwppbXBvcnQgeyBnZXRTZXJ2ZURldGFpbCB9IGZyb20gJy4uL2FwaS9zZXJ2ZS5qcyc7CmltcG9ydCBjb25maWcgZnJvbSAnLi8uLi9jb25maWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvbWUnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6IDAsCiAgICAgIGFjdGl2ZU5hbWU6ICdhbGwnLAogICAgICByZWRpcmVjdDogMCwKICAgICAgdHlwZTogJycsCiAgICAgIHNlcnZlSWQ6ICcnCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIC8vIHZhciB0ZXN0ID0gMSwgZW1wbElkID0gIiI7CiAgICB2YXIgX3RoaXMkJHJvdXRlJHF1ZXJ5ID0gdGhpcy4kcm91dGUucXVlcnksCiAgICAgICAgcmVkaXJlY3QgPSBfdGhpcyQkcm91dGUkcXVlcnkucmVkaXJlY3QsCiAgICAgICAgdHlwZSA9IF90aGlzJCRyb3V0ZSRxdWVyeS50eXBlLAogICAgICAgIHNlcnZlSWQgPSBfdGhpcyQkcm91dGUkcXVlcnkuc2VydmVJZDsKICAgIHRoaXMucmVkaXJlY3QgPSByZWRpcmVjdDsKICAgIHRoaXMudHlwZSA9IHR5cGU7CiAgICB0aGlzLnNlcnZlSWQgPSBzZXJ2ZUlkOwogICAgdmFyIHRlc3QgPSAwLAogICAgICAgIGVtcGxJZCA9ICc4ODUzMzkyMic7IC8vIHZhciB0ZXN0ID0gMDsKCiAgICBpZiAodGVzdCAmJiBlbXBsSWQpIHsKICAgICAgLy/mqKHmi5/nmbvlvZUKICAgICAgdGhpcy5sb2dpbihlbXBsSWQpOwogICAgfQoKICAgIGlmICghdGVzdCkgewogICAgICBpZiAoIWRkQXV0aC5pc0REKCkpIHsKICAgICAgICByZXR1cm4gdGhpcy4kdG9hc3QoJ+ivt+S9v+eUqOmSiemSieaJk+W8gCcpOwogICAgICB9IC8vIGVtcGxJZCA9IGRkQXV0aC5zdG9yZSgiZW1wbCIpOwoKCiAgICAgIHZhciBpbmZvID0gewogICAgICAgIC8v5rWL6K+VCiAgICAgICAgLy8gY29ycGlkOiAnZGluZ2NjZjFjOTFjYjM5YTVjMDQzNWMyZjQ2NTdlYjYzNzhmJywKICAgICAgICBjb3JwaWQ6IGNvbmZpZy5jb3JwaWQsCiAgICAgICAgY29ycFNlY3JldDogJ21URC0yWW8xRk9Iak1UdnVQd0Q0YzdkNVY1cGJsSWFzUEZJaE9SLWtlU3VVUS1lbHhFYW5kVFhRQ2RWY3Y1T1UnLAogICAgICAgIGFnZW50SWQ6ICcxMTM5NDMwNzM4JywKICAgICAgICBjb2RlOiAnJwogICAgICB9OwogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIGRkLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICBkZC5ydW50aW1lLnBlcm1pc3Npb24ucmVxdWVzdEF1dGhDb2RlKHsKICAgICAgICAgIGNvcnBJZDogaW5mby5jb3JwaWQsCiAgICAgICAgICAvLyDkvIHkuJppZHMKICAgICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24gb25TdWNjZXNzKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZygnY3JvcElkJywgcmVzKTsKICAgICAgICAgICAgaW5mby5jb2RlID0gcmVzLmNvZGU7IC8vIOmAmui/h+ivpeWFjeeZu+aOiOadg+eggeWPr+S7peiOt+WPlueUqOaIt+i6q+S7vQoKICAgICAgICAgICAgdGhhdC5nZXRjb2RlKHJlcy5jb2RlKTsKICAgICAgICAgIH0sCiAgICAgICAgICBvbkZhaWw6IGZ1bmN0aW9uIG9uRmFpbChlcnJvcikgewogICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0RERVc2VySW5mb0Vycm9yOicgKyBKU09OLnN0cmluZ2lmeShlcnJvcikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldGNvZGU6IGZ1bmN0aW9uIGdldGNvZGUoY29kZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgZ2V0Q29kZShjb2RlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBjb25zb2xlLmxvZygndXNlcklkJywgcmVzKTsKCiAgICAgICAgX3RoaXMubG9naW4ocmVzLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7fSk7CiAgICB9LAogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGVtcGxJZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGlmICghZW1wbElkKSByZXR1cm47CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBlbXBsSWQpOwoKICAgICAgX2xvZ2luKGVtcGxJZCBeIDEwMDAwMDAwMDEpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5nZXRBdXRoKCk7IC8vIHRoaXMuZ2V0UGxhdGVMaXN0KCkudGhlbihyZXMgPT4gewogICAgICAgIC8vICAgY29uc3QgZGF0YSA9IHJlcy5kYXRhIHx8IFtdOwogICAgICAgIC8vICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3BsYXRlTGlzdCcsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTsKICAgICAgICAvLyAgIHRoaXMuZ2V0QXV0aCgpOwogICAgICAgIC8vIH0pOwoKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLiR0b2FzdCgn5rKh5pyJ6K6/6Zeu5p2D6ZmQ77yM6K+36IGU57O7566h55CG5ZGYJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEF1dGg6IGZ1bmN0aW9uIGdldEF1dGgoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHBsYXRlSWQgPSBudWxsOwoKICAgICAgaWYgKHRoaXMucGxhdGVJZCkgewogICAgICAgIHBsYXRlSWQgPSB0aGlzLnBsYXRlSWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHBsYXRlTGlzdCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF0ZUxpc3QnKSAmJiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdwbGF0ZUxpc3QnKSkgfHwgW107CiAgICAgICAgcGxhdGVJZCA9IHBsYXRlTGlzdFswXSAmJiBwbGF0ZUxpc3RbMF0uaWQgfHwgJyc7CiAgICAgIH0KCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdwbGF0ZUlkJywgcGxhdGVJZCk7CgogICAgICBfZ2V0QXV0aCh7CiAgICAgICAgcGxhdGVJZDogcGxhdGVJZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhOwogICAgICAgIHZhciByb2xlcyA9IGRhdGEucm9sZXM7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJJbmZvJywgSlNPTi5zdHJpbmdpZnkoZGF0YSkpOwoKICAgICAgICBpZiAoX3RoaXMzLnJlZGlyZWN0ID09ICcxJykgewogICAgICAgICAgZ2V0U2VydmVEZXRhaWwoX3RoaXMzLnNlcnZlSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICB2YXIgc2VydmVEZXRhaWwgPSByZXMgJiYgcmVzLmRhdGEgfHwge307IC8vIGlmICgKICAgICAgICAgICAgLy8gICBzZXJ2ZURldGFpbC5zZXJ2ZVN0YXR1cyA9PSAnNicgfHwKICAgICAgICAgICAgLy8gICBzZXJ2ZURldGFpbC5zZXJ2ZVN0YXR1cyA9PSAnNScKICAgICAgICAgICAgLy8gKSB7CiAgICAgICAgICAgIC8vICAgdGhpcy5nZXREZWZhdWx0UGFnZSgpOwogICAgICAgICAgICAvLyB9IGVsc2UgewoKICAgICAgICAgICAgX3RoaXMzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgcGF0aDogIi8iLmNvbmNhdChfdGhpczMudHlwZSwgIi9kZXRhaWwvIikuY29uY2F0KF90aGlzMy5zZXJ2ZUlkLCAiP2lkZW50aXR5PSIpLmNvbmNhdChfdGhpczMudHlwZSwgIiZyZWRpcmVjdD0xIikKICAgICAgICAgICAgfSk7IC8vIH0KCiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpczMuZ2V0RGVmYXVsdFBhZ2UoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuZ2V0RGVmYXVsdFBhZ2UoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFBsYXRlTGlzdDogZnVuY3Rpb24gZ2V0UGxhdGVMaXN0KCkgewogICAgICByZXR1cm4gX2dldFBsYXRlTGlzdCgpOwogICAgfSwKICAgIGdldERlZmF1bHRQYWdlOiBmdW5jdGlvbiBnZXREZWZhdWx0UGFnZSgpIHsKICAgICAgdmFyIHVzZXJJbmZvID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJbmZvJykgJiYgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSkgfHwge307CiAgICAgIHZhciByb2xlcyA9IHVzZXJJbmZvLnJvbGVzIHx8IFtdOwoKICAgICAgaWYgKHJvbGVzLmluY2x1ZGVzKCfloavmiqXkuronKSkgewogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgIHBhdGg6ICcvZmlsbCcKICAgICAgICB9KTsKICAgICAgfSBlbHNlIGlmIChyb2xlcy5pbmNsdWRlcygn5a6h5qC45Lq6JykpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICBwYXRoOiAnL2NoZWNrJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgaWYgKHJvbGVzLmluY2x1ZGVzKCflpITnkIbkuronKSB8fCByb2xlcy5pbmNsdWRlcygn55uR552j5Lq6JykpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICBwYXRoOiAnL3N1cGVydmlzZScKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"home\"></div>\r\n</template>\r\n\r\n<script>\r\nimport * as dd from 'dingtalk-jsapi';\r\nimport ddAuth from '../plugins/core/ddAuth.js';\r\nimport { getCode, login, getAuth, getPlateList } from '../api/user.js';\r\nimport { getServeDetail } from '../api/serve.js';\r\nimport config from './../config';\r\n\r\nexport default {\r\n  name: 'Home',\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      activeName: 'all',\r\n      redirect: 0,\r\n      type: '',\r\n      serveId: ''\r\n    };\r\n  },\r\n  created() {\r\n    // var test = 1, emplId = \"\";\r\n    const { redirect, type, serveId } = this.$route.query;\r\n    this.redirect = redirect;\r\n    this.type = type;\r\n    this.serveId = serveId;\r\n    var test = 0,\r\n      emplId = '88533922';\r\n    // var test = 0;\r\n\r\n    if (test && emplId) {\r\n      //模拟登录\r\n      this.login(emplId);\r\n    }\r\n\r\n    if (!test) {\r\n      if (!ddAuth.isDD()) {\r\n        return this.$toast('请使用钉钉打开');\r\n      }\r\n      // emplId = ddAuth.store(\"empl\");\r\n      var info = {\r\n        //测试\r\n        // corpid: 'dingccf1c91cb39a5c0435c2f4657eb6378f',\r\n        corpid: config.corpid,\r\n        corpSecret:\r\n          'mTD-2Yo1FOHjMTvuPwD4c7d5V5pblIasPFIhOR-keSuUQ-elxEandTXQCdVcv5OU',\r\n        agentId: '1139430738',\r\n        code: ''\r\n      };\r\n      var that = this;\r\n      dd.ready(function() {\r\n        dd.runtime.permission.requestAuthCode({\r\n          corpId: info.corpid, // 企业ids\r\n          onSuccess: res => {\r\n            console.log('cropId', res);\r\n            info.code = res.code; // 通过该免登授权码可以获取用户身份\r\n            that.getcode(res.code);\r\n          },\r\n          onFail: error => {\r\n            console.log('getDDUserInfoError:' + JSON.stringify(error));\r\n          }\r\n        });\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    getcode(code) {\r\n      getCode(code)\r\n        .then(res => {\r\n          console.log('userId', res);\r\n          this.login(res.data);\r\n        })\r\n        .catch(err => {});\r\n    },\r\n    login(emplId) {\r\n      if (!emplId) return;\r\n      localStorage.setItem('userId', emplId);\r\n      login(emplId ^ 1000000001)\r\n        .then(res => {\r\n          this.getAuth();\r\n          // this.getPlateList().then(res => {\r\n          //   const data = res.data || [];\r\n          //   localStorage.setItem('plateList', JSON.stringify(data));\r\n          //   this.getAuth();\r\n          // });\r\n        })\r\n        .catch(e => {\r\n          return this.$toast('没有访问权限，请联系管理员');\r\n        });\r\n    },\r\n    getAuth() {\r\n      let plateId = null;\r\n      if (this.plateId) {\r\n        plateId = this.plateId;\r\n      } else {\r\n        let plateList =\r\n          (localStorage.getItem('plateList') &&\r\n            JSON.parse(localStorage.getItem('plateList'))) ||\r\n          [];\r\n        plateId = (plateList[0] && plateList[0].id) || '';\r\n      }\r\n      localStorage.setItem('plateId', plateId);\r\n      getAuth({ plateId: plateId }).then(res => {\r\n        const { data } = res;\r\n        const { roles } = data;\r\n        localStorage.setItem('userInfo', JSON.stringify(data));\r\n        if (this.redirect == '1') {\r\n          getServeDetail(this.serveId)\r\n            .then(res => {\r\n              let serveDetail = (res && res.data) || {};\r\n              // if (\r\n              //   serveDetail.serveStatus == '6' ||\r\n              //   serveDetail.serveStatus == '5'\r\n              // ) {\r\n              //   this.getDefaultPage();\r\n              // } else {\r\n              this.$router.replace({\r\n                path: `/${this.type}/detail/${this.serveId}?identity=${this.type}&redirect=1`\r\n              });\r\n              // }\r\n            })\r\n            .catch(e => {\r\n              this.getDefaultPage();\r\n            });\r\n        } else {\r\n          this.getDefaultPage();\r\n        }\r\n      });\r\n    },\r\n    getPlateList() {\r\n      return getPlateList();\r\n    },\r\n    getDefaultPage() {\r\n      const userInfo =\r\n        (localStorage.getItem('userInfo') &&\r\n          JSON.parse(localStorage.getItem('userInfo'))) ||\r\n        {};\r\n      const roles = userInfo.roles || [];\r\n      if (roles.includes('填报人')) {\r\n        this.$router.replace({\r\n          path: '/fill'\r\n        });\r\n      } else if (roles.includes('审核人')) {\r\n        this.$router.replace({\r\n          path: '/check'\r\n        });\r\n      } else if (roles.includes('处理人') || roles.includes('监督人')) {\r\n        this.$router.replace({\r\n          path: '/supervise'\r\n        });\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.home {\r\n  .time {\r\n    font-size: 0.3rem;\r\n  }\r\n  /deep/.van-tab--active {\r\n    color: #ff9800;\r\n  }\r\n  /deep/.van-tabs__line {\r\n    background-color: #ff9800;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages/executive-serveh5/views"}]}