{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/components/DeparturePlace.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/components/DeparturePlace.vue","mtime":1645176309886},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgZXZlbnRCdXMgZnJvbSAnQC9wYWdlcy92aXNpdG9yLWg1L3BsdWdpbnMvY29tbW9uL2V2ZW50QnVzLmpzJzsKaW1wb3J0IHsgZ2V0UHJvdmluY2VMaXN0IGFzIF9nZXRQcm92aW5jZUxpc3QgfSBmcm9tICdAL3BhZ2VzL3Zpc2l0b3ItaDUvYXBpL215VmlzaXRvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWN0aXZlTmFtZTogJ2NoaW5hJywKICAgICAgcHJvdmluY2VMaXN0OiBbXSwKICAgICAgb3B0aW9uczogW10sCiAgICAgIHNob3c6IGZhbHNlLAogICAgICBjYXNjYWRlclZhbHVlOiAnJywKICAgICAgaW5kZXhMaXN0OiBbJ0EnLCAnQicsICdGJywgJ0cnLCAnSCcsICdKJywgJ0wnLCAnTicsICdRJywgJ1MnLCAnVCcsICdYJywgJ1knLCAnWiddLAogICAgICBmaWVsZE5hbWVzOiB7CiAgICAgICAgdGV4dDogJ25hbWUnLAogICAgICAgIHZhbHVlOiAnY29kZScsCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZExpc3QnCiAgICAgIH0sCiAgICAgIGZpZWxkVmFsdWU6ICcnLAogICAgICBmaWVsZENvZGU6ICcnLAogICAgICBzZWxlY3RlZFByb3ZpbmNlOiB7fQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvTGlzdERGOiBmdW5jdGlvbiB0b0xpc3RERihsaXN0KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgbmV3TGlzdCA9IGxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uY2hpbGRMaXN0Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgX3RoaXMudG9MaXN0REYoaXRlbS5jaGlsZExpc3QpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkZWxldGUgaXRlbS5jaGlsZExpc3Q7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgfSk7CiAgICAgIHJldHVybiBuZXdMaXN0OwogICAgfSwKICAgIHNlbGVjdFByb3ZpbmNlOiBmdW5jdGlvbiBzZWxlY3RQcm92aW5jZShpdGVtKSB7CiAgICAgIHRoaXMuc2hvdyA9IHRydWU7CiAgICAgIHRoaXMuc2VsZWN0ZWRQcm92aW5jZSA9IGl0ZW07CiAgICAgIHRoaXMub3B0aW9ucyA9IHRoaXMudG9MaXN0REYoaXRlbS5jaGlsZExpc3QpOwogICAgfSwKICAgIG9uRmluaXNoOiBmdW5jdGlvbiBvbkZpbmlzaChfcmVmKSB7CiAgICAgIHZhciBzZWxlY3RlZE9wdGlvbnMgPSBfcmVmLnNlbGVjdGVkT3B0aW9uczsKICAgICAgdGhpcy5zaG93ID0gZmFsc2U7CiAgICAgIHZhciBmaWVsZFZhbHVlID0gc2VsZWN0ZWRPcHRpb25zLm1hcChmdW5jdGlvbiAob3B0aW9uKSB7CiAgICAgICAgcmV0dXJuIG9wdGlvbi5uYW1lOwogICAgICB9KS5qb2luKCctJyk7CgogICAgICBpZiAoc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA+IDEpIHsKICAgICAgICB0aGlzLmZpZWxkQ29kZSA9IHNlbGVjdGVkT3B0aW9uc1sxXS5jb2RlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmllbGRDb2RlID0gc2VsZWN0ZWRPcHRpb25zWzBdLmNvZGU7CiAgICAgIH0KCiAgICAgIHRoaXMuZmllbGRWYWx1ZSA9IHRoaXMuc2VsZWN0ZWRQcm92aW5jZS5uYW1lICsgJy0nICsgZmllbGRWYWx1ZTsKICAgICAgZXZlbnRCdXMuJGVtaXQoJ3NlbGVjdERlcGFydHVyZVBsYWNlJywgdGhpcy5maWVsZFZhbHVlLCB0aGlzLmZpZWxkQ29kZSwgdGhpcy4kcm91dGUucXVlcnkuaWQpOwogICAgICBldmVudEJ1cy4kZW1pdCgnc2V0Y3VyVHlwZScsIHRoaXMuJHJvdXRlLnF1ZXJ5LnR5cGUpOwogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfSwKICAgIGdldFByb3ZpbmNlTGlzdDogZnVuY3Rpb24gZ2V0UHJvdmluY2VMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIF9nZXRQcm92aW5jZUxpc3QoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIucHJvdmluY2VMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0UHJvdmluY2VMaXN0KCk7CiAgfQp9Ow=="},{"version":3,"sources":["DeparturePlace.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,OAAA,QAAA,MAAA,+CAAA;AACA,SAAA,eAAA,IAAA,gBAAA,QAAA,kCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,OADA;AAEA,MAAA,YAAA,EAAA,EAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,IAAA,EAAA,KAJA;AAKA,MAAA,aAAA,EAAA,EALA;AAMA,MAAA,SAAA,EAAA,CACA,GADA,EAEA,GAFA,EAGA,GAHA,EAIA,GAJA,EAKA,GALA,EAMA,GANA,EAOA,GAPA,EAQA,GARA,EASA,GATA,EAUA,GAVA,EAWA,GAXA,EAYA,GAZA,EAaA,GAbA,EAcA,GAdA,CANA;AAsBA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA,MADA;AAEA,QAAA,KAAA,EAAA,MAFA;AAGA,QAAA,QAAA,EAAA;AAHA,OAtBA;AA2BA,MAAA,UAAA,EAAA,EA3BA;AA4BA,MAAA,SAAA,EAAA,EA5BA;AA6BA,MAAA,gBAAA,EAAA;AA7BA,KAAA;AA+BA,GAjCA;AAkCA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,oBACA,IADA,EACA;AAAA;;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,IAAA,CAAA,SAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,SAAA;AACA,SAFA,MAEA;AACA,iBAAA,IAAA,CAAA,SAAA;AACA;;AACA,eAAA,IAAA;AACA,OAPA,CAAA;AAQA,aAAA,OAAA;AACA,KAXA;AAYA,IAAA,cAZA,0BAYA,IAZA,EAYA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,gBAAA,GAAA,IAAA;AACA,WAAA,OAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,SAAA,CAAA;AACA,KAhBA;AAiBA,IAAA,QAjBA,0BAiBA;AAAA,UAAA,eAAA,QAAA,eAAA;AACA,WAAA,IAAA,GAAA,KAAA;AACA,UAAA,UAAA,GAAA,eAAA,CAAA,GAAA,CAAA,UAAA,MAAA;AAAA,eAAA,MAAA,CAAA,IAAA;AAAA,OAAA,EAAA,IAAA,CAAA,GAAA,CAAA;;AACA,UAAA,eAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,aAAA,SAAA,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,SAAA,GAAA,eAAA,CAAA,CAAA,CAAA,CAAA,IAAA;AACA;;AAEA,WAAA,UAAA,GAAA,KAAA,gBAAA,CAAA,IAAA,GAAA,GAAA,GAAA,UAAA;AACA,MAAA,QAAA,CAAA,KAAA,CACA,sBADA,EAEA,KAAA,UAFA,EAGA,KAAA,SAHA,EAIA,KAAA,MAAA,CAAA,KAAA,CAAA,EAJA;AAMA,MAAA,QAAA,CAAA,KAAA,CAAA,YAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA;AACA,WAAA,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA;AACA,KAnCA;AAoCA,IAAA,eApCA,6BAoCA;AAAA;;AACA,MAAA,gBAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,YAAA,GAAA,GAAA,CAAA,IAAA;AACA,OAFA;AAGA;AAxCA,GAlCA;AA4EA,EAAA,OA5EA,qBA4EA;AACA,SAAA,eAAA;AACA;AA9EA,CAAA","sourcesContent":["<template>\n  <div>\n    <van-index-bar :index-list=\"indexList\">\n      <div v-for=\"(item, index) in provinceList\" :key=\"index\">\n        <van-index-anchor :index=\"index\" />\n        <ul>\n          <li v-for=\"el in item\" :key=\"el.id\">\n            <van-cell :title=\"el.name\" @click=\"selectProvince(el)\" />\n          </li>\n        </ul>\n      </div>\n    </van-index-bar>\n    <van-popup v-model=\"show\" round position=\"bottom\">\n      <van-cascader\n        v-model=\"cascaderValue\"\n        title=\"请选择所在地区\"\n        :options=\"options\"\n        :field-names=\"fieldNames\"\n        @close=\"show = false\"\n        @finish=\"onFinish\"\n      />\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport eventBus from '@/pages/visitor-h5/plugins/common/eventBus.js';\nimport { getProvinceList } from '@/pages/visitor-h5/api/myVisitor';\nexport default {\n  data() {\n    return {\n      activeName: 'china',\n      provinceList: [],\n      options: [],\n      show: false,\n      cascaderValue: '',\n      indexList: [\n        'A',\n        'B',\n        'F',\n        'G',\n        'H',\n        'J',\n        'L',\n        'N',\n        'Q',\n        'S',\n        'T',\n        'X',\n        'Y',\n        'Z'\n      ],\n      fieldNames: {\n        text: 'name',\n        value: 'code',\n        children: 'childList'\n      },\n      fieldValue: '',\n      fieldCode: '',\n      selectedProvince: {}\n    };\n  },\n  methods: {\n    toListDF(list) {\n      let newList = list.map(item => {\n        if (item.childList.length !== 0) {\n          this.toListDF(item.childList);\n        } else {\n          delete item.childList;\n        }\n        return item;\n      });\n      return newList;\n    },\n    selectProvince(item) {\n      this.show = true;\n      this.selectedProvince = item;\n      this.options = this.toListDF(item.childList);\n    },\n    onFinish({ selectedOptions }) {\n      this.show = false;\n      let fieldValue = selectedOptions.map(option => option.name).join('-');\n      if (selectedOptions.length > 1) {\n        this.fieldCode = selectedOptions[1].code;\n      } else {\n        this.fieldCode = selectedOptions[0].code;\n      }\n\n      this.fieldValue = this.selectedProvince.name + '-' + fieldValue;\n      eventBus.$emit(\n        'selectDeparturePlace',\n        this.fieldValue,\n        this.fieldCode,\n        this.$route.query.id\n      );\n      eventBus.$emit('setcurType', this.$route.query.type);\n      this.$router.go(-1);\n    },\n    getProvinceList() {\n      getProvinceList().then(res => {\n        this.provinceList = res.data;\n      });\n    }\n  },\n  created() {\n    this.getProvinceList();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .van-tab--active {\n  color: #3388ff;\n}\n</style>\n"],"sourceRoot":"src/pages/visitor-h5/views/my-visitor/components"}]}