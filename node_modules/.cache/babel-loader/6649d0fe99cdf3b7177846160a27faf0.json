{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/store/modules/auth.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/store/modules/auth.js","mtime":1645176309688},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC95anktcHJvamVjdHMvbXVsdGktcHJvamVjdC9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IHsgZ2V0TWVudUxpc3QsIGdldEF1dGhMaXN0IGFzIF9nZXRBdXRoTGlzdCB9IGZyb20gJy4uLy4uL2FwaS9hdXRoL2luZGV4JzsKaW1wb3J0IHV0aWxzIGZyb20gJ0AvcGx1Z2lucy9jb21tb24vdXRpbHMnOwppbXBvcnQgeyByb3V0ZXMsIGFzeW5jUm91dGVzIH0gZnJvbSAnLi4vLi4vcm91dGVyL2luZGV4JzsKdmFyIHN0YXRlID0gewogIC8vIOi3r+eUsemFjee9rgogIHJvdXRlczogW10sCiAgLy8g6I+c5Y2V5YiX6KGoCiAgbWVudUxpc3Q6IFtdLAogIC8vIOiPnOWNleagkQogIG1lbnVUcmVlOiBbXSwKICAvLyDmjInpkq7mnYPpmZDliJfooagKICBhdXRoTGlzdDogW10KfTsKLyoqCiAqIOiPnOWNleWIl+ihqOi9rOaNouagkeWIl+ihqAogKi8KCnZhciBtZW51TGlzdENvbnZlcnRNZW51VHJlZSA9IGZ1bmN0aW9uIG1lbnVMaXN0Q29udmVydE1lbnVUcmVlKG1lbnVMaXN0KSB7CiAgcmV0dXJuIHV0aWxzLmxpc3RDb252ZXJ0VHJlZShtZW51TGlzdCwgJ21lbnVJZCcsICdwYXJlbnRNZW51SWQnLCB0cnVlKTsKfTsKLyoqCiAqIOaOkuW6j+iPnOWNleagkQogKiBAcGFyYW0ge0FycmF5fSBtZW51VHJlZSDoj5zljZXmoJEKICovCgoKdmFyIHNvcnRNZW51VHJlZSA9IGZ1bmN0aW9uIHNvcnRNZW51VHJlZShtZW51VHJlZSkgewogIHZhciBzb3J0ID0gZnVuY3Rpb24gc29ydChsaXN0KSB7CiAgICBsaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgcmV0dXJuIGEub3JkZXJObyAtIGIub3JkZXJObzsKICAgIH0pOwogICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICByZXR1cm4gdmFsdWUuY2hpbGRyZW4gJiYgdmFsdWUuY2hpbGRyZW4ubGVuZ3RoICYmIHNvcnQodmFsdWUuY2hpbGRyZW4pOwogICAgfSk7CiAgICByZXR1cm4gbGlzdDsKICB9OwoKICByZXR1cm4gc29ydChtZW51VHJlZSk7Cn07Ci8qKgogKiDmoJHlnovmlbDmja7ovazliJfooagKICogQHBhcmFtIHsqfSB0cmVlIOagkeWei+aVsOaNrgogKiBAcGFyYW0geyp9IGNoaWxkcmVuS2V5IOWtkOiKgueCueWIl+ihqOmUrgogKi8KCgp2YXIgdHJlZUNvbnZlcnRMaXN0ID0gZnVuY3Rpb24gdHJlZUNvbnZlcnRMaXN0KHRyZWUpIHsKICB2YXIgY2hpbGRyZW5LZXkgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6ICdjaGlsZHJlbic7CiAgaWYgKCFBcnJheS5pc0FycmF5KHRyZWUpKSByZXR1cm4gW107CiAgdmFyIGxpc3QgPSBbXTsKCiAgdmFyIGZuID0gZnVuY3Rpb24gZm4oZGF0YSkgewogICAgdmFyIHBhcmVudE1lbnVJZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogLTE7CiAgICBsaXN0ID0gbGlzdC5jb25jYXQoZGF0YS5zbGljZSgwKSk7CiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgdmFyIGNoaWxkcmVuID0gaXRlbVtjaGlsZHJlbktleV07CiAgICAgIGl0ZW0udXJsID0gaXRlbS51cmwgfHwgaXRlbS5wYXRoOwogICAgICBpdGVtLm1ldGEgPSBpdGVtLm1ldGEgfHwge307CiAgICAgIGl0ZW0ubWVudU5hbWUgPSBpdGVtLm1lbnVOYW1lIHx8IGl0ZW0ubWV0YS50aXRsZTsKICAgICAgaXRlbS5tZW51SWQgPSBpdGVtLm1lbnVJZCB8fCBpdGVtLnBhdGg7CiAgICAgIGl0ZW0ucGFyZW50TWVudUlkID0gaXRlbS5wYXJlbnRNZW51SWQgfHwgcGFyZW50TWVudUlkOwoKICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7CiAgICAgICAgZm4oY2hpbGRyZW4sIGl0ZW0ubWVudUlkKTsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgZm4odHJlZSk7CiAgcmV0dXJuIGxpc3Q7Cn07Cgp2YXIgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUucm91dGVzID0gcm91dGVzOwogIH0sCiAgU0VUX01FTlVfTElTVDogZnVuY3Rpb24gU0VUX01FTlVfTElTVChzdGF0ZSwgbWVudUxpc3QpIHsKICAgIHN0YXRlLm1lbnVMaXN0ID0gbWVudUxpc3Q7CiAgfSwKICBTRVRfTUVOVV9UUkVFOiBmdW5jdGlvbiBTRVRfTUVOVV9UUkVFKHN0YXRlLCBtZW51VHJlZSkgewogICAgc3RhdGUubWVudVRyZWUgPSBtZW51VHJlZTsKICB9LAogIFNFVF9BVVRIX0xJU1Q6IGZ1bmN0aW9uIFNFVF9BVVRIX0xJU1Qoc3RhdGUsIGF1dGhMaXN0KSB7CiAgICBzdGF0ZS5hdXRoTGlzdCA9IGF1dGhMaXN0OwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLyoqCiAgICog6I635Y+W6I+c5Y2V5YiX6KGoCiAgICovCiAgZ2V0TWVudUxpc3Q6IGZ1bmN0aW9uIGdldE1lbnVMaXN0KF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIC8vIHJldHVybiBnZXRNZW51TGlzdCgpLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIC8vIOmmlumhtei3r+eUsemFjee9rgogICAgICB2YXIgaG9tZVJvdXRlID0gcm91dGVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSAnLyc7CiAgICAgIH0pOyAvLyDmiZPlubPot6/nlLHmlbDmja4KCiAgICAgIHZhciByb3V0ZUxpc3QgPSB0cmVlQ29udmVydExpc3QoW2hvbWVSb3V0ZS5jaGlsZHJlblswXV0uY29uY2F0KGFzeW5jUm91dGVzKSk7CiAgICAgIHZhciBkYXRhID0gcm91dGVMaXN0OwogICAgICB2YXIgbWVudVRyZWUgPSBtZW51TGlzdENvbnZlcnRNZW51VHJlZShyb3V0ZUxpc3QpOyAvLyDoj5zljZXliJfooajovazoj5zljZXmoJEKCiAgICAgIG1lbnVUcmVlID0gc29ydE1lbnVUcmVlKG1lbnVUcmVlKTsgLy8g6I+c5Y2V5o6S5bqPCgogICAgICBjb21taXQoJ1NFVF9NRU5VX0xJU1QnLCBkYXRhKTsKICAgICAgY29tbWl0KCdTRVRfTUVOVV9UUkVFJywgbWVudVRyZWUpOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0pOwogIH0sCgogIC8qKgogICAqIOiOt+WPluaMiemSruWIl+ihqAogICAqLwogIGdldEF1dGhMaXN0OiBmdW5jdGlvbiBnZXRBdXRoTGlzdChfcmVmMikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIHJldHVybiBfZ2V0QXV0aExpc3QoKS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgIHZhciBhdXRoTGlzdCA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5pdGZDb2RlOwogICAgICB9KTsKICAgICAgY29tbWl0KCdTRVRfQVVUSF9MSVNUJywgYXV0aExpc3QpOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0pOwogIH0sCgogIC8qKgogICAqIOiOt+WPluadg+mZkOaVsOaNrgogICAqLwogIGdldEF1dGhEYXRhOiBmdW5jdGlvbiBnZXRBdXRoRGF0YShfcmVmNCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgbWVudUxpc3Q7CiAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldE1lbnVMaXN0Jyk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgbWVudUxpc3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIG1lbnVMaXN0OiBtZW51TGlzdAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/store/modules/auth.js"],"names":["getMenuList","getAuthList","utils","routes","asyncRoutes","state","menuList","menuTree","authList","menuListConvertMenuTree","listConvertTree","sortMenuTree","sort","list","a","b","orderNo","forEach","value","children","length","treeConvertList","tree","childrenKey","Array","isArray","fn","data","parentMenuId","concat","slice","item","url","path","meta","menuName","title","menuId","mutations","SET_ROUTES","SET_MENU_LIST","SET_MENU_TREE","SET_AUTH_LIST","actions","commit","Promise","resolve","then","homeRoute","find","routeList","map","itfCode","getAuthData","dispatch","namespaced"],"mappings":"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","sourcesContent":["import { getMenuList, getAuthList } from '../../api/auth/index';\nimport utils from '@/plugins/common/utils';\nimport { routes, asyncRoutes } from '../../router/index';\n\nconst state = {\n  // 路由配置\n  routes: [],\n  // 菜单列表\n  menuList: [],\n  // 菜单树\n  menuTree: [],\n  // 按钮权限列表\n  authList: []\n};\n\n/**\n * 菜单列表转换树列表\n */\nconst menuListConvertMenuTree = menuList => {\n  return utils.listConvertTree(menuList, 'menuId', 'parentMenuId', true);\n};\n\n/**\n * 排序菜单树\n * @param {Array} menuTree 菜单树\n */\nconst sortMenuTree = menuTree => {\n  let sort = list => {\n    list.sort((a, b) => {\n      return a.orderNo - b.orderNo;\n    });\n    list.forEach(\n      value => value.children && value.children.length && sort(value.children)\n    );\n    return list;\n  };\n  return sort(menuTree);\n};\n\n/**\n * 树型数据转列表\n * @param {*} tree 树型数据\n * @param {*} childrenKey 子节点列表键\n */\nconst treeConvertList = (tree, childrenKey = 'children') => {\n  if (!Array.isArray(tree)) return [];\n  let list = [];\n  let fn = (data, parentMenuId = -1) => {\n    list = list.concat(data.slice(0));\n    data.forEach(item => {\n      let children = item[childrenKey];\n      item.url = item.url || item.path;\n      item.meta = item.meta || {};\n      item.menuName = item.menuName || item.meta.title;\n      item.menuId = item.menuId || item.path;\n      item.parentMenuId = item.parentMenuId || parentMenuId;\n      if (Array.isArray(children)) {\n        fn(children, item.menuId);\n      }\n    });\n  };\n  fn(tree);\n  return list;\n};\n\nconst mutations = {\n  SET_ROUTES(state, routes) {\n    state.routes = routes;\n  },\n  SET_MENU_LIST(state, menuList) {\n    state.menuList = menuList;\n  },\n  SET_MENU_TREE(state, menuTree) {\n    state.menuTree = menuTree;\n  },\n  SET_AUTH_LIST(state, authList) {\n    state.authList = authList;\n  }\n};\n\nconst actions = {\n  /**\n   * 获取菜单列表\n   */\n  getMenuList({ commit }) {\n    // return getMenuList().then(({ data }) => {\n    return Promise.resolve().then(() => {\n      // 首页路由配置\n      let homeRoute = routes.find(item => item.path === '/');\n      // 打平路由数据\n      let routeList = treeConvertList(\n        [homeRoute.children[0]].concat(asyncRoutes)\n      );\n      let data = routeList;\n      let menuTree = menuListConvertMenuTree(routeList); // 菜单列表转菜单树\n      menuTree = sortMenuTree(menuTree); // 菜单排序\n      commit('SET_MENU_LIST', data);\n      commit('SET_MENU_TREE', menuTree);\n      return data;\n    });\n  },\n  /**\n   * 获取按钮列表\n   */\n  getAuthList({ commit }) {\n    return getAuthList().then(({ data }) => {\n      let authList = data.map(item => item && item.itfCode);\n      commit('SET_AUTH_LIST', authList);\n      return data;\n    });\n  },\n  /**\n   * 获取权限数据\n   */\n  async getAuthData({ dispatch }) {\n    let menuList = await dispatch('getMenuList');\n    // let authList = await dispatch('getAuthList');\n\n    return {\n      menuList\n    };\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};\n"]}]}