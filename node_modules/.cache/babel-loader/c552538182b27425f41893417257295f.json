{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/laborcost/plugins/directives/v-auth.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/laborcost/plugins/directives/v-auth.js","mtime":1627979214312},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIOaMiemSruadg+mZkOaMh+S7pAogKiDmoLnmja52dWV45LiL55qEYXV0aOaooeWdl+eahGF1dGhMaXN05oyJ6ZKuY29kZeWIl+ihqOWIpOaWreadg+mZkAogKi8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vLi4vc3RvcmUnOwovKioKICog5qCh6aqM5piv5ZCm5pyJ5p2D6ZmQ77yM5peg5p2D6ZmQ5Yig6ZmkZG9t6IqC54K5CiAqIEBwYXJhbSB7Kn0gZWwgZG9t5YWD57SgCiAqIEBwYXJhbSB7Kn0gYmluZGluZyDnu5HlrprmlbDmja4KICovCgpmdW5jdGlvbiBoYXMoZWwsIGJpbmRpbmcpIHsKICB2YXIgdmFsdWUgPSBiaW5kaW5nLnZhbHVlOwogIHZhciBhdXRoTGlzdCA9IHN0b3JlLmdldHRlcnMgJiYgc3RvcmUuZ2V0dGVycy5hdXRoTGlzdCB8fCBbXTsKCiAgaWYgKHZhbHVlICYmIHZhbHVlIGluc3RhbmNlb2YgQXJyYXkgJiYgdmFsdWUubGVuZ3RoID4gMCkgewogICAgdmFyIHBlcm1pc3Npb25ydWxlcyA9IHZhbHVlOwogICAgdmFyIGhhc1Blcm1pc3Npb24gPSBhdXRoTGlzdC5zb21lKGZ1bmN0aW9uIChyb2xlKSB7CiAgICAgIHJldHVybiBwZXJtaXNzaW9ucnVsZXMuaW5kZXhPZihyb2xlKSA+PSAwOwogICAgfSk7CgogICAgaWYgKCFoYXNQZXJtaXNzaW9uICYmIHZhbHVlICYmIHZhbHVlLmxlbmd0aCkgewogICAgICBlbC5wYXJlbnROb2RlICYmIGVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwpOwogICAgfQogIH0KfQoKdmFyIGF1dGggPSB7CiAgaW5zZXJ0ZWQ6IGhhcywKICB1cGRhdGU6IGhhcwp9OwoKdmFyIGluc3RhbGwgPSBmdW5jdGlvbiBpbnN0YWxsKFZ1ZSkgewogIFZ1ZS5kaXJlY3RpdmUoJ2F1dGgnLCBhdXRoKTsKfTsKClZ1ZS51c2UoaW5zdGFsbCk7"},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/laborcost/plugins/directives/v-auth.js"],"names":["Vue","store","has","el","binding","value","authList","getters","Array","length","permissionrules","hasPermission","some","role","indexOf","parentNode","removeChild","auth","inserted","update","install","directive","use"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AAEA;AACA;AACA;AACA;AACA;;AACA,SAASC,GAAT,CAAaC,EAAb,EAAiBC,OAAjB,EAA0B;AACxB,MAAQC,KAAR,GAAkBD,OAAlB,CAAQC,KAAR;AACA,MAAMC,QAAQ,GAAIL,KAAK,CAACM,OAAN,IAAiBN,KAAK,CAACM,OAAN,CAAcD,QAAhC,IAA6C,EAA9D;;AACA,MAAID,KAAK,IAAIA,KAAK,YAAYG,KAA1B,IAAmCH,KAAK,CAACI,MAAN,GAAe,CAAtD,EAAyD;AACvD,QAAMC,eAAe,GAAGL,KAAxB;AAEA,QAAMM,aAAa,GAAGL,QAAQ,CAACM,IAAT,CAAc,UAAAC,IAAI,EAAI;AAC1C,aAAOH,eAAe,CAACI,OAAhB,CAAwBD,IAAxB,KAAiC,CAAxC;AACD,KAFqB,CAAtB;;AAIA,QAAI,CAACF,aAAD,IAAkBN,KAAlB,IAA2BA,KAAK,CAACI,MAArC,EAA6C;AAC3CN,MAAAA,EAAE,CAACY,UAAH,IAAiBZ,EAAE,CAACY,UAAH,CAAcC,WAAd,CAA0Bb,EAA1B,CAAjB;AACD;AACF;AACF;;AAED,IAAIc,IAAI,GAAG;AACTC,EAAAA,QAAQ,EAAEhB,GADD;AAETiB,EAAAA,MAAM,EAAEjB;AAFC,CAAX;;AAKA,IAAMkB,OAAO,GAAG,SAAVA,OAAU,CAASpB,GAAT,EAAc;AAC5BA,EAAAA,GAAG,CAACqB,SAAJ,CAAc,MAAd,EAAsBJ,IAAtB;AACD,CAFD;;AAIAjB,GAAG,CAACsB,GAAJ,CAAQF,OAAR","sourcesContent":["/**\n * 按钮权限指令\n * 根据vuex下的auth模块的authList按钮code列表判断权限\n */\nimport Vue from 'vue';\nimport store from '../../store';\n\n/**\n * 校验是否有权限，无权限删除dom节点\n * @param {*} el dom元素\n * @param {*} binding 绑定数据\n */\nfunction has(el, binding) {\n  const { value } = binding;\n  const authList = (store.getters && store.getters.authList) || [];\n  if (value && value instanceof Array && value.length > 0) {\n    const permissionrules = value;\n\n    const hasPermission = authList.some(role => {\n      return permissionrules.indexOf(role) >= 0;\n    });\n\n    if (!hasPermission && value && value.length) {\n      el.parentNode && el.parentNode.removeChild(el);\n    }\n  }\n}\n\nlet auth = {\n  inserted: has,\n  update: has\n};\n\nconst install = function(Vue) {\n  Vue.directive('auth', auth);\n};\n\nVue.use(install);\n"]}]}