{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/sims/enrollFill/mixins/index.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/sims/enrollFill/mixins/index.js","mtime":1627979214309},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJ2YW50L2VzL3RvYXN0L3N0eWxlIjsKaW1wb3J0IF9Ub2FzdCBmcm9tICJ2YW50L2VzL3RvYXN0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9wYWdlcy9oNS9zdG9yZS9pbmRleCc7CmltcG9ydCB7IHF1ZXJ5RW5yb2xsVG90YWxJbmZvSDUgfSBmcm9tICdAL3BhZ2VzL2g1L2FwaS9zaW1zL2Vucm9sbEZpbGwnOwppbXBvcnQgeyBsb2FkQXJlYU1hcCB9IGZyb20gJ0AvcGFnZXMvc2ltcy9wbHVnaW5zL2NvbW1vbi9hcmVhJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwYWdlRGF0YTogewogICAgICAgIGVucm9sbE1vZGVsOiB7fSwKICAgICAgICAvL+i6q+S7veS/oeaBrwogICAgICAgIGVucm9sbEZhbWlseU1vZGVsOiB7fSwKICAgICAgICAvL+WutuW6reS/oeaBrwogICAgICAgIGVuckF0dGVuZE1vZGVsOiB7fSAvL+WOn+Wwseivu+S/oeaBrwoKICAgICAgfQogICAgfTsKICB9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIHZhciBsb2FkaW5nID0gX1RvYXN0LmxvYWRpbmcoJ+WKoOi9veaVsOaNruS4rS4uLicpOwoKICAgIFByb21pc2UuYWxsKFtxdWVyeUVucm9sbFRvdGFsSW5mb0g1KHRvLnF1ZXJ5KSwgLy/mn6Xor6LmiqXlkI3or6bmg4UKICAgIHN0b3JlLmRpc3BhdGNoKCdkaWN0L2FqYXhHZXREYXRhJyksIC8v5p+l6K+i5a2X5YW4CiAgICBsb2FkQXJlYU1hcCgpXSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgbmV4dChmdW5jdGlvbiAodm0pIHsKICAgICAgICB2YXIgZGF0YSA9IHJlc1swXS5kYXRhIHx8IHt9OyAvLyBmZWF0KDMuMCkg56ys5LiJ5om557Sn5oCl6ZyA5rGC77ya5b2V5YWl5pel5pyf5Li656m65bCx57uZ6buY6K6k5pel5pyfCiAgICAgICAgLy8g5aSE55CG5byC5bi456m65pWw5o2uCgogICAgICAgIGlmICghZGF0YS5lbnJvbGxNb2RlbCkgZGF0YS5lbnJvbGxNb2RlbCA9IHt9OwogICAgICAgIHZhciBlbnJvbGxUaW1lID0gZGF0YS5lbnJvbGxNb2RlbC5lbnJvbGxUaW1lOwoKICAgICAgICBpZiAoIWVucm9sbFRpbWUpIHsKICAgICAgICAgIGVucm9sbFRpbWUgPSBuZXcgRGF0ZSgpOwogICAgICAgICAgZW5yb2xsVGltZS5zZXRIb3VycygwLCAwLCAwKTsKICAgICAgICAgIGRhdGEuZW5yb2xsTW9kZWwuZW5yb2xsVGltZSA9IGVucm9sbFRpbWU7CiAgICAgICAgfQoKICAgICAgICB2bS5wYWdlRGF0YSA9IHJlc1swXS5kYXRhOwogICAgICB9KTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGxvYWRpbmcuY2xvc2UoKTsKCiAgICAgIF9Ub2FzdC5mYWlsKGUubWVzc2FnZSk7CiAgICB9KTsKICB9Cn07"},{"version":3,"sources":["/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/sims/enrollFill/mixins/index.js"],"names":["store","queryEnrollTotalInfoH5","loadAreaMap","data","pageData","enrollModel","enrollFamilyModel","enrAttendModel","beforeRouteEnter","to","from","next","loading","Promise","all","query","dispatch","then","res","close","vm","enrollTime","Date","setHours","catch","e","fail","message"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,wBAAlB;AAEA,SAASC,sBAAT,QAAuC,gCAAvC;AACA,SAASC,WAAT,QAA4B,kCAA5B;AACA,eAAe;AACbC,EAAAA,IADa,kBACN;AACL,WAAO;AACLC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,WAAW,EAAE,EADL;AACS;AACjBC,QAAAA,iBAAiB,EAAE,EAFX;AAEe;AACvBC,QAAAA,cAAc,EAAE,EAHR,CAGW;;AAHX;AADL,KAAP;AAOD,GATY;AAUbC,EAAAA,gBAVa,4BAUIC,EAVJ,EAUQC,IAVR,EAUcC,IAVd,EAUoB;AAC/B,QAAIC,OAAO,GAAG,OAAMA,OAAN,CAAc,UAAd,CAAd;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,CACVb,sBAAsB,CAACQ,EAAE,CAACM,KAAJ,CADZ,EACwB;AAClCf,IAAAA,KAAK,CAACgB,QAAN,CAAe,kBAAf,CAFU,EAE0B;AACpCd,IAAAA,WAAW,EAHD,CAAZ,EAKGe,IALH,CAKQ,UAAAC,GAAG,EAAI;AACXN,MAAAA,OAAO,CAACO,KAAR;AACAR,MAAAA,IAAI,CAAC,UAAAS,EAAE,EAAI;AACT,YAAIjB,IAAI,GAAGe,GAAG,CAAC,CAAD,CAAH,CAAOf,IAAP,IAAe,EAA1B,CADS,CAET;AACA;;AACA,YAAI,CAACA,IAAI,CAACE,WAAV,EAAuBF,IAAI,CAACE,WAAL,GAAmB,EAAnB;AACvB,YAAMgB,UAAN,GAAqBlB,IAAI,CAACE,WAA1B,CAAMgB,UAAN;;AACA,YAAI,CAACA,UAAL,EAAiB;AACfA,UAAAA,UAAU,GAAG,IAAIC,IAAJ,EAAb;AACAD,UAAAA,UAAU,CAACE,QAAX,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AACApB,UAAAA,IAAI,CAACE,WAAL,CAAiBgB,UAAjB,GAA8BA,UAA9B;AACD;;AACDD,QAAAA,EAAE,CAAChB,QAAH,GAAcc,GAAG,CAAC,CAAD,CAAH,CAAOf,IAArB;AACD,OAZG,CAAJ;AAaD,KApBH,EAqBGqB,KArBH,CAqBS,UAAAC,CAAC,EAAI;AACVb,MAAAA,OAAO,CAACO,KAAR;;AACA,aAAMO,IAAN,CAAWD,CAAC,CAACE,OAAb;AACD,KAxBH;AAyBD;AArCY,CAAf","sourcesContent":["import store from '@/pages/h5/store/index';\r\nimport { Toast } from 'vant';\r\nimport { queryEnrollTotalInfoH5 } from '@/pages/h5/api/sims/enrollFill';\r\nimport { loadAreaMap } from '@/pages/sims/plugins/common/area';\r\nexport default {\r\n  data() {\r\n    return {\r\n      pageData: {\r\n        enrollModel: {}, //身份信息\r\n        enrollFamilyModel: {}, //家庭信息\r\n        enrAttendModel: {} //原就读信息\r\n      }\r\n    };\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    let loading = Toast.loading('加载数据中...');\r\n    Promise.all([\r\n      queryEnrollTotalInfoH5(to.query), //查询报名详情\r\n      store.dispatch('dict/ajaxGetData'), //查询字典\r\n      loadAreaMap()\r\n    ])\r\n      .then(res => {\r\n        loading.close();\r\n        next(vm => {\r\n          let data = res[0].data || {};\r\n          // feat(3.0) 第三批紧急需求：录入日期为空就给默认日期\r\n          // 处理异常空数据\r\n          if (!data.enrollModel) data.enrollModel = {};\r\n          let { enrollTime } = data.enrollModel;\r\n          if (!enrollTime) {\r\n            enrollTime = new Date();\r\n            enrollTime.setHours(0, 0, 0);\r\n            data.enrollModel.enrollTime = enrollTime;\r\n          }\r\n          vm.pageData = res[0].data;\r\n        });\r\n      })\r\n      .catch(e => {\r\n        loading.close();\r\n        Toast.fail(e.message);\r\n      });\r\n  }\r\n};\r\n"]}]}