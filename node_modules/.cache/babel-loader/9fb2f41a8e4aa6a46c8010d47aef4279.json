{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/store/index.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/store/index.js","mtime":1645176309875},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgeyByZW1vdmVUb2tlbiBhcyBfcmVtb3ZlVG9rZW4sIHNldFRva2VuIGFzIF9zZXRUb2tlbiwgZ2V0VG9rZW4gfSBmcm9tICcuLi9wbHVnaW5zL2NvcmUvYXV0aCc7CmltcG9ydCAqIGFzIGRkIGZyb20gJ2Rpbmd0YWxrLWpzYXBpJzsKaW1wb3J0IHVzZXIgZnJvbSAnLi9tb2R1bGVzL3VzZXInOwppbXBvcnQgZGljdCBmcm9tICcuL21vZHVsZXMvZGljdCc7CmltcG9ydCBjdXN0b21pemUgZnJvbSAnLi9tb2R1bGVzL2N1c3RvbWl6ZSc7CmltcG9ydCBvcHRpb25zIGZyb20gJy4vbW9kdWxlcy9vcHRpb25zJzsKaW1wb3J0IHsgZ2V0VXBsb2FkSW5mbyBhcyBfZ2V0VXBsb2FkSW5mbyB9IGZyb20gJy4uL2FwaS9iYXNlL2luZGV4JzsKVnVlLnVzZShWdWV4KTsKdmFyIHN0b3JlID0gbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIC8vIOS7pOeJjAogICAgaGFzVXNlckluZm86IGZhbHNlLAogICAgLy8g5piv5ZCm5pyJ55So5oi35L+h5oGvCiAgICBpbWFnZVVwbG9hZFVybDogJy9sb2dpc3RpY2FsLWZyb250L3VwbG9hZEZpbGUvdXBsb2FkRmlsZScsCiAgICAvLyDlm77niYfkuIrkvKDlnLDlnYAKICAgIGJhckhlaWdodDogMAogIH0sCiAgZ2V0dGVyczogewogICAgcm9sZVR5cGU6IGZ1bmN0aW9uIHJvbGVUeXBlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLnJvbGVUeXBlOwogICAgfSwKICAgIHN0YWZmQ29kZTogZnVuY3Rpb24gc3RhZmZDb2RlKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS51c2VyLmpvYm51bWJlcjsKICAgIH0sCiAgICBzdGFmZk5hbWU6IGZ1bmN0aW9uIHN0YWZmTmFtZShzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlci51c2VyTmFtZTsKICAgIH0sCiAgICBtZW51czogZnVuY3Rpb24gbWVudXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIubWVudXM7CiAgICB9LAogICAgcGxhdGVzOiBmdW5jdGlvbiBwbGF0ZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIucGxhdGVzOwogICAgfSwKICAgIGJhc2VVcGxvYWQ6IGZ1bmN0aW9uIGJhc2VVcGxvYWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmJhc2VVcGxvYWQ7CiAgICB9IC8vIOS4iuS8oOS/oeaBrwoKICB9LAogIG11dGF0aW9uczogewogICAgLyoqDQogICAgICog6K6+572u5Luk54mMDQogICAgICogQHBhcmFtIHsqfSBzdGF0ZSDnirbmgIENCiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW4g5Luk54mMDQogICAgICovCiAgICBzZXRUb2tlbjogZnVuY3Rpb24gc2V0VG9rZW4oc3RhdGUsIHRva2VuKSB7CiAgICAgIHN0YXRlLnRva2VuID0gdG9rZW47CgogICAgICBfc2V0VG9rZW4odG9rZW4pOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDliKDpmaTku6TniYwNCiAgICAgKiBAcGFyYW0geyp9IHN0YXRlIOeKtuaAgQ0KICAgICAqLwogICAgcmVtb3ZlVG9rZW46IGZ1bmN0aW9uIHJlbW92ZVRva2VuKHN0YXRlKSB7CiAgICAgIHN0YXRlLnRva2VuID0gJyc7CgogICAgICBfcmVtb3ZlVG9rZW4oKTsKICAgIH0sCiAgICBzZXRCYXJIZWlnaHQ6IGZ1bmN0aW9uIHNldEJhckhlaWdodChzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5iYXJIZWlnaHQgPSBkYXRhOwogICAgfSwKICAgIHNldFVwbG9hZEluZm86IGZ1bmN0aW9uIHNldFVwbG9hZEluZm8oc3RhdGUsIGRhdGEpIHsKICAgICAgc3RhdGUuYmFzZVVwbG9hZCA9IGRhdGE7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBsb2FkRGF0YTogZnVuY3Rpb24gbG9hZERhdGEoX3JlZikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW2Rpc3BhdGNoKCdsb2FkVXNlckluZm8nKV0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHN0YXRlLmhhc1VzZXJJbmZvID0gdHJ1ZTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0VXBsb2FkSW5mbzogZnVuY3Rpb24gZ2V0VXBsb2FkSW5mbyhfcmVmMikgewogICAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2g7CiAgICAgIHJldHVybiBfZ2V0VXBsb2FkSW5mbygpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGEgfHwge307CiAgICAgICAgY29tbWl0KCdzZXRVcGxvYWRJbmZvJywgcmVzLmRhdGEpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog5rWL6K+V55m75b2VDQogICAgICogQHBhcmFtIHsqfSBwYXJhbTAg54q25oCB5o+Q5LqkDQogICAgICogQHBhcmFtIHsqfSBzdGFmZkNvZGUg5bel5Y+3DQogICAgICovCiAgICB0ZXN0TG9naW46IGZ1bmN0aW9uIHRlc3RMb2dpbihfcmVmMywgc3RhZmZDb2RlKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYzLnN0YXRlLAogICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmMy5kaXNwYXRjaDsKICAgICAgcmV0dXJuIFZ1ZS5heGlvcy5nZXQoJy96dXVsL2xvZ2luL29hdXRoL21hbnVhbExvZ2luJywgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgc3RhZmZDb2RlOiBzdGFmZkNvZGUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKF9yZWY0KSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmNC5kYXRhOwogICAgICAgIC8vIOeZu+W9leaIkOWKn++8jOS/ruaUueiOt+WPlueUqOaIt+S/oeaBr+agh+iusO+8jOmHjeaWsOiOt+WPlueUqOaIt+S/oeaBrwogICAgICAgIHN0YXRlLmhhc1VzZXJJbmZvID0gZmFsc2U7CiAgICAgICAgY29tbWl0KCdzZXRUb2tlbicsIGRhdGEpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqDQogICAgICog6ZKJ6ZKJ5YWN55m7DQogICAgICogQHBhcmFtIHsqfSBwYXJhbTAg5o+Q5LqkDQogICAgICovCiAgICBkaW5nTG9naW46IGZ1bmN0aW9uIGRpbmdMb2dpbihfcmVmNSkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZSwKICAgICAgICAgIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgLy8g5qOA5rWL6ZKJ6ZKJ546v5aKDCiAgICAgIGlmICghZGQudmVyc2lvbikgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcign6K+35L2/55So6ZKJ6ZKJ5omT5byAJykpOyAvLyBUT0RPIOmSiemSieWFjeeZuwoKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBjb25zb2xlLndhcm4oJ2dldENvcnBJZCcpOwogICAgICAgIFZ1ZS5heGlvcy5nZXQoJy9rMTIvbG9naW4vb2F1dGgvZGluZy9nZXRDb3JwSWQnKS50aGVuKGZ1bmN0aW9uIChfcmVmNikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmNi5kYXRhOwogICAgICAgICAgY29uc29sZS53YXJuKCdnZXRDb3JwSWQtc3VjY2VzcycsIGRhdGEpOwogICAgICAgICAgZGQucmVhZHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBjb25zb2xlLndhcm4oJ2RkLXJlYWR5Jyk7CiAgICAgICAgICAgIGRkLnJ1bnRpbWUucGVybWlzc2lvbi5yZXF1ZXN0QXV0aENvZGUoewogICAgICAgICAgICAgIGNvcnBJZDogZGF0YSwKICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZGQtcmVxdWVzdEF1dGhDb2RlLXN1Y2Nlc3MnKTsKICAgICAgICAgICAgICAgIFZ1ZS5heGlvcy5nZXQoJy9rMTIvbG9naW4vb2F1dGgvZGluZy9sb2dpbicsIHsKICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgICAgICAgICAgY29kZTogcmVzdWx0LmNvZGUKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignZGQtbG9naW4tc3VjY2VzcycpOyAvLyDnmbvlvZXmiJDlip/vvIzkv67mlLnojrflj5bnlKjmiLfkv6Hmga/moIforrDvvIzph43mlrDojrflj5bnlKjmiLfkv6Hmga8KCiAgICAgICAgICAgICAgICAgIHN0YXRlLmhhc1VzZXJJbmZvID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIGNvbW1pdCgnc2V0VG9rZW4nLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfcmVmNykgewogICAgICAgICAgICAgICAgICB2YXIgcmVzID0gX3JlZjcucmVzOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkZC1sb2dpbi1lcnJvcicpOwogICAgICAgICAgICAgICAgICByZWplY3QocmVzKTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgb25GYWlsOiBmdW5jdGlvbiBvbkZhaWwoZSkgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZGQtcmVxdWVzdEF1dGhDb2RlLWVycm9yJywgZSk7CiAgICAgICAgICAgICAgICByZWplY3QoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgICBkZC5lcnJvcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkZC1lcnJvcicpOwogICAgICAgICAgICByZWplY3QoKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChfcmVmOCkgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmOC5kYXRhOwogICAgICAgICAgcmV0dXJuIHJlamVjdChkYXRhKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWJjeerr+mAgOWHug0KICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHBhcmFtMCDmj5DkuqQNCiAgICAgKi8KICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KF9yZWY5KSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmOS5jb21taXQ7CiAgICAgIGNvbW1pdCgncmVtb3ZlVG9rZW4nKTsKICAgIH0KICB9LAogIG1vZHVsZXM6IHsKICAgIHVzZXI6IHVzZXIsCiAgICBkaWN0OiBkaWN0LAogICAgY3VzdG9taXplOiBjdXN0b21pemUsCiAgICBvcHRpb25zOiBvcHRpb25zCiAgfQp9KTsgLy8g5oyC6L29VnVl5LiLCgpPYmplY3QuZGVmaW5lUHJvcGVydHkoVnVlLCAnc3RvcmUnLCB7CiAgdmFsdWU6IHN0b3JlCn0pOwpleHBvcnQgZGVmYXVsdCBzdG9yZTs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/store/index.js"],"names":["Vue","Vuex","removeToken","setToken","getToken","dd","user","dict","customize","options","getUploadInfo","use","store","Store","state","token","hasUserInfo","imageUploadUrl","barHeight","getters","roleType","staffCode","jobnumber","staffName","userName","menus","plates","baseUpload","mutations","setBarHeight","data","setUploadInfo","actions","loadData","dispatch","Promise","all","then","commit","res","testLogin","axios","get","params","dingLogin","version","reject","Error","resolve","console","warn","ready","runtime","permission","requestAuthCode","corpId","onSuccess","result","code","catch","error","onFail","e","logout","modules","Object","defineProperty","value"],"mappings":"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","sourcesContent":["import Vue from 'vue';\r\nimport Vuex from 'vuex';\r\nimport { removeToken, setToken, getToken } from '../plugins/core/auth';\r\nimport * as dd from 'dingtalk-jsapi';\r\nimport user from './modules/user';\r\nimport dict from './modules/dict';\r\nimport customize from './modules/customize';\r\nimport options from './modules/options';\r\nimport { getUploadInfo } from '../api/base/index';\r\n\r\nVue.use(Vuex);\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    token: getToken(), // 令牌\r\n    hasUserInfo: false, // 是否有用户信息\r\n    imageUploadUrl: '/logistical-front/uploadFile/uploadFile', // 图片上传地址\r\n    barHeight: 0\r\n  },\r\n  getters: {\r\n    roleType: state => state.user.roleType,\r\n    staffCode: state => state.user.jobnumber,\r\n    staffName: state => state.user.userName,\r\n    menus: state => state.user.menus,\r\n    plates: state => state.user.plates,\r\n    baseUpload: state => state.baseUpload // 上传信息\r\n  },\r\n  mutations: {\r\n    /**\r\n     * 设置令牌\r\n     * @param {*} state 状态\r\n     * @param {string} token 令牌\r\n     */\r\n    setToken(state, token) {\r\n      state.token = token;\r\n      setToken(token);\r\n    },\r\n    /**\r\n     * 删除令牌\r\n     * @param {*} state 状态\r\n     */\r\n    removeToken(state) {\r\n      state.token = '';\r\n      removeToken();\r\n    },\r\n    setBarHeight(state, data) {\r\n      state.barHeight = data;\r\n    },\r\n    setUploadInfo(state, data) {\r\n      state.baseUpload = data;\r\n    }\r\n  },\r\n  actions: {\r\n    loadData({ state, dispatch }) {\r\n      return Promise.all([dispatch('loadUserInfo')]).then(() => {\r\n        state.hasUserInfo = true;\r\n      });\r\n    },\r\n    getUploadInfo({ state, commit, dispatch }) {\r\n      return getUploadInfo().then(res => {\r\n        var data = res.data || {};\r\n\r\n        commit('setUploadInfo', res.data);\r\n      });\r\n    },\r\n    /**\r\n     * 测试登录\r\n     * @param {*} param0 状态提交\r\n     * @param {*} staffCode 工号\r\n     */\r\n    testLogin({ state, commit, dispatch }, staffCode) {\r\n      return Vue.axios\r\n        .get('/zuul/login/oauth/manualLogin', {\r\n          params: {\r\n            staffCode: staffCode\r\n          }\r\n        })\r\n        .then(({ data }) => {\r\n          // 登录成功，修改获取用户信息标记，重新获取用户信息\r\n          state.hasUserInfo = false;\r\n          commit('setToken', data);\r\n        });\r\n    },\r\n    /**\r\n     * 钉钉免登\r\n     * @param {*} param0 提交\r\n     */\r\n    dingLogin({ state, commit }) {\r\n      // 检测钉钉环境\r\n      if (!dd.version) return Promise.reject(new Error('请使用钉钉打开'));\r\n      // TODO 钉钉免登\r\n      return new Promise((resolve, reject) => {\r\n        console.warn('getCorpId');\r\n        Vue.axios\r\n          .get('/k12/login/oauth/ding/getCorpId')\r\n          .then(({ data }) => {\r\n            console.warn('getCorpId-success', data);\r\n            dd.ready(function() {\r\n              console.warn('dd-ready');\r\n              dd.runtime.permission.requestAuthCode({\r\n                corpId: data,\r\n                onSuccess: result => {\r\n                  console.warn('dd-requestAuthCode-success');\r\n                  Vue.axios\r\n                    .get('/k12/login/oauth/ding/login', {\r\n                      params: {\r\n                        code: result.code\r\n                      }\r\n                    })\r\n                    .then(res => {\r\n                      console.warn('dd-login-success');\r\n                      // 登录成功，修改获取用户信息标记，重新获取用户信息\r\n                      state.hasUserInfo = false;\r\n                      commit('setToken', res.data);\r\n                      resolve();\r\n                    })\r\n                    .catch(({ res }) => {\r\n                      console.error('dd-login-error');\r\n                      reject(res);\r\n                    });\r\n                },\r\n                onFail: e => {\r\n                  console.error('dd-requestAuthCode-error', e);\r\n                  reject();\r\n                }\r\n              });\r\n            });\r\n            dd.error(e => {\r\n              console.error('dd-error');\r\n              reject();\r\n            });\r\n          })\r\n          .catch(({ data }) => reject(data));\r\n      });\r\n    },\r\n    /**\r\n     * 前端退出\r\n     * @param {Function} param0 提交\r\n     */\r\n    logout({ commit }) {\r\n      commit('removeToken');\r\n    }\r\n  },\r\n  modules: {\r\n    user,\r\n    dict,\r\n    customize,\r\n    options\r\n  }\r\n});\r\n\r\n// 挂载Vue下\r\nObject.defineProperty(Vue, 'store', {\r\n  value: store\r\n});\r\n\r\nexport default store;\r\n"]}]}