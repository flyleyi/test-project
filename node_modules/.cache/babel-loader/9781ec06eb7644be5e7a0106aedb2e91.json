{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-book/store/modules/auth.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-book/store/modules/auth.js","mtime":1627979214325},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiQGJhYmVsL3J1bnRpbWUvcmVnZW5lcmF0b3IiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCB7IGdldE1lbnVMaXN0IGFzIF9nZXRNZW51TGlzdCwgZ2V0QXV0aExpc3QgYXMgX2dldEF1dGhMaXN0IH0gZnJvbSAnLi4vLi4vYXBpL2F1dGgvaW5kZXgnOwppbXBvcnQgdXRpbHMgZnJvbSAnQC9wbHVnaW5zL2NvbW1vbi91dGlscyc7CmltcG9ydCB7IHJvdXRlcywgYXN5bmNSb3V0ZXMgfSBmcm9tICcuLi8uLi9yb3V0ZXIvaW5kZXgnOwp2YXIgc3RhdGUgPSB7CiAgLy8g6Lev55Sx6YWN572uCiAgcm91dGVzOiBbXSwKICAvLyDoj5zljZXliJfooagKICBtZW51TGlzdDogW10sCiAgLy8g6I+c5Y2V5qCRCiAgbWVudVRyZWU6IFsvLyB7CiAgICAvLyAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAvLyAgIGNyZWF0b3I6ICcnLAogICAgLy8gICBkZWxldGVkOiAnJywKICAgIC8vICAgZWRpdG9yOiAnJywKICAgIC8vICAgaGlkZGVuOiB1bmRlZmluZWQsCiAgICAvLyAgIGljb246ICcnLAogICAgLy8gICBtZXRhOiB7CiAgICAvLyAgICAgdGl0bGU6ICfpppbpobUnLAogICAgLy8gICAgIGljb246ICdkYXNoYm9hcmQnCiAgICAvLyAgIH0sCiAgICAvLyAgIGlkOiAnJywKICAgIC8vICAgbWVudURlc2M6ICcnLAogICAgLy8gICBtZW51SWQ6IDg2NiwKICAgIC8vICAgbWVudU5hbWU6ICfpppbpobUnLAogICAgLy8gICBtZW51VHlwZTogJzAnLAogICAgLy8gICBuYW1lOiAnRGFzaGJvYXJkJywKICAgIC8vICAgb3JkZXJObzogMCwKICAgIC8vICAgcGFyZW50TWVudUlkOiAtMSwKICAgIC8vICAgcGF0aDogJy9ob21lJywKICAgIC8vICAgcm9sZVR5cGU6ICcnLAogICAgLy8gICBzeXNDb2RlOiAnJywKICAgIC8vICAgdGV4dDogJycsCiAgICAvLyAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAvLyAgIHVybDogJy9ob21lJwogICAgLy8gfSwKICAgIC8vIHsKICAgIC8vICAgaWNvbjogJ2VsLWljb24tbG9jYXRpb24nLAogICAgLy8gICBwYXRoOiAnL3N0YXRpc3RpY2FsQ2hhcnQnLAogICAgLy8gICBtZW51SWQ6IDg2NywKICAgIC8vICAgdGl0bGU6ICfnu5/orqHlm74nLAogICAgLy8gICBoaWRkZW46IGZhbHNlLAogICAgLy8gICBtZXRhOiB7CiAgICAvLyAgICAgdGl0bGU6ICfnu5/orqHlm74nLAogICAgLy8gICAgIGljb246ICdlbC1pY29uLWxvY2F0aW9uJwogICAgLy8gICB9LAogICAgLy8gICB1cmw6ICcvc3RhdGlzdGljYWxDaGFydCcKICAgIC8vIH0sCiAgICAvLyB7CiAgICAvLyAgIGljb246ICdlbC1pY29uLW1lbnUnLAogICAgLy8gICBwYXRoOiAnL21lbnVNYW5hZ2UnLAogICAgLy8gICBtZW51SWQ6IDg2OCwKICAgIC8vICAgdGl0bGU6ICfnm67lvZXnrqHnkIYnLAogICAgLy8gICBoaWRkZW46IGZhbHNlLAogICAgLy8gICBtZXRhOiB7CiAgICAvLyAgICAgdGl0bGU6ICfnm67lvZXnrqHnkIYnLAogICAgLy8gICAgIGljb246ICdlbC1pY29uLW1lbnUnCiAgICAvLyAgIH0sCiAgICAvLyAgIHVybDogJy9tZW51TWFuYWdlJwogICAgLy8gfSwKICAgIC8vIHsKICAgIC8vICAgaWNvbjogJ2VsLWljb24tdHJvcGh5JywKICAgIC8vICAgcGF0aDogJy9tZXNzYWdlTWFuYWdlJywKICAgIC8vICAgbWVudUlkOiA4NjksCiAgICAvLyAgIHRpdGxlOiAn55WZ6KiA566h55CGJywKICAgIC8vICAgaGlkZGVuOiBmYWxzZSwKICAgIC8vICAgbWV0YTogewogICAgLy8gICAgIHRpdGxlOiAn55WZ6KiA566h55CGJywKICAgIC8vICAgICBpY29uOiAnZWwtaWNvbi10cm9waHknCiAgICAvLyAgIH0sCiAgICAvLyAgIHVybDogJy9tZXNzYWdlTWFuYWdlJwogICAgLy8gfSwKICAgIC8vIHsKICAgIC8vICAgaWNvbjogJ2VsLWljb24tdXNlci1zb2xpZCcsCiAgICAvLyAgIHBhdGg6ICcvYm91bmRhcnlTdHUnLAogICAgLy8gICBtZW51SWQ6IDg3MCwKICAgIC8vICAgdGl0bGU6ICfop5LoibLnrqHnkIYnLAogICAgLy8gICBoaWRkZW46IGZhbHNlLAogICAgLy8gICBtZXRhOiB7CiAgICAvLyAgICAgdGl0bGU6ICfnlKjmiLfnrqHnkIYnLAogICAgLy8gICAgIGljb246ICdlbC1pY29uLXVzZXItc29saWQnCiAgICAvLyAgIH0sCiAgICAvLyAgIHVybDogJy9ib3VuZGFyeVN0dScKICAgIC8vIH0sCiAgICAvLyB7CiAgICAvLyAgIGljb246ICdlbC1pY29uLXVzZXItc29saWQnLAogICAgLy8gICBwYXRoOiAnL2NsYXNzaWZ5LWxpc3QnLAogICAgLy8gICBtZW51SWQ6IDg3MiwKICAgIC8vICAgdGl0bGU6ICfpl67popjliIbnsbsnLAogICAgLy8gICBoaWRkZW46IGZhbHNlLAogICAgLy8gICBtZXRhOiB7CiAgICAvLyAgICAgdGl0bGU6ICfpl67popjliIbnsbsnLAogICAgLy8gICAgIGljb246ICdlbC1pY29uLXVzZXItc29saWQnCiAgICAvLyAgIH0sCiAgICAvLyAgIHVybDogJy9jbGFzc2lmeS1saXN0JwogICAgLy8gfSwKICAgIC8vIHsKICAgIC8vICAgaWNvbjogJ2VsLWljb24tdXNlci1zb2xpZCcsCiAgICAvLyAgIHBhdGg6ICcvcXVlc3QtbGlzdCcsCiAgICAvLyAgIG1lbnVJZDogODczLAogICAgLy8gICB0aXRsZTogJ+mXrumimOeuoeeQhicsCiAgICAvLyAgIGhpZGRlbjogZmFsc2UsCiAgICAvLyAgIG1ldGE6IHsKICAgIC8vICAgICB0aXRsZTogJ+mXrumimOeuoeeQhicsCiAgICAvLyAgICAgaWNvbjogJ2VsLWljb24tdXNlci1zb2xpZCcKICAgIC8vICAgfSwKICAgIC8vICAgdXJsOiAnL3F1ZXN0LWxpc3QnCiAgICAvLyB9LAogICAgLy8gewogICAgLy8gICBpY29uOiAnZWwtaWNvbi11c2VyLXNvbGlkJywKICAgIC8vICAgcGF0aDogJy9hbnN3ZXItbGlzdCcsCiAgICAvLyAgIG1lbnVJZDogODc0LAogICAgLy8gICB0aXRsZTogJ+WbnuWkjeeuoeeQhicsCiAgICAvLyAgIGhpZGRlbjogZmFsc2UsCiAgICAvLyAgIG1ldGE6IHsKICAgIC8vICAgICB0aXRsZTogJ+WbnuWkjeeuoeeQhicsCiAgICAvLyAgICAgaWNvbjogJ2VsLWljb24tdXNlci1zb2xpZCcKICAgIC8vICAgfSwKICAgIC8vICAgdXJsOiAnL2Fuc3dlci1saXN0JwogICAgLy8gfQogIF0sCiAgLy8g5oyJ6ZKu5p2D6ZmQ5YiX6KGoCiAgYXV0aExpc3Q6IFtdCn07Ci8qKgogKiDoj5zljZXliJfooajovazmjaLmoJHliJfooagKICovCgp2YXIgbWVudUxpc3RDb252ZXJ0TWVudVRyZWUgPSBmdW5jdGlvbiBtZW51TGlzdENvbnZlcnRNZW51VHJlZShtZW51TGlzdCkgewogIHJldHVybiB1dGlscy5saXN0Q29udmVydFRyZWUobWVudUxpc3QsICdtZW51SWQnLCAncGFyZW50TWVudUlkJywgdHJ1ZSk7Cn07Ci8qKgogKiDmjpLluo/oj5zljZXmoJEKICogQHBhcmFtIHtBcnJheX0gbWVudVRyZWUg6I+c5Y2V5qCRCiAqLwoKCnZhciBzb3J0TWVudVRyZWUgPSBmdW5jdGlvbiBzb3J0TWVudVRyZWUobWVudVRyZWUpIHsKICB2YXIgc29ydCA9IGZ1bmN0aW9uIHNvcnQobGlzdCkgewogICAgbGlzdC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBhLm9yZGVyTm8gLSBiLm9yZGVyTm87CiAgICB9KTsKICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgcmV0dXJuIHZhbHVlLmNoaWxkcmVuICYmIHZhbHVlLmNoaWxkcmVuLmxlbmd0aCAmJiBzb3J0KHZhbHVlLmNoaWxkcmVuKTsKICAgIH0pOwogICAgcmV0dXJuIGxpc3Q7CiAgfTsKCiAgcmV0dXJuIHNvcnQobWVudVRyZWUpOwp9OwovKioKICog5qCR5Z6L5pWw5o2u6L2s5YiX6KGoCiAqIEBwYXJhbSB7Kn0gdHJlZSDmoJHlnovmlbDmja4KICogQHBhcmFtIHsqfSBjaGlsZHJlbktleSDlrZDoioLngrnliJfooajplK4KICovCgoKdmFyIHRyZWVDb252ZXJ0TGlzdCA9IGZ1bmN0aW9uIHRyZWVDb252ZXJ0TGlzdCh0cmVlKSB7CiAgdmFyIGNoaWxkcmVuS2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnY2hpbGRyZW4nOwogIGlmICghQXJyYXkuaXNBcnJheSh0cmVlKSkgcmV0dXJuIFtdOwogIHZhciBsaXN0ID0gW107CgogIHZhciBmbiA9IGZ1bmN0aW9uIGZuKGRhdGEpIHsKICAgIGxpc3QgPSBsaXN0LmNvbmNhdChkYXRhLnNsaWNlKDApKTsKICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICB2YXIgY2hpbGRyZW4gPSBpdGVtW2NoaWxkcmVuS2V5XTsKICAgICAgQXJyYXkuaXNBcnJheShjaGlsZHJlbikgJiYgZm4oY2hpbGRyZW4pOwogICAgfSk7CiAgfTsKCiAgZm4odHJlZSk7CiAgcmV0dXJuIGxpc3Q7Cn07Cgp2YXIgbXV0YXRpb25zID0gewogIFNFVF9ST1VURVM6IGZ1bmN0aW9uIFNFVF9ST1VURVMoc3RhdGUsIHJvdXRlcykgewogICAgc3RhdGUucm91dGVzID0gcm91dGVzOwogIH0sCiAgU0VUX01FTlVfTElTVDogZnVuY3Rpb24gU0VUX01FTlVfTElTVChzdGF0ZSwgbWVudUxpc3QpIHsKICAgIHN0YXRlLm1lbnVMaXN0ID0gbWVudUxpc3Q7CiAgfSwKICBTRVRfTUVOVV9UUkVFOiBmdW5jdGlvbiBTRVRfTUVOVV9UUkVFKHN0YXRlLCBtZW51VHJlZSkgewogICAgc3RhdGUubWVudVRyZWUgPSBtZW51VHJlZTsKICB9LAogIFNFVF9BVVRIX0xJU1Q6IGZ1bmN0aW9uIFNFVF9BVVRIX0xJU1Qoc3RhdGUsIGF1dGhMaXN0KSB7CiAgICBzdGF0ZS5hdXRoTGlzdCA9IGF1dGhMaXN0OwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLyoqCiAgICog6I635Y+W6I+c5Y2V5YiX6KGoCiAgICovCiAgZ2V0TWVudUxpc3Q6IGZ1bmN0aW9uIGdldE1lbnVMaXN0KF9yZWYpIHsKICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgIHJldHVybiBfZ2V0TWVudUxpc3QoKS50aGVuKGZ1bmN0aW9uIChfcmVmMikgewogICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgIC8vIOmmlumhtei3r+eUsemFjee9rgogICAgICB2YXIgaG9tZVJvdXRlID0gcm91dGVzLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wYXRoID09PSAnLyc7CiAgICAgIH0pOyAvLyDmiZPlubPot6/nlLHmlbDmja4KCiAgICAgIHZhciByb3V0ZUxpc3QgPSB0cmVlQ29udmVydExpc3QoaG9tZVJvdXRlID8gYXN5bmNSb3V0ZXMuY29uY2F0KFtob21lUm91dGVdKSA6IGFzeW5jUm91dGVzKTsKICAgICAgZGF0YSA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW107CiAgICAgIGRhdGEgPSBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHZhciByb3V0ZSA9IHJvdXRlTGlzdC5maW5kKGZ1bmN0aW9uIChyb3V0ZSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0udXJsID09PSByb3V0ZS5wYXRoOwogICAgICAgIH0pIHx8IHt9OyAvLyDljLnphY3liLDnmoTot6/nlLHphY3nva4KCiAgICAgICAgcm91dGUubWV0YSA9IHJvdXRlLm1ldGEgfHwge307IC8vIOeUn+aIkOiPnOWNlemFjee9rgoKICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHsKICAgICAgICAgIGhpZGRlbjogcm91dGUuaGlkZGVuLAogICAgICAgICAgcGF0aDogaXRlbS51cmwsCiAgICAgICAgICBuYW1lOiByb3V0ZS5uYW1lLAogICAgICAgICAgbWV0YTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByb3V0ZS5tZXRhKSwge30sIHsKICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubWVudU5hbWUgfHwgcm91dGUubWV0YS50aXRsZSwKICAgICAgICAgICAgaWNvbjogaXRlbS5pY29uIHx8IHJvdXRlLm1ldGEuaWNvbgogICAgICAgICAgfSkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciBtZW51VHJlZSA9IG1lbnVMaXN0Q29udmVydE1lbnVUcmVlKGRhdGEpOyAvLyDoj5zljZXliJfooajovazoj5zljZXmoJEKCiAgICAgIG1lbnVUcmVlID0gc29ydE1lbnVUcmVlKG1lbnVUcmVlKTsgLy8g6I+c5Y2V5o6S5bqPCgogICAgICBjb21taXQoJ1NFVF9NRU5VX0xJU1QnLCBkYXRhKTsKICAgICAgY29tbWl0KCdTRVRfTUVOVV9UUkVFJywgbWVudVRyZWUpOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0pOwogIH0sCgogIC8qKgogICAqIOiOt+WPluaMiemSruWIl+ihqAogICAqLwogIGdldEF1dGhMaXN0OiBmdW5jdGlvbiBnZXRBdXRoTGlzdChfcmVmMykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgIHJldHVybiBfZ2V0QXV0aExpc3QoKS50aGVuKGZ1bmN0aW9uIChfcmVmNCkgewogICAgICB2YXIgZGF0YSA9IF9yZWY0LmRhdGE7CiAgICAgIHZhciBhdXRoTGlzdCA9IGRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0gJiYgaXRlbS5pdGZDb2RlOwogICAgICB9KTsKICAgICAgY29tbWl0KCdTRVRfQVVUSF9MSVNUJywgYXV0aExpc3QpOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0pOwogIH0sCgogIC8qKgogICAqIOiOt+WPluadg+mZkOaVsOaNrgogICAqLwogIGdldEF1dGhEYXRhOiBmdW5jdGlvbiBnZXRBdXRoRGF0YShfcmVmNSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBkaXNwYXRjaCwgbWVudUxpc3QsIGF1dGhMaXN0OwogICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGRpc3BhdGNoID0gX3JlZjUuZGlzcGF0Y2g7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIGRpc3BhdGNoKCdnZXRNZW51TGlzdCcpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIG1lbnVMaXN0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gZGlzcGF0Y2goJ2dldEF1dGhMaXN0Jyk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgYXV0aExpc3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIHsKICAgICAgICAgICAgICAgIG1lbnVMaXN0OiBtZW51TGlzdCwKICAgICAgICAgICAgICAgIGF1dGhMaXN0OiBhdXRoTGlzdAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWVzcGFjZWQ6IHRydWUsCiAgc3RhdGU6IHN0YXRlLAogIG11dGF0aW9uczogbXV0YXRpb25zLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-book/store/modules/auth.js"],"names":["getMenuList","getAuthList","utils","routes","asyncRoutes","state","menuList","menuTree","authList","menuListConvertMenuTree","listConvertTree","sortMenuTree","sort","list","a","b","orderNo","forEach","value","children","length","treeConvertList","tree","childrenKey","Array","isArray","fn","data","concat","slice","item","mutations","SET_ROUTES","SET_MENU_LIST","SET_MENU_TREE","SET_AUTH_LIST","actions","commit","then","homeRoute","find","path","routeList","map","route","url","meta","hidden","name","title","menuName","icon","itfCode","getAuthData","dispatch","namespaced"],"mappings":";;;;;;;;;AAAA,SAASA,WAAW,IAAXA,YAAT,EAAsBC,WAAW,IAAXA,YAAtB,QAAyC,sBAAzC;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,SAASC,MAAT,EAAiBC,WAAjB,QAAoC,oBAApC;AAEA,IAAMC,KAAK,GAAG;AACZ;AACAF,EAAAA,MAAM,EAAE,EAFI;AAGZ;AACAG,EAAAA,QAAQ,EAAE,EAJE;AAKZ;AACAC,EAAAA,QAAQ,EAAE,CACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9GQ,GANE;AAsHZ;AACAC,EAAAA,QAAQ,EAAE;AAvHE,CAAd;AA0HA;AACA;AACA;;AACA,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAAH,QAAQ,EAAI;AAC1C,SAAOJ,KAAK,CAACQ,eAAN,CAAsBJ,QAAtB,EAAgC,QAAhC,EAA0C,cAA1C,EAA0D,IAA1D,CAAP;AACD,CAFD;AAIA;AACA;AACA;AACA;;;AACA,IAAMK,YAAY,GAAG,SAAfA,YAAe,CAAAJ,QAAQ,EAAI;AAC/B,MAAIK,IAAI,GAAG,SAAPA,IAAO,CAAAC,IAAI,EAAI;AACjBA,IAAAA,IAAI,CAACD,IAAL,CAAU,UAACE,CAAD,EAAIC,CAAJ,EAAU;AA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","sourcesContent":["import { getMenuList, getAuthList } from '../../api/auth/index';\nimport utils from '@/plugins/common/utils';\nimport { routes, asyncRoutes } from '../../router/index';\n\nconst state = {\n  // 路由配置\n  routes: [],\n  // 菜单列表\n  menuList: [],\n  // 菜单树\n  menuTree: [\n    // {\n    //   createTime: null,\n    //   creator: '',\n    //   deleted: '',\n    //   editor: '',\n    //   hidden: undefined,\n    //   icon: '',\n    //   meta: {\n    //     title: '首页',\n    //     icon: 'dashboard'\n    //   },\n    //   id: '',\n    //   menuDesc: '',\n    //   menuId: 866,\n    //   menuName: '首页',\n    //   menuType: '0',\n    //   name: 'Dashboard',\n    //   orderNo: 0,\n    //   parentMenuId: -1,\n    //   path: '/home',\n    //   roleType: '',\n    //   sysCode: '',\n    //   text: '',\n    //   updateTime: null,\n    //   url: '/home'\n    // },\n    // {\n    //   icon: 'el-icon-location',\n    //   path: '/statisticalChart',\n    //   menuId: 867,\n    //   title: '统计图',\n    //   hidden: false,\n    //   meta: {\n    //     title: '统计图',\n    //     icon: 'el-icon-location'\n    //   },\n    //   url: '/statisticalChart'\n    // },\n    // {\n    //   icon: 'el-icon-menu',\n    //   path: '/menuManage',\n    //   menuId: 868,\n    //   title: '目录管理',\n    //   hidden: false,\n    //   meta: {\n    //     title: '目录管理',\n    //     icon: 'el-icon-menu'\n    //   },\n    //   url: '/menuManage'\n    // },\n    // {\n    //   icon: 'el-icon-trophy',\n    //   path: '/messageManage',\n    //   menuId: 869,\n    //   title: '留言管理',\n    //   hidden: false,\n    //   meta: {\n    //     title: '留言管理',\n    //     icon: 'el-icon-trophy'\n    //   },\n    //   url: '/messageManage'\n    // },\n    // {\n    //   icon: 'el-icon-user-solid',\n    //   path: '/boundaryStu',\n    //   menuId: 870,\n    //   title: '角色管理',\n    //   hidden: false,\n    //   meta: {\n    //     title: '用户管理',\n    //     icon: 'el-icon-user-solid'\n    //   },\n    //   url: '/boundaryStu'\n    // },\n    // {\n    //   icon: 'el-icon-user-solid',\n    //   path: '/classify-list',\n    //   menuId: 872,\n    //   title: '问题分类',\n    //   hidden: false,\n    //   meta: {\n    //     title: '问题分类',\n    //     icon: 'el-icon-user-solid'\n    //   },\n    //   url: '/classify-list'\n    // },\n    // {\n    //   icon: 'el-icon-user-solid',\n    //   path: '/quest-list',\n    //   menuId: 873,\n    //   title: '问题管理',\n    //   hidden: false,\n    //   meta: {\n    //     title: '问题管理',\n    //     icon: 'el-icon-user-solid'\n    //   },\n    //   url: '/quest-list'\n    // },\n    // {\n    //   icon: 'el-icon-user-solid',\n    //   path: '/answer-list',\n    //   menuId: 874,\n    //   title: '回复管理',\n    //   hidden: false,\n    //   meta: {\n    //     title: '回复管理',\n    //     icon: 'el-icon-user-solid'\n    //   },\n    //   url: '/answer-list'\n    // }\n  ],\n  // 按钮权限列表\n  authList: []\n};\n\n/**\n * 菜单列表转换树列表\n */\nconst menuListConvertMenuTree = menuList => {\n  return utils.listConvertTree(menuList, 'menuId', 'parentMenuId', true);\n};\n\n/**\n * 排序菜单树\n * @param {Array} menuTree 菜单树\n */\nconst sortMenuTree = menuTree => {\n  let sort = list => {\n    list.sort((a, b) => {\n      return a.orderNo - b.orderNo;\n    });\n    list.forEach(\n      value => value.children && value.children.length && sort(value.children)\n    );\n    return list;\n  };\n  return sort(menuTree);\n};\n\n/**\n * 树型数据转列表\n * @param {*} tree 树型数据\n * @param {*} childrenKey 子节点列表键\n */\nconst treeConvertList = (tree, childrenKey = 'children') => {\n  if (!Array.isArray(tree)) return [];\n  let list = [];\n  let fn = data => {\n    list = list.concat(data.slice(0));\n    data.forEach(item => {\n      let children = item[childrenKey];\n      Array.isArray(children) && fn(children);\n    });\n  };\n  fn(tree);\n  return list;\n};\n\nconst mutations = {\n  SET_ROUTES(state, routes) {\n    state.routes = routes;\n  },\n  SET_MENU_LIST(state, menuList) {\n    state.menuList = menuList;\n  },\n  SET_MENU_TREE(state, menuTree) {\n    state.menuTree = menuTree;\n  },\n  SET_AUTH_LIST(state, authList) {\n    state.authList = authList;\n  }\n};\n\nconst actions = {\n  /**\n   * 获取菜单列表\n   */\n  getMenuList({ commit }) {\n    return getMenuList().then(({ data }) => {\n      // 首页路由配置\n      let homeRoute = routes.find(item => item.path === '/');\n      // 打平路由数据\n      let routeList = treeConvertList(\n        homeRoute ? asyncRoutes.concat([homeRoute]) : asyncRoutes\n      );\n      data = Array.isArray(data) ? data : [];\n      data = data.map(item => {\n        let route = routeList.find(route => item.url === route.path) || {}; // 匹配到的路由配置\n        route.meta = route.meta || {};\n        // 生成菜单配置\n        return {\n          ...item,\n          hidden: route.hidden,\n          path: item.url,\n          name: route.name,\n          meta: {\n            ...route.meta,\n            title: item.menuName || route.meta.title,\n            icon: item.icon || route.meta.icon\n          }\n        };\n      });\n      let menuTree = menuListConvertMenuTree(data); // 菜单列表转菜单树\n      menuTree = sortMenuTree(menuTree); // 菜单排序\n      commit('SET_MENU_LIST', data);\n      commit('SET_MENU_TREE', menuTree);\n      return data;\n    });\n  },\n  /**\n   * 获取按钮列表\n   */\n  getAuthList({ commit }) {\n    return getAuthList().then(({ data }) => {\n      let authList = data.map(item => item && item.itfCode);\n      commit('SET_AUTH_LIST', authList);\n      return data;\n    });\n  },\n  /**\n   * 获取权限数据\n   */\n  async getAuthData({ dispatch }) {\n    let menuList = await dispatch('getMenuList');\n    let authList = await dispatch('getAuthList');\n    return {\n      menuList,\n      authList\n    };\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  mutations,\n  actions\n};\n"]}]}