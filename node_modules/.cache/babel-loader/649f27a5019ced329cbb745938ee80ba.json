{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/plugins/core/menu.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/plugins/core/menu.js","mtime":1627979214385},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vLi4vc3RvcmUnOwppbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZyc7Ci8qKgogKiDmmK/lkKbmnInmnYPpmZAKICogQHBhcmFtIHsqfSBhdXRoQ29uZmlnIOadg+mZkOmFjee9rgogKi8KCmV4cG9ydCBmdW5jdGlvbiBoYXMoYXV0aENvbmZpZykgewogIC8vIOS4jeWQr+eUqOaMiemSruadg+mZkOWKn+iDvQogIGlmICghY29uZmlnLmVuYWJsZWRNZW51QXV0aCkgcmV0dXJuIHRydWU7IC8vIOaXoOadg+mZkOmFjee9ru+8jOS4jeagoemqjAoKICBpZiAoIWF1dGhDb25maWcgfHwgIWF1dGhDb25maWcubGVuZ3RoKSByZXR1cm4gdHJ1ZTsKICB2YXIgbWVudUxpc3QgPSBbXTsKCiAgaWYgKHN0b3JlLmdldHRlcnMgJiYgc3RvcmUuZ2V0dGVycy5tZW51TGlzdCkgewogICAgc3RvcmUuZ2V0dGVycy5tZW51TGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgbWVudUxpc3QucHVzaChpdGVtLm1lbnVJZCk7CiAgICB9KTsKICB9CgogIHZhciBoYXNQZXJtaXNzaW9uID0gYXV0aENvbmZpZy5zb21lKGZ1bmN0aW9uIChyb2xlKSB7CiAgICByZXR1cm4gbWVudUxpc3QuaW5kZXhPZihyb2xlKSA+PSAwOwogIH0pOwogIHJldHVybiBoYXNQZXJtaXNzaW9uOwp9IC8vIOaMguWcqOadg+mZkOagoemqjOaWueazlQoKVnVlLmhhc01lbnUgPSBoYXM7ClZ1ZS5wcm90b3R5cGUuJGhhc01lbnUgPSBoYXM7"},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/plugins/core/menu.js"],"names":["Vue","store","config","has","authConfig","enabledMenuAuth","length","menuList","getters","map","item","push","menuId","hasPermission","some","role","indexOf","hasMenu","prototype","$hasMenu"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA;AACA;AACA;AACA;;AACA,OAAO,SAASC,GAAT,CAAaC,UAAb,EAAyB;AAC9B;AACA,MAAI,CAACF,MAAM,CAACG,eAAZ,EAA6B,OAAO,IAAP,CAFC,CAG9B;;AACA,MAAI,CAACD,UAAD,IAAe,CAACA,UAAU,CAACE,MAA/B,EAAuC,OAAO,IAAP;AACvC,MAAIC,QAAQ,GAAG,EAAf;;AACA,MAAIN,KAAK,CAACO,OAAN,IAAiBP,KAAK,CAACO,OAAN,CAAcD,QAAnC,EAA6C;AAC3CN,IAAAA,KAAK,CAACO,OAAN,CAAcD,QAAd,CAAuBE,GAAvB,CAA2B,UAAAC,IAAI,EAAI;AACjCH,MAAAA,QAAQ,CAACI,IAAT,CAAcD,IAAI,CAACE,MAAnB;AACD,KAFD;AAGD;;AACD,MAAMC,aAAa,GAAGT,UAAU,CAACU,IAAX,CAAgB,UAAAC,IAAI,EAAI;AAC5C,WAAOR,QAAQ,CAACS,OAAT,CAAiBD,IAAjB,KAA0B,CAAjC;AACD,GAFqB,CAAtB;AAGA,SAAOF,aAAP;AACD,C,CAED;;AACAb,GAAG,CAACiB,OAAJ,GAAcd,GAAd;AACAH,GAAG,CAACkB,SAAJ,CAAcC,QAAd,GAAyBhB,GAAzB","sourcesContent":["import Vue from 'vue';\nimport store from '../../store';\nimport config from '../../config';\n\n/**\n * 是否有权限\n * @param {*} authConfig 权限配置\n */\nexport function has(authConfig) {\n  // 不启用按钮权限功能\n  if (!config.enabledMenuAuth) return true;\n  // 无权限配置，不校验\n  if (!authConfig || !authConfig.length) return true;\n  let menuList = [];\n  if (store.getters && store.getters.menuList) {\n    store.getters.menuList.map(item => {\n      menuList.push(item.menuId);\n    });\n  }\n  const hasPermission = authConfig.some(role => {\n    return menuList.indexOf(role) >= 0;\n  });\n  return hasPermission;\n}\n\n// 挂在权限校验方法\nVue.hasMenu = has;\nVue.prototype.$hasMenu = has;\n"]}]}