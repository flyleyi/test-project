{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-detail/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-detail/index.vue","mtime":1645180057462},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZnV5dWV5aS9EZXNrdG9wL3ByYWN0aWNlL211dGlsd2FwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAidmFudC9lcy9kaWFsb2cvc3R5bGUiOwppbXBvcnQgX0RpYWxvZyBmcm9tICJ2YW50L2VzL2RpYWxvZyI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCAidmFudC9lcy9pbWFnZS1wcmV2aWV3L3N0eWxlIjsKaW1wb3J0IF9JbWFnZVByZXZpZXcgZnJvbSAidmFudC9lcy9pbWFnZS1wcmV2aWV3IjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInZhbnQvZXMvdXBsb2FkZXIvc3R5bGUiOwppbXBvcnQgX1VwbG9hZGVyIGZyb20gInZhbnQvZXMvdXBsb2FkZXIiOwppbXBvcnQgInZhbnQvZXMvcG9wdXAvc3R5bGUiOwppbXBvcnQgX1BvcHVwIGZyb20gInZhbnQvZXMvcG9wdXAiOwppbXBvcnQgInZhbnQvZXMvYWN0aW9uLXNoZWV0L3N0eWxlIjsKaW1wb3J0IF9BY3Rpb25TaGVldCBmcm9tICJ2YW50L2VzL2FjdGlvbi1zaGVldCI7CmltcG9ydCAidmFudC9lcy9zd2l0Y2gvc3R5bGUiOwppbXBvcnQgX1N3aXRjaCBmcm9tICJ2YW50L2VzL3N3aXRjaCI7Cgp2YXIgX2NvbXBvbmVudHM7CgppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbC5kZXNjcmlwdGlvbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IERhdGVDaG9vc2UgZnJvbSAnLi4vc3VydmV5LWFkZC9jb21wb25lbnRzL0RhdGVDaG9vc2UudnVlJzsKaW1wb3J0IHsgT3NzVXBsb2FkIH0gZnJvbSAnLi4vLi4vcGx1Z2lucy9jb21tb24vb3NzVXBsb2FkLmpzJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0VGltZUxpc3QsIHN1cnZleURldGFpbCwgZ2V0U3R1ZGVudExpc3QsIGVkaXRTdXJ2ZXksIGdldENsYXNzZXMsIGRlbFN1cnZleSB9IGZyb20gJy4uLy4uL2FwaS9zdXJ2ZXknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1N1cnZleURldGFpbCcsCiAgY29tcG9uZW50czogKF9jb21wb25lbnRzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX1N3aXRjaC5uYW1lLCBfU3dpdGNoKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQWN0aW9uU2hlZXQubmFtZSwgX0FjdGlvblNoZWV0KSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfUG9wdXAubmFtZSwgX1BvcHVwKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfVXBsb2FkZXIubmFtZSwgX1VwbG9hZGVyKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCAiRGF0ZUNob29zZSIsIERhdGVDaG9vc2UpLCBfY29tcG9uZW50cyksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhbkVkaXQ6IG51bGwsCiAgICAgIC8vIOaYr+WQpuiDveWkn+e8lui+kQogICAgICBiYXNlSW5mbzogewogICAgICAgIGZhbWlseU51bTogMCwKICAgICAgICBzdHVkZW50TnVtOiAwLAogICAgICAgIHN0dWRlbnRJZHM6ICcnLAogICAgICAgIHRpdGxlOiAnJywKICAgICAgICAvLyDpl67ljbfmoIfpopgKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgLy8g6Zeu5Y235o+P6L+wCiAgICAgICAgaW1nTGlzdDogW10sCiAgICAgICAgLy8g5Zu+54mH6ZmE5Lu2CiAgICAgICAgaW1nSWRzOiBbXSwKICAgICAgICBmaWxlTGlzdDogW10sCiAgICAgICAgLy8g5paH5Lu26ZmE5Lu2CiAgICAgICAgZmlsZUlkczogW10sCiAgICAgICAgaXNQdWJsaXNoZWQ6IDAsCiAgICAgICAgcHJlVGltZTogJycsCiAgICAgICAgLy8g5a6a5pe25Y+R5biD5pe26Ze0KOeyvuehruWIsOWIhikKICAgICAgICBlbmRUaW1lOiAnJywKICAgICAgICAvLyDmiKrmraLml6XmnJ8KICAgICAgICBjb2xsZWN0aW9uTWF4Q250OiAwLAogICAgICAgIC8vIOacgOWkp+aUtumbhuaVsAogICAgICAgIHN1Ym1pdENvdW50OiAwLAogICAgICAgIC8vIOW3suaUtumbhuS7veaVsAogICAgICAgIHN1Ym1pdExpc3Q6IFtdLAogICAgICAgIC8vIOaPkOS6pOiusOW9lQogICAgICAgIHN0YXR1czogJycgLy8g5paH5Lu254q25oCBIDPkuLrnu5PmnZ8KCiAgICAgIH0sCiAgICAgIGlzVGltaW5nUHViOiBmYWxzZSwKICAgICAgLy8g5a6a5pe25Y+R5biD5byA5Y+RCiAgICAgIGRhdGVQb3B1cDogZmFsc2UsCiAgICAgIC8vIOaXpeacn+W8ueeqlywg6buY6K6k6ZqQ6JePCiAgICAgIGVuZERhdGVQb3B1cDogZmFsc2UsCiAgICAgIC8vIOaIquatouaXtumXtOW8ueeqlwogICAgICBkYXRlTGlzdDogW10sCiAgICAgIC8vIOWumuaXtuWPkeW4g+aXpeacn+WIl+ihqAogICAgICBjb2xsZWN0TnVtOiAwIC8vIOaUtumbhuS7veaVsAoKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKCd1c2VyJywgWyd3ZWNoYXRVc2VySWQnLCAnY2xhc3NJZCcsICdyb2xlJ10pKSwgbWFwU3RhdGUoJ2NsYXNzZXMnLCBbJ2NsYXNzTGlzdCddKSksIHt9LCB7CiAgICBjbGFzc0FycjogZnVuY3Rpb24gY2xhc3NBcnIoKSB7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgdGhpcy5jbGFzc0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGlmIChpdGVtLmNoZWNrZWROdW0gPiAwKSB7CiAgICAgICAgICBhcnIucHVzaChpdGVtLm5hbWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBhcnI7CiAgICB9CiAgfSksCiAgYmVmb3JlUm91dGVFbnRlcjogZnVuY3Rpb24gYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgaWYgKGZyb20ubmFtZSA9PSAnUmVtaW5kTGlzdCcgfHwgZnJvbS5uYW1lID09ICdTdHVkZW50TGlzdCcgfHwgZnJvbS5uYW1lID09ICdPcHRpb25EZXRhaWwnKSB7CiAgICAgIC8vIOi/meS4qm5hbWXmmK/kuIvkuIDnuqfpobXpnaLnmoTot6/nlLFuYW1lCiAgICAgIHRvLm1ldGEuaXNCYWNrID0gdHJ1ZTsgLy8g6K6+572u5Li6dHJ1ZeivtOaYjuS9oOaYr+i/lOWbnuWIsOi/meS4qumhtemdou+8jOiAjOS4jeaYr+mAmui/h+i3s+i9rOS7juWFtuS7lumhtemdoui/m+WFpeWIsOi/meS4qumhtemdogogICAgfQoKICAgIG5leHQoKTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuY2FuRWRpdCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmNhbkVkaXQ7IC8vIOaXpeacn+WIl+ihqAoKICAgIGdldFRpbWVMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIF90aGlzLmRhdGVMaXN0ID0gcmVzLmRhdGE7CiAgICB9KTsKICB9LAogIGFjdGl2YXRlZDogZnVuY3Rpb24gYWN0aXZhdGVkKCkgewogICAgaWYgKCF0aGlzLiRyb3V0ZS5tZXRhLmlzQmFjaykgewogICAgICAvLyDov5nph4zorrjopoHliJ3lp4vljJZkYWRhKCnkuK3nmoTmlbDmja4KICAgICAgdGhpcy5iYXNlSW5mbyA9IHsKICAgICAgICBmYW1pbHlOdW06IDAsCiAgICAgICAgc3R1ZGVudE51bTogMCwKICAgICAgICBzdHVkZW50SWRzOiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgLy8g6Zeu5Y235qCH6aKYCiAgICAgICAgZGVzY3JpcHRpb246ICcnLAogICAgICAgIC8vIOmXruWNt+aPj+i/sAogICAgICAgIGltZ0xpc3Q6IFtdLAogICAgICAgIC8vIOWbvueJh+mZhOS7tgogICAgICAgIGltZ0lkczogW10sCiAgICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAgIC8vIOaWh+S7tumZhOS7tgogICAgICAgIGZpbGVJZHM6IFtdLAogICAgICAgIGlzUHVibGlzaGVkOiAwLAogICAgICAgIHByZVRpbWU6ICcnLAogICAgICAgIC8vIOWumuaXtuWPkeW4g+aXtumXtCjnsr7noa7liLDliIYpCiAgICAgICAgZW5kVGltZTogJycsCiAgICAgICAgLy8g5oiq5q2i5pel5pyfCiAgICAgICAgY29sbGVjdGlvbk1heENudDogMCwKICAgICAgICAvLyDmnIDlpKfmlLbpm4bmlbAKICAgICAgICBzdWJtaXRDb3VudDogMCwKICAgICAgICAvLyDlt7LmlLbpm4bku73mlbAKICAgICAgICBzdWJtaXRMaXN0OiBbXSwKICAgICAgICAvLyDmj5DkuqTorrDlvZUKICAgICAgICBzdGF0dXM6ICcnCiAgICAgIH07CiAgICAgIHRoaXMuaXNUaW1pbmdQdWIgPSBmYWxzZTsKICAgICAgdGhpcy5jb2xsZWN0TnVtID0gMDsgLy8g5pS26ZuG5Lu95pWwCgogICAgICB0aGlzLmdldFN1cnZleURldGFpbCgpOwogICAgfQoKICAgIHRoaXMuY2FuRWRpdCA9IG51bGw7CiAgICB0aGlzLiRyb3V0ZS5tZXRhLmlzQmFjayA9IGZhbHNlOyAvL+ivt+axguWujOWQjui/m+ihjOWIneWni+WMlgoKICAgIHRoaXMuZGF0ZVBvcHVwID0gZmFsc2U7IC8vIOaXpeacn+W8ueeqlywg6buY6K6k6ZqQ6JePCgogICAgdGhpcy5lbmREYXRlUG9wdXAgPSBmYWxzZTsgLy8g5oiq5q2i5pe26Ze05by556qXCgogICAgdGhpcy5nZXRQYXJlbnROdW0oKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPlumXruWNt+ivpuaDhQogICAgZ2V0U3VydmV5RGV0YWlsOiBmdW5jdGlvbiBnZXRTdXJ2ZXlEZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICB3ZWNoYXRVc2VySWQ6IHRoaXMud2VjaGF0VXNlcklkLAogICAgICAgIHJvbGU6IHRoaXMucm9sZSwKICAgICAgICBzdXJ2ZXlJZDogdGhpcy4kcm91dGUucXVlcnkuc3VydmV5SWQKICAgICAgfTsKICAgICAgc3VydmV5RGV0YWlsKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmJhc2VJbmZvLmVuZFRpbWUgPSByZXMuZGF0YS5lbmRUaW1lOwogICAgICAgIF90aGlzMi5iYXNlSW5mby5wcmVUaW1lID0gcmVzLmRhdGEucHJlVGltZTsKICAgICAgICBfdGhpczIuYmFzZUluZm8udGl0bGUgPSByZXMuZGF0YS50aXRsZTsKICAgICAgICBfdGhpczIuYmFzZUluZm8uZGVzY3JpcHRpb24gPSByZXMuZGF0YS5kZXNjcmlwdGlvbjsKICAgICAgICBfdGhpczIuY29sbGVjdE51bSA9IHJlcy5kYXRhLmNvbGxlY3Rpb25NYXhDbnQ7CiAgICAgICAgX3RoaXMyLmJhc2VJbmZvLnN0dWRlbnROdW0gPSByZXMuZGF0YS5zdHVkZW50Q291bnQ7CiAgICAgICAgX3RoaXMyLmJhc2VJbmZvLmZhbWlseU51bSA9IHJlcy5kYXRhLmZhbWlseUNvdW50OwogICAgICAgIF90aGlzMi5iYXNlSW5mby5jb2xsZWN0aW9uTWF4Q250ID0gcmVzLmRhdGEuY29sbGVjdGlvbk1heENudDsKICAgICAgICBfdGhpczIuYmFzZUluZm8uc3VibWl0Q291bnQgPSByZXMuZGF0YS5zdWJtaXRDb3VudDsKICAgICAgICBfdGhpczIuYmFzZUluZm8uc3VibWl0TGlzdCA9IHJlcy5kYXRhLnN1Ym1pdExpc3Q7CiAgICAgICAgX3RoaXMyLmJhc2VJbmZvLmlzUHVibGlzaGVkID0gcmVzLmRhdGEuaXNQdWJsaXNoZWQ7CiAgICAgICAgX3RoaXMyLmlzVGltaW5nUHViID0gcmVzLmRhdGEucHJlVGltZSA/IHRydWUgOiBmYWxzZTsKICAgICAgICBfdGhpczIuYmFzZUluZm8uc3RhdHVzID0gcmVzLmRhdGEuc3RhdHVzOwogICAgICAgIHJlcy5kYXRhLmF0dGFjaG1lbnRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT0gJ2ltZycpIHsKICAgICAgICAgICAgX3RoaXMyLmJhc2VJbmZvLmltZ0xpc3QucHVzaCh7CiAgICAgICAgICAgICAgdXJsOiBpdGVtLnVybCwKICAgICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIF90aGlzMi5iYXNlSW5mby5pbWdJZHMucHVzaChpdGVtLmlkKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09ICdmaWxlJykgewogICAgICAgICAgICBfdGhpczIuYmFzZUluZm8uZmlsZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgdXJsOiBpdGVtLnVybCwKICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgaWQ6IGl0ZW0uaWQKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBfdGhpczIuYmFzZUluZm8uZmlsZUlkcy5wdXNoKGl0ZW0uaWQpOwogICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnc3VydmV5L1VQREFUQV9RVUVTVElPTicsIHJlcy5kYXRhLnF1ZXN0aW9uTGlzdCk7CgogICAgICAgIHJldHVybiBnZXRTdHVkZW50TGlzdCh7CiAgICAgICAgICB3ZWNoYXRVc2VySWQ6IF90aGlzMi53ZWNoYXRVc2VySWQsCiAgICAgICAgICBzdXJ2ZXlJZDogcmVzLmRhdGEuaWQKICAgICAgICB9KTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgcmVzLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5pc1Nob3cgPSBmYWxzZTsKICAgICAgICAgIGl0ZW0uZGlzYWJsZWROdW0gPSBpdGVtLmNoZWNrZWROdW07CiAgICAgICAgICBpdGVtLnN0dWRlbnRMaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0yKSB7CiAgICAgICAgICAgIGlmIChpdGVtMi5pc0NoZWNrZWQpIHsKICAgICAgICAgICAgICBpdGVtMi5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgnY2xhc3Nlcy9TQVZFX0NMQVNTRVMnLCByZXMuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczIuJHRvYXN0KGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIrkvKDpmYTku7bliY3nva7lpITnkIYKICAgIGJlZm9yZVJlYWQ6IGZ1bmN0aW9uIGJlZm9yZVJlYWQoZmlsZSkgewogICAgICB2YXIgdHlwZSA9IGZpbGUudHlwZTsKCiAgICAgIGlmICghdHlwZS5tYXRjaCgvKGpwZ3xwbmd8anBlZz8pJC9pKSkgewogICAgICAgIHRoaXMuJHRvYXN0KCfku4XlhYHorrjkuIrkvKDlm77niYfmlofku7bnsbvlnosnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGlmICh0aGlzLmJhc2VJbmZvLmltZ0xpc3QubGVuZ3RoICsgdGhpcy5iYXNlSW5mby5maWxlTGlzdC5sZW5ndGggPj0gNSkgewogICAgICAgIHRoaXMuJHRvYXN0KCfpmYTku7bmnIDlpKfkuIrkvKDmlbDph4/kuLo1Jyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9IC8vIOS4iuS8oOmZhOS7tuWNleS4qumcgOWwj+S6jjEwTQoKCiAgICAgIGlmIChmaWxlLnNpemUgPiAxMCAqIDEwMjQgKiAxMDI0KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+S4iuS8oOWNleS4qumZhOS7tumcgOWwj+S6jjEwTScpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgcmV0dXJuIHRydWU7CiAgICB9LAogICAgLy8g5paH5Lu25LiK5Lyg5a6M5oiQ77yM5q2k5pe25Y+v5Lul6Ieq6KGM5bCG5paH5Lu25LiK5Lyg6Iez5pyN5Yqh5ZmoCiAgICBhZnRlclJlYWQ6IGZ1bmN0aW9uIGFmdGVyUmVhZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdGhpcy4kdG9hc3QubG9hZGluZyh7CiAgICAgICAgZHVyYXRpb246IDAsCiAgICAgICAgLy8g5oyB57ut5bGV56S6IHRvYXN0CiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOS4rScKICAgICAgfSk7CiAgICAgIE9zc1VwbG9hZChmaWxlKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuYmFzZUluZm8uaW1nTGlzdCA9IF90aGlzMy5iYXNlSW5mby5pbWdMaXN0LmNvbmNhdChyZXMuaWRzKTsKICAgICAgICBfdGhpczMuYmFzZUluZm8uaW1nSWRzID0gX3RoaXMzLmJhc2VJbmZvLmltZ0lkcy5jb25jYXQocmVzLnVhcnIpOwoKICAgICAgICBfdGhpczMuJHRvYXN0LmNsZWFyKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczMuJHRvYXN0LmNsZWFyKCk7CgogICAgICAgIF90aGlzMy4kdG9hc3QuZmFpbChlcnIubXNnKTsKICAgICAgfSk7CiAgICB9LAogICAgYmVmb3JlUmVhZEZpbGU6IGZ1bmN0aW9uIGJlZm9yZVJlYWRGaWxlKGZpbGUpIHsKICAgICAgLy8gdmFyIHR5cGUgPSBmaWxlLnR5cGUuc3BsaXQoJy8nKVsxXSB8fCBmaWxlLm5hbWUubWF0Y2goL1wuKFteLl0rPykkLylbMV07CiAgICAgIHZhciB0eXBlID0gZmlsZS5uYW1lLm1hdGNoKC9cLihbXi5dKz8pJC8pWzFdOyAvLyDku4XlhYHorrjkuIrkvKBQREblkoxET0MKCiAgICAgIGlmICghdHlwZS5tYXRjaCgvKHBkZnxkb2N4PykkL2kpKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+S7heWFgeiuuOS4iuS8oFBERuWSjERPQ+aWh+S7tuexu+WeiycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuYmFzZUluZm8uaW1nTGlzdC5sZW5ndGggKyB0aGlzLmJhc2VJbmZvLmZpbGVMaXN0Lmxlbmd0aCA+PSA1KSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+mZhOS7tuacgOWkp+S4iuS8oOaVsOmHj+S4ujUnKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gLy8g5LiK5Lyg6ZmE5Lu25Y2V5Liq6ZyA5bCP5LqOMTBNCgoKICAgICAgaWYgKGZpbGUuc2l6ZSA+IDEwICogMTAyNCAqIDEwMjQpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn5LiK5Lyg5Y2V5Liq6ZmE5Lu26ZyA5bCP5LqOMTBNJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0sCiAgICBhZnRlclJlYWRGaWxlOiBmdW5jdGlvbiBhZnRlclJlYWRGaWxlKGZpbGUpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiR0b2FzdC5sb2FkaW5nKHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAvLyDmjIHnu63lsZXnpLogdG9hc3QKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5LitJwogICAgICB9KTsKICAgICAgT3NzVXBsb2FkKGZpbGUpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHJlcy5pZHMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5uYW1lID0gX3RoaXM0LmdldENhcHRpb24oaXRlbS5uYW1lKTsKICAgICAgICB9KTsKICAgICAgICBfdGhpczQuYmFzZUluZm8uZmlsZUxpc3QgPSBfdGhpczQuYmFzZUluZm8uZmlsZUxpc3QuY29uY2F0KHJlcy5pZHMpOwogICAgICAgIF90aGlzNC5iYXNlSW5mby5maWxlSWRzID0gX3RoaXM0LmJhc2VJbmZvLmZpbGVJZHMuY29uY2F0KHJlcy51YXJyKTsKCiAgICAgICAgX3RoaXM0LiR0b2FzdC5jbGVhcigpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXM0LiR0b2FzdC5jbGVhcigpOwoKICAgICAgICBfdGhpczQuJHRvYXN0LmZhaWwoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOiOt+WPluaMh+WumuWtl+espuWQjumdoueahOaJgOacieWtl+espuWGheWuuQogICAgZ2V0Q2FwdGlvbjogZnVuY3Rpb24gZ2V0Q2FwdGlvbihvYmopIHsKICAgICAgdmFyIGluZGV4ID0gb2JqLmxhc3RJbmRleE9mKCctJyk7CiAgICAgIG9iaiA9IG9iai5zdWJzdHJpbmcoaW5kZXggKyAxLCBvYmoubGVuZ3RoKTsKICAgICAgcmV0dXJuIG9iajsKICAgIH0sCiAgICAvLyDliKDpmaTkuIrkvKDpmYTku7YKICAgIGhhbmRsZUZpbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZUZpbGVEZWxldGUodHlwZSwgaW5kZXgpIHsKICAgICAgaWYgKHR5cGUgPT0gJ2ZpbGUnKSB7CiAgICAgICAgdGhpcy5iYXNlSW5mby5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOwogICAgICAgIHRoaXMuYmFzZUluZm8uZmlsZUlkcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ2ltZycpIHsKICAgICAgICB0aGlzLmJhc2VJbmZvLmltZ0xpc3Quc3BsaWNlKGluZGV4LCAxKTsKICAgICAgICB0aGlzLmJhc2VJbmZvLmltZ0lkcy5zcGxpY2UoaW5kZXgsIDEpOwogICAgICB9CiAgICB9LAogICAgLy8g5Zu+54mH6aKE6KeICiAgICBwcmV2aWV3SW1nOiBmdW5jdGlvbiBwcmV2aWV3SW1nKHVybCkgewogICAgICBfSW1hZ2VQcmV2aWV3KFt1cmxdKTsKICAgIH0sCiAgICAvLyDmlofku7bpooTop4gKICAgIHByZXZpZXdGaWxlOiBmdW5jdGlvbiBwcmV2aWV3RmlsZSh1cmwpIHsKICAgICAgLy8gd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7CiAgICAgIGNvbnNvbGUubG9nKHR5cGVvZiB3eCA9PT0gInVuZGVmaW5lZCIgPyAidW5kZWZpbmVkIiA6IF90eXBlb2Yod3gpKTsKCiAgICAgIGlmICgodHlwZW9mIHd4ID09PSAidW5kZWZpbmVkIiA/ICJ1bmRlZmluZWQiIDogX3R5cGVvZih3eCkpID09ICdvYmplY3QnKSB7CiAgICAgICAgdmFyIGZpbGVVcmwgPSBlbmNvZGVVUklDb21wb25lbnQodXJsKTsKICAgICAgICB3aW5kb3cud3gubWluaVByb2dyYW0ubmF2aWdhdGVUbyh7CiAgICAgICAgICB1cmw6ICIvaDUvZmlsZS9pbmRleD91cmw9Ii5jb25jYXQoZmlsZVVybCkKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6aKE6KeI5aSx6LSl77yM6K+36YeN6K+VJyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlh4/mlLbpm4bku73mlbAKICAgIGRlY3JlYXNlQ29sbGVjdE51bTogZnVuY3Rpb24gZGVjcmVhc2VDb2xsZWN0TnVtKCkgewogICAgICBpZiAodGhpcy5jb2xsZWN0TnVtIDw9IHRoaXMuYmFzZUluZm8uY29sbGVjdGlvbk1heENudCkgcmV0dXJuOwogICAgICB0aGlzLmNvbGxlY3ROdW0tLTsKICAgIH0sCiAgICAvLyDliqDmlLbpm4bku73mlbAKICAgIGluY3JlYXNlQ29sbGVjdE51bTogZnVuY3Rpb24gaW5jcmVhc2VDb2xsZWN0TnVtKCkgewogICAgICBpZiAodGhpcy5jb2xsZWN0TnVtID49IHRoaXMuYmFzZUluZm8uc3R1ZGVudE51bSkgcmV0dXJuOwogICAgICB0aGlzLmNvbGxlY3ROdW0rKzsKICAgIH0sCiAgICAvLyDkv67mlLnmiKrmraLml7bpl7TlvLnnqpcKICAgIG9wZW5FbmREYXRlUG9wdXA6IGZ1bmN0aW9uIG9wZW5FbmREYXRlUG9wdXAoKSB7CiAgICAgIHRoaXMuZW5kRGF0ZVBvcHVwID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDml6XmnJ/lvLnnqpcKICAgIG9wZW5EYXRlUG9wdXA6IGZ1bmN0aW9uIG9wZW5EYXRlUG9wdXAoKSB7CiAgICAgIHRoaXMuZGF0ZVBvcHVwID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDpgInmi6nmiKrmraLml6XmnJ8KICAgIGhhbmRsZUNob29zZUVuZERhdGU6IGZ1bmN0aW9uIGhhbmRsZUNob29zZUVuZERhdGUodmFsdWUsIGluZGV4KSB7CiAgICAgIC8vIElPU+S4jeivhuWIq+aXpeacnyAtIOi/nuaOpe+8jOi9rOS4uiAvIOi/nuaOpQogICAgICB2YXIgcHJlVGltZSA9IHZhbHVlWzBdLmtleSArICcgJyArIHZhbHVlWzFdLmtleSArICc6JyArIHZhbHVlWzJdLmtleTsKICAgICAgdmFyIHByZVRpbWUyID0gcHJlVGltZS5yZXBsYWNlKC8tL2csICcvJyk7IC8vIOeyvuWHhuWIsOWIhueahOaXtumXtOaIs+WvueavlAoKICAgICAgdmFyIHByZVRpbWVzdGFtcDIgPSBuZXcgRGF0ZShwcmVUaW1lMikuZ2V0VGltZSgpLAogICAgICAgICAgLy8g6I635Y+W6aKE5Y+R5biD5pe26Ze055qE5pe26Ze05oizCiAgICAgIGN1clRpbWVzdGFtcDIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy8g5b2T5YmN5pe26Ze05oiz77yM57K+5YeG5Yiw56eSCgogICAgICBpZiAocHJlVGltZXN0YW1wMiA8PSBjdXJUaW1lc3RhbXAyKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+aIquatouaXtumXtOmcgOaZmuS6juW9k+WJjeaXtumXtCcpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChwcmVUaW1lc3RhbXAyIC0gY3VyVGltZXN0YW1wMiA+IDI1OTIwMDAwMDApIHsKICAgICAgICB0aGlzLiR0b2FzdCgn5oiq5q2i5pe26Ze05LiN6IO96LaF5Ye65b2T5YmN5pe26Ze05LiA5Liq5pyIJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmJhc2VJbmZvLmVuZFRpbWUgPSB2YWx1ZVswXS5rZXkgKyAnICcgKyB2YWx1ZVsxXS5rZXkgKyAnOicgKyB2YWx1ZVsyXS5rZXk7CiAgICAgIHRoaXMuZW5kRGF0ZVBvcHVwID0gZmFsc2U7CiAgICB9LAogICAgLy8g5L+u5pS55oiq5q2i5pe26Ze05Li65LiN6ZmQ5pe2CiAgICBoYW5kbGVUaW1lQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVUaW1lQ2hhbmdlKCkgewogICAgICB0aGlzLmJhc2VJbmZvLmVuZFRpbWUgPSAnJzsKICAgIH0sCiAgICAvLyDpmpDol4/lvLnnqpcKICAgIGNsb3NlUG9wdXA6IGZ1bmN0aW9uIGNsb3NlUG9wdXAoKSB7CiAgICAgIHRoaXMuZGF0ZVBvcHVwID0gZmFsc2U7CiAgICAgIHRoaXMuZW5kRGF0ZVBvcHVwID0gZmFsc2U7CiAgICB9LAogICAgLy8g5a6a5pe25Y+R5biD5byA5YWzCiAgICBoYW5kbGVUaW1pbmdDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVRpbWluZ0NoYW5nZSh2YWx1ZSkgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy5iYXNlSW5mby5wcmVUaW1lID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICAvLyDpgInmi6nlrprml7blj5HluIPml6XmnJ8KICAgIGhhbmRsZUNob29zZURhdGU6IGZ1bmN0aW9uIGhhbmRsZUNob29zZURhdGUodmFsdWUsIGluZGV4KSB7CiAgICAgIC8vIElPU+S4jeivhuWIq+aXpeacnyAtIOi/nuaOpe+8jOi9rOS4uiAvIOi/nuaOpQogICAgICB2YXIgcHJlVGltZSA9IHZhbHVlWzBdLmtleSArICcgJyArIHZhbHVlWzFdLmtleSArICc6JyArIHZhbHVlWzJdLmtleTsKICAgICAgdmFyIHByZVRpbWUyID0gcHJlVGltZS5yZXBsYWNlKC8tL2csICcvJyk7IC8vIOeyvuWHhuWIsOWIhueahOaXtumXtOaIs+WvueavlAoKICAgICAgdmFyIHByZVRpbWVzdGFtcDIgPSBuZXcgRGF0ZShwcmVUaW1lMikuZ2V0VGltZSgpLAogICAgICAgICAgLy8g6I635Y+W6aKE5Y+R5biD5pe26Ze055qE5pe26Ze05oizCiAgICAgIGN1clRpbWVzdGFtcDIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy8g5b2T5YmN5pe26Ze05oiz77yM57K+5YeG5Yiw56eSCgogICAgICBpZiAocHJlVGltZXN0YW1wMiA8PSBjdXJUaW1lc3RhbXAyKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+WumuaXtuWPkeW4g+aXtumXtOmcgOaZmuS6juW9k+WJjeaXtumXtCcpOwogICAgICAgIHJldHVybjsKICAgICAgfSBlbHNlIGlmIChwcmVUaW1lc3RhbXAyIC0gY3VyVGltZXN0YW1wMiA+IDI1OTIwMDAwMDApIHsKICAgICAgICB0aGlzLiR0b2FzdCgn5a6a5pe25Y+R5biD5pe26Ze05LiN6IO96LaF5Ye65b2T5YmN5pe26Ze05LiA5Liq5pyIJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmJhc2VJbmZvLnByZVRpbWUgPSB2YWx1ZVswXS5rZXkgKyAnICcgKyB2YWx1ZVsxXS5rZXkgKyAnOicgKyB2YWx1ZVsyXS5rZXk7CiAgICAgIHRoaXMuZGF0ZVBvcHVwID0gZmFsc2U7CiAgICB9LAogICAgLy8g5p+l55yL5re75Yqg55qE5o6l5pS25a+56LGhCiAgICBoYW5kbGVDaGVja1N0dWRlbnQ6IGZ1bmN0aW9uIGhhbmRsZUNoZWNrU3R1ZGVudCgpIHsKICAgICAgdmFyIGxpc3QgPSBKU09OLnN0cmluZ2lmeSh0aGlzLmNsYXNzTGlzdCk7CiAgICAgIHZhciBpc1B1Ymxpc2hlZCA9IHRoaXMuYmFzZUluZm8uaXNQdWJsaXNoZWQ7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAiL3N0dWRlbnQtbGlzdD9saXN0U3RyPSIuY29uY2F0KGxpc3QsICImZnJvbT1kZXRhaWwmaXNQdWJsaXNoZWQ9IikuY29uY2F0KGlzUHVibGlzaGVkKQogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5blt7LpgInlrabnlJ/nmoTlhbPogZTlrrbplb/mlbAKICAgIGdldFBhcmVudE51bTogZnVuY3Rpb24gZ2V0UGFyZW50TnVtKCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHZhciBpZEFyciA9IFtdOwogICAgICB0aGlzLmNsYXNzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWYgKGl0ZW0uY2hlY2tlZE51bSA+IDApIHsKICAgICAgICAgIGl0ZW0uc3R1ZGVudExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbTIpIHsKICAgICAgICAgICAgaWYgKGl0ZW0yLmlzQ2hlY2tlZCkgewogICAgICAgICAgICAgIGlkQXJyLnB1c2goaXRlbTIuaWQpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBpZiAoaWRBcnIubGVuZ3RoID09IDApIHJldHVybjsKICAgICAgdGhpcy5zdHVkZW50SWRzID0gaWRBcnIuam9pbignLCcpOwogICAgICBnZXRDbGFzc2VzKHsKICAgICAgICBzdHVkZW50SWRzOiB0aGlzLnN0dWRlbnRJZHMKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXM1LmJhc2VJbmZvLmZhbWlseU51bSA9IHJlcy5kYXRhLmZhbWlseU51bTsKICAgICAgICBfdGhpczUuYmFzZUluZm8uc3R1ZGVudE51bSA9IHJlcy5kYXRhLnN0dWRlbnROdW07CgogICAgICAgIGlmIChfdGhpczUuY29sbGVjdE51bSA+IHJlcy5kYXRhLnN0dWRlbnROdW0pIHsKICAgICAgICAgIF90aGlzNS5jb2xsZWN0TnVtID0gcmVzLmRhdGEuc3R1ZGVudE51bTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICBfdGhpczUuJHRvYXN0KGVyci5tc2cpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkuIDplK7mj5DphpIKICAgIGhhbmRsZVJlbWluZEFsbDogZnVuY3Rpb24gaGFuZGxlUmVtaW5kQWxsKCkgewogICAgICB2YXIgaWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zdXJ2ZXlJZDsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICIvcmVtaW5kLWxpc3Q/c3VydmV5SWQ9Ii5jb25jYXQoaWQpCiAgICAgIH0pOwogICAgfSwKICAgIC8vIOafpeeci+mXruWNt+ivpuaDhQogICAgaGFuZGxlQ2hlY2tPcHRpb246IGZ1bmN0aW9uIGhhbmRsZUNoZWNrT3B0aW9uKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9vcHRpb24tZGV0YWlsJwogICAgICB9KTsKICAgIH0sCiAgICAvLyDkvZzlup/ku7vliqEKICAgIGhhbmRsZURlbGV0ZVN1cnZleTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlU3VydmV5KCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHZhciBzdXJ2ZXlJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnN1cnZleUlkOwoKICAgICAgX0RpYWxvZy5jb25maXJtKHsKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgbWVzc2FnZTogJ+S9nOW6n+W9k+WJjeS7u+WKoeWwhuS4jeWGjeS/neeVmemXrumimOWPiuWPjemmiOe7k+aenO+8jOivt+ehruiupOaYr+WQpue7p+e7re+8nycsCiAgICAgICAgY29uZmlybUJ1dHRvbkNvbG9yOiAnIzUxYzQ5YycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsU3VydmV5KHsKICAgICAgICAgIHN1cnZleUlkOiBzdXJ2ZXlJZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM2LiRyb3V0ZXIuYmFjaygpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgIF90aGlzNi4kdG9hc3QoZXJyLm1zZyk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsvLyBvbiBjYW5jZWwKICAgICAgfSk7CiAgICB9LAogICAgLy8g5pu05paw5Y+R5biDCiAgICBoYW5kbGVVcGRhdGVTdXJ2ZXk6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZVN1cnZleSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIHdlY2hhdFVzZXJJZDogdGhpcy53ZWNoYXRVc2VySWQsCiAgICAgICAgc3VydmV5SWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnN1cnZleUlkLAogICAgICAgIGVuZFRpbWU6IHRoaXMuYmFzZUluZm8uZW5kVGltZSwKICAgICAgICBwcmVUaW1lOiB0aGlzLmJhc2VJbmZvLnByZVRpbWUsCiAgICAgICAgdGl0bGU6IHRoaXMuYmFzZUluZm8udGl0bGUsCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuYmFzZUluZm8uZGVzY3JpcHRpb24sCiAgICAgICAgYXR0YWNobWVudElkczogJycsCiAgICAgICAgY29sbGVjdGlvbk1heENudDogdGhpcy5jb2xsZWN0TnVtLAogICAgICAgIHN0dWRlbnRJZHM6IHRoaXMuc3R1ZGVudElkcwogICAgICB9OwoKICAgICAgaWYgKCFwYXJhbXMudGl0bGUpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+35aGr5YaZ5qCH6aKYJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgaWYgKHRoaXMuaXNUaW1pbmdQdWIgJiYgcGFyYW1zLnByZVRpbWUgPT0gJycpIHsKICAgICAgICB0aGlzLiR0b2FzdCgn6K+36YCJ5oup6aKE5Y+R5biD5pe26Ze0Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiR0b2FzdC5sb2FkaW5nKHsKICAgICAgICBkdXJhdGlvbjogMCwKICAgICAgICAvLyDmjIHnu63lsZXnpLogdG9hc3QKICAgICAgICBmb3JiaWRDbGljazogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn5L+d5a2Y5LitJwogICAgICB9KTsKICAgICAgdmFyIGF0dGFjaG1lbnRzID0gW10uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmJhc2VJbmZvLmltZ0lkcyksIF90b0NvbnN1bWFibGVBcnJheSh0aGlzLmJhc2VJbmZvLmZpbGVJZHMpKTsKCiAgICAgIGlmIChhdHRhY2htZW50cy5sZW5ndGggPiAwKSB7CiAgICAgICAgcGFyYW1zLmF0dGFjaG1lbnRJZHMgPSBhdHRhY2htZW50cy5qb2luKCcsJyk7CiAgICAgIH0KCiAgICAgIGVkaXRTdXJ2ZXkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAvLyDmiYvliqjmuIXpmaQgVG9hc3QKICAgICAgICBfdGhpczcuJHRvYXN0LmNsZWFyKCk7CgogICAgICAgIF90aGlzNy4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgcGF0aDogIi9wdWItc3VjY2Vzcz9mcm9tPWVkaXQmcHJlVGltZT0iLmNvbmNhdChwYXJhbXMucHJlVGltZSkKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIF90aGlzNy4kdG9hc3QoZXJyLm1zZyk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <!-- 截止时间 -->\n    <div class=\"end-time\">\n      <div class=\"left\">\n        <div>截止时间</div>\n        <div>{{ baseInfo.endTime ? baseInfo.endTime : '不限时' }}</div>\n        <img\n          v-if=\"baseInfo.endTime\"\n          src=\"@/pages/jx-questionnaire-h5/assets/images/icons/close_icon.png\"\n          @click=\"handleTimeChange\"\n        />\n      </div>\n      <div class=\"right\" @click=\"openEndDatePopup\">修改</div>\n    </div>\n    <!-- 投票标题 -->\n    <div class=\"base-info\">\n      <div class=\"title\">\n        <div>投票标题</div>\n        <input type=\"text\" maxlength=\"20\" v-model=\"baseInfo.title\" />\n      </div>\n      <div class=\"remark\">\n        <textarea\n          placeholder=\"补充说明可以写在这里哦（选填）\"\n          maxlength=\"200\"\n          v-model=\"baseInfo.description\"\n        ></textarea>\n      </div>\n      <div class=\"upload-icon\">\n        <van-uploader :before-read=\"beforeRead\" :after-read=\"afterRead\">\n          <img\n            class=\"upload-img\"\n            src=\"@/pages/jx-questionnaire-h5/assets/images/icons/img_icon.png\"\n          />\n        </van-uploader>\n        <van-uploader\n          accept=\".doc,.docx,application/msword,application/pdf\"\n          :before-read=\"beforeReadFile\"\n          :after-read=\"afterReadFile\"\n        >\n          <img\n            class=\"upload-img\"\n            src=\"@/pages/jx-questionnaire-h5/assets/images/icons/file_icon.png\"\n          />\n        </van-uploader>\n      </div>\n      <!-- 文件列表 -->\n      <div class=\"file-list\">\n        <div\n          class=\"file-item\"\n          v-for=\"(item, index) in baseInfo.fileList\"\n          :key=\"index\"\n        >\n          <div class=\"file-name\" @click=\"previewFile(item.url)\">\n            <img\n              class=\"file-icon\"\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/file3_icon.png\"\n            />\n            <div>{{ item.name }}</div>\n            <img\n              class=\"arrow-icon\"\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/right_arrow2_icon.png\"\n            />\n          </div>\n          <img\n            class=\"close-icon\"\n            src=\"@/pages/jx-questionnaire-h5/assets/images/icons/close_icon.png\"\n            @click=\"handleFileDelete('file', index)\"\n          />\n        </div>\n      </div>\n      <!-- 图片列表 -->\n      <div class=\"img-list\">\n        <div\n          class=\"img-item\"\n          v-for=\"(item, index) in baseInfo.imgList\"\n          :key=\"index\"\n        >\n          <img class=\"img\" :src=\"item.url\" @click=\"previewImg(item.url)\" />\n          <img\n            class=\"close-icon\"\n            src=\"@/pages/jx-questionnaire-h5/assets/images/icons/close2_icon.png\"\n            @click=\"handleFileDelete('img', index)\"\n          />\n        </div>\n      </div>\n    </div>\n    <!-- 收集份数/定时发布 -->\n    <div class=\"advanced-set\">\n      <div class=\"title\">\n        <div>收集份数 <span style=\"color:#FF6312;\">请添加对应数量</span></div>\n        <div class=\"stepper\">\n          <div class=\"decrease\" @click=\"decreaseCollectNum\">\n            <img\n              :src=\"\n                collectNum <= baseInfo.collectionMaxCnt\n                  ? require('@/pages/jx-questionnaire-h5/assets/images/icons/decrease2_icon.png')\n                  : require('@/pages/jx-questionnaire-h5/assets/images/icons/decrease_icon.png')\n              \"\n            />\n          </div>\n          <div class=\"num\">{{ collectNum }}</div>\n          <div class=\"increase\" @click=\"increaseCollectNum\">\n            <img\n              :src=\"\n                collectNum == baseInfo.studentNum\n                  ? require('@/pages/jx-questionnaire-h5/assets/images/icons/increase2_icon.png')\n                  : require('@/pages/jx-questionnaire-h5/assets/images/icons/increase_icon.png')\n              \"\n            />\n          </div>\n        </div>\n      </div>\n      <!-- 定时发布 -->\n      <div class=\"set-time\" v-if=\"baseInfo.isPublished == 0\">\n        <div class=\"title\">\n          <div class=\"label\">定时发布</div>\n          <van-switch\n            v-model=\"isTimingPub\"\n            size=\"25\"\n            active-color=\"#4DD865\"\n            @change=\"handleTimingChange\"\n          />\n        </div>\n        <div class=\"time-choose\" v-if=\"isTimingPub\" @click=\"openDatePopup\">\n          <div class=\"time-show\">\n            <img\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/time_icon.png\"\n            />\n            <div>\n              {{ baseInfo.preTime ? baseInfo.preTime : '请选择预发布时间' }}\n            </div>\n          </div>\n          <img\n            class=\"right-arrow\"\n            src=\"@/pages/jx-questionnaire-h5/assets/images/icons/right_arrow_icon.png\"\n          />\n        </div>\n      </div>\n    </div>\n    <!-- 接收对象 -->\n    <div class=\"students\">\n      <div class=\"container\">\n        <div class=\"left\">\n          <div class=\"label\">接收对象</div>\n          <div class=\"class-list\">\n            <div v-for=\"(item, index) in classArr\" :key=\"index\">\n              {{ index == 0 ? item : '、' + item }}\n            </div>\n          </div>\n        </div>\n        <div class=\"right\" @click=\"handleCheckStudent\">查看添加</div>\n      </div>\n      <div class=\"relative-num\">\n        <div>家长 {{ baseInfo.familyNum }}人</div>\n        <div>\n          关联学生 <span style=\"color:#5ECFA8;\">{{ baseInfo.studentNum }}</span\n          >人\n        </div>\n      </div>\n    </div>\n    <!-- 一键提醒 -->\n    <div class=\"students\">\n      <div class=\"container\">\n        <div class=\"left\">\n          <div>数据收集</div>\n          <div>\n            {{\n              baseInfo.collectionMaxCnt > 0\n                ? baseInfo.submitCount + '/' + baseInfo.collectionMaxCnt\n                : ''\n            }}\n          </div>\n        </div>\n        <div v-if=\"baseInfo.status != 3\" class=\"right\" @click=\"handleRemindAll\">\n          一键提醒\n        </div>\n      </div>\n      <div\n        class=\"item\"\n        v-for=\"(item, index) in baseInfo.submitList\"\n        :key=\"index\"\n      >\n        <div class=\"item-name\">\n          <div>\n            {{ item.isAnonymousSubmit ? '匿名' : item.studentName + item.v }}\n          </div>\n          <div v-if=\"!item.isAnonymousSubmit\">学号：{{ item.studentCode }}</div>\n        </div>\n        <div class=\"item-time\">\n          <div>\n            备注：{{ item.isAnonymousSubmit && !item.remark ? '无' : '' }}\n          </div>\n          <div>{{ item.createTime }}</div>\n        </div>\n        <div class=\"item-content\" v-if=\"item.remark\">\n          {{ item.remark }}\n        </div>\n      </div>\n    </div>\n    <div class=\"bottom-tips\">\n      <div>如需导出提交结果详情，可前往PC管理端操作哦</div>\n      <div @click=\"handleCheckOption\">查看问卷详情</div>\n    </div>\n\n    <div class=\"bottom-btn\">\n      <div @click=\"handleDeleteSurvey\">作废任务</div>\n      <div @click=\"handleUpdateSurvey\">更新发布</div>\n    </div>\n\n    <!-- 日期选择弹窗 -->\n    <van-popup v-model=\"datePopup\" round position=\"bottom\">\n      <date-choose\n        :date-list=\"dateList\"\n        @closePopup=\"closePopup\"\n        @handleChooseDate=\"handleChooseDate\"\n      ></date-choose>\n    </van-popup>\n    <!-- 日期选择弹窗 -->\n    <van-popup v-model=\"endDatePopup\" round position=\"bottom\">\n      <date-choose\n        :date-list=\"dateList\"\n        @closePopup=\"closePopup\"\n        @handleChooseDate=\"handleChooseEndDate\"\n      ></date-choose>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport DateChoose from '../survey-add/components/DateChoose.vue';\nimport { OssUpload } from '../../plugins/common/ossUpload.js';\nimport {\n  Switch,\n  ActionSheet,\n  Popup,\n  Uploader,\n  ImagePreview,\n  Dialog\n} from 'vant';\nimport { mapState } from 'vuex';\nimport {\n  getTimeList,\n  surveyDetail,\n  getStudentList,\n  editSurvey,\n  getClasses,\n  delSurvey\n} from '../../api/survey';\nexport default {\n  name: 'SurveyDetail',\n  components: {\n    [Switch.name]: Switch,\n    [ActionSheet.name]: ActionSheet,\n    [Popup.name]: Popup,\n    [Uploader.name]: Uploader,\n    DateChoose\n  },\n  data() {\n    return {\n      canEdit: null, // 是否能够编辑\n      baseInfo: {\n        familyNum: 0,\n        studentNum: 0,\n        studentIds: '',\n        title: '', // 问卷标题\n        description: '', // 问卷描述\n        imgList: [], // 图片附件\n        imgIds: [],\n        fileList: [], // 文件附件\n        fileIds: [],\n        isPublished: 0,\n        preTime: '', // 定时发布时间(精确到分)\n        endTime: '', // 截止日期\n        collectionMaxCnt: 0, // 最大收集数\n        submitCount: 0, // 已收集份数\n        submitList: [], // 提交记录\n        status: '' // 文件状态 3为结束\n      },\n      isTimingPub: false, // 定时发布开发\n      datePopup: false, // 日期弹窗, 默认隐藏\n      endDatePopup: false, // 截止时间弹窗\n      dateList: [], // 定时发布日期列表\n      collectNum: 0 // 收集份数\n    };\n  },\n  computed: {\n    ...mapState('user', ['wechatUserId', 'classId', 'role']),\n    ...mapState('classes', ['classList']),\n    classArr() {\n      let arr = [];\n      this.classList.forEach(item => {\n        if (item.checkedNum > 0) {\n          arr.push(item.name);\n        }\n      });\n      return arr;\n    }\n  },\n  beforeRouteEnter(to, from, next) {\n    if (\n      from.name == 'RemindList' ||\n      from.name == 'StudentList' ||\n      from.name == 'OptionDetail'\n    ) {\n      // 这个name是下一级页面的路由name\n      to.meta.isBack = true; // 设置为true说明你是返回到这个页面，而不是通过跳转从其他页面进入到这个页面\n    }\n    next();\n  },\n  created() {\n    this.canEdit = this.$route.query.canEdit;\n    // 日期列表\n    getTimeList().then(res => {\n      this.dateList = res.data;\n    });\n  },\n  activated() {\n    if (!this.$route.meta.isBack) {\n      // 这里许要初始化dada()中的数据\n      this.baseInfo = {\n        familyNum: 0,\n        studentNum: 0,\n        studentIds: '',\n        title: '', // 问卷标题\n        description: '', // 问卷描述\n        imgList: [], // 图片附件\n        imgIds: [],\n        fileList: [], // 文件附件\n        fileIds: [],\n        isPublished: 0,\n        preTime: '', // 定时发布时间(精确到分)\n        endTime: '', // 截止日期\n        collectionMaxCnt: 0, // 最大收集数\n        submitCount: 0, // 已收集份数\n        submitList: [], // 提交记录\n        status: ''\n      };\n      this.isTimingPub = false;\n      this.collectNum = 0; // 收集份数\n      this.getSurveyDetail();\n    }\n    this.canEdit = null;\n    this.$route.meta.isBack = false; //请求完后进行初始化\n    this.datePopup = false; // 日期弹窗, 默认隐藏\n    this.endDatePopup = false; // 截止时间弹窗\n    this.getParentNum();\n  },\n  methods: {\n    // 获取问卷详情\n    getSurveyDetail() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        role: this.role,\n        surveyId: this.$route.query.surveyId\n      };\n      surveyDetail(params)\n        .then(res => {\n          this.baseInfo.endTime = res.data.endTime;\n          this.baseInfo.preTime = res.data.preTime;\n          this.baseInfo.title = res.data.title;\n          this.baseInfo.description = res.data.description;\n          this.collectNum = res.data.collectionMaxCnt;\n          this.baseInfo.studentNum = res.data.studentCount;\n          this.baseInfo.familyNum = res.data.familyCount;\n          this.baseInfo.collectionMaxCnt = res.data.collectionMaxCnt;\n          this.baseInfo.submitCount = res.data.submitCount;\n          this.baseInfo.submitList = res.data.submitList;\n          this.baseInfo.isPublished = res.data.isPublished;\n          this.isTimingPub = res.data.preTime ? true : false;\n          this.baseInfo.status = res.data.status;\n          res.data.attachmentList.forEach(item => {\n            if (item.type == 'img') {\n              this.baseInfo.imgList.push({ url: item.url, id: item.id });\n              this.baseInfo.imgIds.push(item.id);\n            } else if (item.type == 'file') {\n              this.baseInfo.fileList.push({\n                url: item.url,\n                name: item.name,\n                id: item.id\n              });\n              this.baseInfo.fileIds.push(item.id);\n            }\n          });\n          this.$store.commit('survey/UPDATA_QUESTION', res.data.questionList);\n\n          return getStudentList({\n            wechatUserId: this.wechatUserId,\n            surveyId: res.data.id\n          });\n        })\n        .then(res => {\n          res.data.forEach(item => {\n            item.isShow = false;\n            item.disabledNum = item.checkedNum;\n            item.studentList.forEach(item2 => {\n              if (item2.isChecked) {\n                item2.disabled = true;\n              }\n            });\n          });\n          this.$store.commit('classes/SAVE_CLASSES', res.data);\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // 上传附件前置处理\n    beforeRead(file) {\n      let type = file.type;\n      if (!type.match(/(jpg|png|jpeg?)$/i)) {\n        this.$toast('仅允许上传图片文件类型');\n        return false;\n      }\n      if (this.baseInfo.imgList.length + this.baseInfo.fileList.length >= 5) {\n        this.$toast('附件最大上传数量为5');\n        return false;\n      }\n      // 上传附件单个需小于10M\n      if (file.size > 10 * 1024 * 1024) {\n        this.$toast('上传单个附件需小于10M');\n        return false;\n      }\n      return true;\n    },\n    // 文件上传完成，此时可以自行将文件上传至服务器\n    afterRead(file) {\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        forbidClick: true,\n        message: '上传中'\n      });\n      OssUpload(file)\n        .then(res => {\n          this.baseInfo.imgList = this.baseInfo.imgList.concat(res.ids);\n          this.baseInfo.imgIds = this.baseInfo.imgIds.concat(res.uarr);\n          this.$toast.clear();\n        })\n        .catch(err => {\n          this.$toast.clear();\n          this.$toast.fail(err.msg);\n        });\n    },\n    beforeReadFile(file) {\n      // var type = file.type.split('/')[1] || file.name.match(/\\.([^.]+?)$/)[1];\n      var type = file.name.match(/\\.([^.]+?)$/)[1];\n      // 仅允许上传PDF和DOC\n      if (!type.match(/(pdf|docx?)$/i)) {\n        this.$toast('仅允许上传PDF和DOC文件类型');\n        return false;\n      }\n      if (this.baseInfo.imgList.length + this.baseInfo.fileList.length >= 5) {\n        this.$toast('附件最大上传数量为5');\n        return false;\n      }\n      // 上传附件单个需小于10M\n      if (file.size > 10 * 1024 * 1024) {\n        this.$toast('上传单个附件需小于10M');\n        return false;\n      }\n      return true;\n    },\n    afterReadFile(file) {\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        forbidClick: true,\n        message: '上传中'\n      });\n      OssUpload(file)\n        .then(res => {\n          res.ids.forEach(item => {\n            item.name = this.getCaption(item.name);\n          });\n          this.baseInfo.fileList = this.baseInfo.fileList.concat(res.ids);\n          this.baseInfo.fileIds = this.baseInfo.fileIds.concat(res.uarr);\n          this.$toast.clear();\n        })\n        .catch(err => {\n          this.$toast.clear();\n          this.$toast.fail(err.msg);\n        });\n    },\n    // 获取指定字符后面的所有字符内容\n    getCaption(obj) {\n      var index = obj.lastIndexOf('-');\n      obj = obj.substring(index + 1, obj.length);\n      return obj;\n    },\n    // 删除上传附件\n    handleFileDelete(type, index) {\n      if (type == 'file') {\n        this.baseInfo.fileList.splice(index, 1);\n        this.baseInfo.fileIds.splice(index, 1);\n      } else if (type == 'img') {\n        this.baseInfo.imgList.splice(index, 1);\n        this.baseInfo.imgIds.splice(index, 1);\n      }\n    },\n    // 图片预览\n    previewImg(url) {\n      ImagePreview([url]);\n    },\n    // 文件预览\n    previewFile(url) {\n      // window.location.href = url;\n      console.log(typeof wx);\n      if (typeof wx == 'object') {\n        let fileUrl = encodeURIComponent(url);\n        window.wx.miniProgram.navigateTo({\n          url: `/h5/file/index?url=${fileUrl}`\n        });\n      } else {\n        this.$toast('预览失败，请重试');\n      }\n    },\n    // 减收集份数\n    decreaseCollectNum() {\n      if (this.collectNum <= this.baseInfo.collectionMaxCnt) return;\n      this.collectNum--;\n    },\n    // 加收集份数\n    increaseCollectNum() {\n      if (this.collectNum >= this.baseInfo.studentNum) return;\n      this.collectNum++;\n    },\n    // 修改截止时间弹窗\n    openEndDatePopup() {\n      this.endDatePopup = true;\n    },\n    // 日期弹窗\n    openDatePopup() {\n      this.datePopup = true;\n    },\n    // 选择截止日期\n    handleChooseEndDate(value, index) {\n      // IOS不识别日期 - 连接，转为 / 连接\n      let preTime = value[0].key + ' ' + value[1].key + ':' + value[2].key;\n      let preTime2 = preTime.replace(/-/g, '/');\n      // 精准到分的时间戳对比\n      let preTimestamp2 = new Date(preTime2).getTime(), // 获取预发布时间的时间戳\n        curTimestamp2 = new Date().getTime(); // 当前时间戳，精准到秒\n      if (preTimestamp2 <= curTimestamp2) {\n        this.$toast('截止时间需晚于当前时间');\n        return;\n      } else if (preTimestamp2 - curTimestamp2 > 2592000000) {\n        this.$toast('截止时间不能超出当前时间一个月');\n        return;\n      }\n      this.baseInfo.endTime =\n        value[0].key + ' ' + value[1].key + ':' + value[2].key;\n      this.endDatePopup = false;\n    },\n    // 修改截止时间为不限时\n    handleTimeChange() {\n      this.baseInfo.endTime = '';\n    },\n    // 隐藏弹窗\n    closePopup() {\n      this.datePopup = false;\n      this.endDatePopup = false;\n    },\n    // 定时发布开关\n    handleTimingChange(value) {\n      if (!value) {\n        this.baseInfo.preTime = '';\n      }\n    },\n    // 选择定时发布日期\n    handleChooseDate(value, index) {\n      // IOS不识别日期 - 连接，转为 / 连接\n      let preTime = value[0].key + ' ' + value[1].key + ':' + value[2].key;\n      let preTime2 = preTime.replace(/-/g, '/');\n      // 精准到分的时间戳对比\n      let preTimestamp2 = new Date(preTime2).getTime(), // 获取预发布时间的时间戳\n        curTimestamp2 = new Date().getTime(); // 当前时间戳，精准到秒\n      if (preTimestamp2 <= curTimestamp2) {\n        this.$toast('定时发布时间需晚于当前时间');\n        return;\n      } else if (preTimestamp2 - curTimestamp2 > 2592000000) {\n        this.$toast('定时发布时间不能超出当前时间一个月');\n        return;\n      }\n      this.baseInfo.preTime =\n        value[0].key + ' ' + value[1].key + ':' + value[2].key;\n      this.datePopup = false;\n    },\n    // 查看添加的接收对象\n    handleCheckStudent() {\n      let list = JSON.stringify(this.classList);\n      let isPublished = this.baseInfo.isPublished;\n      this.$router.push({\n        path: `/student-list?listStr=${list}&from=detail&isPublished=${isPublished}`\n      });\n    },\n    // 获取已选学生的关联家长数\n    getParentNum() {\n      let idArr = [];\n      this.classList.forEach(item => {\n        if (item.checkedNum > 0) {\n          item.studentList.forEach(item2 => {\n            if (item2.isChecked) {\n              idArr.push(item2.id);\n            }\n          });\n        }\n      });\n      if (idArr.length == 0) return;\n      this.studentIds = idArr.join(',');\n      getClasses({ studentIds: this.studentIds })\n        .then(res => {\n          this.baseInfo.familyNum = res.data.familyNum;\n          this.baseInfo.studentNum = res.data.studentNum;\n          if (this.collectNum > res.data.studentNum) {\n            this.collectNum = res.data.studentNum;\n          }\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // 一键提醒\n    handleRemindAll() {\n      let id = this.$route.query.surveyId;\n      this.$router.push({\n        path: `/remind-list?surveyId=${id}`\n      });\n    },\n    // 查看问卷详情\n    handleCheckOption() {\n      this.$router.push({\n        path: '/option-detail'\n      });\n    },\n    // 作废任务\n    handleDeleteSurvey() {\n      let surveyId = this.$route.query.surveyId;\n      Dialog.confirm({\n        title: '',\n        message: '作废当前任务将不再保留问题及反馈结果，请确认是否继续？',\n        confirmButtonColor: '#51c49c'\n      })\n        .then(() => {\n          delSurvey({ surveyId })\n            .then(res => {\n              this.$router.back();\n            })\n            .catch(err => {\n              this.$toast(err.msg);\n            });\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    // 更新发布\n    handleUpdateSurvey() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        surveyId: this.$route.query.surveyId,\n        endTime: this.baseInfo.endTime,\n        preTime: this.baseInfo.preTime,\n        title: this.baseInfo.title,\n        description: this.baseInfo.description,\n        attachmentIds: '',\n        collectionMaxCnt: this.collectNum,\n        studentIds: this.studentIds\n      };\n      if (!params.title) {\n        this.$toast('请填写标题');\n        return;\n      } else if (this.isTimingPub && params.preTime == '') {\n        this.$toast('请选择预发布时间');\n        return;\n      }\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        forbidClick: true,\n        message: '保存中'\n      });\n      let attachments = [...this.baseInfo.imgIds, ...this.baseInfo.fileIds];\n      if (attachments.length > 0) {\n        params.attachmentIds = attachments.join(',');\n      }\n      editSurvey(params)\n        .then(res => {\n          // 手动清除 Toast\n          this.$toast.clear();\n          this.$router.replace({\n            path: `/pub-success?from=edit&preTime=${params.preTime}`\n          });\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.app {\n  .end-time {\n    padding: 0.2rem 0.24rem;\n    margin-bottom: 0.2rem;\n    background-color: #ffffff;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    .left {\n      display: flex;\n      align-items: center;\n      & > div {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n      }\n      & > div:first-child {\n        color: rgba(0, 0, 0, 0.65);\n      }\n      & > div:nth-child(2) {\n        color: rgba(0, 0, 0, 0.85);\n        padding: 0 0.2rem;\n      }\n      & > img {\n        height: 0.32rem;\n      }\n    }\n    .right {\n      width: 0.92rem;\n      height: 0.48rem;\n      background: #5ecfa8;\n      border-radius: 0.06rem;\n      font-size: 0.26rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: #ffffff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n  .base-info {\n    padding: 0 0.24rem;\n    margin-bottom: 0.2rem;\n    background-color: #ffffff;\n    .title {\n      font-size: 0.28rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: rgba(0, 0, 0, 0.65);\n      padding: 0.26rem 0;\n      display: flex;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      & > input {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.85);\n        border: none;\n        margin-left: 0.2rem;\n        flex: 1;\n      }\n    }\n    .remark {\n      padding: 0.24rem 0;\n      & > textarea {\n        width: 6.78rem;\n        height: 1.28rem;\n        font-size: 0.28rem;\n        color: rgba(0, 0, 0, 0.85);\n        background-color: rgba(0, 0, 0, 0.06);\n        border: none;\n        padding: 0.24rem 0.12rem;\n        border-radius: 0.06rem;\n      }\n    }\n    .upload-icon {\n      font-size: 0;\n      padding-bottom: 0.24rem;\n      .upload-img {\n        height: 0.4rem;\n        margin-right: 0.24rem;\n      }\n    }\n    .file-list {\n      .file-item {\n        padding-bottom: 0.24rem;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .file-name {\n          display: flex;\n          align-items: center;\n          .file-icon {\n            height: 0.28rem;\n          }\n          & > div {\n            max-width: 5rem;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            font-size: 0.24rem;\n            font-family: PingFangSC-Regular, PingFang SC;\n            color: #5ecfa8;\n            padding: 0 0.1rem;\n          }\n          .arrow-icon {\n            height: 0.22rem;\n          }\n        }\n        .close-icon {\n          height: 0.32rem;\n        }\n      }\n    }\n    .img-list {\n      display: flex;\n      flex-wrap: wrap;\n      .img-item {\n        font-size: 0;\n        position: relative;\n        .img {\n          width: 1.57rem;\n          height: 1.57rem;\n          object-fit: cover;\n          margin: 0 0 0.24rem 0.24rem;\n          border-radius: 0.06rem;\n        }\n        .close-icon {\n          height: 0.44rem;\n          position: absolute;\n          top: -0.22rem;\n          right: -0.22rem;\n        }\n      }\n      .img-item:first-child {\n        .img {\n          margin: 0 0 0.24rem 0;\n        }\n      }\n      .img-item:nth-child(5) {\n        .img {\n          margin: 0 0 0.24rem 0;\n        }\n      }\n    }\n  }\n  // 高级设置\n  .advanced-set {\n    background-color: #ffffff;\n    margin-bottom: 0.2rem;\n    .title {\n      padding: 0.25rem 0;\n      margin: 0 0.24rem;\n      font-size: 0.28rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: rgba(0, 0, 0, 0.65);\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      .right-part {\n        display: flex;\n        align-items: center;\n        & > div {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.85);\n          padding-right: 0.1rem;\n        }\n        & > img {\n          height: 0.4rem;\n        }\n      }\n      .stepper {\n        display: flex;\n        .decrease,\n        .increase {\n          width: 0.5rem;\n          height: 0.62rem;\n          background: #fcfcfc;\n          border: 0.01rem solid #ebebeb;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          & > img {\n            height: 0.28rem;\n          }\n        }\n        .decrease {\n          border-radius: 0.3rem 0 0 0.3rem;\n        }\n        .num {\n          width: 1rem;\n          height: 0.62rem;\n          background: #ffffff;\n          border-top: 0.01rem solid #ebebeb;\n          border-bottom: 0.01rem solid #ebebeb;\n          font-size: 0.32rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.85);\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n        .increase {\n          border-radius: 0 0.3rem 0.3rem 0;\n        }\n      }\n    }\n    // 定时发布\n    .set-time {\n      background-color: #ffffff;\n      .title {\n        padding: 0.2rem 0;\n        margin: 0 0.24rem;\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.65);\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        .time {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          & > img {\n            height: 0.4rem;\n          }\n        }\n      }\n      .time-choose {\n        padding: 0.25rem 0.24rem;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .time-show {\n          display: flex;\n          align-items: center;\n          & > img {\n            height: 0.32rem;\n          }\n          & > div {\n            font-size: 0.28rem;\n            font-family: PingFangSC-Regular, PingFang SC;\n            color: rgba(0, 0, 0, 0.85);\n            padding: 0 0.1rem;\n          }\n        }\n        .right-arrow {\n          height: 0.4rem;\n        }\n      }\n    }\n  }\n  .students {\n    padding: 0 0.24rem;\n    margin-bottom: 0.2rem;\n    background-color: #ffffff;\n    .container {\n      padding: 0.2rem 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      .left {\n        display: flex;\n        & > div {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n        }\n        .label {\n          color: rgba(0, 0, 0, 0.65);\n        }\n        .class-list {\n          color: rgba(0, 0, 0, 0.85);\n          padding: 0 0.2rem;\n          display: flex;\n          flex-wrap: wrap;\n        }\n      }\n      .right {\n        width: 1.44rem;\n        height: 0.48rem;\n        background: #ffffff;\n        border-radius: 0.06rem;\n        border: 0.01rem solid #5ecfa8;\n        font-size: 0.26rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: #5ecfa8;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    }\n    .relative-num {\n      padding: 0.1rem 0;\n      font-size: 0.26rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: rgba(0, 0, 0, 0.45);\n      display: flex;\n      & > div:nth-child(2) {\n        padding-left: 0.2rem;\n      }\n    }\n    .item {\n      padding: 0.24rem 0;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      .item-name {\n        padding-bottom: 0.12rem;\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.85);\n        display: flex;\n        justify-content: space-between;\n      }\n      .item-time {\n        padding-bottom: 0.12rem;\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.45);\n        display: flex;\n        justify-content: space-between;\n      }\n      .item-content {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.85);\n      }\n    }\n  }\n  .bottom-tips {\n    padding: 1.02rem 0 0.24rem 0;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    & > div {\n      font-size: 0.26rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: rgba(0, 0, 0, 0.45);\n    }\n    & > div:nth-child(2) {\n      color: #5ecfa8;\n      text-decoration: underline;\n      padding-top: 0.2rem;\n    }\n  }\n  .bottom-btn {\n    padding: 0 0.25rem 0.3rem 0.25rem;\n    display: flex;\n    justify-content: space-between;\n    & > div {\n      width: 3.38rem;\n      height: 0.98rem;\n      border-radius: 0.06rem;\n      font-size: 0.34rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n    & > div:first-child {\n      background: #ffffff;\n      border: 0.02rem solid rgba(0, 0, 0, 0.25);\n      color: rgba(0, 0, 0, 0.25);\n    }\n    & > div:nth-child(2) {\n      background: #5ecfa8;\n      color: #ffffff;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-detail"}]}