{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/UserManage/user-permission.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/UserManage/user-permission.vue","mtime":1627979214320},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgX1RyZWUyIGZyb20gImVsZW1lbnQtdWkvbGliL3RoZW1lLWNoYWxrL3RyZWUuY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfVHJlZSBmcm9tICJlbGVtZW50LXVpL2xpYi90cmVlIjsKaW1wb3J0IF9DaGVja2JveDIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvY2hlY2tib3guY3NzIjsKaW1wb3J0ICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9iYXNlLmNzcyI7CmltcG9ydCBfQ2hlY2tib3ggZnJvbSAiZWxlbWVudC11aS9saWIvY2hlY2tib3giOwppbXBvcnQgX0J1dHRvbjIgZnJvbSAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYnV0dG9uLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX0J1dHRvbiBmcm9tICJlbGVtZW50LXVpL2xpYi9idXR0b24iOwoKdmFyIF9jb21wb25lbnRzOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnQC9wbHVnaW5zL2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICd1c2VyUGVybWlzc2lvbicsCiAgLy8g5rOo5YaM57uE5Lu2CiAgY29tcG9uZW50czogKF9jb21wb25lbnRzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY29tcG9uZW50cywgX0J1dHRvbi5uYW1lLCBfQnV0dG9uKSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfQ2hlY2tib3gubmFtZSwgX0NoZWNrYm94KSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfVHJlZS5uYW1lLCBfVHJlZSksIF9jb21wb25lbnRzKSwKICBwcm9wczogewogICAgLyoqDQogICAgICog5pyN5Yqh5Zmo57G75Z6LDQogICAgICovCiAgICBzZXJ2ZXJUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIC8vIOWumuS5ieaVsOaNrgogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsCiAgICAgIC8v5Yqg6L2954q25oCBCiAgICAgIGNoZWNrQWxsOiBmYWxzZSwKICAgICAgLy/mmK/lkKblhajpgIkKICAgICAgZm9ybURhdGE6IHsKICAgICAgICAvL+ivpuaDheS/oeaBrwogICAgICAgIHN0YWZmSW5mbzogewogICAgICAgICAgLy/nlKjmiLfkv6Hmga8KICAgICAgICAgIHN0YWZmTmFtZTogJycsCiAgICAgICAgICBzdGFmZkNvZGU6ICcnCiAgICAgICAgfSwKICAgICAgICB0cmVlOiBbXSAvL+agkeW9ouaVsOaNrgoKICAgICAgfSwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgLy/mm7TmlLl0cmVl6ZSu5YC85ZCNCiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgbGFiZWw6ICduYW1lJwogICAgICB9LAogICAgICBzYXZhRGF0YTogewogICAgICAgIC8v5L+d5a2Y5pWw5o2uCiAgICAgICAgc3RhZmZDb2RlOiB0aGlzLiRyb3V0ZS5xdWVyeS5zdGFmZkNvZGUsCiAgICAgICAgYXV0aExpc3Q6IFtdCiAgICAgIH0sCiAgICAgIHNlbGVjdElkczogW10gLy/lm57mmL5pZOaVsOe7hAoKICAgIH07CiAgfSwKICAvLyDorqHnrpflsZ7mgKcKICBjb21wdXRlZDoge30sCiAgLy8g5L6m5ZCs5ZmoCiAgd2F0Y2g6IHsKICAgICckcm91dGUucXVlcnknOiBmdW5jdGlvbiAkcm91dGVRdWVyeShub3csIG9sZCkgewogICAgICBpZiAoIW5vdy5zdGFmZkNvZGUgfHwgIXRoaXMuc2VsZWN0SWRzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLmNoZWNrQWxsID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgfQogIH0sCiAgLy8g5Yib5bu65a6M5oiQ6ZKp5a2QCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgLy8g5oyC5Zyo5a6M5oiQ6ZKp5a2QCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIC8vIOaWueazleWumuS5iQogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcyh7CiAgICAgICAgdXJsOiAnL2RlcGFydG1lbnQvdHJlZTRTY2hvb2wnCiAgICAgIH0sIHRoaXMuc2VydmVyVHlwZSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuZm9ybURhdGEudHJlZSA9IHJlcy5kYXRhOyAvL3RoaXMuc2VsZWN0SWRzID0gdGhpcy5maW5kUGF0aEJ5TGVhZklkKHRoaXMuZm9ybURhdGEub3JnVHJlZUluZm8pCgogICAgICAgIHJldHVybiBheGlvcyh7CiAgICAgICAgICB1cmw6ICIvdXNlck1hbmFnZS9zZWxlY3RVc2VyQXV0aC8iLmNvbmNhdChfdGhpcy4kcm91dGUucXVlcnkuc3RhZmZDb2RlKQogICAgICAgIH0sIF90aGlzLnNlcnZlclR5cGUpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5mb3JtRGF0YS5zdGFmZkluZm8gPSByZXMuZGF0YS5zdGFmZkluZm8gfHwge307CiAgICAgICAgX3RoaXMuc2VsZWN0SWRzID0gcmVzLmRhdGEuc3RhZmZBdXRoU2V0IHx8IFtdOwoKICAgICAgICBfdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKF90aGlzLnNlbGVjdElkcyk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVQZXJtaXNzaW9uOiBmdW5jdGlvbiBzYXZlUGVybWlzc2lvbigpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAvL+S/neWtmOadg+mZkAogICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gdHJ1ZTsKCiAgICAgIHZhciBzYXZhRGF0YSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5zYXZhRGF0YSksIHRoaXMuZm9ybURhdGEuc3RhZmZJbmZvKTsKCiAgICAgIGF4aW9zLnBvc3QoJy91c2VyTWFuYWdlL2VkaXRVc2VyQXV0aCcsIHNhdmFEYXRhLCB7fSwgdGhpcy5zZXJ2ZXJUeXBlKS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgX3RoaXMyLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7CgogICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn6YWN572u5oiQ5YqfJwogICAgICAgIH0pOwoKICAgICAgICBfdGhpczIuZ29CYWNrKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIC8v6L+U5Zue55So5oi3566h55CG5YiX6KGo6aG1CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnQlVzZXJNYW5hZ2UnCiAgICAgIH0pOwogICAgfSwKICAgIGNoYW5nZTogZnVuY3Rpb24gY2hhbmdlKCkgewogICAgICAvL+iKgueCueWPmOWMluaXtgogICAgICB0aGlzLnNhdmFEYXRhLmF1dGhMaXN0ID0gdGhpcy4kcmVmcy50cmVlLmdldENoZWNrZWRLZXlzKCk7IC8vLmpvaW4oJywnKQogICAgfSwKICAgIGhhbmRsZUNoZWNrQWxsQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGVja0FsbENoYW5nZSh2YWwpIHsKICAgICAgLy/lhajpgInmiJbogIXlj5bmtojlhajpgIkKICAgICAgaWYgKHRoaXMuY2hlY2tBbGwpIHsKICAgICAgICB0aGlzLiRyZWZzLnRyZWUuc2V0Q2hlY2tlZE5vZGVzKHRoaXMuZm9ybURhdGEudHJlZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kcmVmcy50cmVlLnNldENoZWNrZWRLZXlzKFtdKTsKICAgICAgfQoKICAgICAgdGhpcy5zYXZhRGF0YS5hdXRoTGlzdCA9IHRoaXMuJHJlZnMudHJlZS5nZXRDaGVja2VkS2V5cygpOyAvLy5qb2luKCcsJykKICAgIH0sCiAgICBmaW5kUGF0aEJ5TGVhZklkOiBmdW5jdGlvbiBmaW5kUGF0aEJ5TGVhZklkKG5vZGVzKSB7CiAgICAgIC8v6YCJ5Lit6IqC54K55Zue5pi+562b6YCJaWQgbm9kZXPmiYDmnInoioLngrkg6L+U5ZueaWTmlbDnu4QKICAgICAgdmFyIGlkQXJyID0gW107CiAgICAgIG5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGksIGFycikgewogICAgICAgIGl0ZW0uY2hpbGRsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0yLCBqLCBhcnIyKSB7CiAgICAgICAgICBpdGVtMi5jaGlsZGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbTMsIGssIGFycjMpIHsKICAgICAgICAgICAgaWYgKGl0ZW0zLmNoZWNrZWQgPT0gJzEnKSB7CiAgICAgICAgICAgICAgaWRBcnIucHVzaChpdGVtMy5pZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIGlkQXJyOwogICAgfQogIH0KfTs="},{"version":3,"sources":["user-permission.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <!-- 分配数据配置页面 -->\r\n  <div class=\"userPermission\">\r\n    <div class=\"userPermission-main \">\r\n      <div class=\"f-c userPermission-main-info\">\r\n        <div class=\"f-l\">姓名：{{ formData.staffInfo.staffName }}</div>\r\n        <div class=\"f-l\">工号：{{ formData.staffInfo.staffCode }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"userPermission-btns\">\r\n      <el-button size=\"medium\" icon=\"el-icon-d-arrow-left\" @click=\"goBack\"\r\n        >返回</el-button\r\n      >\r\n      <el-button\r\n        size=\"medium\"\r\n        type=\"primary\"\r\n        @click=\"savePermission\"\r\n        v-loading=\"confirmLoading\"\r\n        >确认</el-button\r\n      >\r\n    </div>\r\n    <div class=\"userPermission-checkbox\">\r\n      <el-checkbox\r\n        v-model=\"checkAll\"\r\n        class=\"userPermission-checkbox-all\"\r\n        @change=\"handleCheckAllChange\"\r\n        >全选</el-checkbox\r\n      >\r\n      <el-tree\r\n        :data=\"formData.tree\"\r\n        @check=\"change\"\r\n        :props=\"defaultProps\"\r\n        :default-checked-keys=\"selectIds\"\r\n        node-key=\"id\"\r\n        ref=\"tree\"\r\n        class=\"userPermission-checkbox-tree\"\r\n        show-checkbox\r\n      ></el-tree>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/plugins/axios';\r\nimport { Button, Checkbox, Tree } from 'element-ui';\r\n\r\nexport default {\r\n  name: 'userPermission',\r\n  // 注册组件\r\n  components: {\r\n    [Button.name]: Button,\r\n    [Checkbox.name]: Checkbox,\r\n    [Tree.name]: Tree\r\n  },\r\n  props: {\r\n    /**\r\n     * 服务器类型\r\n     */\r\n    serverType: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  // 定义数据\r\n  data() {\r\n    return {\r\n      confirmLoading: false, //加载状态\r\n      checkAll: false, //是否全选\r\n      formData: {\r\n        //详情信息\r\n        staffInfo: {\r\n          //用户信息\r\n          staffName: '',\r\n          staffCode: ''\r\n        },\r\n        tree: [] //树形数据\r\n      },\r\n      defaultProps: {\r\n        //更改tree键值名\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      savaData: {\r\n        //保存数据\r\n        staffCode: this.$route.query.staffCode,\r\n        authList: []\r\n      },\r\n      selectIds: [] //回显id数组\r\n    };\r\n  },\r\n  // 计算属性\r\n  computed: {},\r\n  // 侦听器\r\n  watch: {\r\n    '$route.query'(now, old) {\r\n      if (!now.staffCode || !this.selectIds) {\r\n        return;\r\n      }\r\n      this.checkAll = false;\r\n      this.getData();\r\n    }\r\n  },\r\n  // 创建完成钩子\r\n  created() {\r\n    this.getData();\r\n  },\r\n  // 挂在完成钩子\r\n  mounted() {},\r\n  // 方法定义\r\n  methods: {\r\n    getData() {\r\n      axios(\r\n        {\r\n          url: '/department/tree4School'\r\n        },\r\n        this.serverType\r\n      )\r\n        .then(res => {\r\n          this.formData.tree = res.data;\r\n          //this.selectIds = this.findPathByLeafId(this.formData.orgTreeInfo)\r\n          return axios(\r\n            {\r\n              url: `/userManage/selectUserAuth/${this.$route.query.staffCode}`\r\n            },\r\n            this.serverType\r\n          );\r\n        })\r\n        .then(res => {\r\n          this.formData.staffInfo = res.data.staffInfo || {};\r\n          this.selectIds = res.data.staffAuthSet || [];\r\n          this.$refs.tree.setCheckedKeys(this.selectIds);\r\n        });\r\n    },\r\n    savePermission() {\r\n      //保存权限\r\n      this.confirmLoading = true;\r\n      let savaData = {\r\n        ...this.savaData,\r\n        ...this.formData.staffInfo\r\n      };\r\n      axios\r\n        .post('/userManage/editUserAuth', savaData, {}, this.serverType)\r\n        .then(({ data }) => {\r\n          this.confirmLoading = false;\r\n          this.$message({\r\n            type: 'success',\r\n            message: '配置成功'\r\n          });\r\n          this.goBack();\r\n        })\r\n        .catch(() => {\r\n          this.confirmLoading = false;\r\n        });\r\n    },\r\n    goBack() {\r\n      //返回用户管理列表页\r\n      this.$router.push({\r\n        name: 'BUserManage'\r\n      });\r\n    },\r\n    change() {\r\n      //节点变化时\r\n      this.savaData.authList = this.$refs.tree.getCheckedKeys(); //.join(',')\r\n    },\r\n    handleCheckAllChange(val) {\r\n      //全选或者取消全选\r\n      if (this.checkAll) {\r\n        this.$refs.tree.setCheckedNodes(this.formData.tree);\r\n      } else {\r\n        this.$refs.tree.setCheckedKeys([]);\r\n      }\r\n      this.savaData.authList = this.$refs.tree.getCheckedKeys(); //.join(',')\r\n    },\r\n    findPathByLeafId(nodes) {\r\n      //选中节点回显筛选id nodes所有节点 返回id数组\r\n      var idArr = [];\r\n      nodes.forEach((item, i, arr) => {\r\n        item.childlist.forEach((item2, j, arr2) => {\r\n          item2.childlist.forEach((item3, k, arr3) => {\r\n            if (item3.checked == '1') {\r\n              idArr.push(item3.id);\r\n            }\r\n          });\r\n        });\r\n      });\r\n      return idArr;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.f-l {\r\n  float: left;\r\n}\r\n.f-c:after {\r\n  visibility: hidden;\r\n  display: block;\r\n  font-size: 0;\r\n  content: ' ';\r\n  clear: both;\r\n  height: 0;\r\n}\r\n.userPermission {\r\n  background: #fff;\r\n  border-radius: 2px;\r\n  padding: 38px 32px;\r\n\r\n  font-family: 'PingFangSC-Medium', 'PingFang SC';\r\n  &-main {\r\n    padding-top: 13px;\r\n    &-info {\r\n      font-size: 15px;\r\n      font-weight: 500;\r\n      color: rgba(0, 0, 0, 0.85);\r\n      line-height: 33px;\r\n      div {\r\n        margin-right: 42px;\r\n      }\r\n    }\r\n  }\r\n  &-btns {\r\n    margin: 17px 0 32px;\r\n    button {\r\n      width: 88px;\r\n      margin-right: 30px;\r\n    }\r\n  }\r\n  &-checkbox {\r\n    margin-left: 18px;\r\n    &-all {\r\n      margin: 0 0 6px 6px;\r\n    }\r\n    /deep/.el-checkbox__label {\r\n      font-size: 12px;\r\n      color: #303133;\r\n    }\r\n    /deep/.el-tree-node__label {\r\n      font-size: 12px;\r\n      color: #303133;\r\n    }\r\n    /deep/ .el-tree-node:focus > .el-tree-node__content {\r\n      background-color: #fff;\r\n    }\r\n    /deep/ .el-tree-node__content:hover {\r\n      background-color: #fff;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages/logistics-data/views/UserManage"}]}