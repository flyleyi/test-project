{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/h5/components/common/CSelectPicker.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/h5/components/common/CSelectPicker.vue","mtime":1627979214306},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfdHlwZW9mIGZyb20gIi9Vc2Vycy9mdXl1ZXlpL0Rlc2t0b3AvcHJhY3RpY2UvbXV0aWx3YXAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3R5cGVvZiI7CmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgInZhbnQvZXMvcG9wdXAvc3R5bGUiOwppbXBvcnQgX1BvcHVwIGZyb20gInZhbnQvZXMvcG9wdXAiOwppbXBvcnQgInZhbnQvZXMvZmllbGQvc3R5bGUiOwppbXBvcnQgX0ZpZWxkIGZyb20gInZhbnQvZXMvZmllbGQiOwppbXBvcnQgInZhbnQvZXMvcGlja2VyL3N0eWxlIjsKaW1wb3J0IF9QaWNrZXIgZnJvbSAidmFudC9lcy9waWNrZXIiOwoKdmFyIF9jb21wb25lbnRzOwoKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDU2VsZWN0UGlja2VyJywKICBjb21wb25lbnRzOiAoX2NvbXBvbmVudHMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jb21wb25lbnRzLCBfUGlja2VyLm5hbWUsIF9QaWNrZXIpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9GaWVsZC5uYW1lLCBfRmllbGQpLCBfZGVmaW5lUHJvcGVydHkoX2NvbXBvbmVudHMsIF9Qb3B1cC5uYW1lLCBfUG9wdXApLCBfY29tcG9uZW50cyksCiAgcHJvcHM6IHsKICAgIC8qKg0KICAgICAqIOWAvA0KICAgICAqLwogICAgbGFiZWw6IHVuZGVmaW5lZCwKCiAgICAvKioNCiAgICAgKiDlgLwNCiAgICAgKi8KICAgIHZhbHVlOiB1bmRlZmluZWQsCgogICAgLyoqDQogICAgICog5LiL5ouJ5pWw5o2uDQogICAgICovCiAgICBvcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCgogICAgLyoqDQogICAgICog5Y2g5L2N56ymDQogICAgICovCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfor7fpgInmi6knCiAgICB9LAoKICAgIC8qKg0KICAgICAqIOWAvOeahOmUrg0KICAgICAqLwogICAgdmFsdWVLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAna2V5JwogICAgfSwKCiAgICAvKioNCiAgICAgKiDmlofmnKznmoTplK4NCiAgICAgKi8KICAgIHRleHRLZXk6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnbGFiZWwnCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2VsZWN0ZWQ6IHRoaXMudmFsdWUsCiAgICAgIC8vIOmAieS4reeahOWAvAogICAgICBzaG93OiBmYWxzZSwKICAgICAgLy8g5qih5oCB5qGG5piv5ZCm5pi+56S6CiAgICAgIGNvbHVtbnM6IFtdIC8vIOmAiemhueWIlwoKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqDQogICAgICog5paH5pys5YC8DQogICAgICovCiAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHJlcyA9IHRoaXMuY29sdW1ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW1bX3RoaXMudmFsdWVLZXldID09PSBfdGhpcy5zZWxlY3RlZDsKICAgICAgfSk7CiAgICAgIHJldHVybiByZXMgPyByZXNbdGhpcy50ZXh0S2V5XSA6ICcnOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIC8qKg0KICAgICAqIOWPjOWQkee7keWumg0KICAgICAqLwogICAgdmFsdWU6IGZ1bmN0aW9uIHZhbHVlKCkgewogICAgICB0aGlzLnNlbGVjdGVkID0gdGhpcy52YWx1ZTsKICAgICAgdGhpcy5zZXRWYWx1ZSgpOwogICAgfSwKICAgIHNlbGVjdGVkOiBmdW5jdGlvbiBzZWxlY3RlZCgpIHsKICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB0aGlzLnNlbGVjdGVkKTsKICAgIH0sCgogICAgLyoqDQogICAgICog55uR5ZCs6YCJ5oup5pWw5o2uDQogICAgICovCiAgICBvcHRpb25zOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMub3B0aW9ucykpIHsKICAgICAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMub3B0aW9ucy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgdmFyIGlzT2JqID0gX3R5cGVvZihpdGVtKSA9PT0gJ29iamVjdCc7CgogICAgICAgICAgICBpZiAoaXNPYmopIHsKICAgICAgICAgICAgICB2YXIgX29iamVjdFNwcmVhZDI7CgogICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwgKF9vYmplY3RTcHJlYWQyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMiwgX3RoaXMyLnRleHRLZXksIGl0ZW1bX3RoaXMyLnRleHRLZXldKSwgX2RlZmluZVByb3BlcnR5KF9vYmplY3RTcHJlYWQyLCBfdGhpczIudmFsdWVLZXksIGl0ZW1bX3RoaXMyLnZhbHVlS2V5XSksIF9kZWZpbmVQcm9wZXJ0eShfb2JqZWN0U3ByZWFkMiwgIl9kYXRhIiwgaXRlbSksIF9vYmplY3RTcHJlYWQyKSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9yZWY7CgogICAgICAgICAgICAgIHJldHVybiBfcmVmID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCBfdGhpczIudGV4dEtleSwgaXRlbSksIF9kZWZpbmVQcm9wZXJ0eShfcmVmLCBfdGhpczIudmFsdWVLZXksIGl0ZW0pLCBfZGVmaW5lUHJvcGVydHkoX3JlZiwgIl9kYXRhIiwgaXRlbSksIF9yZWY7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmNvbHVtbnMgPSBbXTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKCiAgICAvKioNCiAgICAgKiDmmL7npLrpgInmi6nlmajvvIzph43nva7mmL7npLrpgInmi6njgIINCiAgICAgKi8KICAgIHNob3c6ICdzZXRWYWx1ZScKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKg0KICAgICAqIOehruWumg0KICAgICAqLwogICAgb25Db25maXJtOiBmdW5jdGlvbiBvbkNvbmZpcm0odmFsdWUpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLnNlbGVjdGVkID0gdmFsdWVbdGhpcy52YWx1ZUtleV07CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMuY29sdW1ucy5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW1bX3RoaXMzLnZhbHVlS2V5XSA9PT0gX3RoaXMzLnNlbGVjdGVkOwogICAgICB9KSk7CiAgICAgIHRoaXMuc2hvdyA9IGZhbHNlOwogICAgfSwKCiAgICAvKioNCiAgICAgKiDpgInmi6nlmajmjILovb3lkI4NCiAgICAgKi8KICAgIHNldFZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGluZGV4ID0gX3RoaXM0LmNvbHVtbnMuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbVtfdGhpczQudmFsdWVLZXldID09PSBfdGhpczQuc2VsZWN0ZWQ7CiAgICAgICAgfSk7CgogICAgICAgIGluZGV4ICE9PSAtMSAmJiBfdGhpczQuJHJlZnMucGlja2VyICYmIF90aGlzNC4kcmVmcy5waWNrZXIuc2V0Q29sdW1uSW5kZXgoMCwgaW5kZXgpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CSelectPicker.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <!-- 下拉选择控制面板 -->\r\n  <div class=\"select-picker\">\r\n    <van-field\r\n      readonly\r\n      clickable\r\n      :value=\"text\"\r\n      :label=\"label\"\r\n      :placeholder=\"placeholder\"\r\n      @click=\"show = true\"\r\n    >\r\n      <img\r\n        slot=\"right-icon\"\r\n        class=\"icon-arrow-right\"\r\n        src=\"../../assets/images/icons/icon_arrow_right.png\"\r\n      />\r\n    </van-field>\r\n    <div></div>\r\n    <van-popup v-model=\"show\" position=\"bottom\">\r\n      <van-picker\r\n        v-bind=\"$attrs\"\r\n        ref=\"picker\"\r\n        show-toolbar\r\n        :columns=\"columns\"\r\n        :value-key=\"textKey\"\r\n        item-height=\"0.8rem\"\r\n        @hook:mounted=\"setValue\"\r\n        @cancel=\"show = false\"\r\n        @confirm=\"onConfirm\"\r\n      />\r\n    </van-popup>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Picker, Field, Popup } from 'vant';\r\nexport default {\r\n  name: 'CSelectPicker',\r\n  components: {\r\n    [Picker.name]: Picker,\r\n    [Field.name]: Field,\r\n    [Popup.name]: Popup\r\n  },\r\n  props: {\r\n    /**\r\n     * 值\r\n     */\r\n    label: undefined,\r\n    /**\r\n     * 值\r\n     */\r\n    value: undefined,\r\n    /**\r\n     * 下拉数据\r\n     */\r\n    options: {\r\n      type: Array,\r\n      default: () => []\r\n    },\r\n    /**\r\n     * 占位符\r\n     */\r\n    placeholder: {\r\n      type: String,\r\n      default: '请选择'\r\n    },\r\n    /**\r\n     * 值的键\r\n     */\r\n    valueKey: {\r\n      type: String,\r\n      default: 'key'\r\n    },\r\n    /**\r\n     * 文本的键\r\n     */\r\n    textKey: {\r\n      type: String,\r\n      default: 'label'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      selected: this.value, // 选中的值\r\n      show: false, // 模态框是否显示\r\n      columns: [] // 选项列\r\n    };\r\n  },\r\n  computed: {\r\n    /**\r\n     * 文本值\r\n     */\r\n    text() {\r\n      const res = this.columns.find(\r\n        item => item[this.valueKey] === this.selected\r\n      );\r\n      return res ? res[this.textKey] : '';\r\n    }\r\n  },\r\n  watch: {\r\n    /**\r\n     * 双向绑定\r\n     */\r\n    value() {\r\n      this.selected = this.value;\r\n      this.setValue();\r\n    },\r\n    selected() {\r\n      this.$emit('input', this.selected);\r\n    },\r\n    /**\r\n     * 监听选择数据\r\n     */\r\n    options: {\r\n      handler() {\r\n        if (Array.isArray(this.options)) {\r\n          this.columns = this.options.map(item => {\r\n            const isObj = typeof item === 'object';\r\n            if (isObj) {\r\n              return {\r\n                ...item,\r\n                [this.textKey]: item[this.textKey],\r\n                [this.valueKey]: item[this.valueKey],\r\n                _data: item\r\n              };\r\n            } else {\r\n              return {\r\n                [this.textKey]: item,\r\n                [this.valueKey]: item,\r\n                _data: item\r\n              };\r\n            }\r\n          });\r\n        } else {\r\n          this.columns = [];\r\n        }\r\n      },\r\n      immediate: true\r\n    },\r\n    /**\r\n     * 显示选择器，重置显示选择。\r\n     */\r\n    show: 'setValue'\r\n  },\r\n  methods: {\r\n    /**\r\n     * 确定\r\n     */\r\n    onConfirm(value) {\r\n      this.selected = value[this.valueKey];\r\n      this.$emit(\r\n        'change',\r\n        this.columns.find(item => item[this.valueKey] === this.selected)\r\n      );\r\n      this.show = false;\r\n    },\r\n    /**\r\n     * 选择器挂载后\r\n     */\r\n    setValue() {\r\n      this.$nextTick(() => {\r\n        const index = this.columns.findIndex(\r\n          item => item[this.valueKey] === this.selected\r\n        );\r\n        index !== -1 &&\r\n          this.$refs.picker &&\r\n          this.$refs.picker.setColumnIndex(0, index);\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n// .select-picker {\r\n//   // 下拉组件\r\n//   .form-select {\r\n//     position: relative;\r\n//   }\r\n//   .icon-drop {\r\n//     position: absolute;\r\n//     right: .24rem;\r\n//     top: 50%;\r\n//     transform: translateY(-50%);\r\n//     display: block;\r\n//     width: .24rem;\r\n//     height: .16rem;\r\n//     background-image: url('~@/assets/images/icon_drop_normal@2x.png');\r\n//     background-position: center center;\r\n//     background-size: contain;\r\n//     &.selected {\r\n//       background-image: url('~@/assets/images/icon_drop_selected@2x.png');\r\n//     }\r\n//   }\r\n// }\r\n.icon-arrow-right {\r\n  width: 0.34rem;\r\n  height: 0.34rem;\r\n  vertical-align: top;\r\n  padding-top: 0.07rem;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/pages/h5/components/common"}]}