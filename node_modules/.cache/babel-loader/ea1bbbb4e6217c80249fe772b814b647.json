{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/plugins/directives/v-auth.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/plugins/directives/v-auth.js","mtime":1645176309686},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIOaMiemSruadg+mZkOaMh+S7pAogKiDmoLnmja52dWV45LiL55qEYXV0aOaooeWdl+eahGF1dGhMaXN05oyJ6ZKuY29kZeWIl+ihqOWIpOaWreadg+mZkAogKi8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vLi4vc3RvcmUnOwppbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZyc7Ci8qKgogKiDmoKHpqozmmK/lkKbmnInmnYPpmZDvvIzml6DmnYPpmZDliKDpmaRkb23oioLngrkKICogQHBhcmFtIHsqfSBlbCBkb23lhYPntKAKICogQHBhcmFtIHsqfSBiaW5kaW5nIOe7keWumuaVsOaNrgogKi8KCmZ1bmN0aW9uIGhhcyhlbCwgYmluZGluZykgewogIC8vIOS4jeWQr+eUqOaMiemSruadg+mZkOWKn+iDvQogIGlmICghY29uZmlnLmVuYWJsZWRCdXR0b25BdXRoKSByZXR1cm47CiAgdmFyIHZhbHVlID0gYmluZGluZy52YWx1ZTsKICB2YXIgYXV0aExpc3QgPSBzdG9yZS5nZXR0ZXJzICYmIHN0b3JlLmdldHRlcnMuYXV0aExpc3QgfHwgW107CgogIGlmICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIHZhbHVlLmxlbmd0aCA+IDApIHsKICAgIHZhciBwZXJtaXNzaW9ucnVsZXMgPSB2YWx1ZTsKICAgIHZhciBoYXNQZXJtaXNzaW9uID0gYXV0aExpc3Quc29tZShmdW5jdGlvbiAocm9sZSkgewogICAgICByZXR1cm4gcGVybWlzc2lvbnJ1bGVzLmluZGV4T2Yocm9sZSkgPj0gMDsKICAgIH0pOwoKICAgIGlmICghaGFzUGVybWlzc2lvbiAmJiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGgpIHsKICAgICAgZWwucGFyZW50Tm9kZSAmJiBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTsKICAgIH0KICB9Cn0KCnZhciBhdXRoID0gewogIGluc2VydGVkOiBoYXMsCiAgdXBkYXRlOiBoYXMKfTsKCnZhciBpbnN0YWxsID0gZnVuY3Rpb24gaW5zdGFsbChWdWUpIHsKICBWdWUuZGlyZWN0aXZlKCdhdXRoJywgYXV0aCk7Cn07CgpWdWUudXNlKGluc3RhbGwpOw=="},{"version":3,"sources":["/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/plugins/directives/v-auth.js"],"names":["Vue","store","config","has","el","binding","enabledButtonAuth","value","authList","getters","Array","length","permissionrules","hasPermission","some","role","indexOf","parentNode","removeChild","auth","inserted","update","install","directive","use"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,MAAP,MAAmB,cAAnB;AAEA;AACA;AACA;AACA;AACA;;AACA,SAASC,GAAT,CAAaC,EAAb,EAAiBC,OAAjB,EAA0B;AACxB;AACA,MAAI,CAACH,MAAM,CAACI,iBAAZ,EAA+B;AAC/B,MAAQC,KAAR,GAAkBF,OAAlB,CAAQE,KAAR;AACA,MAAMC,QAAQ,GAAIP,KAAK,CAACQ,OAAN,IAAiBR,KAAK,CAACQ,OAAN,CAAcD,QAAhC,IAA6C,EAA9D;;AACA,MAAID,KAAK,IAAIA,KAAK,YAAYG,KAA1B,IAAmCH,KAAK,CAACI,MAAN,GAAe,CAAtD,EAAyD;AACvD,QAAMC,eAAe,GAAGL,KAAxB;AAEA,QAAMM,aAAa,GAAGL,QAAQ,CAACM,IAAT,CAAc,UAAAC,IAAI,EAAI;AAC1C,aAAOH,eAAe,CAACI,OAAhB,CAAwBD,IAAxB,KAAiC,CAAxC;AACD,KAFqB,CAAtB;;AAIA,QAAI,CAACF,aAAD,IAAkBN,KAAlB,IAA2BA,KAAK,CAACI,MAArC,EAA6C;AAC3CP,MAAAA,EAAE,CAACa,UAAH,IAAiBb,EAAE,CAACa,UAAH,CAAcC,WAAd,CAA0Bd,EAA1B,CAAjB;AACD;AACF;AACF;;AAED,IAAIe,IAAI,GAAG;AACTC,EAAAA,QAAQ,EAAEjB,GADD;AAETkB,EAAAA,MAAM,EAAElB;AAFC,CAAX;;AAKA,IAAMmB,OAAO,GAAG,SAAVA,OAAU,CAAStB,GAAT,EAAc;AAC5BA,EAAAA,GAAG,CAACuB,SAAJ,CAAc,MAAd,EAAsBJ,IAAtB;AACD,CAFD;;AAIAnB,GAAG,CAACwB,GAAJ,CAAQF,OAAR","sourcesContent":["/**\n * 按钮权限指令\n * 根据vuex下的auth模块的authList按钮code列表判断权限\n */\nimport Vue from 'vue';\nimport store from '../../store';\nimport config from '../../config';\n\n/**\n * 校验是否有权限，无权限删除dom节点\n * @param {*} el dom元素\n * @param {*} binding 绑定数据\n */\nfunction has(el, binding) {\n  // 不启用按钮权限功能\n  if (!config.enabledButtonAuth) return;\n  const { value } = binding;\n  const authList = (store.getters && store.getters.authList) || [];\n  if (value && value instanceof Array && value.length > 0) {\n    const permissionrules = value;\n\n    const hasPermission = authList.some(role => {\n      return permissionrules.indexOf(role) >= 0;\n    });\n\n    if (!hasPermission && value && value.length) {\n      el.parentNode && el.parentNode.removeChild(el);\n    }\n  }\n}\n\nlet auth = {\n  inserted: has,\n  update: has\n};\n\nconst install = function(Vue) {\n  Vue.directive('auth', auth);\n};\n\nVue.use(install);\n"]}]}