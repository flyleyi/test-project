{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/components/OutwardList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/components/OutwardList.vue","mtime":1645178321204},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0VHJhbnNwb3J0RGV0YWlsIGFzIF9nZXRUcmFuc3BvcnREZXRhaWwsIHdyaXRlT2ZmVHJhbnNwb3J0IH0gZnJvbSAnQC9wYWdlcy92aXNpdG9yLWg1L2FwaS92ZXJpZnknOwppbXBvcnQgeyBmb3JtYXRlRGF0ZSB9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9wbHVnaW5zL2NvbW1vbi91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVzdWx0OiBbXSwKICAgICAgbGlzdDogW10sCiAgICAgIHNob3dQYW5lbDogZmFsc2UsCiAgICAgIGlzRmluaXNoZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0ZURhdGU6IGZvcm1hdGVEYXRlLAogICAgYXBwcm92ZUl0ZW06IGZ1bmN0aW9uIGFwcHJvdmVJdGVtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgaWYgKHRoaXMucmVzdWx0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KCfor7fpgInmi6npnIDopoHmoLjplIDnmoTnianotYTvvIEnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIHdyaXRlT2ZmVHJhbnNwb3J0KHsKICAgICAgICBUcmFuc3BvcnREZXRhaWxzSWQ6IHRoaXMucmVzdWx0LAogICAgICAgIGd1ZXN0QmFzZUlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpcy5zaG93UGFuZWwgPSB0cnVlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgIF90aGlzLiR0b2FzdChlLm1lc3NhZ2UpOwogICAgICB9KTsKICAgIH0sCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLmdldFRyYW5zcG9ydERldGFpbCgpOwogICAgICB0aGlzLnNob3dQYW5lbCA9IGZhbHNlOwogICAgfSwKICAgIGdldFRyYW5zcG9ydERldGFpbDogZnVuY3Rpb24gZ2V0VHJhbnNwb3J0RGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIF9nZXRUcmFuc3BvcnREZXRhaWwoewogICAgICAgIGd1ZXN0QmFzZUlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubGlzdCA9IHJlcy5kYXRhOwoKICAgICAgICB2YXIgYXJyID0gX3RoaXMyLmxpc3QuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpZiAoIWl0ZW0uZ29vZHNDaGVja2VkVGltZSkgewogICAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSB7CiAgICAgICAgICBfdGhpczIuaXNGaW5pc2hlZCA9IGZhbHNlOwogICAgICAgICAgX3RoaXMyLnJlc3VsdCA9IGFyci5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXMyLmlzRmluaXNoZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRUcmFuc3BvcnREZXRhaWwoKTsKICB9Cn07"},{"version":3,"sources":["OutwardList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,SACA,kBAAA,IAAA,mBADA,EAEA,iBAFA,QAGA,+BAHA;AAIA,SAAA,WAAA,QAAA,yCAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,KAHA;AAIA,MAAA,UAAA,EAAA;AAJA,KAAA;AAMA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,WADA;AAEA,IAAA,WAFA,yBAEA;AAAA;;AACA,UAAA,KAAA,MAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,aAAA,OAAA,CAAA,aAAA;AACA;AACA;;AACA,MAAA,iBAAA,CAAA;AACA,QAAA,kBAAA,EAAA,KAAA,MADA;AAEA,QAAA,WAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AAFA,OAAA,CAAA,CAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,GAAA,IAAA;AACA,OANA,EAOA,KAPA,CAOA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,MAAA,CAAA,CAAA,CAAA,OAAA;AACA,OATA;AAUA,KAjBA;AAkBA,IAAA,IAlBA,kBAkBA;AACA,WAAA,kBAAA;AACA,WAAA,SAAA,GAAA,KAAA;AACA,KArBA;AAsBA,IAAA,kBAtBA,gCAsBA;AAAA;;AACA,MAAA,mBAAA,CAAA;AAAA,QAAA,WAAA,EAAA,KAAA,MAAA,CAAA,KAAA,CAAA;AAAA,OAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,GAAA,GAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,UAAA,IAAA,EAAA;AACA,cAAA,CAAA,IAAA,CAAA,gBAAA,EAAA;AACA,mBAAA,IAAA;AACA;AACA,SAJA,CAAA;;AAKA,YAAA,GAAA,CAAA,MAAA,GAAA,CAAA,EAAA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,KAAA;AACA,UAAA,MAAA,CAAA,MAAA,GAAA,GAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,mBAAA,IAAA,CAAA,EAAA;AACA,WAFA,CAAA;AAGA,SALA,MAKA;AACA,UAAA,MAAA,CAAA,UAAA,GAAA,IAAA;AACA;AACA,OAfA;AAgBA;AAvCA,GATA;AAkDA,EAAA,OAlDA,qBAkDA;AACA,SAAA,kBAAA;AACA;AApDA,CAAA","sourcesContent":["<template>\n  <div class=\"outward-wrapper\">\n    <van-checkbox-group v-model=\"result\">\n      <ul class=\"outward-list\">\n        <li v-for=\"el in list\" :key=\"el.id\">\n          <div\n            class=\"unVerify\"\n            v-if=\"\n              (!el.goodsCheckedTime && $route.query.status == '40100') ||\n                (!el.goodsCheckedTime && $route.query.status == '50100')\n            \"\n          >\n            <div class=\"left\">{{ el.goodsName }}</div>\n            <div class=\"right\">\n              <span class=\"verify-code\">{{ el.goodsNumber }}</span>\n              <van-checkbox shape=\"square\" :name=\"el.id\"></van-checkbox>\n            </div>\n          </div>\n          <div class=\"verifyed\" v-else>\n            <div class=\"left\">\n              <div class=\"left-goodsName\">{{ el.goodsName }}</div>\n              <p v-if=\"el.goodsCheckedTime\">\n                {{ formateDate(el.goodsCheckedTime, 3) }} <span>装车核销</span>\n              </p>\n            </div>\n            <div class=\"goods-number\">\n              {{ el.goodsNumber }}\n            </div>\n          </div>\n        </li>\n      </ul>\n    </van-checkbox-group>\n    <div\n      class=\"wrapper-bottom\"\n      v-if=\"$route.query.status == '40100' || $route.query.status == '50100'\"\n    >\n      <div class=\"notice\">\n        <p>请认真核对出门物资清单，确认无误后核销。</p>\n        <p>物资过多可分批次核销</p>\n      </div>\n\n      <div class=\"operate-btn\">\n        <span v-if=\"isFinished\" class=\"finished\">核销已完成</span>\n        <span v-else class=\"save\" @click=\"approveItem\">装车核销</span>\n      </div>\n    </div>\n    <van-popup v-model=\"showPanel\" round>\n      <div class=\"panel-main\">\n        <div class=\"top\">\n          <img src=\"@/pages/visitor-h5/assets/images/audit/passOk.png\" alt=\"\" />\n          <div class=\"text\">核销已完成</div>\n        </div>\n        <div class=\"bottom\" @click=\"back\">\n          <span>好的</span>\n        </div>\n      </div>\n    </van-popup>\n  </div>\n</template>\n\n<script>\nimport {\n  getTransportDetail,\n  writeOffTransport\n} from '@/pages/visitor-h5/api/verify';\nimport { formateDate } from '@/pages/visitor-h5/plugins/common/utils';\nexport default {\n  data() {\n    return {\n      result: [],\n      list: [],\n      showPanel: false,\n      isFinished: false\n    };\n  },\n  methods: {\n    formateDate,\n    approveItem() {\n      if (this.result.length == 0) {\n        this.$notify('请选择需要核销的物资！');\n        return;\n      }\n      writeOffTransport({\n        TransportDetailsId: this.result,\n        guestBaseId: this.$route.query.id\n      })\n        .then(res => {\n          this.showPanel = true;\n        })\n        .catch(e => {\n          this.$toast(e.message);\n        });\n    },\n    back() {\n      this.getTransportDetail();\n      this.showPanel = false;\n    },\n    getTransportDetail() {\n      getTransportDetail({ guestBaseId: this.$route.query.id }).then(res => {\n        this.list = res.data;\n        let arr = this.list.filter(item => {\n          if (!item.goodsCheckedTime) {\n            return item;\n          }\n        });\n        if (arr.length > 0) {\n          this.isFinished = false;\n          this.result = arr.map(item => {\n            return item.id;\n          });\n        } else {\n          this.isFinished = true;\n        }\n      });\n    }\n  },\n  mounted() {\n    this.getTransportDetail();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.outward-wrapper {\n  background: #f5f6f8;\n  .outward-list {\n    li {\n      .unVerify {\n        width: 350px;\n        display: flex;\n        justify-content: space-between;\n        // height: 40px;\n        line-height: 40px;\n        padding: 0 12px;\n        background: #ffffff;\n        border-bottom: 0.5px solid #f0f0f0;\n        font-size: 14px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: rgba(0, 0, 0, 0.65);\n        & > div {\n          flex: 3;\n          word-wrap: break-word;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          word-wrap: break-word;\n        }\n        .right {\n          flex: 1;\n          display: flex;\n          justify-content: space-between;\n\n          .verify-code {\n            display: inline-block;\n            width: calc(100% - 30px);\n            overflow: hidden;\n            text-overflow: ellipsis;\n            word-wrap: break-word;\n          }\n        }\n      }\n      .verifyed {\n        width: 375px;\n        min-height: 66px;\n        box-sizing: border-box;\n        display: flex;\n        justify-content: space-between;\n        padding: 0 12px;\n        background: #ffffff;\n        padding: 12px 18px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: rgba(0, 0, 0, 0.45);\n        font-size: 15px;\n        display: flex;\n        align-items: center;\n\n        .left {\n          font-size: 15px;\n          line-height: 22px;\n          width: 75%;\n          .left-goodsName {\n            overflow: hidden;\n            text-overflow: ellipsis;\n            word-wrap: break-word;\n            word-break: break-all;\n            white-space: normal;\n            line-height: 25px;\n          }\n          p {\n            font-size: 12px;\n            color: rgba(0, 0, 0, 0.45);\n            line-height: 15px;\n            margin-top: 5px;\n            word-wrap: break-word;\n          }\n        }\n        .goods-number {\n          width: 25%;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          // word-wrap: break-word;\n        }\n      }\n    }\n  }\n}\n.wrapper-bottom {\n  position: fixed;\n  background: #fff;\n  padding-top: 10px;\n  bottom: 10px;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n  .notice {\n    p {\n      text-align: center;\n      font-size: 12px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.45);\n      line-height: 20px;\n    }\n  }\n  .operate-btn {\n    padding: 0 12px;\n    margin-top: 30px;\n    span {\n      width: 350px;\n      height: 49px;\n      line-height: 49px;\n      text-align: center;\n      background: linear-gradient(180deg, #4e4e4e 0%, #262626 100%);\n      border-radius: 3px;\n      display: inline-block;\n      box-sizing: border-box;\n      font-size: 17px;\n      font-family: PingFangSC-Medium, PingFang SC;\n      font-weight: 500;\n      color: #fff;\n    }\n  }\n}\n.panel-main {\n  width: 270px;\n  height: 208px;\n  background: #ffffff;\n  border-radius: 7px;\n  .top {\n    text-align: center;\n    img {\n      width: 122px;\n      height: 122px;\n    }\n    .visitor {\n      font-size: 13px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.45);\n      margin-top: -10px;\n    }\n    .text {\n      font-size: 17px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #000000;\n    }\n  }\n  .bottom {\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    border-top: 0.5px solid #ddd;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    span {\n      font-weight: 400;\n      color: #3388ff;\n      font-size: 18px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/pages/visitor-h5/views/verify-visitor/components"}]}