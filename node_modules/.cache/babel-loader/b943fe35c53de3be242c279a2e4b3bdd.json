{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/store/modules/user.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/store/modules/user.js","mtime":1645176309870},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vIOeUqOaIt+aooeWdlwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7IC8vIGltcG9ydCB7IHVwZGF0ZU1vZGVsIH0gZnJvbSAnQC9jb3JlL3V0aWxzJzsKCmltcG9ydCB7IGdldFVzZXJJbmZvIH0gZnJvbSAnLi4vLi4vYXBpL2Jhc2UvdXNlcic7CmltcG9ydCB7IGdldFRhYmJhciB9IGZyb20gJy4uLy4uL2FwaS9iYXNlL2luZGV4JzsgLy8gZXhwb3J0IGRlZmF1bHQgewovLyAgIHN0YXRlOiB7fSwKLy8gICBtdXRhdGlvbnM6IHsKLy8gICAgIC8qKgovLyAgICAgICog6K6+572u55So5oi35L+h5oGvCi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUg54q25oCBCi8vICAgICAgKiBAcGFyYW0ge09iamVjdH0gZGF0YSDnlKjmiLfkv6Hmga8KLy8gICAgICAqLwovLyAgICAgc2V0VXNlckluZm8oc3RhdGUsIGRhdGEpIHsKLy8gICAgICAgLy8g5pu05paw5pWw5o2uCi8vICAgICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGRhdGEpOwovLyAgICAgfQovLyAgIH0sCi8vICAgYWN0aW9uczogewovLyAgICAgLyoqCi8vICAgICAgKiDliqDovb3nlKjmiLfkv6Hmga8KLy8gICAgICAqIEBwYXJhbSB7Kn0gcGFyYW0wIOaPkOS6pAovLyAgICAgICovCi8vICAgICBsb2FkVXNlckluZm8oeyBzdGF0ZSwgY29tbWl0LCByb290U3RhdGUgfSkgewovLyAgICAgICByZXR1cm4gVnVlLmF4aW9zLmdldCgnL2xvZ2lzdGljYWwtZnJvbnQvZ2V0VXNlckluZm8nKS50aGVuKCh7IGRhdGEgfSkgPT4gewovLyAgICAgICAgIGNvbW1pdCgnc2V0VXNlckluZm8nLCBkYXRhKTsKLy8gICAgICAgICByb290U3RhdGUuaGFzVXNlckluZm8gPSB0cnVlOwovLyAgICAgICB9KTsKLy8gICAgIH0KLy8gICB9Ci8vIH07CgpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGpvYm51bWJlcjogJycsCiAgICAvLyDlt6Xlj7cKICAgIHVzZXJOYW1lOiAnJywKICAgIC8vIOeUqOaIt+WQjQogICAgbWVudXM6IFtdLAogICAgb3JnTmFtZTogJycsCiAgICBydWxlczogW10sCiAgICAvLyDmjInpkq7mnYPpmZAKICAgIHJvbGVzOiBbXSwKICAgIC8vIOinkuiJsgogICAgcGxhdGVzOiBbXSAvL+adv+WdlwoKICB9LAogIG11dGF0aW9uczogewogICAgLyoqDQogICAgICog6K6+572u55So5oi35L+h5oGvDQogICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIOeKtuaAgQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIOeUqOaIt+S/oeaBrw0KICAgICAqLwogICAgc2V0VXNlckluZm86IGZ1bmN0aW9uIHNldFVzZXJJbmZvKHN0YXRlLCBkYXRhKSB7CiAgICAgIC8vIOabtOaWsOaVsOaNrgogICAgICBPYmplY3QuYXNzaWduKHN0YXRlLCBkYXRhKTsKICAgIH0sCgogICAgLyoqDQogICAgICog6I635Y+W55So5oi36I+c5Y2VDQogICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIOeKtuaAgQ0KICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhIOeUqOaIt+S/oeaBrw0KICAgICAqLwogICAgc2V0TWVudUluZm86IGZ1bmN0aW9uIHNldE1lbnVJbmZvKHN0YXRlLCBkYXRhKSB7CiAgICAgIC8vIOabtOaWsOaVsOaNrgogICAgICBzdGF0ZS5wbGF0ZXMgPSBkYXRhOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLyoqDQogICAgICog5Yqg6L2955So5oi35L+h5oGvDQogICAgICogQHBhcmFtIHsqfSBwYXJhbTAg5o+Q5LqkDQogICAgICovCiAgICAvLyBsb2FkVXNlckluZm8oeyBzdGF0ZSwgY29tbWl0LCBkaXNwYXRjaCB9KSB7CiAgICAvLyAgIHJldHVybiBWdWUuYXhpb3MKICAgIC8vICAgICAuZ2V0KCcvdGVhY2hlci1hZG1pbi9hdXRoL2RpbmdUYWxrL2dldFVzZXJJbmZvJykKICAgIC8vICAgICAudGhlbihyZXMgPT4gewogICAgLy8gICAgICAgY29uc29sZS5sb2coJzExMScsIHJlcyk7CiAgICAvLyAgICAgICBnZXRVc2VySW5mbygpLnRoZW4ocmVzMiA9PiB7CiAgICAvLyAgICAgICAgIHZhciBkYXRhID0gcmVzMi5kYXRhIHx8IHt9OwogICAgLy8gICAgICAgICBjb21taXQoJ3NldFVzZXJJbmZvJywgcmVzMi5kYXRhKTsKICAgIC8vICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YS5ydWxlcykpIHsKICAgIC8vICAgICAgICAgICB2YXIgcnVsZXMgPSBbXTsKICAgIC8vICAgICAgICAgICBkYXRhLnJ1bGVzLmZvckVhY2goaXRlbSA9PiB7CiAgICAvLyAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gIT09IG51bGwpCiAgICAvLyAgICAgICAgICAgICAgIHJ1bGVzLnB1c2goaXRlbS5pdGZDb2RlKTsKICAgIC8vICAgICAgICAgICB9KTsKICAgIC8vICAgICAgICAgICBzdGF0ZS5ydWxlcyA9IHJ1bGVzOyAvL+acieadg+mZkOeahOaMiemSruWQjeensAogICAgLy8gICAgICAgICB9CiAgICAvLyAgICAgICB9KTsKICAgIC8vICAgICB9KTsKICAgIC8vIH0sCiAgICBsb2FkVXNlckluZm86IGZ1bmN0aW9uIGxvYWRVc2VySW5mbyhfcmVmKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgICBjb21taXQgPSBfcmVmLmNvbW1pdCwKICAgICAgICAgIGRpc3BhdGNoID0gX3JlZi5kaXNwYXRjaDsKICAgICAgcmV0dXJuIGdldFVzZXJJbmZvKCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMucmVzdWx0LmRhdGEgfHwge307CiAgICAgICAgdmFyIG1lbnVEYXRhID0gcmVzLm1lbnVzIHx8IFtdOwogICAgICAgIGNvbW1pdCgnc2V0VXNlckluZm8nLCByZXMucmVzdWx0LmRhdGEpOwogICAgICAgIGNvbW1pdCgnc2V0TWVudUluZm8nLCBtZW51RGF0YSk7CgogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEucnVsZXMpKSB7CiAgICAgICAgICB2YXIgcnVsZXMgPSBbXTsKICAgICAgICAgIGRhdGEucnVsZXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpZiAoX3R5cGVvZihpdGVtKSA9PT0gJ29iamVjdCcgJiYgaXRlbSAhPT0gbnVsbCkgcnVsZXMucHVzaChpdGVtLml0ZkNvZGUpOwogICAgICAgICAgfSk7CiAgICAgICAgICBzdGF0ZS5ydWxlcyA9IHJ1bGVzOyAvL+acieadg+mZkOeahOaMiemSruWQjeensAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8qKg0KICAgICAqIOiOt+WPluiPnOWNleadg+mZkA0KICAgICAqIEBwYXJhbSB7Kn0gcGFyYW0wIOaPkOS6pA0KICAgICAqLwogICAgbG9hZE1lbnU6IGZ1bmN0aW9uIGxvYWRNZW51KF9yZWYyKSB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlLAogICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBnZXRUYWJiYXIoKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhIHx8IFtdOwogICAgICAgIHZhciBtZW51TGlzdCA9IFtdOwogICAgICAgIHZhciBicmVhZGNydW1iTGlzdCA9IFt7CiAgICAgICAgICBuYW1lOiAn5pWZ56CU5rS75YqoJywKICAgICAgICAgIHJvdXRlczogJy90ZWFjaGluZy1hY3Rpdml0eS9pbmRleCcsCiAgICAgICAgICB3ZWJVcmw6ICcvdGVhY2hpbmctYWN0aXZpdHknLAogICAgICAgICAgbnVtOiAwLAogICAgICAgICAgYWN0aXZlSWNvbjogJ2ppYW95YW5fc2VsJywKICAgICAgICAgIGluQWN0aXZlSWNvbjogJ2ppYW95YW5fbm9yJwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfluLjop4Tmo4Dmn6UnLAogICAgICAgICAgcm91dGVzOiAnL25vcm1hbC1leGFtaW5lL2luZGV4JywKICAgICAgICAgIHdlYlVybDogJy9ub3JtYWwtZXhhbWluZScsCiAgICAgICAgICBudW06IDEsCiAgICAgICAgICBhY3RpdmVJY29uOiAnamlhbmNoYV9zZWwnLAogICAgICAgICAgaW5BY3RpdmVJY29uOiAnamlhbmNoYV9ub3InCiAgICAgICAgfSwgewogICAgICAgICAgbmFtZTogJ+aVmeWtpueglOepticsCiAgICAgICAgICByb3V0ZXM6ICcvY291cnNlLXJlc2VhcmNoL2luZGV4JywKICAgICAgICAgIHdlYlVybDogJy9jb3Vyc2UtcmVzZWFyY2gnLAogICAgICAgICAgbnVtOiAyLAogICAgICAgICAgYWN0aXZlSWNvbjogJ2ppYW94dWVfc2VsJywKICAgICAgICAgIGluQWN0aXZlSWNvbjogJ2ppYW94dWVfbm9yJwogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICfmlZnluIjnp6/liIYnLAogICAgICAgICAgcm91dGVzOiAnL3RlYWNoZXItcG9pbnRzL2luZGV4JywKICAgICAgICAgIHdlYlVybDogJy90ZWFjaGVyLXBvaW50cycsCiAgICAgICAgICBudW06IDMsCiAgICAgICAgICBhY3RpdmVJY29uOiAnamlmZW5fc2VsJywKICAgICAgICAgIGluQWN0aXZlSWNvbjogJ2ppZmVuX25vcicKICAgICAgICB9XTsKICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGJyZWFkY3J1bWJMaXN0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgICAgICAgIGlmIChpdGVtLnVybCA9PT0gdmFsdWUud2ViVXJsKSB7CiAgICAgICAgICAgICAgbWVudUxpc3QucHVzaCh2YWx1ZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICAgIG1lbnVMaXN0ID0gbWVudUxpc3Quc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgcmV0dXJuIGEubnVtIC0gYi5udW07CiAgICAgICAgfSk7CiAgICAgICAgbWVudUxpc3QucHVzaCh7CiAgICAgICAgICBuYW1lOiAn5oiR55qEJywKICAgICAgICAgIHJvdXRlczogJy9teS1zZXR0aW5nL2luZGV4JywKICAgICAgICAgIGFjdGl2ZUljb246ICdtZV9zZWwnLAogICAgICAgICAgaW5BY3RpdmVJY29uOiAnbWVfbm9yJwogICAgICAgIH0pOwogICAgICAgIG1lbnVMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGl0ZW0sIHsKICAgICAgICAgICAgYWN0aXZlTnVtOiBpbmRleAogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgY29tbWl0KCdzZXRNZW51SW5mbycsIG1lbnVMaXN0KTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/store/modules/user.js"],"names":["Vue","getUserInfo","getTabbar","state","jobnumber","userName","menus","orgName","rules","roles","plates","mutations","setUserInfo","data","Object","assign","setMenuInfo","actions","loadUserInfo","commit","dispatch","then","res","result","menuData","Array","isArray","forEach","item","push","itfCode","loadMenu","menuList","breadcrumbList","name","routes","webUrl","num","activeIcon","inActiveIcon","value","url","sort","a","b","map","index","activeNum"],"mappings":";;;AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB,C,CACA;;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,SAAT,QAA0B,sBAA1B,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE,EADN;AACU;AACfC,IAAAA,QAAQ,EAAE,EAFL;AAES;AACdC,IAAAA,KAAK,EAAE,EAHF;AAILC,IAAAA,OAAO,EAAE,EAJJ;AAKLC,IAAAA,KAAK,EAAE,EALF;AAKM;AACXC,IAAAA,KAAK,EAAE,EANF;AAMM;AACXC,IAAAA,MAAM,EAAE,EAPH,CAOM;;AAPN,GADM;AAUbC,EAAAA,SAAS,EAAE;AACT;AACJ;AACA;AACA;AACA;AACIC,IAAAA,WANS,uBAMGT,KANH,EAMUU,IANV,EAMgB;AACvB;AACAC,MAAAA,MAAM,CAACC,MAAP,CAAcZ,KAAd,EAAqBU,IAArB;AACD,KATQ;;AAUT;AACJ;AACA;AACA;AACA;AACIG,IAAAA,WAfS,uBAeGb,KAfH,EAeUU,IAfV,EAegB;AACvB;AACAV,MAAAA,KAAK,CAACO,MAAN,GAAeG,IAAf;AACD;AAlBQ,GAVE;AA8BbI,EAAAA,OAAO,EAAE;AACP;AACJ;AACA;AACA;AACI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,YAxBO,8BAwBmC;AAAA,UAA3Bf,KAA2B,QAA3BA,KAA2B;AAAA,UAApBgB,MAAoB,QAApBA,MAAoB;AAAA,UAAZC,QAAY,QAAZA,QAAY;AACxC,aAAOnB,WAAW,GAAGoB,IAAd,CAAmB,UAAAC,GAAG,EAAI;AAC/B,YAAIT,IAAI,GAAGS,GAAG,CAACC,MAAJ,CAAWV,IAAX,IAAmB,EAA9B;AACA,YAAIW,QAAQ,GAAGF,GAAG,CAAChB,KAAJ,IAAa,EAA5B;AACAa,QAAAA,MAAM,CAAC,aAAD,EAAgBG,GAAG,CAACC,MAAJ,CAAWV,IAA3B,CAAN;AACAM,QAAAA,MAAM,CAAC,aAAD,EAAgBK,QAAhB,CAAN;;AACA,YAAIC,KAAK,CAACC,OAAN,CAAcb,IAAI,CAACL,KAAnB,CAAJ,EAA+B;AAC7B,cAAIA,KAAK,GAAG,EAAZ;AACAK,UAAAA,IAAI,CAACL,KAAL,CAAWmB,OAAX,CAAmB,UAAAC,IAAI,EAAI;AACzB,gBAAI,QAAOA,IAAP,MAAgB,QAAhB,IAA4BA,IAAI,KAAK,IAAzC,EACEpB,KAAK,CAACqB,IAAN,CAAWD,IAAI,CAACE,OAAhB;AACH,WAHD;AAIA3B,UAAAA,KAAK,CAACK,KAAN,GAAcA,KAAd,CAN6B,CAMR;AACtB;AACF,OAbM,CAAP;AAcD,KAvCM;;AAwCP;AACJ;AACA;AACA;AACIuB,IAAAA,QA5CO,2BA4CqB;AAAA,UAAjB5B,KAAiB,SAAjBA,KAAiB;AAAA,UAAVgB,MAAU,SAAVA,MAAU;AAC1BjB,MAAAA,SAAS,GAAGmB,IAAZ,CAAiB,UAAAC,GAAG,EAAI;AACtB,YAAIT,IAAI,GAAGS,GAAG,CAACT,IAAJ,IAAY,EAAvB;AACA,YAAImB,QAAQ,GAAG,EAAf;AACA,YAAIC,cAAc,GAAG,CACnB;AACEC,UAAAA,IAAI,EAAE,MADR;AAEEC,UAAAA,MAAM,EAAE,0BAFV;AAGEC,UAAAA,MAAM,EAAE,oBAHV;AAIEC,UAAAA,GAAG,EAAE,CAJP;AAKEC,UAAAA,UAAU,EAAE,aALd;AAMEC,UAAAA,YAAY,EAAE;AANhB,SADmB,EASnB;AACEL,UAAAA,IAAI,EAAE,MADR;AAEEC,UAAAA,MAAM,EAAE,uBAFV;AAGEC,UAAAA,MAAM,EAAE,iBAHV;AAIEC,UAAAA,GAAG,EAAE,CAJP;AAKEC,UAAAA,UAAU,EAAE,aALd;AAMEC,UAAAA,YAAY,EAAE;AANhB,SATmB,EAiBnB;AACEL,UAAAA,IAAI,EAAE,MADR;AAEEC,UAAAA,MAAM,EAAE,wBAFV;AAGEC,UAAAA,MAAM,EAAE,kBAHV;AAIEC,UAAAA,GAAG,EAAE,CAJP;AAKEC,UAAAA,UAAU,EAAE,aALd;AAMEC,UAAAA,YAAY,EAAE;AANhB,SAjBmB,EAyBnB;AACEL,UAAAA,IAAI,EAAE,MADR;AAEEC,UAAAA,MAAM,EAAE,uBAFV;AAGEC,UAAAA,MAAM,EAAE,iBAHV;AAIEC,UAAAA,GAAG,EAAE,CAJP;AAKEC,UAAAA,UAAU,EAAE,WALd;AAMEC,UAAAA,YAAY,EAAE;AANhB,SAzBmB,CAArB;AAkCA1B,QAAAA,IAAI,CAACc,OAAL,CAAa,UAAAC,IAAI,EAAI;AACnBK,UAAAA,cAAc,CAACN,OAAf,CAAuB,UAAAa,KAAK,EAAI;AAC9B,gBAAIZ,IAAI,CAACa,GAAL,KAAaD,KAAK,CAACJ,MAAvB,EAA+B;AAC7BJ,cAAAA,QAAQ,CAACH,IAAT,CAAcW,KAAd;AACD;AACF,WAJD;AAKD,SAND;AAOAR,QAAAA,QAAQ,GAAGA,QAAQ,CAACU,IAAT,CAAc,UAACC,CAAD,EAAIC,CAAJ,EAAU;AACjC,iBAAOD,CAAC,CAACN,GAAF,GAAQO,CAAC,CAACP,GAAjB;AACD,SAFU,CAAX;AAGAL,QAAAA,QAAQ,CAACH,IAAT,CAAc;AACZK,UAAAA,IAAI,EAAE,IADM;AAEZC,UAAAA,MAAM,EAAE,mBAFI;AAGZG,UAAAA,UAAU,EAAE,QAHA;AAIZC,UAAAA,YAAY,EAAE;AAJF,SAAd;AAMAP,QAAAA,QAAQ,CAACa,GAAT,CAAa,UAACjB,IAAD,EAAOkB,KAAP,EAAiB;AAC5B,iBAAOhC,MAAM,CAACC,MAAP,CAAca,IAAd,EAAoB;AAAEmB,YAAAA,SAAS,EAAED;AAAb,WAApB,CAAP;AACD,SAFD;AAGA3B,QAAAA,MAAM,CAAC,aAAD,EAAgBa,QAAhB,CAAN;AACD,OAzDD;AA0DD;AAvGM;AA9BI,CAAf","sourcesContent":["// 用户模块\r\nimport Vue from 'vue';\r\n// import { updateModel } from '@/core/utils';\r\nimport { getUserInfo } from '../../api/base/user';\r\nimport { getTabbar } from '../../api/base/index';\r\n\r\n// export default {\r\n//   state: {},\r\n//   mutations: {\r\n//     /**\r\n//      * 设置用户信息\r\n//      * @param {Object} state 状态\r\n//      * @param {Object} data 用户信息\r\n//      */\r\n//     setUserInfo(state, data) {\r\n//       // 更新数据\r\n//       Object.assign(state, data);\r\n//     }\r\n//   },\r\n//   actions: {\r\n//     /**\r\n//      * 加载用户信息\r\n//      * @param {*} param0 提交\r\n//      */\r\n//     loadUserInfo({ state, commit, rootState }) {\r\n//       return Vue.axios.get('/logistical-front/getUserInfo').then(({ data }) => {\r\n//         commit('setUserInfo', data);\r\n//         rootState.hasUserInfo = true;\r\n//       });\r\n//     }\r\n//   }\r\n// };\r\n\r\nexport default {\r\n  state: {\r\n    jobnumber: '', // 工号\r\n    userName: '', // 用户名\r\n    menus: [],\r\n    orgName: '',\r\n    rules: [], // 按钮权限\r\n    roles: [], // 角色\r\n    plates: [] //板块\r\n  },\r\n  mutations: {\r\n    /**\r\n     * 设置用户信息\r\n     * @param {Object} state 状态\r\n     * @param {Object} data 用户信息\r\n     */\r\n    setUserInfo(state, data) {\r\n      // 更新数据\r\n      Object.assign(state, data);\r\n    },\r\n    /**\r\n     * 获取用户菜单\r\n     * @param {Object} state 状态\r\n     * @param {Object} data 用户信息\r\n     */\r\n    setMenuInfo(state, data) {\r\n      // 更新数据\r\n      state.plates = data;\r\n    }\r\n  },\r\n  actions: {\r\n    /**\r\n     * 加载用户信息\r\n     * @param {*} param0 提交\r\n     */\r\n    // loadUserInfo({ state, commit, dispatch }) {\r\n    //   return Vue.axios\r\n    //     .get('/teacher-admin/auth/dingTalk/getUserInfo')\r\n    //     .then(res => {\r\n    //       console.log('111', res);\r\n    //       getUserInfo().then(res2 => {\r\n    //         var data = res2.data || {};\r\n    //         commit('setUserInfo', res2.data);\r\n    //         if (Array.isArray(data.rules)) {\r\n    //           var rules = [];\r\n    //           data.rules.forEach(item => {\r\n    //             if (typeof item === 'object' && item !== null)\r\n    //               rules.push(item.itfCode);\r\n    //           });\r\n    //           state.rules = rules; //有权限的按钮名称\r\n    //         }\r\n    //       });\r\n    //     });\r\n    // },\r\n    loadUserInfo({ state, commit, dispatch }) {\r\n      return getUserInfo().then(res => {\r\n        var data = res.result.data || {};\r\n        var menuData = res.menus || [];\r\n        commit('setUserInfo', res.result.data);\r\n        commit('setMenuInfo', menuData);\r\n        if (Array.isArray(data.rules)) {\r\n          var rules = [];\r\n          data.rules.forEach(item => {\r\n            if (typeof item === 'object' && item !== null)\r\n              rules.push(item.itfCode);\r\n          });\r\n          state.rules = rules; //有权限的按钮名称\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 获取菜单权限\r\n     * @param {*} param0 提交\r\n     */\r\n    loadMenu({ state, commit }) {\r\n      getTabbar().then(res => {\r\n        var data = res.data || [];\r\n        let menuList = [];\r\n        let breadcrumbList = [\r\n          {\r\n            name: '教研活动',\r\n            routes: '/teaching-activity/index',\r\n            webUrl: '/teaching-activity',\r\n            num: 0,\r\n            activeIcon: 'jiaoyan_sel',\r\n            inActiveIcon: 'jiaoyan_nor'\r\n          },\r\n          {\r\n            name: '常规检查',\r\n            routes: '/normal-examine/index',\r\n            webUrl: '/normal-examine',\r\n            num: 1,\r\n            activeIcon: 'jiancha_sel',\r\n            inActiveIcon: 'jiancha_nor'\r\n          },\r\n          {\r\n            name: '教学研究',\r\n            routes: '/course-research/index',\r\n            webUrl: '/course-research',\r\n            num: 2,\r\n            activeIcon: 'jiaoxue_sel',\r\n            inActiveIcon: 'jiaoxue_nor'\r\n          },\r\n          {\r\n            name: '教师积分',\r\n            routes: '/teacher-points/index',\r\n            webUrl: '/teacher-points',\r\n            num: 3,\r\n            activeIcon: 'jifen_sel',\r\n            inActiveIcon: 'jifen_nor'\r\n          }\r\n        ];\r\n        data.forEach(item => {\r\n          breadcrumbList.forEach(value => {\r\n            if (item.url === value.webUrl) {\r\n              menuList.push(value);\r\n            }\r\n          });\r\n        });\r\n        menuList = menuList.sort((a, b) => {\r\n          return a.num - b.num;\r\n        });\r\n        menuList.push({\r\n          name: '我的',\r\n          routes: '/my-setting/index',\r\n          activeIcon: 'me_sel',\r\n          inActiveIcon: 'me_nor'\r\n        });\r\n        menuList.map((item, index) => {\r\n          return Object.assign(item, { activeNum: index });\r\n        });\r\n        commit('setMenuInfo', menuList);\r\n      });\r\n    }\r\n  }\r\n};\r\n"]}]}