{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/views/questDetail/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/views/questDetail/index.vue","mtime":1627979214339},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvZnV5dWV5aS9EZXNrdG9wL3ByYWN0aWNlL211dGlsd2FwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgU2VhcmNoTmF2IGZyb20gJy4uL2NvbXBvbmVudHMvc2VhcmNoTmF2JzsKaW1wb3J0IFF1ZXN0SXRlbSBmcm9tICcuLi9jb21wb25lbnRzL3F1ZXN0SXRlbSc7CmltcG9ydCBBbnN3ZXJEaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9hbnN3ZXJEaWFsb2cnOwppbXBvcnQgUXVlc3REaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9xdWVzdERpYWxvZy52dWUnOwppbXBvcnQgQW5zd2VySXRlbSBmcm9tICcuL2NvbXBvbmVudHMvYW5zd2VySXRlbS52dWUnOwppbXBvcnQgTG9nbyBmcm9tICcuLi9jb21wb25lbnRzL2xvZ28nOwppbXBvcnQgeyBnZXRRdWVzRGV0YWlscyBhcyBfZ2V0UXVlc0RldGFpbHMsIGdldEFuc3dlcnMgYXMgX2dldEFuc3dlcnMgfSBmcm9tICcuLi8uLi9hcGkvcXVlc3Rpb24nOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1F1ZXN0RGV0YWlsJywKICBjb21wb25lbnRzOiB7CiAgICBTZWFyY2hOYXY6IFNlYXJjaE5hdiwKICAgIFF1ZXN0SXRlbTogUXVlc3RJdGVtLAogICAgQW5zd2VyRGlhbG9nOiBBbnN3ZXJEaWFsb2csCiAgICBRdWVzdERpYWxvZzogUXVlc3REaWFsb2csCiAgICBBbnN3ZXJJdGVtOiBBbnN3ZXJJdGVtLAogICAgTG9nbzogTG9nbwogIH0sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtb2RlbDoge30sCiAgICAgIC8vIOmXrumimOivpuaDhQogICAgICBkYXRhOiBbXSwKICAgICAgLy8g6Zeu6aKY5a+55bqU5Zue562UCiAgICAgIHBhcmFtczogewogICAgICAgIC8vIGlkOiAnJywKICAgICAgICAvLyBhbnN3ZXI6ICcnLAogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgLy8g5b2T5YmN6aG1CiAgICAgICAgc2l6ZTogMjAgLy8g5q+P6aG15pi+56S65p2h5pWwCgogICAgICB9LAogICAgICBjdXJyZW50OiAxLAogICAgICAvLyDlvZPliY3kuZ/lkJcKICAgICAgcGFnZXM6IDEgLy8g5oC76aG15pWwCgogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvLyDpl67pophpZAogICAgaWQ6IGZ1bmN0aW9uIGlkKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcigpIHsKICAgICAgICB0aGlzLmdldFF1ZXNEZXRhaWxzKCk7CiAgICAgICAgdGhpcy5nZXRBbnN3ZXJzKCk7CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgICdwYXJhbXMuYW5zd2VyJzogZnVuY3Rpb24gcGFyYW1zQW5zd2VyKCkgewogICAgICB0aGlzLmRhdGEgPSBbXTsKICAgICAgdGhpcy5wYXJhbXMuY3VycmVudCA9IDE7IC8vIOW9k+WJjemhtQoKICAgICAgdGhpcy5nZXRRdWVzRGV0YWlscygpOwogICAgICB0aGlzLmdldEFuc3dlcnMoKTsKICAgIH0sCiAgICAncGFyYW1zLmN1cnJlbnQnOiBmdW5jdGlvbiBwYXJhbXNDdXJyZW50KCkgewogICAgICB0aGlzLmdldEFuc3dlcnMoKTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDojrflj5bmn6Xor6LmnaHku7YKICAgICAqLwogICAgZ2V0UGFyYW1zOiBmdW5jdGlvbiBnZXRQYXJhbXMoZGF0YSkgewogICAgICB0aGlzLnBhcmFtcy5hbnN3ZXIgPSBkYXRhOwogICAgICB0aGlzLnBhcmFtcyA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMucGFyYW1zKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bpl67popjor6bmg4UKICAgICAqLwogICAgZ2V0UXVlc0RldGFpbHM6IGZ1bmN0aW9uIGdldFF1ZXNEZXRhaWxzKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgX2dldFF1ZXNEZXRhaWxzKHsKICAgICAgICBpZDogdGhpcy5pZAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgX3RoaXMubW9kZWwgPSBkYXRhWzBdOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDojrflj5bpl67popjlr7nlupTnmoTmiYDmnInlm57nrZQKICAgICAqLwogICAgZ2V0QW5zd2VyczogZnVuY3Rpb24gZ2V0QW5zd2VycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnBhcmFtcy5pZCA9IHRoaXMuaWQ7CgogICAgICBfZ2V0QW5zd2Vycyh0aGlzLnBhcmFtcykudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgX3RoaXMyJGRhdGE7CgogICAgICAgIHZhciBkYXRhID0gX3JlZjIuZGF0YTsKCiAgICAgICAgKF90aGlzMiRkYXRhID0gX3RoaXMyLmRhdGEpLnB1c2guYXBwbHkoX3RoaXMyJGRhdGEsIF90b0NvbnN1bWFibGVBcnJheShkYXRhLnJlY29yZHMpKTsKCiAgICAgICAgX3RoaXMyLmN1cnJlbnQgPSBkYXRhLmN1cnJlbnQ7CiAgICAgICAgX3RoaXMyLnBhZ2VzID0gZGF0YS5wYWdlczsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog54K55Ye75YaZ5Zue562U5pi+56S655qE5by55qGGCiAgICAgKi8KICAgIGdldEFuc3dlclN0YXR1czogZnVuY3Rpb24gZ2V0QW5zd2VyU3RhdHVzKHZhbCkgewogICAgICB2YWwgJiYgdGhpcy4kcmVmcy5hbnN3ZXJEaWFsb2cuc2hvdygpOwogICAgfSwKCiAgICAvKioKICAgICAqIOeCueWHu+aPkOmXruWQjuaYvuekuueahOW8ueahhgogICAgICovCiAgICBnZXRRdWVzdFN0YXR1czogZnVuY3Rpb24gZ2V0UXVlc3RTdGF0dXModmFsKSB7CiAgICAgIHZhbCAmJiB0aGlzLiRyZWZzLnF1ZXN0RGlhbG9nLnNob3coKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiDnm5HlkKzmmK/lkKbmnInmlrDlm57nrZQKICAgICAqLwogICAgb25SZWZyZXNoQW5zd2VyOiBmdW5jdGlvbiBvblJlZnJlc2hBbnN3ZXIoZGF0YSkgewogICAgICBpZiAoZGF0YSkgewogICAgICAgIHRoaXMuZGF0YSA9IFtdOwogICAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnQgPSAxOyAvLyDlvZPliY3pobUKCiAgICAgICAgdGhpcy5nZXRBbnN3ZXJzKCk7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiAgICAgKiDnm5HlkKzliKDpmaTlm57nrZQKICAgICAqIOmXrumimOWIoOmZpOaIkOWKn+WQjuWIt+aWsOmhtemdogogICAgICovCiAgICBvblJlZnJlc2hRdWVzdDogZnVuY3Rpb24gb25SZWZyZXNoUXVlc3QoZGF0YSkgewogICAgICBpZiAoZGF0YSkgewogICAgICAgIHRoaXMub25CYWNrTGlzdCgpOwogICAgICB9CiAgICB9LAoKICAgIC8qKgogICAgICog6L+U5Zue6Zeu562U5YiX6KGoCiAgICAgKi8KICAgIG9uQmFja0xpc3Q6IGZ1bmN0aW9uIG9uQmFja0xpc3QoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICBwYXRoOiAnL3F1ZXN0LWxpc3QnCiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIOWKoOi9veabtOWkmgogICAgICovCiAgICBzaG93TW9yZTogZnVuY3Rpb24gc2hvd01vcmUoKSB7CiAgICAgIHRoaXMucGFyYW1zLmN1cnJlbnQrKzsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <logo></logo>\n    <div class=\"common-main answer-list-box\">\n      <search-nav\n        class=\"common-header\"\n        @quest=\"getQuestStatus\"\n        @questionInput=\"getParams\"\n        :isDetail=\"true\"\n        :placeholder=\"'请输入回答关键字'\"\n      ></search-nav>\n      <div class=\"tip-title\">{{ model.questionType }}</div>\n      <quest-item\n        @writeAnswer=\"getAnswerStatus\"\n        @refresh=\"onRefreshQuest\"\n        :model=\"model\"\n        :isSeeCount=\"false\"\n      ></quest-item>\n      <div v-if=\"data.length === 0\" class=\"null-tip\">\n        快来积极回答问题吧！\n      </div>\n      <div v-else>\n        <answer-item\n          v-for=\"(item, index) of data\"\n          :key=\"'answer' + index\"\n          :model=\"item\"\n          @refresh=\"onRefreshAnswer\"\n        ></answer-item>\n        <div class=\"more\" @click=\"showMore\">\n          <span v-if=\"current < pages\">加载更多</span>\n          <span v-else class=\"bottomText\">已经到底了哦</span>\n        </div>\n      </div>\n    </div>\n    <answer-dialog\n      ref=\"answerDialog\"\n      :model=\"model\"\n      @refresh=\"onRefreshAnswer\"\n    ></answer-dialog>\n    <quest-dialog ref=\"questDialog\"></quest-dialog>\n  </div>\n</template>\n\n<script>\nimport SearchNav from '../components/searchNav';\nimport QuestItem from '../components/questItem';\nimport AnswerDialog from '../components/answerDialog';\nimport QuestDialog from '../components/questDialog.vue';\nimport AnswerItem from './components/answerItem.vue';\nimport Logo from '../components/logo';\nimport { getQuesDetails, getAnswers } from '../../api/question';\nexport default {\n  name: 'QuestDetail',\n  components: {\n    SearchNav,\n    QuestItem,\n    AnswerDialog,\n    QuestDialog,\n    AnswerItem,\n    Logo\n  },\n  props: {},\n  data() {\n    return {\n      model: {}, // 问题详情\n      data: [], // 问题对应回答\n      params: {\n        // id: '',\n        // answer: '',\n        current: 1, // 当前页\n        size: 20 // 每页显示条数\n      },\n      current: 1, // 当前也吗\n      pages: 1 // 总页数\n    };\n  },\n  computed: {\n    // 问题id\n    id() {\n      return this.$route.query.id;\n    }\n  },\n  watch: {\n    id: {\n      handler() {\n        this.getQuesDetails();\n        this.getAnswers();\n      },\n      immediate: true\n    },\n    'params.answer'() {\n      this.data = [];\n      this.params.current = 1; // 当前页\n      this.getQuesDetails();\n      this.getAnswers();\n    },\n    'params.current'() {\n      this.getAnswers();\n    }\n  },\n  created() {},\n  mounted() {},\n  methods: {\n    /**\n     * 获取查询条件\n     */\n    getParams(data) {\n      this.params.answer = data;\n      this.params = Object.assign({}, this.params);\n    },\n    /**\n     * 获取问题详情\n     */\n    getQuesDetails() {\n      getQuesDetails({ id: this.id }).then(({ data }) => {\n        this.model = data[0];\n      });\n    },\n    /**\n     * 获取问题对应的所有回答\n     */\n    getAnswers() {\n      this.params.id = this.id;\n      getAnswers(this.params).then(({ data }) => {\n        this.data.push(...data.records);\n        this.current = data.current;\n        this.pages = data.pages;\n      });\n    },\n    /**\n     * 点击写回答显示的弹框\n     */\n    getAnswerStatus(val) {\n      val && this.$refs.answerDialog.show();\n    },\n    /**\n     * 点击提问后显示的弹框\n     */\n    getQuestStatus(val) {\n      val && this.$refs.questDialog.show();\n    },\n    /**\n     * 监听是否有新回答\n     */\n    onRefreshAnswer(data) {\n      if (data) {\n        this.data = [];\n        this.params.current = 1; // 当前页\n        this.getAnswers();\n      }\n    },\n    /**\n     * 监听删除回答\n     * 问题删除成功后刷新页面\n     */\n    onRefreshQuest(data) {\n      if (data) {\n        this.onBackList();\n      }\n    },\n    /**\n     * 返回问答列表\n     */\n    onBackList() {\n      this.$router.replace({\n        path: '/quest-list'\n      });\n    },\n    /**\n     * 加载更多\n     */\n    showMore() {\n      this.params.current++;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import url('../../assets/less/global/variable.less');\n.answer-list-box {\n  left: 0;\n  padding: 20px;\n  overflow-y: auto;\n}\n.tip-title {\n  width: fit-content;\n  height: 30px;\n  line-height: 30px;\n  margin-top: 10px;\n  padding: 0 15px;\n  background: rgba(187, 222, 251, 0.3);\n  border-radius: 15px;\n  color: rgba(38, 151, 255, 1);\n}\n.more {\n  color: @orangeColor;\n  cursor: pointer;\n  line-height: 30px;\n}\n.bottomText {\n  display: block;\n  width: 100%;\n  color: @mainColor;\n  text-align: center;\n}\n.null-tip {\n  text-align: center;\n  line-height: 60px;\n}\n</style>\n"],"sourceRoot":"src/pages/school-secret/views/questDetail"}]}