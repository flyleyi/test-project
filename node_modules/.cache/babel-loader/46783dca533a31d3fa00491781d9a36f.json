{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CDynamicForm/components/utils.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CDynamicForm/components/utils.js","mtime":1627979214237},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90eXBlb2YgZnJvbSAiL1VzZXJzL2Z1eXVleWkvRGVza3RvcC9wcmFjdGljZS9tdXRpbHdhcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CgpmdW5jdGlvbiB0cmVlRGF0YUNoYW5nZUZpZWxkKGFyckRhdGEsIHNldHRpbmdzKSB7CiAgLy/lr7nosaHmlbDnu4TmiJblr7nosaHlrZfmrrVrZXnkv67mlLkKICBzZXR0aW5ncyA9IHNldHRpbmdzIHx8IHt9OwogIHNldHRpbmdzLnJlZmVyID0gc2V0dGluZ3MucmVmZXIgPT09IHVuZGVmaW5lZCA/IDEgOiBzZXR0aW5ncy5yZWZlcjsKICB2YXIgZGF0YTsKCiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnJEYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXldJykgewogICAgLy/mlbDnu4QKICAgIGRhdGEgPSBbXTsKCiAgICBmb3IgKHZhciBpIGluIGFyckRhdGEpIHsKICAgICAgZGF0YS5wdXNoKHRyZWVEYXRhQ2hhbmdlRmllbGQoYXJyRGF0YVtpXSwgc2V0dGluZ3MpKTsKICAgIH0KICB9IGVsc2UgaWYgKGFyckRhdGEgJiYgX3R5cGVvZihhcnJEYXRhKSA9PT0gJ29iamVjdCcpIHsKICAgIC8v5a+56LGhCiAgICB2YXIgb3B0ID0gc2V0dGluZ3MuZGF0YTsKICAgIGRhdGEgPSB7fTsKCiAgICBmb3IgKHZhciBfaSBpbiBzZXR0aW5ncy5yZWZlciA/IGFyckRhdGEgOiBvcHQpIHsKICAgICAgaWYgKGFyckRhdGFbX2ldICE9PSB1bmRlZmluZWQpIHsKICAgICAgICBzZXR0aW5ncy5jb250YWluICYmIChkYXRhW19pXSA9IGFyckRhdGFbX2ldKTsgLy/ljIXlkKvljp/mlbDmja7miYDmnInlrZfmrrXvvIzlj6/og73kvJrooqvopobnm5YKCiAgICAgICAgaWYgKHR5cGVvZiBvcHRbX2ldID09ICdmdW5jdGlvbicpIHsKICAgICAgICAgIHZhciBvYmogPSBvcHRbX2ldKF9pLCBhcnJEYXRhW19pXSwgYXJyRGF0YSk7CgogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKSB7CiAgICAgICAgICAgIGRhdGFbb2JqWzBdXSA9IG9ialsxXTsKICAgICAgICAgIH0gZWxzZSBpZiAob2JqICYmIF90eXBlb2Yob2JqKSA9PT0gJ29iamVjdCcpIHsKICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBvYmopIHsKICAgICAgICAgICAgICBkYXRhW2pdID0gb2JqW2pdOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBpc0FyciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzZXR0aW5ncy50cmVlTm9kZXMpID09PSAnW29iamVjdCBBcnJheV0nOwogICAgICAgICAgdmFyIGtleSA9IG9wdFtfaV0gPyBvcHRbX2ldIDogX2k7CgogICAgICAgICAgaWYgKGlzQXJyKSB7CiAgICAgICAgICAgIGRhdGFba2V5XSA9IHNldHRpbmdzLnRyZWVOb2Rlcy5pbmRleE9mKF9pKSA+PSAwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZGF0YVtrZXldID0gIXNldHRpbmdzLnRyZWVOb2RlcyB8fCBzZXR0aW5ncy50cmVlTm9kZXMgPT09IF9pID8gdHJlZURhdGFDaGFuZ2VGaWVsZChhcnJEYXRhW19pXSwgc2V0dGluZ3MpIDogYXJyRGF0YVtfaV07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIGRhdGEgPSBhcnJEYXRhOwogIH0KCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIGRlbGV0ZUVtcHR5KHRyZWUsIHRyZWVOb2RlKSB7CiAgLy/liKDpmaR0cmVl6YeM56m65pWw57uECiAgdHJlZU5vZGUgPSB0cmVlTm9kZSB8fCAnY2hpbGRyZW4nOwoKICBmb3IgKHZhciBpIGluIHRyZWUpIHsKICAgIHZhciBpdGVtID0gdHJlZVtpXTsKCiAgICBpZiAoaXRlbVt0cmVlTm9kZV0gJiYgaXRlbVt0cmVlTm9kZV0ubGVuZ3RoIDwgMSkgewogICAgICBkZWxldGUgaXRlbVt0cmVlTm9kZV07CiAgICB9IGVsc2UgaWYgKGl0ZW1bdHJlZU5vZGVdICYmIGl0ZW1bdHJlZU5vZGVdLmxlbmd0aCA+IDApIHsKICAgICAgZGVsZXRlRW1wdHkoaXRlbVt0cmVlTm9kZV0sIHRyZWVOb2RlKTsKICAgIH0KICB9CgogIHJldHVybiB0cmVlOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgdHJlZURhdGFDaGFuZ2VGaWVsZDogdHJlZURhdGFDaGFuZ2VGaWVsZCwKICBkZWxldGVFbXB0eTogZGVsZXRlRW1wdHkKfTs="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CDynamicForm/components/utils.js"],"names":["treeDataChangeField","arrData","settings","refer","undefined","data","Object","prototype","toString","call","i","push","opt","contain","obj","j","isArr","treeNodes","key","indexOf","deleteEmpty","tree","treeNode","item","length"],"mappings":"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","sourcesContent":["function treeDataChangeField(arrData, settings) {\r\n  //对象数组或对象字段key修改\r\n  settings = settings || {};\r\n  settings.refer = settings.refer === undefined ? 1 : settings.refer;\r\n  var data;\r\n  if (Object.prototype.toString.call(arrData) === '[object Array]') {\r\n    //数组\r\n    data = [];\r\n    for (var i in arrData) {\r\n      data.push(treeDataChangeField(arrData[i], settings));\r\n    }\r\n  } else if (arrData && typeof arrData === 'object') {\r\n    //对象\r\n    var opt = settings.data;\r\n    data = {};\r\n    for (let i in settings.refer ? arrData : opt) {\r\n      if (arrData[i] !== undefined) {\r\n        settings.contain && (data[i] = arrData[i]); //包含原数据所有字段，可能会被覆盖\r\n        if (typeof opt[i] == 'function') {\r\n          var obj = opt[i](i, arrData[i], arrData);\r\n          if (Object.prototype.toString.call(obj) === '[object Array]') {\r\n            data[obj[0]] = obj[1];\r\n          } else if (obj && typeof obj === 'object') {\r\n            for (var j in obj) {\r\n              data[j] = obj[j];\r\n            }\r\n          }\r\n        } else {\r\n          var isArr =\r\n            Object.prototype.toString.call(settings.treeNodes) ===\r\n            '[object Array]';\r\n          let key = opt[i] ? opt[i] : i;\r\n          if (isArr) {\r\n            data[key] = settings.treeNodes.indexOf(i) >= 0;\r\n          } else {\r\n            data[key] =\r\n              !settings.treeNodes || settings.treeNodes === i\r\n                ? treeDataChangeField(arrData[i], settings)\r\n                : arrData[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    data = arrData;\r\n  }\r\n  return data;\r\n}\r\n\r\nfunction deleteEmpty(tree, treeNode) {\r\n  //删除tree里空数组\r\n  treeNode = treeNode || 'children';\r\n  for (var i in tree) {\r\n    var item = tree[i];\r\n    if (item[treeNode] && item[treeNode].length < 1) {\r\n      delete item[treeNode];\r\n    } else if (item[treeNode] && item[treeNode].length > 0) {\r\n      deleteEmpty(item[treeNode], treeNode);\r\n    }\r\n  }\r\n  return tree;\r\n}\r\n\r\nexport default {\r\n  treeDataChangeField,\r\n  deleteEmpty\r\n};\r\n"]}]}