{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/plugins/axios.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/plugins/axios.js","mtime":1627979214335},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9NZXNzYWdlMiBmcm9tICJlbGVtZW50LXVpL2xpYi90aGVtZS1jaGFsay9tZXNzYWdlLmNzcyI7CmltcG9ydCAiZWxlbWVudC11aS9saWIvdGhlbWUtY2hhbGsvYmFzZS5jc3MiOwppbXBvcnQgX01lc3NhZ2UgZnJvbSAiZWxlbWVudC11aS9saWIvbWVzc2FnZSI7Ci8vIGltcG9ydCBWdWUgZnJvbSAndnVlJzsKLy8gaW1wb3J0IHsgVG9hc3QsIERpYWxvZyB9IGZyb20gJ3ZhbnQnOwovLyBpbXBvcnQgYXhpb3MsIHsgYXhpb3NQbHVnaW4gfSBmcm9tICdAL3BsdWdpbnMvYXhpb3MuanMnOwovLyAvL2F4aW9z6ZSZ6K+v56CB5a+55bqU5omn6KGMZnVuY3Rpb24KLy8gY29uc3QgY29kZURlYWxzTWFwID0gewovLyAgICdTfDQwMyc6IHJlcyA9PiB7Ci8vICAgICBUb2FzdC5mYWlsKHsKLy8gICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCi8vICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAovLyAgICAgfSk7Ci8vICAgfSwKLy8gICAnRXw0MDQnOiAoZXJyLCBtZXNzYWdlKSA9PiB7Ci8vICAgICBUb2FzdC5mYWlsKHsKLy8gICAgICAgbWVzc2FnZSwKLy8gICAgICAgZHVyYXRpb246IDUgKiAxMDAwCi8vICAgICB9KTsKLy8gICB9LAovLyAgIEU6IChlcnIsIG1lc3NhZ2UpID0+IHsKLy8gICAgIFRvYXN0LmZhaWwoewovLyAgICAgICBtZXNzYWdlLAovLyAgICAgICBkdXJhdGlvbjogNSAqIDEwMDAKLy8gICAgIH0pOwovLyAgIH0KLy8gfTsKLy8gVnVlLnVzZShheGlvc1BsdWdpbiwgY29kZURlYWxzTWFwKTsKLy8gZXhwb3J0IGRlZmF1bHQgYXhpb3M7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnOwppbXBvcnQgYXhpb3NXaXRoSG9zdCwgeyBheGlvc1BsdWdpbiB9IGZyb20gJ0AvcGx1Z2lucy9heGlvcy5qcyc7CnZhciBjb2RlRGVhbHNNYXAgPSB7CiAgJ1N8NDAwJzogZnVuY3Rpb24gUzQwMChyZXMpIHsKICAgIF9NZXNzYWdlKHsKICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UsCiAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKICB9LAogICdTfDQwMyc6IGZ1bmN0aW9uIFM0MDMocmVzKSB7CiAgICBfTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlLAogICAgICB0eXBlOiAnZXJyb3InLAogICAgICBkdXJhdGlvbjogNSAqIDEwMDAKICAgIH0pOyAvLyDnmbvlh7oKCgogICAgc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0JykudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICBuYW1lOiAnTG9naW4nCiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAnU3w1MDAnOiBmdW5jdGlvbiBTNTAwKHJlcykgewogICAgX01lc3NhZ2UoewogICAgICBtZXNzYWdlOiByZXMubWVzc2FnZSwKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKICB9LAogICdFfDQwNCc6IGZ1bmN0aW9uIEU0MDQoZXJyLCBtZXNzYWdlKSB7CiAgICBfTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgfSk7CiAgfSwKICBTOiBmdW5jdGlvbiBTKF9yZWYpIHsKICAgIHZhciBtZXNzYWdlID0gX3JlZi5tZXNzYWdlOwoKICAgIF9NZXNzYWdlKHsKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgZHVyYXRpb246IDUgKiAxMDAwCiAgICB9KTsKICB9LAogIEU6IGZ1bmN0aW9uIEUoZXJyLCBtZXNzYWdlKSB7CiAgICBfTWVzc2FnZSh7CiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIGR1cmF0aW9uOiA1ICogMTAwMAogICAgfSk7CiAgfQp9OwpWdWUudXNlKGF4aW9zUGx1Z2luLCBjb2RlRGVhbHNNYXApOwpleHBvcnQgZGVmYXVsdCBheGlvc1dpdGhIb3N0Ow=="},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/plugins/axios.js"],"names":["Vue","router","store","axiosWithHost","axiosPlugin","codeDealsMap","res","message","type","duration","dispatch","then","push","name","err","S","E","use"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AAEA,OAAOC,aAAP,IAAwBC,WAAxB,QAA2C,oBAA3C;AACA,IAAMC,YAAY,GAAG;AACnB,WAAS,cAAAC,GAAG,EAAI;AACd,aAAQ;AACNC,MAAAA,OAAO,EAAED,GAAG,CAACC,OADP;AAENC,MAAAA,IAAI,EAAE,SAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR;AAKD,GAPkB;AAQnB,WAAS,cAAAH,GAAG,EAAI;AACd,aAAQ;AACNC,MAAAA,OAAO,EAAED,GAAG,CAACC,OADP;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR,EADc,CAMd;;;AACAP,IAAAA,KAAK,CAACQ,QAAN,CAAe,aAAf,EAA8BC,IAA9B,CAAmC,YAAM;AACvCV,MAAAA,MAAM,CAACW,IAAP,CAAY;AACVC,QAAAA,IAAI,EAAE;AADI,OAAZ;AAGD,KAJD;AAKD,GApBkB;AAqBnB,WAAS,cAAAP,GAAG,EAAI;AACd,aAAQ;AACNC,MAAAA,OAAO,EAAED,GAAG,CAACC,OADP;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR;AAKD,GA3BkB;AA4BnB,WAAS,cAACK,GAAD,EAAMP,OAAN,EAAkB;AACzB,aAAQ;AACNA,MAAAA,OAAO,EAAPA,OADM;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR;AAKD,GAlCkB;AAmCnBM,EAAAA,CAAC,EAAE,iBAAiB;AAAA,QAAdR,OAAc,QAAdA,OAAc;;AAClB,aAAQ;AACNA,MAAAA,OAAO,EAAPA,OADM;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR;AAKD,GAzCkB;AA0CnBO,EAAAA,CAAC,EAAE,WAACF,GAAD,EAAMP,OAAN,EAAkB;AACnB,aAAQ;AACNA,MAAAA,OAAO,EAAPA,OADM;AAENC,MAAAA,IAAI,EAAE,OAFA;AAGNC,MAAAA,QAAQ,EAAE,IAAI;AAHR,KAAR;AAKD;AAhDkB,CAArB;AAkDAT,GAAG,CAACiB,GAAJ,CAAQb,WAAR,EAAqBC,YAArB;AAEA,eAAeF,aAAf","sourcesContent":["// import Vue from 'vue';\r\n// import { Toast, Dialog } from 'vant';\r\n// import axios, { axiosPlugin } from '@/plugins/axios.js';\r\n// //axios错误码对应执行function\r\n// const codeDealsMap = {\r\n//   'S|403': res => {\r\n//     Toast.fail({\r\n//       message: res.message,\r\n//       duration: 5 * 1000\r\n//     });\r\n//   },\r\n//   'E|404': (err, message) => {\r\n//     Toast.fail({\r\n//       message,\r\n//       duration: 5 * 1000\r\n//     });\r\n//   },\r\n//   E: (err, message) => {\r\n//     Toast.fail({\r\n//       message,\r\n//       duration: 5 * 1000\r\n//     });\r\n//   }\r\n// };\r\n// Vue.use(axiosPlugin, codeDealsMap);\r\n// export default axios;\r\nimport Vue from 'vue';\r\nimport router from '../router';\r\nimport store from '../store';\r\nimport { Message } from 'element-ui';\r\nimport axiosWithHost, { axiosPlugin } from '@/plugins/axios.js';\r\nconst codeDealsMap = {\r\n  'S|400': res => {\r\n    Message({\r\n      message: res.message,\r\n      type: 'warning',\r\n      duration: 5 * 1000\r\n    });\r\n  },\r\n  'S|403': res => {\r\n    Message({\r\n      message: res.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    });\r\n    // 登出\r\n    store.dispatch('user/logout').then(() => {\r\n      router.push({\r\n        name: 'Login'\r\n      });\r\n    });\r\n  },\r\n  'S|500': res => {\r\n    Message({\r\n      message: res.message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    });\r\n  },\r\n  'E|404': (err, message) => {\r\n    Message({\r\n      message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    });\r\n  },\r\n  S: ({ message }) => {\r\n    Message({\r\n      message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    });\r\n  },\r\n  E: (err, message) => {\r\n    Message({\r\n      message,\r\n      type: 'error',\r\n      duration: 5 * 1000\r\n    });\r\n  }\r\n};\r\nVue.use(axiosPlugin, codeDealsMap);\r\n\r\nexport default axiosWithHost;\r\n"]}]}