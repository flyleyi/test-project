{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js!/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js??ref--13-0!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/store/modules/user.js","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/store/modules/user.js","mtime":1645178321122},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0IHsgRERMb2dpbiBhcyBfRERMb2dpbiwgbWFudWFsTG9naW4gYXMgX21hbnVhbExvZ2luLCBnZXRVc2VySW5mbyBhcyBfZ2V0VXNlckluZm8sIGdldENvcnBJZCB9IGZyb20gJy4uLy4uL2FwaS91c2VyL2luZGV4JzsKaW1wb3J0IHJvdXRlciBmcm9tICcuLi8uLi9yb3V0ZXIvaW5kZXgnOyAvLyDot6/nlLEKCmltcG9ydCB7IGdldFRva2VuLCBzZXRUb2tlbiwgcmVtb3ZlVG9rZW4gfSBmcm9tICcuLi8uLi8uLi8uLi9wbHVnaW5zL2NvcmUvYXV0aCc7CmltcG9ydCBkZCBmcm9tICdAL3BhZ2VzL2NhdGVyaW5nLWg1L3BsdWdpbnMvZGluZ3RhbGsnOyAvLyBpbXBvcnQgeyByZXNldFJvdXRlciB9IGZyb20gJy4uLy4uL3JvdXRlcic7Cgp2YXIgZGVmYXVsdFN0YXRlID0gZnVuY3Rpb24gZGVmYXVsdFN0YXRlKCkgewogIHJldHVybiB7CiAgICB0b2tlbjogZ2V0VG9rZW4oKSwKICAgIHN0YWZmTmFtZTogJycsCiAgICBzdGFmZkNvZGU6ICcnLAogICAgLy8g5bel5Y+3CiAgICBhdXRoOiAnJywKICAgIHJvbGVUeXBlSW5pdDogW10sCiAgICBoYXNVc2VySW5mbzogZmFsc2UsCiAgICByb2xlVHlwZTogJycsCiAgICAvL+inkuiJsuexu+WIqyAx77ya57O757uf566h55CG5ZGY77yMMu+8mumbhuWboueuoeeQhuWRmO+8jDPvvJrph4fotK3lkZjvvIw077ya5a6h5qC45ZGY77yMNe+8muWtpuagoeeuoeeQhuWRmO+8jDbvvJrmgLvkvpvlupTllYbvvIw377ya5Zyw5Yy65L6b5bqU5ZWG77yMOO+8muS7k+W6k+euoeeQhuWRmAoKICAgIC8qICAgJy9yZWNlaXZlLWdvb2RzLWxpc3QnLAogICAgJy9yZWNlaXZlLWdvb2RzLWRldGFpbC1saXN0JywKICAgICcvcmVjZWl2ZS1nb29kcy1kZXRhaWwtaW5mbycgKi8KICAgIHJvbGVQYXRoOiB7CiAgICAgICczJzogJy9yZWNlaXZlLWdvb2RzLWxpc3QnLAogICAgICAnNCc6ICcvYXBwcm92YWwtbGlzdCcsCiAgICAgICc4JzogJy9yZWNlaXZlLWdvb2RzLWxpc3QnLAogICAgICAnOSc6ICcvYXBwcm92YWwtcHJpY2UtbGlzdCcsCiAgICAgICc3JzogJy9yZXR1cm4tZ29vZHMtbGlzdCcsCiAgICAgICc2JzogJy9yZXR1cm4tZ29vZHMtbGlzdCcKICAgIH0sCiAgICByb2xlRGV0YWlsUGF0aDogewogICAgICAnNCc6ICcvYXBwcm92YWwtb3JkZXItZGV0YWlsJywKICAgICAgJzknOiAnL2FwcHJvdmFsLXByaWNlLWRldGFpbCcKICAgIH0KICB9Owp9OwoKdmFyIHN0YXRlID0gZGVmYXVsdFN0YXRlKCk7CnZhciBnZXR0ZXJzID0gewogIHJvbGVUeXBlOiBmdW5jdGlvbiByb2xlVHlwZShzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnJvbGVUeXBlOwogIH0sCiAgcm9sZVBhdGg6IGZ1bmN0aW9uIHJvbGVQYXRoKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucm9sZVBhdGg7CiAgfSwKICByb2xlRGV0YWlsUGF0aDogZnVuY3Rpb24gcm9sZURldGFpbFBhdGgoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5yb2xlRGV0YWlsUGF0aDsKICB9LAogIHJvbGVUeXBlSW5pdDogZnVuY3Rpb24gcm9sZVR5cGVJbml0KHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUucm9sZVR5cGVJbml0OwogIH0KfTsKdmFyIG11dGF0aW9ucyA9IHsKICBSRVNFVF9TVEFURTogZnVuY3Rpb24gUkVTRVRfU1RBVEUoc3RhdGUpIHsKICAgIE9iamVjdC5hc3NpZ24oc3RhdGUsIGRlZmF1bHRTdGF0ZSgpKTsKICB9LAogIFNFVF9UT0tFTjogZnVuY3Rpb24gU0VUX1RPS0VOKHN0YXRlLCB0b2tlbikgewogICAgc3RhdGUudG9rZW4gPSB0b2tlbjsKICB9LAogIFNFVF9OQU1FOiBmdW5jdGlvbiBTRVRfTkFNRShzdGF0ZSwgbmFtZSkgewogICAgc3RhdGUubmFtZSA9IG5hbWU7CiAgfSwKICBTRVRfQVZBVEFSOiBmdW5jdGlvbiBTRVRfQVZBVEFSKHN0YXRlLCBhdmF0YXIpIHsKICAgIHN0YXRlLmF2YXRhciA9IGF2YXRhcjsKICB9LAogIFNFVF9TVEFGRl9DT0RFOiBmdW5jdGlvbiBTRVRfU1RBRkZfQ09ERShzdGF0ZSwgc3RhZmZDb2RlKSB7CiAgICBzdGF0ZS5zdGFmZkNvZGUgPSBzdGFmZkNvZGU7CiAgfSwKICBTRVRfU1RBRkZfTkFNRTogZnVuY3Rpb24gU0VUX1NUQUZGX05BTUUoc3RhdGUsIHN0YWZmTmFtZSkgewogICAgc3RhdGUuc3RhZmZOYW1lID0gc3RhZmZOYW1lOwogIH0sCiAgU0VUX1JPTEVfVFlQRTogZnVuY3Rpb24gU0VUX1JPTEVfVFlQRShzdGF0ZSwgcm9sZVR5cGUpIHsKICAgIHN0YXRlLnJvbGVUeXBlID0gcm9sZVR5cGU7CiAgfSwKICBTRVRfUkVBRFlfVVNFUl9JTkZPOiBmdW5jdGlvbiBTRVRfUkVBRFlfVVNFUl9JTkZPKHN0YXRlKSB7CiAgICBzdGF0ZS5oYXNVc2VySW5mbyA9IHRydWU7CiAgfSwKICBTRVRfUk9MRV9UWVBFX0lOSVQ6IGZ1bmN0aW9uIFNFVF9ST0xFX1RZUEVfSU5JVChzdGF0ZSwgcm9sZVR5cGVJbml0KSB7CiAgICBzdGF0ZS5yb2xlVHlwZUluaXQgPSByb2xlVHlwZUluaXQ7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICAvLyB1c2VyIGxvZ2luCiAgRERMb2dpbjogZnVuY3Rpb24gRERMb2dpbihfcmVmKSB7CiAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLAogICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgZ2V0Q29ycElkKHt9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBjcm9wSWQgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGRkLnJlYWR5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRkLnJ1bnRpbWUucGVybWlzc2lvbi5yZXF1ZXN0QXV0aENvZGUoewogICAgICAgICAgICBjb3JwSWQ6IGNyb3BJZCwKICAgICAgICAgICAgb25TdWNjZXNzOiBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7CiAgICAgICAgICAgICAgX0RETG9naW4oewogICAgICAgICAgICAgICAgY29kZTogcmVzdWx0LmNvZGUKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICBjb21taXQoJ1NFVF9UT0tFTicsIGRhdGEpOwogICAgICAgICAgICAgICAgc2V0VG9rZW4oZGF0YSk7CiAgICAgICAgICAgICAgICBkaXNwYXRjaCgnZ2V0VXNlckluZm8nKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9uRmFpbDogZnVuY3Rpb24gb25GYWlsKGUpIHsKICAgICAgICAgICAgICByZWplY3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBtYW51YWxMb2dpbjogZnVuY3Rpb24gbWFudWFsTG9naW4oX3JlZjIsIHBhcmFtcykgewogICAgdmFyIGRpc3BhdGNoID0gX3JlZjIuZGlzcGF0Y2gsCiAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgcmV0dXJuIF9tYW51YWxMb2dpbihwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXNwb25zZS5kYXRhOwogICAgICAgIGNvbW1pdCgnU0VUX1RPS0VOJywgZGF0YSk7CiAgICAgICAgc2V0VG9rZW4oZGF0YSk7CiAgICAgICAgZGlzcGF0Y2goJ2dldFVzZXJJbmZvJykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICByZXNvbHZlKCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJlamVjdChlcnJvcik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICAvLyBnZXQgdXNlciBpbmZvCiAgZ2V0VXNlckluZm86IGZ1bmN0aW9uIGdldFVzZXJJbmZvKF9yZWYzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0LAogICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICBfZ2V0VXNlckluZm8oKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICByZXR1cm4gcmVqZWN0KCdWZXJpZmljYXRpb24gZmFpbGVkLCBwbGVhc2UgTG9naW4gYWdhaW4uJyk7CiAgICAgICAgfQoKICAgICAgICB2YXIgbmFtZSA9IGRhdGEubmFtZSwKICAgICAgICAgICAgYXZhdGFyID0gZGF0YS5hdmF0YXIsCiAgICAgICAgICAgIHJvbGVUeXBlID0gZGF0YS5yb2xlVHlwZSwKICAgICAgICAgICAgc3RhZmZOYW1lID0gZGF0YS5zdGFmZk5hbWUsCiAgICAgICAgICAgIHN0YWZmQ29kZSA9IGRhdGEuc3RhZmZDb2RlOwogICAgICAgIHJvbGVUeXBlID0gcm9sZVR5cGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICB2YXIgcm9sZUtleXMgPSBPYmplY3Qua2V5cyhzdGF0ZS5yb2xlUGF0aCk7CiAgICAgICAgICByZXR1cm4gcm9sZUtleXMuaW5jbHVkZXMoaXRlbSArICcnKTsKICAgICAgICB9KTsgLy8gY29tbWl0KCdTRVRfTkFNRScsIG5hbWUpOwogICAgICAgIC8vIGNvbW1pdCgnU0VUX0FWQVRBUicsIGF2YXRhcik7CgogICAgICAgIGNvbW1pdCgnU0VUX1NUQUZGX0NPREUnLCBzdGFmZkNvZGUpOwogICAgICAgIGNvbW1pdCgnU0VUX1NUQUZGX05BTUUnLCBzdGFmZk5hbWUpOwogICAgICAgIGNvbW1pdCgnU0VUX1JPTEVfVFlQRScsIHJvbGVUeXBlKTsKICAgICAgICBjb21taXQoJ1NFVF9ST0xFX1RZUEVfSU5JVCcsIHJvbGVUeXBlKTsKICAgICAgICBjb21taXQoJ1NFVF9SRUFEWV9VU0VSX0lORk8nKTsKCiAgICAgICAgaWYgKGRkLnZlcnNpb24pIHsKICAgICAgICAgIGlmIChyb2xlVHlwZS5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgIGRkLmJpei5uYXZpZ2F0aW9uLnNldFJpZ2h0KHsKICAgICAgICAgICAgICBzaG93OiB0cnVlLAogICAgICAgICAgICAgIC8v5o6n5Yi25oyJ6ZKu5pi+56S677yMIHRydWUg5pi+56S677yMIGZhbHNlIOmakOiXj++8jCDpu5jorqR0cnVlCiAgICAgICAgICAgICAgY29udHJvbDogdHJ1ZSwKICAgICAgICAgICAgICAvL+aYr+WQpuaOp+WItueCueWHu+S6i+S7tu+8jHRydWUg5o6n5Yi277yMZmFsc2Ug5LiN5o6n5Yi277yMIOm7mOiupGZhbHNlCiAgICAgICAgICAgICAgdGV4dDogJ+WIh+aNouinkuiJsicsCiAgICAgICAgICAgICAgLy/mjqfliLbmmL7npLrmlofmnKzvvIznqbrlrZfnrKbkuLLooajnpLrmmL7npLrpu5jorqTmlofmnKwKICAgICAgICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHsKICAgICAgICAgICAgICAgIC8v5aaC5p6cY29udHJvbOS4unRydWXvvIzliJlvblN1Y2Nlc3PlsIblnKjlj5HnlJ/mjInpkq7ngrnlh7vkuovku7booqvlm57osIMKCiAgICAgICAgICAgICAgICAvKgogICAgICAgICAgICAgICAge30KICAgICAgICAgICAgICAgICovCiAgICAgICAgICAgICAgICByb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6ICcvY2hvb3NlLWlkZW50aXR5JwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvbkZhaWw6IGZ1bmN0aW9uIG9uRmFpbChlcnIpIHt9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgcmVqZWN0KGVycm9yKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIC8vIHVzZXIgbG9nb3V0CiAgbG9nb3V0OiBmdW5jdGlvbiBsb2dvdXQoX3JlZjQpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNC5jb21taXQsCiAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKICAgIC8vIHJlc2V0Um91dGVyKCk7CgogICAgY29tbWl0KCdSRVNFVF9TVEFURScpOyAvLyByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogICAgLy8gICBsb2dvdXQoc3RhdGUudG9rZW4pCiAgICAvLyAgICAgLnRoZW4oKCkgPT4gewogICAgLy8gICAgICAgcmVtb3ZlVG9rZW4oKTsgLy8gbXVzdCByZW1vdmUgIHRva2VuICBmaXJzdAogICAgLy8gICAgICAgcmVzZXRSb3V0ZXIoKTsKICAgIC8vICAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgIC8vICAgICAgIHJlc29sdmUoKTsKICAgIC8vICAgICB9KQogICAgLy8gICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAvLyAgICAgICByZWplY3QoZXJyb3IpOwogICAgLy8gICAgIH0pOwogICAgLy8gfSk7CiAgfSwKICAvLyByZW1vdmUgdG9rZW4KICByZXNldFRva2VuOiBmdW5jdGlvbiByZXNldFRva2VuKF9yZWY1KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjUuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7CiAgICAgIHJlbW92ZVRva2VuKCk7IC8vIG11c3QgcmVtb3ZlICB0b2tlbiAgZmlyc3QKCiAgICAgIGNvbW1pdCgnUkVTRVRfU1RBVEUnKTsKICAgICAgcmVzb2x2ZSgpOwogICAgfSk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZXNwYWNlZDogdHJ1ZSwKICBzdGF0ZTogc3RhdGUsCiAgZ2V0dGVyczogZ2V0dGVycywKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/store/modules/user.js"],"names":["DDLogin","manualLogin","getUserInfo","getCorpId","router","getToken","setToken","removeToken","dd","defaultState","token","staffName","staffCode","auth","roleTypeInit","hasUserInfo","roleType","rolePath","roleDetailPath","state","getters","mutations","RESET_STATE","Object","assign","SET_TOKEN","SET_NAME","name","SET_AVATAR","avatar","SET_STAFF_CODE","SET_STAFF_NAME","SET_ROLE_TYPE","SET_READY_USER_INFO","SET_ROLE_TYPE_INIT","actions","dispatch","commit","Promise","resolve","reject","then","response","cropId","data","ready","runtime","permission","requestAuthCode","corpId","onSuccess","result","code","res","onFail","e","params","catch","error","filter","item","roleKeys","keys","includes","version","length","biz","navigation","setRight","show","control","text","push","path","err","logout","resetToken","namespaced"],"mappings":"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","sourcesContent":["import {\n  DDLogin,\n  manualLogin,\n  getUserInfo,\n  getCorpId\n} from '../../api/user/index';\nimport router from '../../router/index'; // 路由\nimport { getToken, setToken, removeToken } from '../../../../plugins/core/auth';\nimport dd from '@/pages/catering-h5/plugins/dingtalk';\n\n// import { resetRouter } from '../../router';\nconst defaultState = () => {\n  return {\n    token: getToken(),\n    staffName: '',\n    staffCode: '', // 工号\n    auth: '',\n    roleTypeInit: [],\n    hasUserInfo: false,\n    roleType: '', //角色类别 1：系统管理员，2：集团管理员，3：采购员，4：审核员，5：学校管理员，6：总供应商，7：地区供应商，8：仓库管理员\n    /*   '/receive-goods-list',\n  '/receive-goods-detail-list',\n  '/receive-goods-detail-info' */\n    rolePath: {\n      '3': '/receive-goods-list',\n      '4': '/approval-list',\n      '8': '/receive-goods-list',\n      '9': '/approval-price-list',\n      '7': '/return-goods-list',\n      '6': '/return-goods-list'\n    },\n    roleDetailPath: {\n      '4': '/approval-order-detail',\n      '9': '/approval-price-detail'\n    }\n  };\n};\nconst state = defaultState();\n\nconst getters = {\n  roleType: state => state.roleType,\n  rolePath: state => state.rolePath,\n  roleDetailPath: state => state.roleDetailPath,\n  roleTypeInit: state => state.roleTypeInit\n};\n\nconst mutations = {\n  RESET_STATE: state => {\n    Object.assign(state, defaultState());\n  },\n  SET_TOKEN: (state, token) => {\n    state.token = token;\n  },\n  SET_NAME: (state, name) => {\n    state.name = name;\n  },\n  SET_AVATAR: (state, avatar) => {\n    state.avatar = avatar;\n  },\n  SET_STAFF_CODE: (state, staffCode) => {\n    state.staffCode = staffCode;\n  },\n  SET_STAFF_NAME: (state, staffName) => {\n    state.staffName = staffName;\n  },\n  SET_ROLE_TYPE: (state, roleType) => {\n    state.roleType = roleType;\n  },\n  SET_READY_USER_INFO: state => {\n    state.hasUserInfo = true;\n  },\n  SET_ROLE_TYPE_INIT: (state, roleTypeInit) => {\n    state.roleTypeInit = roleTypeInit;\n  }\n};\n\nconst actions = {\n  // user login\n  DDLogin({ dispatch, commit }) {\n    return new Promise((resolve, reject) => {\n      getCorpId({}).then(response => {\n        const cropId = response.data;\n        dd.ready(function() {\n          dd.runtime.permission.requestAuthCode({\n            corpId: cropId,\n            onSuccess: result => {\n              DDLogin({ code: result.code }).then(res => {\n                const { data } = res;\n                commit('SET_TOKEN', data);\n                setToken(data);\n                dispatch('getUserInfo').then(res => {\n                  resolve();\n                });\n              });\n            },\n            onFail: e => {\n              reject();\n            }\n          });\n        });\n      });\n    });\n  },\n  manualLogin({ dispatch, commit }, params) {\n    return new Promise((resolve, reject) => {\n      return manualLogin(params)\n        .then(response => {\n          const { data } = response;\n          commit('SET_TOKEN', data);\n          setToken(data);\n          dispatch('getUserInfo').then(res => {\n            resolve();\n          });\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n\n  // get user info\n  getUserInfo({ commit, state }) {\n    return new Promise((resolve, reject) => {\n      getUserInfo()\n        .then(response => {\n          const { data } = response;\n\n          if (!data) {\n            return reject('Verification failed, please Login again.');\n          }\n          let { name, avatar, roleType, staffName, staffCode } = data;\n          roleType = roleType.filter(item => {\n            const roleKeys = Object.keys(state.rolePath);\n            return roleKeys.includes(item + '');\n          });\n          // commit('SET_NAME', name);\n          // commit('SET_AVATAR', avatar);\n          commit('SET_STAFF_CODE', staffCode);\n          commit('SET_STAFF_NAME', staffName);\n          commit('SET_ROLE_TYPE', roleType);\n          commit('SET_ROLE_TYPE_INIT', roleType);\n          commit('SET_READY_USER_INFO');\n          if (dd.version) {\n            if (roleType.length > 1) {\n              dd.biz.navigation.setRight({\n                show: true, //控制按钮显示， true 显示， false 隐藏， 默认true\n                control: true, //是否控制点击事件，true 控制，false 不控制， 默认false\n                text: '切换角色', //控制显示文本，空字符串表示显示默认文本\n                onSuccess: result => {\n                  //如果control为true，则onSuccess将在发生按钮点击事件被回调\n                  /*\n                  {}\n                  */\n                  router.push({\n                    path: '/choose-identity'\n                  });\n                },\n                onFail: function(err) {}\n              });\n            }\n          }\n\n          resolve(data);\n        })\n        .catch(error => {\n          reject(error);\n        });\n    });\n  },\n\n  // user logout\n  logout({ commit, state }) {\n    removeToken(); // must remove  token  first\n    // resetRouter();\n    commit('RESET_STATE');\n    // return new Promise((resolve, reject) => {\n    //   logout(state.token)\n    //     .then(() => {\n    //       removeToken(); // must remove  token  first\n    //       resetRouter();\n    //       commit('RESET_STATE');\n    //       resolve();\n    //     })\n    //     .catch(error => {\n    //       reject(error);\n    //     });\n    // });\n  },\n\n  // remove token\n  resetToken({ commit }) {\n    return new Promise(resolve => {\n      removeToken(); // must remove  token  first\n      commit('RESET_STATE');\n      resolve();\n    });\n  }\n};\n\nexport default {\n  namespaced: true,\n  state,\n  getters,\n  mutations,\n  actions\n};\n"]}]}