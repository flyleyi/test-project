{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"catering-add-order\"],{\"05f4\":function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"m-table\"},[a(\"el-table\",e._g(e._b({ref:\"table\"},\"el-table\",e.$props,!1),e.$listeners),[e._l(e.headers,(function(t,n){return[\"btns\"!=t.colType||t.hidden?\"column\"!=t.colType||t.hidden?t.hidden?e._e():a(\"el-table-column\",e._b({key:n},\"el-table-column\",t,!1)):a(\"el-table-column\",e._b({key:n,scopedSlots:e._u([{key:\"default\",fn:function(a){return[e._t(\"column|\"+(t.slotName||t.prop),null,{row:a.row,$index:a.$index})]}}],null,!0)},\"el-table-column\",t,!1)):a(\"el-table-column\",e._b({key:n,scopedSlots:e._u([{key:\"default\",fn:function(n){return e._l(t.btns,(function(t,r){return a(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.isShowButton(n.row,n.$index,t),expression:\"isShowButton(scope.row, scope.$index, btn)\"}],key:r,attrs:{size:t.size,type:t.type},on:{click:function(e){return e.stopPropagation(),t.click(n.row,n.$index,r)}}},[e._v(e._s(t.label))])}))}}],null,!0)},\"el-table-column\",t,!1))]}))],2)],1)},r=[],i=(a(\"5466\"),a(\"450d\"),a(\"ecdf\")),o=a.n(i),l=(a(\"38a0\"),a(\"ad41\")),c=a.n(l),s=(a(\"1951\"),a(\"eedf\")),d=a.n(s),u=(a(\"a9e3\"),{headers:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},height:{type:[Number,String]},maxHeight:{type:[Number,String]},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!1},size:{type:String,default:\"medium\"},fit:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!0},currentRowKey:{type:[String,Number]},rowClassName:{type:[Function,String]},rowStyle:{type:[Function,Object]},cellClassName:{type:[Function,String]},cellStyle:{type:[Function,Object]},headerRowClassName:{type:[Function,String]},headerRowStyle:{type:[Function,Object]},headerCellClassName:{type:[Function,String]},headerCellStyle:{type:[Function,Object]},rowKey:{type:[Function,String]},emptyText:{type:String,default:\"暂无数据\"},defaultExpandAll:{type:Boolean,default:!1},expandRowKeys:{type:Array},defaultSort:{type:Object},tooltipEffect:{type:String},showSummary:{type:Boolean,default:!1},sumText:{type:String,default:\"合计\"},summaryMethod:{type:Function},spanMethod:{type:Function},selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},lazy:{type:Boolean},load:{type:Function},treeProps:{type:Object}}),m=u,p={name:\"CTable\",components:{ElButton:d.a,ElTable:c.a,ElTableColumn:o.a},props:m,activated:function(){this.doLayout()},methods:{doLayout:function(){var e=this;this.$nextTick((function(){e.$refs.table&&e.$refs.table.doLayout()}))},isShowButton:function(e,t,a){var n=a.hidden;return\"function\"===typeof n?!n(e,t,a):!n}}},f=p,h=(a(\"b032\"),a(\"2877\")),g=Object(h[\"a\"])(f,n,r,!1,null,\"5ed8e428\",null);t[\"a\"]=g.exports},\"0a6f\":function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return n})),a.d(t,\"b\",(function(){return r}));a(\"ac1f\"),a(\"5319\"),a(\"1276\");function n(e,t,a){e=String(e),e=e.replace(/[^\\d.]/g,\"\"),e=e.replace(/\\.{2,}/g,\".\"),e=e.replace(\".\",\"$#$\").replace(/\\./g,\"\").replace(\"$#$\",\".\"),e=e.replace(/^(\\\\-)*(\\d+)\\.(\\d\\d).*$/,\"$1$2.$3\"),e=e.indexOf(\".\")>0?e.split(\".\")[0].substring(0,6)+\".\"+e.split(\".\")[1]:e.substring(0,6),e.indexOf(\".\")<0&&\"\"!=e&&(e=parseFloat(e)),this.$set(t,a,e)}function r(e,t,a){e=e.replace(/[\\u4e00-\\u9fa5]+/g,\"\"),e=e.replace(/[^\\d.]/g,\"\"),e=e.replace(/^\\./g,\"\"),e=e.replace(\".\",\"$#$\").replace(/\\./g,\"\").replace(\"$#$\",\".\"),e=e.replace(/^\\D*(\\d{1,4}(?:\\.\\d{0,2})?).*$/g,\"$1\"),this.$set(t,a,e)}},3040:function(e,t,a){\"use strict\";var n=a(\"bd6a\"),r=a.n(n);r.a},\"3bcd\":function(e,t,a){e.exports=a.p+\"img/empty.aadaecc5.png\"},\"459f\":function(e,t,a){\"use strict\";a.d(t,\"t\",(function(){return r})),a.d(t,\"k\",(function(){return i})),a.d(t,\"a\",(function(){return o})),a.d(t,\"u\",(function(){return l})),a.d(t,\"b\",(function(){return c})),a.d(t,\"n\",(function(){return s})),a.d(t,\"j\",(function(){return d})),a.d(t,\"s\",(function(){return u})),a.d(t,\"e\",(function(){return m})),a.d(t,\"p\",(function(){return p})),a.d(t,\"m\",(function(){return f})),a.d(t,\"i\",(function(){return h})),a.d(t,\"r\",(function(){return g})),a.d(t,\"h\",(function(){return b})),a.d(t,\"g\",(function(){return y})),a.d(t,\"q\",(function(){return v})),a.d(t,\"l\",(function(){return T})),a.d(t,\"f\",(function(){return S})),a.d(t,\"d\",(function(){return D})),a.d(t,\"o\",(function(){return O})),a.d(t,\"c\",(function(){return C}));a(\"99af\");var n=a(\"be3b\");function r(e){return Object(n[\"b\"])({url:\"/nutrientIngestionStandard/saveNutrientIngestionStandard\",method:\"POST\",data:e||{}},\"cater\")}function i(e){return Object(n[\"b\"])({url:\"/nutrientIngestionStandard/standardList\",method:\"GET\",data:e||{}},\"cater\")}function o(e){return Object(n[\"b\"])({url:\"/nutrient/deleteNutrient?id=\"+e,method:\"POST\"},\"cater\")}function l(e){return Object(n[\"b\"])({url:\"/nutrient/disableNutrient\",method:\"POST\",data:e||{}},\"cater\")}function c(e){return Object(n[\"b\"])({url:\"/nutrient/getAllNutrient\",method:\"GET\",data:e||{}},\"cater\")}function s(e){return Object(n[\"b\"])({url:\"/nutrient/getVisibleNutrient\",method:\"GET\",data:e||{}},\"cater\")}function d(e){return Object(n[\"b\"])({url:\"/nationalNutrientIngestion/getNationalNutrientList\",method:\"GET\",data:e||{}},\"cater\")}function u(e){return Object(n[\"b\"])({url:\"/nationalNutrientIngestion/saveNationalNutrient\",method:\"POST\",data:e||{}},\"cater\")}function m(e){return Object(n[\"b\"])({url:\"/foodCategoryIngestion/getFoodCategoryIngestionList\",method:\"GET\",data:e||{}},\"cater\")}function p(e){return Object(n[\"b\"])({url:\"/foodCategoryIngestion/saveFoodCategoryIngestion\",method:\"POST\",data:e||{}},\"cater\")}function f(e){return Object(n[\"b\"])({url:\"/userSchoolPower/getUserSchoolPower\",method:\"GET\",data:e||{}},\"cater\")}function h(e){return Object(n[\"b\"])({url:\"/mealStudent/getMealStudentList?deptId=\"+e,method:\"GET\",data:e||{}},\"cater\")}function g(e){return Object(n[\"b\"])({url:\"/mealStudent/saveMealStudent\",method:\"POST\",data:e||{}},\"cater\")}function b(e){return Object(n[\"b\"])({url:\"/ingredient/getIngredientTree?nameOrPinyinHeader=\".concat(e.nameOrPinyinHeader,\"&status=\").concat(e.status),method:\"GET\",data:e||{}},\"cater\")}function y(e){return Object(n[\"b\"])({url:\"/ingredient/getIngredientInfo?ingredientId=\"+e,method:\"GET\"},\"cater\")}function v(e){return Object(n[\"b\"])({url:\"/ingredient/saveIngredientInfo\",method:\"POST\",data:e||{}},\"cater\")}function T(){return Object(n[\"b\"])({url:\"/ingredient/unreferencedList\",method:\"GET\"},\"cater\")}function S(){return Object(n[\"b\"])({url:\"/nutrient/formula\",method:\"GET\"},\"cater\")}function D(){return Object(n[\"b\"])({url:\"/dingRoomSet/page\",method:\"GET\"},\"cater\")}function O(e){return Object(n[\"b\"])({url:\"/dingRoomSet/edit\",method:\"POST\",data:e||{}},\"cater\")}function C(e){return Object(n[\"b\"])({url:\"/dingRoomSet/schoolGrad\",method:\"GET\",params:e},\"cater\")}},b032:function(e,t,a){\"use strict\";var n=a(\"f166\"),r=a.n(n);r.a},bd6a:function(e,t,a){},bee2:function(e,t,a){\"use strict\";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,\"a\",(function(){return r}))},d4ec:function(e,t,a){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}a.d(t,\"a\",(function(){return n}))},d643:function(e,t,a){\"use strict\";a.d(t,\"c\",(function(){return r})),a.d(t,\"z\",(function(){return i})),a.d(t,\"a\",(function(){return o})),a.d(t,\"x\",(function(){return l})),a.d(t,\"f\",(function(){return c})),a.d(t,\"q\",(function(){return s})),a.d(t,\"r\",(function(){return d})),a.d(t,\"i\",(function(){return u})),a.d(t,\"s\",(function(){return m})),a.d(t,\"p\",(function(){return p})),a.d(t,\"e\",(function(){return f})),a.d(t,\"y\",(function(){return h})),a.d(t,\"A\",(function(){return g})),a.d(t,\"D\",(function(){return b})),a.d(t,\"B\",(function(){return y})),a.d(t,\"m\",(function(){return v})),a.d(t,\"n\",(function(){return T})),a.d(t,\"l\",(function(){return S})),a.d(t,\"o\",(function(){return D})),a.d(t,\"t\",(function(){return O})),a.d(t,\"v\",(function(){return C})),a.d(t,\"u\",(function(){return k})),a.d(t,\"w\",(function(){return w})),a.d(t,\"g\",(function(){return j})),a.d(t,\"h\",(function(){return I})),a.d(t,\"b\",(function(){return N})),a.d(t,\"d\",(function(){return L})),a.d(t,\"j\",(function(){return x})),a.d(t,\"k\",(function(){return P})),a.d(t,\"C\",(function(){return _}));var n=a(\"be3b\");function r(){return Object(n[\"b\"])({url:\"/provinceCityDistrict/baseTreeWithPowerSchool\",method:\"GET\",params:{}},\"cater\")}function i(){return Object(n[\"b\"])({url:\"/provinceCityDistrict/schoolTree\",method:\"GET\",params:{}},\"cater\")}function o(e){return Object(n[\"b\"])({url:\"/approve/order\",method:\"POST\",data:e},\"cater\")}function l(e){return Object(n[\"b\"])({url:\"/order/saveOrderAndContent\",method:\"POST\",data:e},\"cater\")}function c(e){return Object(n[\"b\"])({url:\"/order/deleteOrder/\".concat(e.orderId),method:\"POST\",data:{}},\"cater\")}function s(e){return Object(n[\"b\"])({url:\"/order/orderContentForSelect\",method:\"GET\",params:e},\"cater\")}function d(e){return Object(n[\"b\"])({url:\"/order/orderContentForSelectIngredient\",method:\"GET\",params:e},\"cater\")}function u(e){return Object(n[\"b\"])({url:\"/order/orderBase/\".concat(e.orderId),method:\"GET\",params:{}},\"cater\")}function m(e){return Object(n[\"b\"])({url:\"/order/orderStatistics\",method:\"GET\",params:e},\"cater\")}function p(e){return Object(n[\"b\"])({url:\"/order/orderContentForPage\",method:\"GET\",params:e},\"cater\")}function f(e){return Object(n[\"b\"])({url:\"/order/commonOrderContentForPage\",method:\"GET\",params:e},\"cater\")}function h(e){return Object(n[\"b\"])({url:\"/order/saveOrderBase\",method:\"POST\",data:e},\"cater\")}function g(e){return Object(n[\"b\"])({responseType:\"blob\",url:\"/export/supplierOrderContentExcel\",method:\"GET\",params:e},\"cater\")}function b(e){return Object(n[\"b\"])({url:\"/supplierOrder/supplierOrderPage\",method:\"GET\",params:e},\"cater\")}function y(e){return Object(n[\"b\"])({url:\"/supplierOrder/supplierOrderContentPage\",method:\"GET\",params:e},\"cater\")}function v(e){return Object(n[\"b\"])({url:\"/purchaseOrder/getPurchaseOrderList\",method:\"POST\",data:e},\"cater\")}function T(e){return Object(n[\"b\"])({url:\"/orderOperationRecord/getRecord\",method:\"GET\",params:e},\"cater\")}function S(e){return Object(n[\"b\"])({url:\"/purchaseOrder/getPurchaseOrderGlobal\",method:\"POST\",data:e},\"cater\")}function D(e){return Object(n[\"b\"])({url:\"/supplierOrder/supplierOrderGlobal\",method:\"GET\",params:e},\"cater\")}function O(e){return Object(n[\"b\"])({responseType:\"blob\",url:\"/purchaseOrder/purchaseExport\",method:\"POST\",data:e},\"cater\")}function C(e){return Object(n[\"b\"])({responseType:\"blob\",url:\"/export/purchaseOrderExcel\",method:\"GET\",params:e},\"cater\")}function k(e){return Object(n[\"b\"])({responseType:\"blob\",url:\"/export/purchaseOrderDetailExcel\",method:\"GET\",params:e},\"cater\")}function w(e){return Object(n[\"b\"])({responseType:\"blob\",url:\"/export/purchasePreviewExcel\",method:\"GET\",params:e},\"cater\")}function j(e){return Object(n[\"b\"])({url:\"/dictionary/getStatusInfo\",method:\"GET\",params:e},\"cater\")}function I(e){return Object(n[\"b\"])({url:\"/order/getOrderContentArrivalDateList\",method:\"GET\",params:e},\"cater\")}function N(e){return Object(n[\"b\"])({url:\"/approve/orderDetail\",method:\"POST\",data:e},\"cater\")}function L(e){return Object(n[\"b\"])({url:\"/approve/batchReceived\",method:\"POST\",data:e},\"cater\")}function x(e){return Object(n[\"b\"])({url:\"/orderContentDetail/getOrderDetailInfo\",method:\"GET\",params:e},\"cater\")}function P(e){return Object(n[\"b\"])({url:\"/order/getOrderIsWithdrawn\",method:\"GET\",params:e},\"cater\")}function _(e){return Object(n[\"b\"])({url:\"/export/supplierOrderListContentExcel\",method:\"GET\",responseType:\"blob\",params:e},\"cater\")}},d77d:function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"add-wrapper\"},[n(\"div\",{staticClass:\"order-top\"},[n(\"div\",{staticClass:\"order-header clearfix\"},[e._v(\" \"+e._s(\"/order/edit-order\"===e.$route.path?\"编辑订单\":\"新建订单\")+\" \"),n(\"div\",{staticClass:\"order-btn\"},[n(\"el-button\",{staticClass:\"order-btn-item\",attrs:{disabled:!e.formData.schoolBranchCode||!e.formData.orderStatus,type:\"primary\",plain:\"\"},on:{click:e.saveOrderAndContent}},[e._v(\" 保存草稿 \")]),n(\"el-button\",{staticClass:\"order-btn-item\",attrs:{disabled:!e.formData.schoolBranchCode||!e.formData.orderStatus,type:\"primary\"},on:{click:e.previewAndSubmit}},[e._v(\" 预览并提交 \")])],1)]),n(\"div\",{staticClass:\"form-wrapper new-order-form\"},[n(\"c-dynamic-form\",{ref:\"cDynamicForm\",attrs:{\"form-data\":e.formData,\"form-items\":e.formItems,\"form-attrs\":e.formAttrs},on:{\"change-model\":function(t){return e.formData=t}}})],1)]),n(\"div\",{staticClass:\"order-bottom\"},[n(\"div\",{staticClass:\"order-tabs\"},[n(\"el-tabs\",{on:{\"tab-click\":e.handleTabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:\"activeName\"}},e._l(e.tabs,(function(t){return n(\"el-tab-pane\",{key:t.name,attrs:{label:t.label+\"采购\",name:t.name}},[n(\"div\",{staticClass:\"clearfix table-top\"},[n(\"span\",{staticClass:\"floatL\"},[e._v(\" 状态： \"),n(\"el-select\",{attrs:{placeholder:\"状态\"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.outOfStockStatu,callback:function(t){e.outOfStockStatu=t},expression:\"outOfStockStatu\"}},e._l(e.outOfStockStatus,(function(e){return n(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),\"dish\"==t.name?n(\"el-checkbox\",{staticClass:\"check-box\",attrs:{\"true-label\":1,\"false-label\":0},model:{value:e.includingDishesSeasoning,callback:function(t){e.includingDishesSeasoning=t},expression:\"includingDishesSeasoning\"}},[e._v(\"采购菜品中的调料\")]):e._e()],1),n(\"span\",{staticClass:\"floatR table-top-btn\"},[n(\"el-button\",{staticClass:\"order-btn-item\",attrs:{type:\"primary\"},on:{click:e.emptyOrderContent}},[e._v(\" 清空\"+e._s(t.label)+\" \")]),n(\"el-button\",{staticClass:\"order-btn-item\",attrs:{disabled:!e.formData.schoolBranchCode||!e.formData.orderStatus,type:\"primary\"},on:{click:function(a){return e.addOrderContent(t.name)}}},[e._v(\" 添加\"+e._s(t.label)+\" \")]),\"dish\"==t.name?n(\"el-button\",{staticClass:\"order-btn-item\",attrs:{disabled:!e.formData.schoolBranchCode||!e.formData.orderStatus,type:\"primary\"},on:{click:function(t){return e.addOrderContent(\"menu\")}}},[e._v(\" 引用菜谱 \")]):e._e()],1)]),t.name===e.activeName?[n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.dialogDataSelectedObj[e.activeName].length,expression:\"dialogDataSelectedObj[activeName].length\"}],staticClass:\"table-pane-table\"},[n(\"c-table\",e._g(e._b({ref:\"unselectTable\",refInFor:!0,attrs:{height:\"320\",size:\"small\",\"highlight-current-row\":!1,\"row-class-name\":e.getRowCustomNameStatus,data:e.selectedTableData,headers:e.headers,border:!0},scopedSlots:e._u([{key:\"column|mealDate\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterDishMealDate\")(a,e.currentvm))+\" \")]}},{key:\"column|ingredientDate\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterIngredientMealDate\")(a,e.currentvm))+\" \")]}},{key:\"column|mealType\",fn:function(t){var a=t.row;return[n(\"el-select\",{attrs:{placeholder:\"餐别\"},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:a.mealType,callback:function(t){e.$set(a,\"mealType\",t)},expression:\"row.mealType\"}},e._l(e.mealTypeList,(function(e){return n(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)]}},{key:\"column|quantityInteger\",fn:function(t){var a=t.row;return[n(\"el-input\",{attrs:{maxlength:6,placeholder:\"数量\"},on:{input:e.handleInputNumber},nativeOn:{keyup:function(e){a.quantity=a.quantity.replace(/[^\\d]/g,\"\")},click:function(e){e.stopPropagation()}},model:{value:a.quantity,callback:function(t){e.$set(a,\"quantity\",t)},expression:\"row.quantity\"}})]}},{key:\"column|packNum\",fn:function(t){var a=t.row;return[n(\"el-input\",{staticClass:\"packNum\",attrs:{placeholder:\"数量\"},on:{input:e.handleInputNumber},nativeOn:{keyup:function(t){return e.formatInput(a.packNum,a,\"packNum\")},click:function(e){e.stopPropagation()}},model:{value:a.packNum,callback:function(t){e.$set(a,\"packNum\",t)},expression:\"row.packNum\"}}),e._v(\" \"+e._s(a.packUnit)+\" \")]}},{key:\"column|quantityAll\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterWeight\")(a))+\" \")]}},{key:\"column|cutMatchStandardId\",fn:function(t){var a=t.row;return[n(\"el-select\",{model:{value:a.cutMatchStandardId,callback:function(t){e.$set(a,\"cutMatchStandardId\",t)},expression:\"row.cutMatchStandardId\"}},e._l(e.cutMatchStandardList,(function(e,t){return n(\"el-option\",{key:e.name+t,attrs:{label:e.name+\" (\"+e.length+\"*\"+e.width+\"*\"+e.height+\")\",value:e.id}})})),1)]}},{key:\"column|arrivalDate\",fn:function(t){var a=t.row;return[n(\"el-date-picker\",{staticClass:\"arrivalDate\",attrs:{type:\"date\",placeholder:\"日期\",\"picker-options\":{disabledDate:e.disabledDate}},on:{change:e.changeDate},model:{value:a.arrivalDate,callback:function(t){e.$set(a,\"arrivalDate\",t)},expression:\"row.arrivalDate\"}}),n(\"el-select\",{staticClass:\"arrivalTime\",on:{change:e.changeTime},model:{value:a.arrivalTime,callback:function(t){e.$set(a,\"arrivalTime\",t)},expression:\"row.arrivalTime\"}},e._l(e.timeList,(function(e){return n(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value,placeholder:\"时间\"}})})),1)]}},{key:\"column|costPrice\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterCostPrice\")(a,e.currentvm))+\" \")]}},{key:\"column|sellingPrice\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterSellingPrice\")(a))+\" \")]}},{key:\"column|cleanVegetablePrice\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterCleanVegetablePrice\")(a))+\" \")]}},{key:\"column|originalVegetablePrice\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterOriginalVegetablePrice\")(a))+\" \")]}},{key:\"column|ingredientsCostPrice\",fn:function(t){var a=t.row;return[e._v(\" \"+e._s(e._f(\"filterIngredientsCostPrice\")(a))+\" \")]}},{key:\"column|relationName\",fn:function(t){var a=t.row;return n(\"div\",{staticClass:\"row-outofstock\",style:a.outOfStock?\"margin-left:15px\":\"\"},[a.outOfStock?n(\"i\"):e._e(),a.outOfStock?n(\"span\",{staticClass:\"hint\"},[e._v(\"缺\")]):e._e(),n(\"span\",[e._v(e._s(a.relationName))])])}}],null,!0)},\"c-table\",e.$props,!1),e.$listeners))],1)]:e._e(),n(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!e.dialogDataSelectedObj[e.activeName].length,expression:\"!dialogDataSelectedObj[activeName].length\"}],staticClass:\"empty\"},[n(\"img\",{staticClass:\"empty-image\",attrs:{src:a(\"3bcd\")}}),n(\"div\",{staticClass:\"empty-text\"},[e._v(\" 您没有\"+e._s(t.label)+\"哦，请去【添加\"+e._s(t.label)+\"】加入哦~ \")])])],2)})),1)],1),n(\"div\",{staticClass:\"remark\"},[n(\"span\",{staticClass:\"remark-title\"},[e._v(\"备注\")]),n(\"el-input\",{attrs:{type:\"textarea\",rows:5,maxlength:200,placeholder:\"备注\"},model:{value:e.orderRemark,callback:function(t){e.orderRemark=t},expression:\"orderRemark\"}})],1),n(\"el-dialog\",{attrs:{title:e.dialogTitle,width:\"1127px\",\"before-close\":e.handleDialogClose,visible:e.dialogVisible,\"close-on-click-modal\":!1,\"custom-class\":\"dialog addOrder custom-dialog-panel\",center:\"\"},on:{\"update:visible\":function(t){e.dialogVisible=t},close:e.closeDialog}},[\"menu\"===e.dialogName||\"dish\"==e.activeName?n(\"div\",[n(\"div\",{staticClass:\"dialog-input\"},[n(\"el-input\",{attrs:{placeholder:\"请输入菜谱简称、名称\"},model:{value:e.dialogUnselectInput,callback:function(t){e.dialogUnselectInput=t},expression:\"dialogUnselectInput\"}})],1),n(\"c-table\",e._g(e._b({ref:\"unselectTable\",attrs:{height:\"320\",size:\"small\",\"highlight-current-row\":!1,\"row-class-name\":e.getRowCustomName,data:e.unselectTableData,headers:e.dialogHeaders,border:!0},on:{\"row-click\":e.unselectTableRowClick,select:e.unselectTableRowSelect},scopedSlots:e._u([{key:\"column|expandTable\",fn:function(t){return[n(\"div\",[n(\"c-table\",e._g(e._b({attrs:{size:\"small\",\"highlight-current-row\":!1,data:t.row.expandTableData,headers:e.expandHeaders,border:!0},scopedSlots:e._u([e._l(e.weekList,(function(t){return{key:\"column|\"+t,fn:function(a){var r=a.row;return[n(\"div\",{key:t},e._l(r[t],(function(t){return n(\"div\",{key:t.id},[n(\"div\",{staticClass:\"row-outofstock row-outofstock-expand\",staticStyle:{position:\"relative\"}},[t.outOfStock?n(\"i\"):e._e(),t.outOfStock?n(\"span\",{staticClass:\"hint\"},[e._v(\"缺\")]):e._e(),n(\"span\",[e._v(e._s(t.relationName))])])])})),0)]}}}))],null,!0)},\"c-table\",e.$props,!1),e.$listeners))],1)]}},{key:\"column|relationName\",fn:function(t){var a=t.row;return n(\"div\",{staticClass:\"row-outofstock\",style:a.outOfStock?\"margin-left:15px\":\"\"},[a.outOfStock?n(\"i\"):e._e(),a.outOfStock?n(\"span\",{staticClass:\"hint\"},[e._v(\"缺\")]):e._e(),n(\"span\",[e._v(e._s(a.relationName))])])}}],null,!1,3409395970)},\"c-table\",e.$props,!1),e.$listeners))],1):n(\"div\",[n(\"div\",[n(\"div\",{staticClass:\"dialog-left\"},[[n(\"div\",{staticClass:\"dialog-input\"},[n(\"el-input\",{attrs:{placeholder:\"请输入食材简称、名称\"},model:{value:e.dialogUnselectInput,callback:function(t){e.dialogUnselectInput=t},expression:\"dialogUnselectInput\"}})],1),n(\"el-tabs\",{staticStyle:{height:\"425px\"},attrs:{\"tab-position\":\"left\"},model:{value:e.sideActive,callback:function(t){e.sideActive=t},expression:\"sideActive\"}},e._l(e.unselectLeftIngredientData,(function(t){return n(\"el-tab-pane\",{key:t.name,attrs:{label:t.name,name:t.name}},[n(\"c-table\",e._g(e._b({ref:\"unselectTable\",refInFor:!0,attrs:{height:\"425\",size:\"small\",\"highlight-current-row\":!1,\"row-class-name\":e.getRowCustomName,data:t.children,headers:e.dialogHeaders,\"header-cell-style\":{fontWeight:500,fontSize:\"14px\",color:\"rgba(0, 0, 0, 0.85)\"},border:!0},on:{\"row-click\":e.ingredientRowClick},scopedSlots:e._u([{key:\"column|nameandjianpin\",fn:function(t){var a=t.row;return[n(\"div\",{staticClass:\"row-outofstock\"},[a.outOfStock?n(\"i\",{staticStyle:{\"border-top\":\"24px solid #fe1301\",\"border-right\":\"24px solid transparent\"}}):e._e(),a.outOfStock?n(\"span\",{staticClass:\"hint\",staticStyle:{\"margin-right\":\"15px\",top:\"-3px\",left:\"0\",\"padding-left\":\"0px\",transform:\"scale(.8)\"}},[e._v(\"缺\")]):e._e()]),n(\"div\",{staticStyle:{\"margin-left\":\"5px\"}},[n(\"p\",{staticClass:\"unselect-relationName \"},[e._v(\" \"+e._s(a.relationName)+\" \")]),n(\"span\",{staticClass:\"unselect-pinyinheader\"},[e._v(e._s(a.pinyinHeader))])])]}}],null,!0)},\"c-table\",e.$props,!1),e.$listeners))],1)})),1)]],2),n(\"div\",{staticClass:\"dialog-middle\"}),n(\"div\",{staticClass:\"dialog-right\"},[[n(\"div\",{staticClass:\"dialog-input dialog-selected-text\"},[e._v(\" 已选：\"+e._s(e.selectedIngredientList.length)+\" \")]),n(\"c-table\",e._g(e._b({ref:\"selectedTable\",attrs:{height:\"440\",size:\"small\",\"highlight-current-row\":!1,data:e.selectedIngredientList,headers:e.dialogSelectedHeaders,border:!0,\"show-header\":!1},scopedSlots:e._u([{key:\"column|packNum\",fn:function(t){var a=t.row;return[n(\"div\",{staticClass:\"quantity-input\"},[n(\"i\",{staticClass:\"el-icon-remove-outline\",on:{click:function(t){return e.handleIcon(\"minus\",a)}}}),n(\"el-input\",{staticClass:\"input-inner\",attrs:{maxlength:9},nativeOn:{keyup:function(t){return e.formatInput(a.packNum,a,\"packNum\")},click:function(e){e.stopPropagation()}},model:{value:a.packNum,callback:function(t){e.$set(a,\"packNum\",t)},expression:\"row.packNum\"}}),n(\"span\",{staticClass:\"selected-packUnit\"},[e._v(e._s(a.packUnit))]),n(\"i\",{staticClass:\"el-icon-circle-plus-outline\",on:{click:function(t){return e.handleIcon(\"plus\",a)}}})],1)]}},{key:\"column|opeartion\",fn:function(t){var a=t.row;return[n(\"div\",{staticClass:\"operation\",on:{click:function(t){return t.stopPropagation(),e.onDelete(a)}}},[n(\"span\",[e._v(\"删除\")])])]}}])},\"c-table\",e.$props,!1),e.$listeners))]],2)])]),n(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:e.closeDialog}},[e._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.dialogConfirm}},[e._v(\"确 定\")])],1),n(\"el-dialog\",{attrs:{width:\"600px\",title:\"就餐时间选择\",visible:e.dialogDateVisible,\"close-on-click-modal\":!1,\"custom-class\":\"dialog-date\",\"append-to-body\":\"\",center:\"\"},on:{\"update:visible\":function(t){e.dialogDateVisible=t},close:e.closeDateDialog}},[n(\"el-date-picker\",{attrs:{\"picker-options\":{disabledDate:e.disabledDate},type:\"daterange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\"},model:{value:e.dialogDateRange,callback:function(t){e.dialogDateRange=t},expression:\"dialogDateRange\"}}),n(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{on:{click:e.closeDateDialog}},[e._v(\"取 消\")]),n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.dialogDateConfirm}},[e._v(\"确 定\")])],1)],1)],1)],1)])},r=[],i=a(\"2909\"),o=a(\"a34a\"),l=a.n(o),c=a(\"1da1\"),s=a(\"5530\"),d=(a(\"b0c0\"),a(\"b680\"),a(\"d81d\"),a(\"d3b7\"),a(\"498a\"),a(\"4de4\"),a(\"159b\"),a(\"7db0\"),a(\"a434\"),a(\"99af\"),a(\"caad\"),a(\"2532\"),a(\"c740\"),a(\"b64b\"),a(\"4d90\"),a(\"25f0\"),a(\"4c53\"),a(\"0a6f\")),u=a(\"4128\"),m=a.n(u),p=a(\"6fac\"),f=[{createTime:null,mealDay:1,mealDayString:\"星期一\",mealTypeList:[{contentList:[],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[{createTime:1623896674e3,creator:\"admin\",deleted:0,dishesListId:268,editor:\"admin\",id:1576,mealDay:1,mealType:2,relationId:334,relationName:\"测试-番茄鸡蛋\",relationType:2,buyNum:null,arrivalDate:null,arrivalTime:null},{createTime:1623896674e3,creator:\"admin\",deleted:0,dishesListId:268,editor:\"admin\",id:1577,mealDay:1,mealType:2,relationId:334,relationName:\"测试-番茄鸡蛋1\",relationType:2,buyNum:null,arrivalDate:null,arrivalTime:null},{createTime:1623896674e3,creator:\"admin\",deleted:0,dishesListId:268,editor:\"admin\",id:1578,mealDay:1,mealType:2,relationId:334,relationName:\"测试-番茄鸡蛋2\",relationType:2,buyNum:null,arrivalDate:null,arrivalTime:null},{createTime:1623896674e3,creator:\"admin\",deleted:0,dishesListId:268,editor:\"admin\",id:1579,mealDay:1,mealType:2,relationId:334,relationName:\"测试-番茄鸡蛋3\",relationType:2,buyNum:null,arrivalDate:null,arrivalTime:null}],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]},{createTime:null,mealDay:2,mealDayString:\"星期二\",mealTypeList:[{contentList:[{createTime:1623896674e3,creator:\"admin\",deleted:0,dishesListId:268,editor:\"admin\",id:1578,mealDay:1,mealType:2,relationId:334,relationName:\"测试-番茄鸡蛋星期二早餐\",relationType:2,buyNum:null,arrivalDate:null,arrivalTime:null}],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]},{createTime:null,mealDay:3,mealDayString:\"星期三\",mealTypeList:[{contentList:[],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]},{createTime:null,mealDay:4,mealDayString:\"星期四\",mealTypeList:[{contentList:[],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]},{createTime:null,mealDay:5,mealDayString:\"星期五\",mealTypeList:[{contentList:[],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]},{createTime:null,mealDay:6,mealDayString:\"星期六\",mealTypeList:[{contentList:[],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]},{createTime:null,mealDay:7,mealDayString:\"星期日\",mealTypeList:[{contentList:[],mealTypeString:\"早餐\",mealType:1,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"午餐\",mealType:2,buyFlag:1,arrivalDate:null,arrivalTime:null},{contentList:[],mealTypeString:\"晚餐\",mealType:3,buyFlag:1,arrivalDate:null,arrivalTime:null}]}],h=f,g=a(\"05f4\"),b=a(\"d643\"),y=(a(\"459f\"),a(\"d95c\")),v=a(\"e7c9\"),T={contentNum:\"0.00\",cleanVegetableWeight:\"0.00\",originalVegetableWeight:\"0.00\",costPrice:\"0.00\",sellingPrice:\"0.00\"},S={components:{CDynamicForm:p[\"a\"],CTable:g[\"a\"]},data:function(){var e=[{label:\"菜品\",name:\"dish\"},{label:\"食材\",name:\"ingredients\"}],t=[{label:\"菜品\",name:\"dish\"},{label:\"食材\",name:\"ingredients\"}],a={menu:\"菜谱\",dish:\"菜品\",ingredients:\"食材\"};return{currentvm:this,formData:{},areaList:[],cityList:[],orderSearchTxt:\"\",districtList:[],schoolList:[],districtCode:null,dialogVisible:!1,dialogDateVisible:!1,formAttrs:{inline:!0,size:\"small\"},tabs:e,tabsKeyName:a,dialogTabs:t,outOfStockStatus:[{label:\"全部\",value:\"\"},{label:\"缺货\",value:1},{label:\" 有货\",value:0}],activeName:e[0].name,dialogActiveName:t[0].name,dialogDataUnSelectObj:{menu:[],dish:[],ingredients:[]},dialogDataSelectedObj:{menu:[],dish:[],ingredients:[]},dialogUnselectInput:\"\",dialogSelectedInput:\"\",orderId:null,operaType:null,queryObject:{ingredients:1,dish:2,menu:3},detailInfo:{},statisticsInfo:T,initStatisticsInfo:T,mealTypeList:[{label:\"早餐\",value:1},{label:\"午餐\",value:2},{label:\"晚餐\",value:3}],timeList:[{label:\"04:00\",value:\"04:00\"},{label:\"06:00\",value:\"06:00\"},{label:\"15:00\",value:\"15:00\"}],weekList:[\"星期一\",\"星期二\",\"星期三\",\"星期四\",\"星期五\",\"星期六\",\"星期日\"],orderRemark:\"\",isEmpty:!1,dialogName:\"\",mealDayList:h,dialogTitle:\"\",dialogDateRange:\"\",outOfStockStatu:\"\",includingDishesSeasoning:0,isFirstInit:!0,selectedIngredientList:[],leftIngredientData:[],leftIngredientDataList:[],sideActive:!1}},filters:{filterWeight:function(e){return null!=e.packNum&&\"\"!=e.packNum&&e.netWeight?+new m.a(+e.packNum).mul(new m.a(+e.netWeight)):\"-\"},filterCostPrice:function(e,t){if(null==e.quantity||\"\"==e.quantity||t.includingDishesSeasoning&&!e.costPrice||!t.includingDishesSeasoning&&!e.excludingSeasoningCostPrice)return\"-\";var a=t.includingDishesSeasoning?e.costPrice:e.excludingSeasoningCostPrice;return+new m.a(+e.quantity).mul(new m.a(+a))},filterSellingPrice:function(e){return null!=e.quantity&&\"\"!=e.quantity&&e.sellingPrice?+new m.a(+e.quantity).mul(new m.a(+e.sellingPrice)):\"-\"},filterCleanVegetablePrice:function(e){return null!=e.packNum&&\"\"!=e.packNum&&e.cleanVegetablePrice?+new m.a(+e.packNum).mul(new m.a(+e.cleanVegetablePrice)):\"-\"},filterOriginalVegetablePrice:function(e){return null!=e.packNum&&\"\"!=e.packNum&&e.netWeight&&e.originalVegetablePrice?+new m.a(+e.packNum).mul(+e.netWeight).mul(new m.a(+e.originalVegetablePrice)):\"-\"},filterIngredientsCostPrice:function(e){if(null==e.packNum||\"\"==e.packNum||!e.netWeight||!e.cutMatchStandardId||10===e.cutMatchStandardId&&!e.originalVegetablePrice||10!==e.cutMatchStandardId&&!e.cleanVegetablePrice)return\"-\";var t=10===e.cutMatchStandardId?e.originalVegetablePrice:e.cleanVegetablePrice;return(+new m.a(+e.packNum).mul(+e.netWeight).mul(new m.a(+t))).toFixed(2)},filterDishMealDate:function(e,t){if(!e.mealType||!e.arrivalDate)return\"-\";var a,n,r=[\"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\"];return 1==e.mealType?(n=new Date(e.arrivalDate).getTime()+864e5,a=t.formateDate(n)+\" \"+r[new Date(n).getDay()]):(n=new Date(e.arrivalDate).getTime(),a=t.formateDate(n)+\" \"+r[new Date(n).getDay()]),e.mealDate=t.formateDate(n),a},filterIngredientMealDate:function(e,t){if(!e.arrivalDate)return\"-\";var a=[\"周日\",\"周一\",\"周二\",\"周三\",\"周四\",\"周五\",\"周六\"],n=new Date(e.arrivalDate).getTime();e.mealDate=t.formateDate(n);var r=t.formateDate(n)+\" \"+a[new Date(n).getDay()];return r}},computed:{expandHeaders:function(){var e=this.weekList.map((function(e){return{label:e,prop:e,colType:\"column\"}}));return e.unshift({label:\"\",prop:\"mealTypeString\"}),e},dialogSelectedHeaders:function(){var e=[];switch(this.activeName){case\"menu\":e=[{label:\"简拼\",prop:\"pinyinHeader\"},{label:\"菜谱名称\",prop:\"relationName\"},{label:\"适用人群\",prop:\"crowdNames\"},{label:\"数量（份）\",prop:\"quantity\",colType:\"column\",slotName:\"quantityInteger\"}];break;case\"dish\":e=[{label:\"菜品名称\",prop:\"relationName\"},{label:\"数量（份）\",prop:\"quantity\",colType:\"column\",slotName:\"quantityInteger\",width:140},{label:\"操作\",colType:\"column\",slotName:\"opeartion\",width:\"80\"}];break;case\"ingredients\":e=[{label:\"食材名称\",prop:\"relationName\"},{label:\"数量\",colType:\"column\",slotName:\"packNum\",width:\"180\"},{label:\"操作\",colType:\"column\",slotName:\"opeartion\",width:\"80\"}];break;default:break}return e},dialogHeaders:function(){var e=[];switch(this.dialogName){case\"menu\":e=[{type:\"expand\",colType:\"column\",slotName:\"expandTable\"},{label:\"简拼\",prop:\"pinyinHeader\"},{label:\"菜谱名称\",prop:\"relationName\"},{label:\"适用人群\",prop:\"crowdNames\"}];break;case\"dish\":e=[{label:\"简拼\",prop:\"pinyinHeader\"},{label:\"菜品名称\",prop:\"relationName\",colType:\"column\"},{label:\"菜系\",prop:\"dishesStyleName\"},{label:\"人群\",prop:\"crowdNames\"},{label:\"成本参考价（元）\",prop:\"costPrice\",width:\"120\"}];break;case\"ingredients\":e=[{label:\"食材名称\",prop:\"relationName\",colType:\"column\",slotName:\"nameandjianpin\"},{label:\"单位\",prop:\"packUnit\",width:60}];break;default:break}return e},headers:function(){var e=[];switch(this.activeName){case\"menu\":e=[{label:\"简拼\",prop:\"pinyinHeader\"},{label:\"菜谱名称\",prop:\"relationName\"},{label:\"适用人群\",prop:\"crowdNames\"},{label:\"数量（份）\",prop:\"quantity\"},{label:\"成本参考价（元）\",prop:\"costPrice\",width:\"120\",colType:\"column\"},{label:\"售价（元）\",prop:\"sellingPrice\",colType:\"column\"},{label:\"操作\",colType:\"btns\",width:\"120px\",btns:[{label:\"编辑\",type:\"text\",size:\"mini\",click:this.editCrowd},{label:\"删除\",type:\"text\",size:\"mini\",click:this.deleteCrowd}]}];break;case\"dish\":e=[{label:\"序号\",align:\"center\",type:\"index\"},{label:\"用餐日期\",colType:\"column\",slotName:\"mealDate\"},{label:\"菜品名称\",prop:\"relationName\",colType:\"column\"},{label:\"菜系\",prop:\"dishesStyleName\"},{label:\"人群\",prop:\"crowdNames\"},{label:\"餐别\",prop:\"mealType\",colType:\"column\",width:\"100px\"},{label:\"数量（份）\",prop:\"quantity\",colType:\"column\",slotName:\"quantityInteger\",width:\"100px\"},{label:\"到货时间\",colType:\"column\",slotName:\"arrivalDate\",width:\"250px\"},{label:\"成本参考价（元）\",prop:\"costPrice\",width:120,colType:\"column\"},{label:\"售价（元）\",prop:\"sellingPrice\",width:100,colType:\"column\"},{label:\"操作\",colType:\"btns\",width:\"120px\",btns:[{label:\"删除\",type:\"text\",size:\"mini\",click:this.deleteCrowd}]}];break;case\"ingredients\":e=[{label:\"序号\",align:\"center\",type:\"index\"},{label:\"用餐日期\",colType:\"column\",slotName:\"ingredientDate\"},{label:\"食材名称\",prop:\"relationName\",colType:\"column\"},{label:\"数量\",colType:\"column\",slotName:\"packNum\",width:\"160\"},{label:\"净重（kg）\",prop:\"netWeight\",width:\"100\"},{label:\"总重量（kg）\",colType:\"column\",slotName:\"quantityAll\",width:\"100\"},{label:\"到货时间\",colType:\"column\",slotName:\"arrivalDate\",width:\"250px\"},{label:\"成本参考价（元）\",prop:\" costPrice\",width:\"120\",colType:\"column\",slotName:\"ingredientsCostPrice\"},{label:\"操作\",colType:\"btns\",width:\"120px\",btns:[{label:\"删除\",type:\"text\",size:\"mini\",click:this.deleteCrowd}]}];break;default:break}return e},formItems:function(){var e=this;return[{type:\"select\",label:\"订单创建给\",prop:\"provinceCode\",valueKey:\"code\",labelKey:\"name\",options:this.areaList,attrs:{placeholder:\"省份\",clearable:!0}},{type:\"select\",prop:\"cityCode\",parentProp:\"provinceCode\",valueKey:\"code\",labelKey:\"name\",attrs:{placeholder:\"地级市\",clearable:!0},ajax:function(t){var a=e.getCityList(t.provinceCode);return!e.orderId&&e.$has([\"order-default-first\"])&&a&&a.length&&e.isFirstInit&&e.$refs.cDynamicForm.setModelData(\"cityCode\",a[0].code),new Promise((function(e){e(a)}))}},{type:\"select\",prop:\"districtCode\",parentProp:\"cityCode\",attrs:{placeholder:\"区/县\",clearable:!0},valueKey:\"code\",labelKey:\"name\",ajax:function(t){var a=e.getCountyList(t.cityCode);return e.orderId&&(e.$refs.bTable&&e.$refs.bTable[0]&&e.$refs.bTable[0].ajaxGetTableDataByPage(),e.orderStatistics()),!e.orderId&&e.$has([\"order-default-first\"])&&a&&a.length&&e.isFirstInit&&e.$refs.cDynamicForm.setModelData(\"districtCode\",a[0].code),new Promise((function(e){e(a)}))}},{type:\"select\",prop:\"schoolCode\",parentProp:\"districtCode\",attrs:{placeholder:\"学校\",clearable:!0},valueKey:\"id\",labelKey:\"name\",ajax:function(t){var a=e.getSchoolList(t.districtCode);return!e.orderId&&e.$has([\"order-default-first\"])&&a&&a.length&&e.isFirstInit&&e.$refs.cDynamicForm.setModelData(\"schoolCode\",a[0].id),new Promise((function(e){e(a)}))}},{type:\"select\",prop:\"schoolBranchCode\",parentProp:\"schoolCode\",attrs:{placeholder:\"学部\",clearable:!0},valueKey:\"id\",labelKey:\"name\",ajax:function(t){var a=e.getSchoolBranchList(t.schoolCode);return!e.orderId&&e.$has([\"order-default-first\"])&&a&&a.length&&e.isFirstInit&&(e.$refs.cDynamicForm.setModelData(\"schoolBranchCode\",a[0].id),e.isFirstInit=!1),new Promise((function(e){e(a)}))}},{type:\"select\",prop:\"orderStatus\",label:\"订单性质\",attrs:{placeholder:\"订单性质\",clearable:!0},options:this.$D(\"ORDER_TYPE\")}]},bTableFormItems:function(){return[{type:\"input\",prop:\"nameOrPinyinHeader\",attrs:{placeholder:\"名称简拼\"}}]},unselectTableData:function(){return this.dialogUnselectInput.trim()?this.getFilterData(this.dialogDataUnSelectObj[this.dialogName],this.dialogUnselectInput.trim()):this.dialogDataUnSelectObj[this.dialogName]},unselectLeftIngredientData:function(){return this.dialogUnselectInput.trim()?this.getFilterList(this.leftIngredientData,this.dialogUnselectInput.trim()):this.leftIngredientData},selectedTableData:function(){var e=this;return\"\"===this.outOfStockStatu?this.dialogDataSelectedObj[this.activeName]:this.dialogDataSelectedObj[this.activeName].filter((function(t){return t.outOfStock==e.outOfStockStatu}))}},watch:{\"formData.orderStatus\":function(e,t){e!=t&&this.initDate()},\"formData.districtCode\":function(e,t){e!=t&&(this.dialogDataSelectedObj[\"dish\"]=[],this.dialogDataSelectedObj[\"ingredients\"]=[])}},methods:{formatInput:d[\"a\"],changeDate:function(e){var t=this;e&&this.selectedTableData.forEach((function(a){a.arrivalDate||t.$set(a,\"arrivalDate\",e)}))},changeTime:function(e){var t=this;e&&this.selectedTableData.forEach((function(a){a.arrivalTime||t.$set(a,\"arrivalTime\",e)}))},disabledDate:function(e){return 3==this.formData.orderStatus?e.getTime()>Date.now()-864e5:e.getTime()<=Date.now()-864e5},baseTreeWithPowerSchool:function(){var e=this;return Object(b[\"c\"])().then((function(t){e.areaList=t.data||[],!e.orderId&&e.$has([\"order-default-first\"])&&e.areaList.length&&e.$refs.cDynamicForm.setModelData(\"provinceCode\",e.areaList[0].code)}))},getCutMatchStandardList:function(){var e=this;return Object(v[\"f\"])().then((function(t){e.cutMatchStandardList=t.data||[]})).catch((function(){e.cutMatchStandardList=[]}))},getCityList:function(e){var t=[];return e?(t=this.areaList.find((function(t){return t.code===e})).childList,this.cityList=t,t):t},getCountyList:function(e){var t=[];return e?(t=this.cityList.find((function(t){return t.code===e})).childList,this.districtList=t,t):t},getSchoolList:function(e){var t=[];return e?(t=this.districtList.find((function(t){return t.code===e})).schoolList,this.schoolList=t,t):t},getSchoolBranchList:function(e){var t=[];return e?(t=this.schoolList.find((function(t){return t.id===e})).schoolBranchRespDtoList,t):t},handleTabClick:function(){this.outOfStockStatu=\"\"},handleDialogTabClick:function(){this.dialogUnselectInput=\"\",this.dialogSelectedInput=\"\",this.resetListSelected(this.dialogDataUnSelectObj[this.dialogActiveName]),this.resetListSelected(this.dialogDataSelectedObj[this.dialogActiveName]),this.dialogDataUnSelectObj[this.dialogActiveName].length||this.orderContentForSelect(0)},fetchTableData:function(e){var t=this;return new Promise((function(e){e(t.dialogDataSelectedObj[t.activeName])}))},orderContentForPage:function(e){var t=this,a={offset:0,limit:1e4,districtCode:this.formData.districtCode||this.districtCode||\"\",orderId:this.orderId,queryType:this.queryObject[e]};return Object(b[\"p\"])(a).then((function(a){if(a.data&&a.data.records){var n=a.data.records||[];\"dish\"===e&&(n.forEach((function(e){e.quantity=parseInt(e.quantity)||0})),n.length>0?t.activeName=\"dish\":t.activeName=\"ingredients\"),\"copy\"==t.operaType&&(n=n.map((function(e){return Object(s[\"a\"])(Object(s[\"a\"])({},e),{},{arrivalDate:\"\",arrivalTime:\"\"})}))),t.dialogDataSelectedObj[e]=n}}))},editCrowd:function(e){this.dialogActiveName=this.activeName,this.addOrderContent(\"edit\")},deleteCrowd:function(e,t){var a=this;this.$confirm(\"是否删除该行?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){a.dialogDataSelectedObj[a.activeName].splice(t,1),a.warning(\"删除成功！\")})).catch((function(){}))},orderStatistics:function(){var e=this,t=this.initStatisticsInfo;this.orderId?Object(b[\"s\"])({orderId:this.orderId,districtCode:this.formData.districtCode||this.districtCode||\"\"}).then((function(a){e.statisticsInfo=a.data||t})):this.statisticsInfo=t},orderContentForSelect:function(e,t){var a=this;this.orderId||!e?Object(b[\"q\"])({orderId:this.orderId,deptId:this.formData.schoolBranchCode,queryType:t&&this.queryObject[t]||this.queryObject[this.dialogActiveName],isSelected:e,districtCode:this.formData.districtCode||this.districtCode}).then((function(n){for(var r=n.data||[],i=0;i<r.length;i++)r[i].customId=r.length-1-i,r[i].selected=!1,\"menu\"===a.dialogName&&(r[i].expandTableData=a.handleMealData(r[i].mealDayList));e?a.dialogDataSelectedObj[a.activeName]=r:(a.dialogDataUnSelectObj[a.activeName]=r,a.$set(a.dialogDataUnSelectObj,t,r))})):this.dialogDataSelectedObj[this.dialogActiveName]=[]},addOrderContent:function(e){this.dialogName=e,this.dialogVisible=!0,this.dialogTitle=\"menu\"===e?\"引用\"+this.tabsKeyName[e]:\"添加\"+this.tabsKeyName[e],\"ingredients\"==e?this.getIngredientTree():this.orderContentForSelect(0,e),this.selectedIngredientList=[]},emptyOrderContent:function(){var e=this;this.$confirm(\"是否清空所有\".concat(this.tabsKeyName[this.activeName],\"?\"),\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){e.dialogDataSelectedObj[e.activeName]=[]})).catch((function(){}))},saveToDraft:function(){var e=this;this.saveOrderBase().then((function(t){e.warning(\"保存成功\",\"success\")}))},previewAndSubmit:function(){var e=this;this.saveOrderAndContent().then((function(t){e.$router.push({path:\"/order/preview\",query:{orderId:e.orderId,operaType:\"preview\"}})}))},saveOrderBase:function(){var e=this.formData,t=e.schoolBranchCode,a=e.arrivalDate,n=e.orderStatus,r=e.provinceCode,i=e.cityCode,o=e.schoolCode,l=e.districtCode;if(t){if(n){var c={orderId:this.orderId,type:n,deptId:t,parentDeptId:o,arrivalTime:a,remarks:this.orderRemark,provinceCode:r,cityCode:i,districtCode:l,includingDishesSeasoning:this.includingDishesSeasoning};return Object(b[\"y\"])(c)}this.warning(\"请选择订单性质\")}else this.warning(\"请选择学部\")},selectToRight:function(){var e=this;return Object(c[\"a\"])(l.a.mark((function t(){var a,n,r,i,o,c,s;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.leftIngredientDataList,n=a.filter((function(e){return e.selected})),r=e.handleSelectRepeat(n,e.selectedIngredientList),!r.length){t.next=9;break}return i=\"\",r.forEach((function(e){i+=\"<div>\".concat(e.relationName,\"已添加过\").concat(e.packNum||\"0\").concat(e.packUnit,\"</div>\")})),o=\"\\n            <div class='tips-content-messaage'>有重复添加食材,请直接在右侧面板中设置数量！</div>\\n            <div class='tips-content-box'>\\n            \".concat(i,\"\\n            </div>\\n          \"),t.next=9,e.$confirm(o,\"提醒\",{customClass:\"order-tips-message\",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,confirmButtonText:\"确定\",cancelButtonText:\"取消\"}).then((function(){var e=r.map((function(e){return e.relationId}));n=n.filter((function(t){return!e.includes(t.relationId)}))})).catch((function(){n=[]}));case 9:for(c=n.length-1;c>=0;c--)e.selectedIngredientList.unshift(Object.assign({},n[c],{customId:e.selectedIngredientList[0]&&e.selectedIngredientList[0].customId+1||0,selected:!1,packNum:1}));s=e.$refs[\"unselectTable\"],s.forEach((function(e){e.$refs[\"table\"].clearSelection()})),e.resetListSelected(a);case 13:case\"end\":return t.stop()}}),t)})))()},selectToLeft:function(){var e=this.dialogDataSelectedObj[this.dialogActiveName];this.dialogDataSelectedObj[this.dialogActiveName]=e.filter((function(e){return!e.selected})),this.$refs[\"selectedTable\"][0].$refs[\"table\"].clearSelection()},ingredientRowClick:function(e){if(!e.selected){var t=this.leftIngredientDataList.find((function(t){return t.relationId===e.relationId&&t.primaryClassificationName===e.primaryClassificationName}));this.selectedIngredientList.unshift(Object.assign({},e,{packNum:1})),t.selected=!0}},unselectTableRowClick:function(e,t,a){var n=this.dialogDataUnSelectObj[this.dialogName].findIndex((function(t){return t.customId===e.customId})),r=!this.dialogDataUnSelectObj[this.dialogName][n].selected;\"menu\"===this.dialogName?(this.resetListSelected(this.dialogDataUnSelectObj[this.dialogName]),this.dialogDataUnSelectObj[this.dialogName][n].selected=r):this.dialogDataUnSelectObj[this.dialogName][n].selected=r},unselectTableRowSelect:function(e,t){},unselectTableRowSelectAll:function(e,t){var a=e.every((function(e){return e.selected}));e.length||(a=!0),\"unselect\"===t?this.dialogDataUnSelectObj[this.dialogActiveName].forEach((function(e){e.selected=!a})):\"selected\"===t&&this.dialogDataSelectedObj[this.dialogActiveName].forEach((function(e){e.selected=!a}))},selectedTableRowClick:function(e,t,a){var n=this,r=this.dialogDataSelectedObj[this.dialogActiveName].findIndex((function(t){return t.customId===e.customId})),i=!this.dialogDataSelectedObj[this.dialogActiveName][r].selected;this.dialogDataSelectedObj[this.dialogActiveName][r].selected=i,this.$nextTick((function(){n.$refs[\"selectedTable\"][0].$refs[\"table\"].toggleRowSelection(e,i)}))},getRowCustomName:function(e,t){return e.row.selected?\"table-selected table-item\":\"table-item\"},getRowCustomNameStatus:function(e){var t=e.row;e.rowIndex;return t.outOfStock?\"table-no-production\":\"\"},dialogConfirm:function(){var e=this,t=[];if(\"ingredients\"===this.dialogName){t=this.selectedIngredientList;var a=t.filter((function(e){return!e.packNum}));if(a.length>0)return void this.warning(\"请填写食材数量！\")}else t=this.dialogDataUnSelectObj[this.dialogName].filter((function(e){return e.selected}));if(t.length)if(\"ingredients\"===this.dialogName){t.forEach((function(t){e.$set(t,\"cutMatchStandardId\",10)}));var n=this.dialogDataSelectedObj[this.dialogName],r=this.handleSelectRepeat(t,n);if(r.length){var o=\"\";r.forEach((function(e){o+=\"<div>\".concat(e.relationName,\"已添加过\").concat(e.packNum||\"0\").concat(e.packUnit,\"</div>\")}));var l=\"\\n            <div class='tips-content-messaage'>有重复添加食材，是否确认继续添加？</div>\\n            <div class='tips-content-box'>\\n            \".concat(o,\"\\n            </div>\\n            <div class='tips-content-info'>点击【去重添加】，只添加新增的食材，点击【全部添加】则添加所有选择的食材</div>\\n          \");this.$confirm(l,\"提醒\",{customClass:\"order-tips-message\",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,confirmButtonText:\"全部添加\",cancelButtonText:\"去重添加\"}).then((function(){var a;(a=e.dialogDataSelectedObj[e.dialogName]).unshift.apply(a,Object(i[\"a\"])(t)),e.closeDialog()})).catch((function(){var a;t=t.filter((function(e){return!~r.findIndex((function(t){return t.relationId===e.relationId}))})),(a=e.dialogDataSelectedObj[e.dialogName]).unshift.apply(a,Object(i[\"a\"])(t)),e.closeDialog()}))}else{var c;(c=this.dialogDataSelectedObj[this.dialogName]).unshift.apply(c,Object(i[\"a\"])(t)),this.closeDialog()}}else{var s;if(\"dish\"==this.dialogName)this.setDishRepeat(\"dish\",t);else this.dialogDateVisible=!0,(s=this.dialogDataSelectedObj[this.dialogName]).unshift.apply(s,Object(i[\"a\"])(t))}else this.warning(\"请选择\".concat(this.tabsKeyName[this.dialogName]))},setDishRepeat:function(e,t){var a=this,n=this.dialogDataSelectedObj[e],r=this.handleSelectRepeat(t,n);if(r.length){var o=\"\";r.forEach((function(e){var t=\"\";e.quantity&&(t=\"已添加过\"+e.quantity+\"份\"),o+=\"<div>\".concat(e.relationName,\" \").concat(t,\"</div>\")}));var l=\"\\n            <div class='tips-content-messaage'>有重复添加菜品，是否确认继续添加？</div>\\n            <div class='tips-content-box'>\\n            \".concat(o,\"\\n            </div>\\n            <div class='tips-content-info'>点击【去重添加】，只添加新增的菜品，点击【全部添加】则添加所有选择的菜品</div>\\n          \");this.$confirm(l,\"提醒\",{customClass:\"order-tips-message\",dangerouslyUseHTMLString:!0,closeOnClickModal:!1,confirmButtonText:\"全部添加\",cancelButtonText:\"去重添加\"}).then((function(){var n;(n=a.dialogDataSelectedObj[e]).unshift.apply(n,Object(i[\"a\"])(t)),a.closeDialog()})).catch((function(){var n;t=t.filter((function(e){return!~r.findIndex((function(t){return t.relationId===e.relationId}))})),(n=a.dialogDataSelectedObj[e]).unshift.apply(n,Object(i[\"a\"])(t)),a.closeDialog()}))}else{var c;(c=this.dialogDataSelectedObj[e]).unshift.apply(c,Object(i[\"a\"])(t)),this.closeDialog()}},handleSelectRepeat:function(e,t){var a=[];return t.forEach((function(t){e.find((function(e){return e.relationId===t.relationId}))&&a.push(t)})),a},saveOrderAndContent:function(){for(var e=this,t=Object.keys(this.dialogDataSelectedObj),a=[],n=0;n<t.length;n++){for(var r=[],i=0;i<this.dialogDataSelectedObj[t[n]].length;i++){if(\"dish\"==t[n]&&!this.dialogDataSelectedObj[t[n]][i].mealType)return void this.warning(\"请选择餐别\");if(\"ingredients\"==t[n]&&!this.dialogDataSelectedObj[t[n]][i].cutMatchStandardId)return void this.warning(\"请选择切配标准\");if(\"dish\"===t[n]&&!this.dialogDataSelectedObj[t[n]][i].quantity||\"ingredients\"===t[n]&&!this.dialogDataSelectedObj[t[n]][i].packNum)return void this.warning(\"请输入数量\");if(!this.dialogDataSelectedObj[t[n]][i].arrivalDate||!this.dialogDataSelectedObj[t[n]][i].arrivalTime)return void this.warning(\"请选择到货时间\");r.push(this.dialogDataSelectedObj[t[n]][i])}a.push({type:this.queryObject[t[n]],orderContentReqDtoList:r})}var o=a.every((function(e){return!e.orderContentReqDtoList.length}));if(!o){var l=this.formData,c=l.schoolBranchCode,s=(l.arrivalDate,l.orderStatus),d=l.provinceCode,u=l.cityCode,m=l.schoolCode,p=l.districtCode,f={orderId:\"copy\"===this.operaType?null:this.orderId,type:s,deptId:c,parentDeptId:m,remarks:this.orderRemark,includingDishesSeasoning:this.includingDishesSeasoning,provinceCode:d,cityCode:u,districtCode:p,orderContentAddReqDtoList:a};return Object(b[\"x\"])(f).then((function(t){e.dialogVisible=!1,e.warning(\"保存成功\",\"success\");var a=t.data||{};e.orderId=a.orderId}))}this.warning(\"请添加订单内容\")},dialogDateConfirm:function(){var e=this.$loading({lock:!0,text:\"Loading\",spinner:\"el-icon-loading\",background:\"rgba(0, 0, 0, 0.7)\"});try{var t,a=this.dialogDataSelectedObj[this.dialogName][0][\"mealDayList\"],n=(new Date(this.dialogDateRange[1])-new Date(this.dialogDateRange[0]))/1e3/3600/24+1,r=new Date(this.dialogDateRange[0]).getDay(),i=new Date(this.dialogDateRange[0]).getTime();t=r?r-1:6;for(var o=[],l=0;l<n;l++){for(var c=a[t][\"mealTypeList\"],s=0;s<c.length;s++)for(var d=0;d<c[s].contentList.length;d++){var u=c[s].contentList[d];o.push(Object.assign({},u,{arrivalDate:1===u.mealType?this.formateDate(i-864e5):this.formateDate(i),arrivalTime:this.getArrivalTime(u.mealType)}))}t=6===t?0:t+1,i+=864e5}this.setDishRepeat(\"dish\",o),this.dialogDataSelectedObj[\"menu\"]=[]}catch(m){}finally{this.closeDateDialog(),e.close()}},getArrivalTime:function(e){var t=\"\";switch(e){case 1:t=\"15:00\";break;case 2:case 3:t=\"06:00\";break;default:break}return t},handleInputNumber:function(){},resetListSelected:function(e){for(var t=0;t<e.length;t++)e[t].selected&&(e[t].selected=!1)},getFilterData:function(e,t){var a=e.filter((function(e){return~e.pinyinHeader.indexOf(t.toLocaleUpperCase())||~e.relationName.indexOf(t)}));return a},getFilterList:function(e,t){var a=e.map((function(e){var a=e.children.filter((function(e){return~e.pinyinHeader.indexOf(t.toLocaleUpperCase())||~e.relationName.indexOf(t)}));return{name:e.name,children:a}})),n=a.filter((function(e){return e.children.length>0}));return this.sideActive=n.length>0?n[0].name:\"\",n},handleDialogClose:function(e){e()},initDialogData:function(){this.dialogDataUnSelectObj={menu:[],dish:[],ingredients:[]},this.dialogDataSelectedObj={menu:[],dish:[],ingredients:[]},this.dialogUnselectInput=\"\",this.dialogSelectedInput=\"\"},getOrderDetail:function(){var e=this;return Object(b[\"i\"])({orderId:this.orderId}).then((function(t){var a=t.data||{},n=a.provinceCode,r=a.cityCode,i=a.districtCode,o=a.parentDeptId,l=a.deptId,c=a.arrivalTime,s=a.type,d=a.remarks,u=a.includingDishesSeasoning;e.districtCode=i,e.$set(e.formData,\"provinceCode\",n),setTimeout((function(){e.$set(e.formData,\"cityCode\",r)}),0),setTimeout((function(){e.$set(e.formData,\"districtCode\",i)}),0),setTimeout((function(){e.$set(e.formData,\"schoolCode\",o)}),0),setTimeout((function(){e.$set(e.formData,\"schoolBranchCode\",l)}),0),e.$set(e.formData,\"orderStatus\",s+\"\"),setTimeout((function(){e.$set(e.formData,\"arrivalDate\",e.formateDate(c,3))}),0),e.includingDishesSeasoning=u,e.orderRemark=d}))},handleMealData:y[\"b\"],initDate:function(){for(var e=Object.keys(this.dialogDataSelectedObj),t=0;t<e.length;t++)for(var a=0;a<this.dialogDataSelectedObj[e[t]].length;a++)this.dialogDataSelectedObj[e[t]][a].arrivalDate=\"\",this.dialogDataSelectedObj[e[t]][a].arrivalTime=\"\"},formateDate:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return\"-\";var t=new Date(e),a=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,\"0\"),r=t.getDate().toString().padStart(2,\"0\");t.getHours().toString().padStart(2,\"0\"),t.getMinutes().toString().padStart(2,\"0\"),t.getSeconds().toString().padStart(2,\"0\");return a+\"-\"+n+\"-\"+r},closeDialog:function(){this.dialogVisible=!1,this.dialogUnselectInput=\"\",this.dialogDataUnSelectObj[this.dialogName]=[],this.dialogName=\"\"},closeDateDialog:function(){this.dialogDateVisible=!1,this.dialogDateRange=\"\",this.closeDialog()},warning:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"warning\";this.$message({showClose:!0,message:e,type:t})},onDelete:function(e){var t=this.selectedIngredientList.findIndex((function(t){return t.relationId===e.relationId&&t.primaryClassificationName===e.primaryClassificationName}));this.selectedIngredientList.splice(t,1);var a=this.leftIngredientDataList,n=a.find((function(t){return t.relationId===e.relationId&&t.primaryClassificationName===e.primaryClassificationName}));n.selected=!1},getIngredientTree:function(){var e=this;Object(b[\"r\"])({orderId:this.orderId,deptId:this.formData.schoolBranchCode,queryType:1,isSelected:0,districtCode:this.formData.districtCode||this.districtCode}).then((function(t){e.leftIngredientData=e.fomatTreeData(t.data)}))},fomatTreeData:function(e){var t=this;this.leftIngredientDataList=[];var a=[];for(var n in e)a.push({name:n,children:e[n].map((function(e){return Object(s[\"a\"])(Object(s[\"a\"])({},e),{},{selected:!1})}))});return a.map((function(e){var a;(a=t.leftIngredientDataList).push.apply(a,Object(i[\"a\"])(e.children))})),this.sideActive=a[0].name,a},handleIcon:function(e,t){\"minus\"===e?t.packNum>1&&this.$set(t,\"packNum\",+new m.a(+t.packNum).sub(new m.a(1))):this.$set(t,\"packNum\",+new m.a(+t.packNum).add(new m.a(1))),console.log(55555555,t.packNum)}},created:function(){var e,t=this,a=this.$route.params.operaType;\"copy\"===a?(e=this.$route.params.orderId,this.operaType=a):(e=this.$route.query.orderId,this.operaType=this.$route.query.operaType),this.orderId=e,this.baseTreeWithPowerSchool().then((function(a){e?t.getOrderDetail().then((function(e){t.orderStatistics();for(var a=0;a<t.tabs.length;a++)t.orderContentForPage(t.tabs[a].name)})):t.$set(t.formData,\"orderStatus\",\"1\")})),this.getCutMatchStandardList()},mounted:function(){}},D=S,O=(a(\"3040\"),a(\"2877\")),C=Object(O[\"a\"])(D,n,r,!1,null,\"605ed6f2\",null);t[\"default\"]=C.exports},e7c9:function(e,t,a){\"use strict\";a.d(t,\"c\",(function(){return c})),a.d(t,\"f\",(function(){return s})),a.d(t,\"v\",(function(){return d})),a.d(t,\"t\",(function(){return u})),a.d(t,\"M\",(function(){return m})),a.d(t,\"K\",(function(){return p})),a.d(t,\"l\",(function(){return f})),a.d(t,\"S\",(function(){return h})),a.d(t,\"B\",(function(){return g})),a.d(t,\"H\",(function(){return b})),a.d(t,\"k\",(function(){return y})),a.d(t,\"Q\",(function(){return v})),a.d(t,\"y\",(function(){return T})),a.d(t,\"E\",(function(){return S})),a.d(t,\"i\",(function(){return D})),a.d(t,\"R\",(function(){return O})),a.d(t,\"d\",(function(){return C})),a.d(t,\"x\",(function(){return k})),a.d(t,\"C\",(function(){return w})),a.d(t,\"g\",(function(){return j})),a.d(t,\"N\",(function(){return I})),a.d(t,\"z\",(function(){return N})),a.d(t,\"G\",(function(){return L})),a.d(t,\"j\",(function(){return x})),a.d(t,\"P\",(function(){return P})),a.d(t,\"e\",(function(){return _})),a.d(t,\"A\",(function(){return $})),a.d(t,\"D\",(function(){return E})),a.d(t,\"h\",(function(){return F})),a.d(t,\"O\",(function(){return G})),a.d(t,\"p\",(function(){return M})),a.d(t,\"F\",(function(){return B})),a.d(t,\"b\",(function(){return R})),a.d(t,\"q\",(function(){return q})),a.d(t,\"a\",(function(){return A})),a.d(t,\"m\",(function(){return U})),a.d(t,\"o\",(function(){return V})),a.d(t,\"n\",(function(){return H})),a.d(t,\"u\",(function(){return K})),a.d(t,\"r\",(function(){return z})),a.d(t,\"w\",(function(){return W})),a.d(t,\"I\",(function(){return J})),a.d(t,\"s\",(function(){return Y})),a.d(t,\"L\",(function(){return Q})),a.d(t,\"J\",(function(){return X}));var n=a(\"5530\"),r=a(\"d4ec\"),i=a(\"bee2\"),o=(a(\"d81d\"),a(\"220e\")),l=function(){function e(){var t=this;Object(r[\"a\"])(this,e),this.menu=[],Object(o[\"a\"])({method:\"GET\",url:\"/dictionary/childDictionary\"},\"cater\").then((function(e){t.menu=e.data.map((function(e){return Object(n[\"a\"])(Object(n[\"a\"])({},e),{},{label:e.dictionaryText,value:e.dictionaryId})}))}))}return Object(i[\"a\"])(e,[{key:\"getMenu\",value:function(){return this.menu}}]),e}();new l;function c(e){return Object(o[\"a\"])({method:\"GET\",url:\"/dictionary/childDictionary\",params:e},\"cater\")}function s(){return Object(o[\"a\"])({method:\"GET\",url:\"/cutMatchStandard/cutMatchStandardList\",params:{status:1}},\"cater\")}function d(e){return Object(o[\"a\"])({method:\"GET\",url:\"/ingredient/ingredientList\",params:e},\"cater\")}function u(e){return Object(o[\"a\"])({method:\"GET\",url:\"/dishesContent/getDishesContentListByDishesId\",params:e},\"cater\")}function m(e){return console.log(e),e.districtCode=e.districtCode||e.cityCode||e.provinceCode,Object(o[\"a\"])({method:\"GET\",url:\"/supplierIngredient/supplierIngredientPage\",params:e},\"cater\")}function p(e){return Object(o[\"a\"])({url:\"/supplierIngredient/saveSupplierIngredient\",method:\"POST\",data:e},\"cater\")}function f(e){return Object(o[\"a\"])({url:\"/supplierIngredient/deleteSupplierIngredientByIds\",method:\"POST\",data:e},\"cater\")}function h(e){return Object(o[\"a\"])({url:\"/supplierIngredient/updateStatusByIds\",method:\"POST\",data:e},\"cater\")}function g(e){return Object(o[\"a\"])({method:\"GET\",url:\"/ingredient/ingredientPage\",params:e},\"cater\")}function b(e){return Object(o[\"a\"])({url:\"/ingredient/saveIngredient\",method:\"POST\",data:e},\"cater\")}function y(e){return Object(o[\"a\"])({url:\"/ingredient/deleteIngredientByIds\",method:\"POST\",data:e},\"cater\")}function v(e){return Object(o[\"a\"])({url:\"/ingredient/updateStatusByIds\",method:\"POST\",data:e},\"cater\")}function T(e){return Object(o[\"a\"])({method:\"GET\",url:\"/cutMatchStandard/cutMatchStandardPage\",params:e},\"cater\")}function S(e){return Object(o[\"a\"])({url:\"/cutMatchStandard/saveCutMatchStandard\",method:\"POST\",data:e},\"cater\")}function D(e){return Object(o[\"a\"])({url:\"/cutMatchStandard/deleteCutMatchStandardByIds\",method:\"POST\",data:e},\"cater\")}function O(e){return Object(o[\"a\"])({url:\"/cutMatchStandard/updateStatusByIds\",method:\"POST\",data:e},\"cater\")}function C(e){return Object(o[\"a\"])({method:\"GET\",url:\"/cookingStyle/cookingStyleList\"},\"cater\")}function k(e){return Object(o[\"a\"])({method:\"GET\",url:\"/cookingStyle/cookingStylePage\",params:e},\"cater\")}function w(e){return Object(o[\"a\"])({url:\"/cookingStyle/saveCookingStyle\",method:\"POST\",data:e},\"cater\")}function j(e){return Object(o[\"a\"])({url:\"/cookingStyle/deleteCookingStyleByIds\",method:\"POST\",data:e},\"cater\")}function I(e){return Object(o[\"a\"])({url:\"/cookingStyle/updateStatusByIds\",method:\"POST\",data:e},\"cater\")}function N(e){return Object(o[\"a\"])({method:\"GET\",url:\"/dishes/dishesPage\",params:e},\"cater\")}function L(e){return Object(o[\"a\"])({url:\"/dishes/saveDishesSuper\",method:\"POST\",data:e},\"cater\")}function x(e){return Object(o[\"a\"])({url:\"/dishes/deleteDishesByIds\",method:\"POST\",data:e},\"cater\")}function P(e){return Object(o[\"a\"])({url:\"/dishes/updateStatusByIds\",method:\"POST\",data:e},\"cater\")}function _(e){return Object(o[\"a\"])({method:\"GET\",url:\"/crowd/crowdList\",params:e},\"cater\")}function $(e){return Object(o[\"a\"])({method:\"GET\",url:\"/crowd/crowdPage\",params:e},\"cater\")}function E(e){return Object(o[\"a\"])({url:\"/crowd/saveCrowd\",method:\"POST\",data:e},\"cater\")}function F(e){return Object(o[\"a\"])({url:\"/crowd/deleteCrowdByIds\",method:\"POST\",data:e},\"cater\")}function G(e){return Object(o[\"a\"])({url:\"/crowd/updateStatusByIds\",method:\"POST\",data:e},\"cater\")}function M(e){return Object(o[\"a\"])({method:\"GET\",url:\"/dishesList/dishesListPage\",params:e},\"cater\")}function B(e){return Object(o[\"a\"])({url:\"/dishesList/saveDishesList\",method:\"POST\",data:e},\"cater\")}function R(e){return Object(o[\"a\"])({url:\"/dishesList/batchDeleteDishesList\",method:\"POST\",data:{ids:e}},\"cater\")}function q(e){return Object(o[\"a\"])({url:\"/dishesList/distributionDishesList\",method:\"POST\",data:e},\"cater\")}function A(e){return Object(o[\"a\"])({url:\"/dishesList/addToMyMenu\",method:\"POST\",data:{id:e}},\"cater\")}function U(e){return Object(o[\"a\"])({url:\"/dishesList/deptForDishesListDistribution\",method:\"GET\",params:e},\"cater\")}function V(e){return Object(o[\"a\"])({url:\"/dishesList/dishesListDetail/\".concat(e),method:\"GET\"},\"cater\")}function H(e){return Object(o[\"a\"])({url:\"/dishes/dishesList\",method:\"GET\",params:e},\"cater\")}function K(e,t){return Object(o[\"a\"])({url:e,method:\"POST\",headers:{\"Content-Type\":\"multipart/form-data\"},data:t},\"cater\")}function z(e){return Object(o[\"a\"])({url:\"/export/supplierIngredientExcel\",method:\"GET\",responseType:\"blob\",params:e},\"cater\")}function W(e){return Object(o[\"a\"])({method:\"GET\",url:\"/ingredientMapping/ingredientMappingPage\",params:e},\"cater\")}function J(e){return Object(o[\"a\"])({url:\"/ingredientMapping/saveIngredientMapping\",method:\"POST\",data:e},\"cater\")}function Y(e){return Object(o[\"a\"])({url:\"/export/ingredientMappingExcel\",method:\"GET\",responseType:\"blob\",params:e},\"cater\")}function Q(e){return Object(o[\"a\"])({method:\"GET\",url:\"/sendMenus/page\",params:e},\"cater\")}function X(e){return Object(o[\"a\"])({url:\"/sendMenus/saveMenus\",method:\"POST\",data:e},\"cater\")}},f166:function(e,t,a){}}]);","extractedComments":[]}