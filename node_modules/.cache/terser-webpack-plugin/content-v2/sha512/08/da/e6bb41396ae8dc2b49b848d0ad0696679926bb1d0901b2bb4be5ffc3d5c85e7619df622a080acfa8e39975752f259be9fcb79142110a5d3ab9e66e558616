{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"catering-crowd\"],{\"0f6c\":function(t,e){t.exports=function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/dist/\",n(n.s=132)}({132:function(t,e,n){\"use strict\";n.r(e);var a={name:\"ElRow\",componentName:\"ElRow\",props:{tag:{type:String,default:\"div\"},gutter:Number,type:String,justify:{type:String,default:\"start\"},align:{type:String,default:\"top\"}},computed:{style:function(){var t={};return this.gutter&&(t.marginLeft=\"-\"+this.gutter/2+\"px\",t.marginRight=t.marginLeft),t}},render:function(t){return t(this.tag,{class:[\"el-row\",\"start\"!==this.justify?\"is-justify-\"+this.justify:\"\",\"top\"!==this.align?\"is-align-\"+this.align:\"\",{\"el-row--flex\":\"flex\"===this.type}],style:this.style},this.$slots.default)},install:function(t){t.component(a.name,a)}};e[\"default\"]=a}})},2469:function(t,e,n){},\"2c91\":function(t,e,n){\"use strict\";n.d(e,\"e\",(function(){return i})),n.d(e,\"f\",(function(){return s})),n.d(e,\"c\",(function(){return r})),n.d(e,\"b\",(function(){return o})),n.d(e,\"d\",(function(){return u})),n.d(e,\"g\",(function(){return l})),n.d(e,\"a\",(function(){return c}));var a=n(\"be3b\");function i(t){return Object(a[\"b\"])({url:\"/taskDetails/showTaskDetails\",method:\"GET\",params:t},\"bonus-fe\")}function s(t){return Object(a[\"b\"])({url:\"/taskDetails/showUnfinishedTask\",method:\"GET\",params:t},\"bonus-fe\")}function r(t){return Object(a[\"b\"])({url:\"/task/getWaitingTask\",method:\"GET\",params:t},\"bonus-fe\")}function o(t){return Object(a[\"b\"])({url:\"/task/getTask\",method:\"GET\",params:t},\"bonus-fe\")}function u(t,e){return Object(a[\"b\"])({url:t,method:\"POST\",headers:{\"Content-Type\":\"multipart/form-data\"},data:e},\"bonus-fe\")}function l(t){return Object(a[\"b\"])({url:\"/taskDetails/submitProposal\",method:\"POST\",data:t},\"bonus-fe\")}function c(t){return Object(a[\"b\"])({url:\"/taskDetails/calculateMatching\",method:\"POST\",data:t},\"bonus-fe\")}},4360:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticClass:\"app-container\"},[t._m(0),a(\"div\",{staticClass:\"task-bottom-table\"},[t.taskList.length?a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{\"show-header\":!1,data:t.taskList,border:\"\",\"row-class-name\":t.tableRowClassName}},[a(\"el-table-column\",{attrs:{type:\"index\",width:\"50\"}}),a(\"el-table-column\",{attrs:{label:\"名称\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:\"/history/detail/\"+e.row.id,tag:\"span\"}},[t._v(t._s(e.row.name))])]}}],null,!1,307094439)}),a(\"el-table-column\",{attrs:{label:\"提交时间\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.row.updateTime&&e.row.updateTime.split(\"T\")[0])+\" \")]}}],null,!1,14930818)})],1):a(\"div\",{staticClass:\"empty\"},[a(\"img\",{staticClass:\"empty-task\",attrs:{src:n(\"8620\"),alt:\"\",srcset:\"\"}}),a(\"span\",[t._v(\"暂无数据~\")])])],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"task-top-title\"},[n(\"span\",[t._v(\"历史分配记录\")])])}],s=n(\"5530\"),r=(n(\"be4f\"),n(\"450d\"),n(\"896a\")),o=n.n(r),u=(n(\"d3b7\"),n(\"2b0e\")),l=n(\"2c91\"),c=n(\"2f62\");u[\"default\"].use(o.a);var d={neme:\"\",components:{},data:function(){return{taskList:[],listLoading:!1}},computed:Object(s[\"a\"])({},Object(c[\"mapGetters\"])([\"staffName\"])),watch:{},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2?\"\":\"gray-row\"}},created:function(){var t=this;this.listLoading=!0,Object(l[\"b\"])().then((function(e){var n=e.data;t.taskList=n||[]})).finally((function(){t.listLoading=!1}))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},f=d,p=(n(\"7b08\"),n(\"2877\")),m=Object(p[\"a\"])(f,a,i,!1,null,\"58b42cb6\",null);e[\"default\"]=m.exports},\"4b04\":function(t,e,n){},\"6f14\":function(t,e,n){\"use strict\";n.r(e);var a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.loading,expression:\"loading\"}],staticClass:\"app-container\"},[n(\"div\",{staticClass:\"task-detail-top\"},[n(\"div\",{staticClass:\"task-title\"},[t._v(\" \"+t._s(t.detailData.taskName||\"--\")+\" \")]),n(\"div\",{staticClass:\"task-info\"},[n(\"el-row\",[n(\"el-col\",{attrs:{span:6}},[n(\"div\",{staticClass:\"task-info-item\"},[n(\"span\",{staticClass:\"label\"},[t._v(\"校方：\")]),n(\"span\",{staticClass:\"task-content\"},[t._v(t._s(t.detailData.schoolName||\"--\"))])])]),n(\"el-col\",{attrs:{span:6}},[n(\"div\",{staticClass:\"task-info-item\"},[n(\"span\",{staticClass:\"label\"},[t._v(\"奖金池额度：\")]),n(\"span\",{staticClass:\"task-content is-money\"},[t._v(t._s(t._f(\"thousands\")(t.detailData.bonusAmount>=0?t.detailData.bonusAmount:\"0\")))])])]),\"task\"===t.type?n(\"el-col\",{attrs:{span:6}},[n(\"div\",{staticClass:\"task-info-item\"},[n(\"span\",{staticClass:\"label\"},[t._v(\"已分配额度：\")]),n(\"span\",{staticClass:\"task-content is-money\"},[t._v(t._s(t._f(\"thousands\")(t.detailData.bonusAmount>=0?t.distMoney:0)))])])]):t._e(),\"task\"===t.type?n(\"el-col\",{attrs:{span:6}},[n(\"div\",{staticClass:\"task-info-item\"},[n(\"span\",{staticClass:\"label\"},[t._v(\"待分配额度：\")]),n(\"span\",{staticClass:\"task-content is-money\"},[t._v(t._s(t._f(\"thousands\")(null!==t.unDistMoney?t.unDistMoney:0)))])])]):t._e()],1)],1)]),\"task\"===t.type?n(\"div\",{staticClass:\"prompt\"},[t._v(\" 匹配度要求：未达标为红色，达标为黑色，达标后才可进行提交。 \")]):t._e(),\"task\"===t.type?n(\"div\",{staticClass:\"task-detail-mid\"},[n(\"span\",{staticClass:\"label\"},[t._v(\"当前匹配度\")]),n(\"span\",{class:t.matchedDegree10.slice(0,-1)>=60?\"range\":\"range wraning\"},[t._v(\"前10%----\"+t._s(t.matchedDegree10))]),n(\"span\",{class:t.matchedDegree20.slice(0,-1)>=65?\"range\":\"range wraning\"},[t._v(\"前20%----\"+t._s(t.matchedDegree20))]),n(\"span\",{class:t.matchedDegree30.slice(0,-1)>=70?\"range\":\"range wraning\"},[t._v(\"前30%----\"+t._s(t.matchedDegree30))]),n(\"span\",{class:t.matchedDegreeAfter20.slice(0,-1)>=60?\"range\":\"range wraning\"},[t._v(\"后20%----\"+t._s(t.matchedDegreeAfter20))]),\"task\"===t.type?n(\"div\",{staticClass:\"btn-grounp\",staticStyle:{float:\"right\"}},[n(\"el-button\",{attrs:{size:\"small\",type:\"primary\",loading:t.loading},on:{click:t.onMatch}},[t._v(\"匹配计算\")]),n(\"el-button\",{attrs:{size:\"small\",plain:\"\",loading:t.btnLoading},on:{click:t.onClickImport}},[t._v(\"导入\")]),n(\"el-button\",{attrs:{size:\"small\",type:\"primary\",loading:t.btnLoading},on:{click:t.onSubmitTask}},[t._v(\"提交\")])],1):t._e()]):t._e(),n(\"div\",{staticClass:\"task-detial-table\"},[n(\"el-table\",{directives:[{name:\"tableHeight\",rawName:\"v-tableHeight\",value:{bottomOffset:40},expression:\"{ bottomOffset: 40 }\"}],attrs:{data:t.list,border:\"\",\"row-key\":function(t){return t.teacherNum},height:\"100vh\",\"highlight-current-row\":\"\"}},[n(\"el-table-column\",{attrs:{prop:\"performanceRanking\",label:\"绩效排名\",width:\"85\"}}),n(\"el-table-column\",{attrs:{prop:\"teacherName\",label:\"姓名\",width:\"85\"}}),n(\"el-table-column\",{attrs:{prop:\"teacherNum\",label:\"工号\",width:\"100\"}}),n(\"el-table-column\",{attrs:{prop:\"salary\",label:\"年薪\",width:\"100\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[t._v(\" \"+t._s(t._f(\"thousands\")(0===n.salary?\"-\":n.salary))+\" \")]}}])}),n(\"el-table-column\",{attrs:{prop:\"plannedIncome\",label:\"已发年薪内收入\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[t._v(\" \"+t._s(t._f(\"thousands\")(n.plannedIncome))+\" \")]}}])}),n(\"el-table-column\",{attrs:{prop:\"unplannedIncome\",label:\"已发年薪外收入\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[t._v(\" \"+t._s(t._f(\"thousands\")(n.unplannedIncome))+\" \")]}}])}),\"task\"===t.type?n(\"el-table-column\",{attrs:{prop:\"bonus\",label:\"分配奖金\",\"min-width\":\"100\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var a=e.row;return[n(\"el-input\",{key:a.teacherNum,attrs:{size:\"small\",clearable:!0,type:\"number\",step:\"1\",maxlength:\"8\",min:\"0\",placeholder:\"手动输入\"},nativeOn:{keyup:function(e){return t.onBonusChange(a)}},model:{value:a.bonus,callback:function(e){t.$set(a,\"bonus\",e)},expression:\"row.bonus\"}})]}}],null,!1,1995576214)}):t._e(),\"history\"===t.type?n(\"el-table-column\",{attrs:{prop:\"bonus\",label:\"分配奖金\",\"show-overflow-tooltip\":\"\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var n=e.row;return[t._v(\" \"+t._s(t._f(\"thousands\")(n.bonus))+\" \")]}}],null,!1,1097512942)}):t._e(),n(\"el-table-column\",{attrs:{prop:\"realizedIncome\",label:\"实际年薪内收入（已发年薪内+奖金）\",width:\"260\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(t._f(\"thousands\")(t.getRealizedIncome(e)))+\" \")]}}])}),n(\"el-table-column\",{attrs:{prop:\"realizedIncomeRanking\",label:\"实际年薪内收入排名\",width:\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[n(\"span\",{class:\"1\"===e.row.warning?\"ft-red\":\"\"},[t._v(t._s(e.row.realizedIncomeRanking))])]}}])}),\"task\"===t.type?n(\"el-table-column\",{attrs:{prop:\"note\",label:\"备注\",\"show-overflow-tooltip\":\"\"},scopedSlots:t._u([{key:\"default\",fn:function(e){var a=e.row;return[n(\"el-tooltip\",{staticClass:\"item\",attrs:{disabled:!a.note,effect:\"dark\",placement:\"left-start\"}},[n(\"div\",{staticStyle:{\"max-width\":\"200px\"},attrs:{slot:\"content\"},slot:\"content\"},[t._v(t._s(a.note))]),n(\"el-input\",{key:a.teacherNum,attrs:{size:\"small\",placeholder:\"手动输入\"},model:{value:a.note,callback:function(e){t.$set(a,\"note\",e)},expression:\"row.note\"}})],1)]}}],null,!1,3887040684)}):t._e(),\"history\"===t.type?n(\"el-table-column\",{attrs:{prop:\"note\",label:\"备注\",\"show-overflow-tooltip\":\"\",\"min-width\":\"100\"}}):t._e()],1)],1)])},s=[],r=n(\"a34a\"),o=n.n(r),u=n(\"1da1\"),l=n(\"5530\"),c=n(\"ade3\"),d=(n(\"0c67\"),n(\"450d\"),n(\"299c\")),f=n.n(d),p=(n(\"9d4c\"),n(\"e450\")),m=n.n(p),h=(n(\"f4f9\"),n(\"c2cc\")),b=n.n(h),v=(n(\"7a0f\"),n(\"0f6c\")),g=n.n(v),y=(n(\"be4f\"),n(\"896a\")),_=n.n(y),w=(n(\"b0c0\"),n(\"a9e3\"),n(\"d81d\"),n(\"ac1f\"),n(\"1276\"),n(\"5319\"),n(\"99af\"),n(\"d3b7\"),n(\"25f0\"),n(\"2b0e\")),k=(n(\"a78e\"),n(\"2c91\")),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"el-dialog\",t._g({attrs:{visible:t.visible,title:t.title||\"导入数据\",center:\"\",\"close-on-click-modal\":!1,\"close-on-press-escape\":!1},on:{\"update:visible\":function(e){t.visible=e},closed:t.onClosed}},t.$listeners),[n(\"div\",{staticClass:\"import-data-content\"},[n(\"h3\",[t._v(\"导入流程\")]),n(\"p\",[t._v(\" 1、我们为您设置了导入模板，下载后按照模板格式内容上传即可； \"),t.templateUrl?n(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.downloadTemplate}},[t._v(\" 下载模板 \")]):t._e()],1),n(\"p\",[t._v(\"2、黄色表头表示的列为必填项；\")]),n(\"p\",[t._v(\"3、请不要进行插入列操作；\")]),n(\"p\",[t._v(\"4、excel表格数据行之间不要有空行。\")]),n(\"el-input\",{attrs:{value:t.fileName,placeholder:\"选择文件\",readonly:\"\"}},[n(\"el-button\",{attrs:{slot:\"append\"},on:{click:function(e){return t.$refs.file.click()}},slot:\"append\"},[t._v(\"浏览\")])],1),t.renderFile?n(\"input\",{directives:[{name:\"show\",rawName:\"v-show\",value:!1,expression:\"false\"}],ref:\"file\",attrs:{type:\"file\",accept:\".xls,.xlsx\"},on:{change:t.onChange}}):t._e()],1),n(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{size:\"small\"},on:{click:function(e){t.visible=!1}}},[t._v(\"取消\")]),n(\"el-button\",{attrs:{size:\"small\",type:\"primary\"},on:{click:t.startUpalodFile}},[t._v(\" 确定上传 \")])],1)])},D=[],S=(n(\"9e1f\"),n(\"6ed5\")),C=n.n(S),O=(n(\"0fb7\"),n(\"f529\")),j=n.n(O),N=(n(\"10cb\"),n(\"f3ad\")),$=n.n(N),I=(n(\"a7cc\"),n(\"df33\")),M=n.n(I),T=(n(\"1951\"),n(\"eedf\")),P=n.n(T),E=n(\"be3b\");function L(t){if(!t||\"string\"!==typeof t)return\"\";var e=/\\.([0-9a-zA-Z]+)(?:[\\?#]|$)/i.exec(t);return e?e[1]:\"\"}var z,A={name:\"BImportDataPanel\",components:(a={},Object(c[\"a\"])(a,P.a.name,P.a),Object(c[\"a\"])(a,M.a.name,M.a),Object(c[\"a\"])(a,$.a.name,$.a),a),props:{url:{type:String,default:\"\"},ajaxImport:{type:Function,default:function(){}},maxFileSize:{type:Number,default:2},title:{type:String,default:\"\"},templateUrl:{type:String,default:\"\"},onSuccess:{type:Function}},data:function(){return{renderFile:!0,visible:!1,file:null}},computed:{fileName:function(){return this.file&&this.file.name||\"\"}},watch:{},methods:{onChange:function(t){var e=t.target.files,n=e[0];this.resetFile(),e.length&&this.checkFile(e[0])&&(this.file=n)},checkFile:function(t){var e=-1!==[\"xls\",\"xlsx\"].indexOf(L(t.name).toLowerCase()),n=t.size/1024/1024<this.maxFileSize;return e||j.a.warning(\"上传文件只能是xls、xlsx格式\"),n||j.a.warning(\"上传文件只能最大2MB\"),e&&n},resetFile:function(){var t=this;this.renderFile=!1,this.$nextTick((function(){t.renderFile=!0}))},startUpalodFile:function(){var t=this;if(!this.file||!(this.file instanceof File))return j.a.warning(\"文件未填写\");var e=new FormData;e.append(\"file\",this.file);var n=_.a.service({text:\"导入中...\"}),a=this.ajaxImport&&this.ajaxImport(e);a&&\"function\"==typeof a.then||(a=Object(E[\"b\"])({method:\"POST\",url:this.url})),a.then((function(e){var n=e.data;if(t.hide(),n&&n.total!=n.successNum){var a=\"共\".concat(n.total,\"条数据，已成功导入\").concat(n.successNum,\"条，点击“下载”下载错误报告\");C.a.confirm(a,\"提示\",{confirmButtonText:\"下载\",cancelButtonText:\"取消\",type:\"warning\",closeOnClickModal:!1,closeOnPressEscape:!1,showClose:!1}).then((function(){window.open(n.fileUrl)}))}else C.a.alert(\"恭喜！共\".concat(n.total,\"条数据，全部完成导入\"),\"提示\",{confirmButtonText:\"确定\",type:\"success\"});\"function\"===typeof t.onSuccess&&t.onSuccess.call()})).catch((function(t){console.log(\"e\",t)})).finally((function(){n.close()}))},downloadTemplate:function(){window.open(this.templateUrl)},show:function(){this.file=null,this.visible=!0},hide:function(){this.visible=!1},onClosed:function(){this.$emit(\"close\")}}},F=A,R=(n(\"b843\"),n(\"2877\")),U=Object(R[\"a\"])(F,x,D,!1,null,\"bab7de12\",null),V=U.exports,B=null,G=w[\"default\"].extend(Object.assign({},V,{methods:Object(l[\"a\"])(Object(l[\"a\"])({},V.methods),{},{onClosed:function(){document.body.removeChild(this.$el)}})})),H=function(t){B&&(B.hide(),B=null),t=t||{},\"string\"===typeof t&&(t={url:t}),B=new G({el:document.createElement(\"div\"),propsData:t}),document.body.appendChild(B.$el),w[\"default\"].nextTick((function(){B.show()}))},J=H,W={task:k[\"f\"],history:k[\"e\"]};w[\"default\"].use(_.a);var X={neme:\"\",components:(z={},Object(c[\"a\"])(z,g.a.name,g.a),Object(c[\"a\"])(z,b.a.name,b.a),Object(c[\"a\"])(z,m.a.name,m.a),Object(c[\"a\"])(z,f.a.name,f.a),z),data:function(){return{detailData:{},list:[],matchedDegree10:\"0%\",matchedDegree20:\"0%\",matchedDegree30:\"0%\",matchedDegreeAfter20:\"0%\",loading:!1,btnLoading:!1}},props:{type:{type:String,default:\"task\"}},computed:{unDistMoney:function(){return this.detailData.bonusAmount&&this.distMoney?this.detailData.bonusAmount-this.distMoney:0},distMoney:function(){return this.list.reduce((function(t,e){return Number(t)+(Number(e.bonus)||0)}),0)},submitData:function(){return Object(l[\"a\"])(Object(l[\"a\"])({matchedDegree10:this.matchedDegree10,matchedDegree20:this.matchedDegree20,matchedDegree30:this.matchedDegree30,matchedDegreeAfter20:this.matchedDegreeAfter20+\"%\",id:this.$route.params.taskId},this.detailData),{},{list:this.list.map((function(t){return Object(l[\"a\"])({},t)}))})}},watch:{},filters:{thousands:function(t){var e=function(t){if(!t)return t;var e=t.split(\".\"),n=/\\d{1,3}(?=(\\d{3})+$)/g,a=e[0].replace(n,\"$&,\");return e.length>1&&e[1]?\"\".concat(a,\".\").concat(e[1]):\"\".concat(a)},n=function(t){return t?(t=t.toString(),t=t.replace(/,/gi,\"\"),t):t};return e(n(t))}},methods:{onClickImport:function(){var t=this;J({templateUrl:\"/bonus_count_front\"+this.$store.state.settings.taskUrl.unfinishedDetail.tmpl,ajaxImport:function(e){return e.append(\"exportType\",2),t.btnLoading=!0,new Promise((function(n,a){return Object(k[\"d\"])(t.$store.state.settings.taskUrl.unfinishedDetail.importUrl+\"?taskId=\"+t.$route.params.taskId,e).then((function(e){t.list=e.data.list,n(e)})).catch((function(t){n({})})).finally((function(){t.btnLoading=!1}))}))}})},getRealizedIncome:function(t){var e=t.row;return!e.bonus&&(e.bonus=0),e.realizedIncome=Number(e.plannedIncome)+Number(e.bonus),e.realizedIncome},getMatch:function(t){},onMatch:function(){var t=this;return this.loading=!0,new Promise((function(e,n){Object(k[\"a\"])(t.submitData).then((function(e){var n=e.data;t.detailData=n||{},t.list=n.list||[],t.matchedDegree10=n.matchedDegree10,t.matchedDegree20=n.matchedDegree20,t.matchedDegree30=n.matchedDegree30,t.matchedDegreeAfter20=n.matchedDegreeAfter20})).finally((function(){t.loading=!1,e()}))}))},onSubmitTask:function(){var t=this;return Object(u[\"a\"])(o.a.mark((function e(){return o.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$confirm(\"提交后无法修改，人事将根据该结果发放奖金\",\"提醒\",{confirmButtonText:\"确认\",cancelButtonText:\"取消\",center:!0,showClose:!1,dangerouslyUseHTMLString:!0}).then((function(){return t.unDistMoney<0?t.$message(\"奖金总额超过奖金池额度，请调整后重新导入\"):t.list.length?void t.onMatch().then((function(e){var n=t.list.reduce((function(t,e){return null===e.bonus?t&&e.bonus:t}),!0);if(!n)return t.$message(\"分配奖金不可为空，请填写完整！\");t.btnLoading=!0,Object(k[\"g\"])(t.submitData).then((function(e){e.data&&(t.$message({type:\"success\",message:\"提交成功!\"}),t.$router.push(\"/task-list/index\"))})).finally((function(){t.btnLoading=!1}))})):t.$message(\"请导入至少一条数据内容！\")}));case 1:case\"end\":return e.stop()}}),e)})))()},comdify:function(t){if(!t)return t;var e=t.split(\".\"),n=/\\d{1,3}(?=(\\d{3})+$)/g,a=e[0].replace(n,\"$&,\");return e.length>1&&e[1]?\"\".concat(a,\".\").concat(e[1]):\"\".concat(a)},delcommafy:function(t){return t?(t=t.toString(),t=t.replace(/,/gi,\"\"),t):t},blurInput:function(t,e,n){/^\\d+$/.test(e.bonus)&&this.unDistMoney>=0?e.bonus=Number(e.bonus):e.bonus=0,e.bonus=this.comdify(this.delcommafy(e.bonus))},foucusInput:function(t,e,n){var a=t.target.value||\"\";e.bonus=this.delcommafy(a)},onSaveDraft:function(){},onBonusChange:function(t){/^\\d+$/.test(t.bonus)&&this.unDistMoney>=0?t.bonus=Number(t.bonus):t.bonus=0}},created:function(){var t=this;this.$store.dispatch(\"app/closeSideBar\",{withoutAnimation:!1}),this.loading=!0,W[this.type]({taskId:this.$route.params.taskId}).then((function(e){var n=e.data;t.detailData=n||{},t.list=n.list||[],t.matchedDegree10=n.matchedDegree10,t.matchedDegree20=n.matchedDegree20,t.matchedDegree30=n.matchedDegree30,t.matchedDegreeAfter20=n.matchedDegreeAfter20})).finally((function(){t.loading=!1}))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},Z=X,q=(n(\"c702\"),Object(R[\"a\"])(Z,i,s,!1,null,\"4b09df5c\",null));e[\"default\"]=q.exports},7477:function(t,e,n){\"use strict\";var a=n(\"4b04\"),i=n.n(a);i.a},\"7a0f\":function(t,e,n){},\"7b08\":function(t,e,n){\"use strict\";var a=n(\"b702\"),i=n.n(a);i.a},\"7bc4\":function(t,e,n){},\"7e32\":function(t,e,n){},\"80de\":function(t,e,n){\"use strict\";var a=n(\"2469\"),i=n.n(a);i.a},8391:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"task-detail\",{attrs:{type:\"history\"}})},i=[],s=n(\"6f14\"),r={neme:\"\",components:{taskDetail:s[\"default\"]},data:function(){return{}},computed:{},watch:{},methods:{},created:function(){},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},o=r,u=(n(\"7477\"),n(\"2877\")),l=Object(u[\"a\"])(o,a,i,!1,null,\"ffa717b0\",null);e[\"default\"]=l.exports},8620:function(t,e,n){t.exports=n.p+\"img/empty.23c0e2c4.png\"},\"9d4c\":function(t,e,n){},\"9d75\":function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticClass:\"app-container\"},[t._m(0),a(\"div\",{staticClass:\"task-bottom-table\"},[t.taskList.length?a(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{\"show-header\":!1,data:t.taskList,border:\"\",\"row-class-name\":t.tableRowClassName}},[a(\"el-table-column\",{attrs:{type:\"index\",width:\"50\"}}),a(\"el-table-column\",{attrs:{label:\"名称\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"router-link\",{attrs:{to:\"/task-list/detail/\"+e.row.id,tag:\"span\"}},[t._v(t._s(e.row.name))])]}}],null,!1,1491867175)})],1):a(\"div\",{staticClass:\"empty\"},[a(\"img\",{staticClass:\"empty-task\",attrs:{src:n(\"8620\"),alt:\"\",srcset:\"\"}}),a(\"span\",[t._v(\"暂无数据~\")])])],1)])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"task-top-title\"},[n(\"span\",[t._v(\"待处理任务\")])])}],s=n(\"5530\"),r=(n(\"be4f\"),n(\"450d\"),n(\"896a\")),o=n.n(r),u=(n(\"d3b7\"),n(\"2b0e\")),l=n(\"2c91\"),c=n(\"2f62\");u[\"default\"].use(o.a);var d={neme:\"taskList\",components:{},data:function(){return{taskList:[],listLoading:!1,loading:!1}},computed:Object(s[\"a\"])({},Object(c[\"mapGetters\"])([\"staffName\"])),watch:{},methods:{tableRowClassName:function(t){t.row;var e=t.rowIndex;return e%2?\"\":\"gray-row\"}},created:function(){var t=this;this.listLoading=!0,Object(l[\"c\"])({schoolName:this.staffName}).then((function(e){var n=e.data;t.taskList=n||[]})).finally((function(){t.listLoading=!1}))},mounted:function(){},beforeCreate:function(){},beforeMount:function(){},beforeUpdate:function(){},updated:function(){},beforeDestroy:function(){},destroyed:function(){},activated:function(){}},f=d,p=(n(\"80de\"),n(\"2877\")),m=Object(p[\"a\"])(f,a,i,!1,null,\"63b34544\",null);e[\"default\"]=m.exports},b702:function(t,e,n){},b843:function(t,e,n){\"use strict\";var a=n(\"7e32\"),i=n.n(a);i.a},c2cc:function(t,e){t.exports=function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/dist/\",n(n.s=134)}({134:function(t,e,n){\"use strict\";n.r(e);var a=\"function\"===typeof Symbol&&\"symbol\"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},i={name:\"ElCol\",props:{span:{type:Number,default:24},tag:{type:String,default:\"div\"},offset:Number,pull:Number,push:Number,xs:[Number,Object],sm:[Number,Object],md:[Number,Object],lg:[Number,Object],xl:[Number,Object]},computed:{gutter:function(){var t=this.$parent;while(t&&\"ElRow\"!==t.$options.componentName)t=t.$parent;return t?t.gutter:0}},render:function(t){var e=this,n=[],i={};return this.gutter&&(i.paddingLeft=this.gutter/2+\"px\",i.paddingRight=i.paddingLeft),[\"span\",\"offset\",\"pull\",\"push\"].forEach((function(t){(e[t]||0===e[t])&&n.push(\"span\"!==t?\"el-col-\"+t+\"-\"+e[t]:\"el-col-\"+e[t])})),[\"xs\",\"sm\",\"md\",\"lg\",\"xl\"].forEach((function(t){if(\"number\"===typeof e[t])n.push(\"el-col-\"+t+\"-\"+e[t]);else if(\"object\"===a(e[t])){var i=e[t];Object.keys(i).forEach((function(e){n.push(\"span\"!==e?\"el-col-\"+t+\"-\"+e+\"-\"+i[e]:\"el-col-\"+t+\"-\"+i[e])}))}})),t(this.tag,{class:[\"el-col\",n],style:i},this.$slots.default)},install:function(t){t.component(i.name,i)}};e[\"default\"]=i}})},c702:function(t,e,n){\"use strict\";var a=n(\"7bc4\"),i=n.n(a);i.a},e450:function(t,e,n){t.exports=function(t){var e={};function n(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return t[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var i in t)n.d(a,i,function(e){return t[e]}.bind(null,i));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"/dist/\",n(n.s=114)}({0:function(t,e,n){\"use strict\";function a(t,e,n,a,i,s,r,o){var u,l=\"function\"===typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),a&&(l.functional=!0),s&&(l._scopeId=\"data-v-\"+s),r?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=u):i&&(u=o?function(){i.call(this,this.$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:l}}n.d(e,\"a\",(function(){return a}))},10:function(t,e){t.exports=n(\"f3ad\")},114:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{class:[\"el-input-number\",t.inputNumberSize?\"el-input-number--\"+t.inputNumberSize:\"\",{\"is-disabled\":t.inputNumberDisabled},{\"is-without-controls\":!t.controls},{\"is-controls-right\":t.controlsAtRight}],on:{dragstart:function(t){t.preventDefault()}}},[t.controls?n(\"span\",{directives:[{name:\"repeat-click\",rawName:\"v-repeat-click\",value:t.decrease,expression:\"decrease\"}],staticClass:\"el-input-number__decrease\",class:{\"is-disabled\":t.minDisabled},attrs:{role:\"button\"},on:{keydown:function(e){return!(\"button\"in e)&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.decrease(e)}}},[n(\"i\",{class:\"el-icon-\"+(t.controlsAtRight?\"arrow-down\":\"minus\")})]):t._e(),t.controls?n(\"span\",{directives:[{name:\"repeat-click\",rawName:\"v-repeat-click\",value:t.increase,expression:\"increase\"}],staticClass:\"el-input-number__increase\",class:{\"is-disabled\":t.maxDisabled},attrs:{role:\"button\"},on:{keydown:function(e){return!(\"button\"in e)&&t._k(e.keyCode,\"enter\",13,e.key,\"Enter\")?null:t.increase(e)}}},[n(\"i\",{class:\"el-icon-\"+(t.controlsAtRight?\"arrow-up\":\"plus\")})]):t._e(),n(\"el-input\",{ref:\"input\",attrs:{value:t.displayValue,placeholder:t.placeholder,disabled:t.inputNumberDisabled,size:t.inputNumberSize,max:t.max,min:t.min,name:t.name,label:t.label},on:{blur:t.handleBlur,focus:t.handleFocus,input:t.handleInput,change:t.handleInputChange},nativeOn:{keydown:[function(e){return!(\"button\"in e)&&t._k(e.keyCode,\"up\",38,e.key,[\"Up\",\"ArrowUp\"])?null:(e.preventDefault(),t.increase(e))},function(e){return!(\"button\"in e)&&t._k(e.keyCode,\"down\",40,e.key,[\"Down\",\"ArrowDown\"])?null:(e.preventDefault(),t.decrease(e))}]}})],1)},i=[];a._withStripped=!0;var s=n(10),r=n.n(s),o=n(22),u=n.n(o),l=n(30),c={name:\"ElInputNumber\",mixins:[u()(\"input\")],inject:{elForm:{default:\"\"},elFormItem:{default:\"\"}},directives:{repeatClick:l[\"a\"]},components:{ElInput:r.a},props:{step:{type:Number,default:1},stepStrictly:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,size:String,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:\"\"},name:String,label:String,placeholder:String,precision:{type:Number,validator:function(t){return t>=0&&t===parseInt(t,10)}}},data:function(){return{currentValue:0,userInput:null}},watch:{value:{immediate:!0,handler:function(t){var e=void 0===t?t:Number(t);if(void 0!==e){if(isNaN(e))return;if(this.stepStrictly){var n=this.getPrecision(this.step),a=Math.pow(10,n);e=Math.round(e/this.step)*a*this.step/a}void 0!==this.precision&&(e=this.toPrecision(e,this.precision))}e>=this.max&&(e=this.max),e<=this.min&&(e=this.min),this.currentValue=e,this.userInput=null,this.$emit(\"input\",e)}}},computed:{minDisabled:function(){return this._decrease(this.value,this.step)<this.min},maxDisabled:function(){return this._increase(this.value,this.step)>this.max},numPrecision:function(){var t=this.value,e=this.step,n=this.getPrecision,a=this.precision,i=n(e);return void 0!==a?(i>a&&console.warn(\"[Element Warn][InputNumber]precision should not be less than the decimal places of step\"),a):Math.max(n(t),i)},controlsAtRight:function(){return this.controls&&\"right\"===this.controlsPosition},_elFormItemSize:function(){return(this.elFormItem||{}).elFormItemSize},inputNumberSize:function(){return this.size||this._elFormItemSize||(this.$ELEMENT||{}).size},inputNumberDisabled:function(){return this.disabled||!!(this.elForm||{}).disabled},displayValue:function(){if(null!==this.userInput)return this.userInput;var t=this.currentValue;if(\"number\"===typeof t){if(this.stepStrictly){var e=this.getPrecision(this.step),n=Math.pow(10,e);t=Math.round(t/this.step)*n*this.step/n}void 0!==this.precision&&(t=t.toFixed(this.precision))}return t}},methods:{toPrecision:function(t,e){return void 0===e&&(e=this.numPrecision),parseFloat(Math.round(t*Math.pow(10,e))/Math.pow(10,e))},getPrecision:function(t){if(void 0===t)return 0;var e=t.toString(),n=e.indexOf(\".\"),a=0;return-1!==n&&(a=e.length-n-1),a},_increase:function(t,e){if(\"number\"!==typeof t&&void 0!==t)return this.currentValue;var n=Math.pow(10,this.numPrecision);return this.toPrecision((n*t+n*e)/n)},_decrease:function(t,e){if(\"number\"!==typeof t&&void 0!==t)return this.currentValue;var n=Math.pow(10,this.numPrecision);return this.toPrecision((n*t-n*e)/n)},increase:function(){if(!this.inputNumberDisabled&&!this.maxDisabled){var t=this.value||0,e=this._increase(t,this.step);this.setCurrentValue(e)}},decrease:function(){if(!this.inputNumberDisabled&&!this.minDisabled){var t=this.value||0,e=this._decrease(t,this.step);this.setCurrentValue(e)}},handleBlur:function(t){this.$emit(\"blur\",t)},handleFocus:function(t){this.$emit(\"focus\",t)},setCurrentValue:function(t){var e=this.currentValue;\"number\"===typeof t&&void 0!==this.precision&&(t=this.toPrecision(t,this.precision)),t>=this.max&&(t=this.max),t<=this.min&&(t=this.min),e!==t&&(this.userInput=null,this.$emit(\"input\",t),this.$emit(\"change\",t,e),this.currentValue=t)},handleInput:function(t){this.userInput=t},handleInputChange:function(t){var e=\"\"===t?void 0:Number(t);isNaN(e)&&\"\"!==t||this.setCurrentValue(e),this.userInput=null},select:function(){this.$refs.input.select()}},mounted:function(){var t=this.$refs.input.$refs.input;t.setAttribute(\"role\",\"spinbutton\"),t.setAttribute(\"aria-valuemax\",this.max),t.setAttribute(\"aria-valuemin\",this.min),t.setAttribute(\"aria-valuenow\",this.currentValue),t.setAttribute(\"aria-disabled\",this.inputNumberDisabled)},updated:function(){if(this.$refs&&this.$refs.input){var t=this.$refs.input.$refs.input;t.setAttribute(\"aria-valuenow\",this.currentValue)}}},d=c,f=n(0),p=Object(f[\"a\"])(d,a,i,!1,null,null,null);p.options.__file=\"packages/input-number/src/input-number.vue\";var m=p.exports;m.install=function(t){t.component(m.name,m)};e[\"default\"]=m},2:function(t,e){t.exports=n(\"5924\")},22:function(t,e){t.exports=n(\"12f2\")},30:function(t,e,n){\"use strict\";var a=n(2);e[\"a\"]={bind:function(t,e,n){var i=null,s=void 0,r=function(){return n.context[e.expression].apply()},o=function(){Date.now()-s<100&&r(),clearInterval(i),i=null};Object(a[\"on\"])(t,\"mousedown\",(function(t){0===t.button&&(s=Date.now(),Object(a[\"once\"])(document,\"mouseup\",o),clearInterval(i),i=setInterval(r,100))}))}}}})},f4f9:function(t,e,n){}}]);","extractedComments":[]}