{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"catering-user-manage\"],{\"00bb\":function(t,e){t.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAt1BMVEUAAABPhPZJffFJfPFJffFJfPBLffBMfvBNf/BSgvBSg/BUhPBZh/FaiPFijvJkj/JulvNvl/NwmPNxmfNzmvN1m/N7oPR8oPSBpPSDpvSFp/WKq/WMrPWRsPaWs/aYtfabt/adufeowPesw/iuxPivxfi5zfm+0Pm/0fnA0vnO3PvP3fvb5fzc5fzc5vzm7f3n7v3w9P3y9v72+P73+f75+v76+/77/P78/P78/f79/f7+/v7///+U4lsgAAAABXRSTlMAHafm7WqwCLkAAACqSURBVDjLzZO3FsIwDEVlO4+a0HvvLbTQIfr/72LhHBgceeVNHu4gXesRKW2QEKMVkfIgxFOkIUaTkQFDcOSPAT8cikB2y1MJSG84zEjAivc5aYYZHwNpyBFHRWmLbnwpW9YMqp9H4/5o2jwsuQ8AKJ3jnlVU/fZsAShEPE4w2Xlda/APPE9UPeBTZcdr4S8mHH8FWtdc/Ai0Aql2/k9PzlkcZ/Wc5XXV/w0tTR1d77YjrgAAAABJRU5ErkJggg==\"},\"3f91\":function(t,e,a){\"use strict\";var i=a(\"eb02\"),s=a.n(i);s.a},\"463c\":function(t,e,a){},\"5ada\":function(t,e,a){},6081:function(t,e,a){\"use strict\";var i=a(\"463c\"),s=a.n(i);s.a},\"9a10\":function(t,e){t.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAG1BMVEUAAACNsP+Iqf+Hqv+Iqv+Hqf+qwv/y9v////+NUaisAAAABXRSTlMAHafm7WqwCLkAAAA4SURBVCjPY2BUDkUCRgIMIqEowJFBNb0DCZQFMZhWIAu0BzOEdqCA0FGBwSGAEVEYUYkR2ejJAQCtG/RhhxRTQAAAAABJRU5ErkJggg==\"},c8e4:function(t,e,a){\"use strict\";var i=a(\"5ada\"),s=a.n(i);s.a},dbaa:function(t,e,a){\"use strict\";a.r(e);var i,s,c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\"},[a(\"b-table\",{ref:\"bTable\",attrs:{loading:\"\",\"form-items\":t.formItems,headers:t.headers,\"show-column\":!1,\"ajax-get-data\":t.fetchListData,toolbars:t.toolbars},scopedSlots:t._u([{key:\"column|role\",fn:function(e){var a=e.row;return[t._v(\" \"+t._s(a.role?a.role.join(\"，\"):\"\")+\" \")]}},{key:\"column|schoolList\",fn:function(e){var a=e.row;return[t._v(\" \"+t._s(a.schoolList?a.schoolList.join(\"，\"):\"\")+\" \")]}}])}),a(\"permission-modal\",{ref:\"permissionModal\",attrs:{dialogVisible:t.modalVisible,staffCodeList:t.staffCodeList},on:{handleCancel:t.handleCancel,handleSubmit:t.handleSubmit}})],1)},l=[],o=a(\"5530\"),n=a(\"ade3\"),r=(a(\"1951\"),a(\"450d\"),a(\"eedf\")),d=a.n(r),h=(a(\"a7cc\"),a(\"df33\")),f=a.n(h),u=(a(\"b0c0\"),a(\"a15b\"),a(\"d3b7\"),a(\"d81d\"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"el-dialog\",{attrs:{title:\"提示\",visible:t.dialogVisible,width:\"1100px\",\"before-close\":t.handleCancel},on:{\"update:visible\":function(e){t.dialogVisible=e},close:t.handleCancel}},[a(\"div\",[a(\"el-table\",{attrs:{data:t.tableData}},[a(\"el-table-column\",{attrs:{prop:\"province\",label:\"省份\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.row.provinceHidden?t._e():a(\"span\",{staticClass:\"table-item\",on:{click:function(a){return t.checkProvince(e.$index)}}},[a(\"img\",{staticClass:\"checkImg\",attrs:{src:e.row.provinceSelected?t.selectedCheckboxIcon:t.normalCheckboxIcon,alt:\"\"}}),t._v(\" \"+t._s(e.row.province)+\" \")])]}}])}),a(\"el-table-column\",{attrs:{prop:\"date\",label:\"市\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.row.cityHidden?t._e():a(\"span\",{staticClass:\"table-item\",on:{click:function(a){return t.checkCity(e.$index)}}},[a(\"img\",{staticClass:\"checkImg\",attrs:{src:e.row.citySelected?t.selectedCheckboxIcon:t.normalCheckboxIcon,alt:\"\"}}),t._v(\" \"+t._s(e.row.city)+\" \")])]}}])}),a(\"el-table-column\",{attrs:{prop:\"date\",label:\"区县\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[e.row.districtHidden?t._e():a(\"span\",{staticClass:\"table-item\",on:{click:function(a){return t.checkDistrict(e.$index)}}},[a(\"img\",{staticClass:\"checkImg\",attrs:{src:e.row.districtSelected?t.selectedCheckboxIcon:t.normalCheckboxIcon,alt:\"\"}}),t._v(\" \"+t._s(e.row.district)+\" \")])]}}])}),a(\"el-table-column\",{attrs:{prop:\"school\",label:\"学校\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"span\",{staticClass:\"table-item\",on:{click:function(a){return t.checkSchool(e.$index)}}},[a(\"img\",{staticClass:\"checkImg\",attrs:{src:e.row.schoolSelected?t.selectedCheckboxIcon:t.normalCheckboxIcon,alt:\"\"}}),t._v(\" \"+t._s(e.row.school)+\" \")])]}}])}),a(\"el-table-column\",{attrs:{prop:\"school\",label:\"学部\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return t._l(e.row.schoolBranchList,(function(i,s){return a(\"span\",{key:i.schoolBranchId,staticClass:\"table-item\",on:{click:function(a){return t.checkSchoolBranch(e.$index,s)}}},[a(\"img\",{staticClass:\"checkImg\",attrs:{src:i.selected?t.selectedCheckboxIcon:t.normalCheckboxIcon,alt:\"\"}}),t._v(\" \"+t._s(i.schoolBranchName)+\" \")])}))}}])})],1)],1),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:t.handleCancel}},[t._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.handleConfirm}},[t._v(\"确 定\")])],1)])],1)}),b=[],p=(a(\"4de4\"),a(\"c740\"),a(\"9a10\")),m=a.n(p),v=a(\"00bb\"),g=a.n(v),D=a(\"eb34\"),A={props:[\"dialogVisible\",\"staffCodeList\"],data:function(){return{normalCheckboxIcon:m.a,selectedCheckboxIcon:g.a,tableData:[]}},watch:{dialogVisible:{handler:function(t){t&&this.getTableData()}}},methods:{getTableData:function(){var t=this;0!==this.staffCodeList.length&&Object(D[\"a\"])({staffCode:\"\"}).then((function(e){var a=e.data||[];t.transformData(a)}))},transformData:function(t){for(var e=[],a=0;a<t.length;a++)for(var i=0;i<t[a].childList.length;i++)for(var s=0;s<t[a].childList[i].childList.length;s++)for(var c=0;c<t[a].childList[i].childList[s].schoolList.length;c++){for(var l=[],o=0;o<t[a].childList[i].childList[s].schoolList[c].schoolBranchRespDtoList.length;o++)l.push({schoolBranchName:t[a].childList[i].childList[s].schoolList[c].schoolBranchRespDtoList[o].name,schoolBranchId:t[a].childList[i].childList[s].schoolList[c].schoolBranchRespDtoList[o].id,selected:t[a].childList[i].childList[s].schoolList[c].schoolBranchRespDtoList[o].isSelected});e.push({province:t[a].name,provinceId:t[a].id,provinceSelected:t[a].childList[i].childList[s].schoolList[c].isSelected,provinceHidden:0!==i||0!==s||0!=c,city:t[a].childList[i].name,cityId:t[a].childList[i].id,cityHidden:0!==s||0!=c,citySelected:t[a].childList[i].childList[s].schoolList[c].isSelected,district:t[a].childList[i].childList[s].name,districtId:t[a].childList[i].childList[s].id,districtHidden:0!=c,districtSelected:t[a].childList[i].childList[s].schoolList[c].isSelected,school:t[a].childList[i].childList[s].schoolList[c].name,schoolId:t[a].childList[i].childList[s].schoolList[c].id,schoolSelected:t[a].childList[i].childList[s].schoolList[c].isSelected,schoolBranchList:l})}e.forEach((function(t){t.provinceSelected=e.filter((function(e){return t.provinceId===e.provinceId})).some((function(t){return t.provinceSelected})),t.citySelected=e.filter((function(e){return t.cityId===e.cityId})).some((function(t){return t.citySelected})),t.districtSelected=e.filter((function(e){return t.districtId===e.districtId})).some((function(t){return t.districtSelected}))})),this.tableData=e},checkProvince:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!this.tableData[t].provinceSelected,i=this.tableData[t].province,s=0;s<this.tableData.length;s++)if(this.tableData[s].province===i&&(this.tableData[s].provinceSelected=a,e)){this.tableData[s].citySelected=a,this.tableData[s].districtSelected=a,this.tableData[s].schoolSelected=a;for(var c=0;c<this.tableData[s].schoolBranchList.length;c++)this.tableData[s].schoolBranchList[c].selected=a}},checkCity:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!this.tableData[t].citySelected,i=this.tableData[t].provinceId,s=this.tableData[t].cityId,c=this.tableData.findIndex((function(t){return t.provinceId===i})),l=0;l<this.tableData.length;l++)if(this.tableData[l].provinceId===i&&this.tableData[l].cityId===s&&(this.tableData[l].citySelected=a,e)){this.tableData[l].districtSelected=a,this.tableData[l].schoolSelected=a;for(var o=0;o<this.tableData[l].schoolBranchList.length;o++)this.tableData[l].schoolBranchList[o].selected=a}if(a)this.tableData[c].provinceSelected||this.checkProvince(c,!1);else{var n=this.tableData.filter((function(t){return t.provinceId===i})),r=n.every((function(t){return!t.citySelected}));r&&this.checkProvince(c,!1)}},checkDistrict:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!this.tableData[t].districtSelected,i=this.tableData[t].provinceId,s=this.tableData[t].cityId,c=this.tableData[t].districtId,l=this.tableData.findIndex((function(t){return t.cityId===s})),o=0;o<this.tableData.length;o++)if(this.tableData[o].provinceId===i&&this.tableData[o].cityId===s&&this.tableData[o].districtId===c&&(this.tableData[o].districtSelected=a,e)){this.tableData[o].schoolSelected=a;for(var n=0;n<this.tableData[o].schoolBranchList.length;n++)this.tableData[o].schoolBranchList[n].selected=a}if(a)this.tableData[l].citySelected||this.checkCity(l,!1);else{var r=this.tableData.filter((function(t){return t.cityId===s})),d=r.every((function(t){return!t.districtSelected}));d&&this.checkCity(l,!1)}},checkSchool:function(t){for(var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=!this.tableData[t].schoolSelected,i=this.tableData[t].provinceId,s=this.tableData[t].cityId,c=this.tableData[t].districtId,l=this.tableData[t].schoolId,o=this.tableData.findIndex((function(t){return t.districtId===c})),n=0;n<this.tableData.length;n++)if(this.tableData[n].provinceId===i&&this.tableData[n].cityId===s&&this.tableData[n].districtId===c&&this.tableData[n].schoolId===l&&(this.tableData[n]=Object.assign(this.tableData[n],{schoolSelected:a}),e))for(var r=0;r<this.tableData[n].schoolBranchList.length;r++)this.tableData[n].schoolBranchList[r].selected=a;if(a)this.tableData[o].districtSelected||this.checkDistrict(o,!1);else{var d=this.tableData.filter((function(t){return t.districtId===c})),h=d.every((function(t){return!t.schoolSelected}));h&&this.checkDistrict(o,!1)}},checkSchoolBranch:function(t,e){var a=!this.tableData[t].schoolBranchList[e].selected;this.tableData[t].districtId,this.tableData[t].cityId,this.tableData[t].provinceId;if(this.tableData[t].schoolBranchList[e].selected=a,a)this.tableData[t].schoolSelected||this.checkSchool(t,!1);else{var i=this.tableData[t].schoolBranchList.every((function(t){return!t.selected}));i&&this.checkSchool(t,!1)}},handleCancel:function(){this.$emit(\"handleCancel\")},handleConfirm:function(){for(var t=this,e=[],a=0;a<this.tableData.length;a++)for(var i=0;i<this.tableData[a].schoolBranchList.length;i++){var s=this.tableData[a].schoolBranchList.filter((function(t){return!t.selected}));this.tableData[a].schoolBranchList[i].selected&&e.push({schoolId:this.tableData[a].schoolId,schoolBranchId:this.tableData[a].schoolBranchList[i].schoolBranchId,allSelected:s.length?0:1})}Object(D[\"b\"])({staffCode:this.staffCodeList,subList:e}).then((function(e){t.$message({type:\"success\",message:\"保存成功!\"}),t.$emit(\"handleSubmit\")}))}}},S=A,y=(a(\"6081\"),a(\"2877\")),L=Object(y[\"a\"])(S,u,b,!1,null,\"1124b526\",null),C=L.exports,k=a(\"9f27\"),I=(a(\"6fac\"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.onSelect}},[t._v(\"请选择\")]),a(\"el-button\",{attrs:{type:\"text\"},on:{click:t.onOpenSelectedDialog}},[t._v(\" 已授权\"+t._s(t.value.length)+\"个班级 \")]),a(\"el-dialog\",t._g({attrs:{visible:t.visible,title:t.title||\"选择班级\",width:\"860px\",center:\"\",\"close-on-click-modal\":!1,\"close-on-press-escape\":!1,\"show-close\":!1,\"append-to-body\":!0},on:{\"update:visible\":function(e){t.visible=e}}},t.$listeners),[a(\"b-table\",{key:t.count,ref:\"bTable\",staticClass:\"b-table\",attrs:{loading:\"\",\"row-key\":\"id\",\"form-items\":t.customFormItems,\"immediate-load\":!1,\"page-limit\":10,headers:t.columns,\"show-column\":!1,\"ajax-get-data\":t.ajaxGetData,\"reserve-selection\":!0},on:{select:t.handleSelect,\"select-all\":t.handleSelectAll,\"table-data-change\":function(e){return t.changeTableData(e,t.$refs.bTable.$refs.table.$refs.table)}}},[a(\"div\",{staticClass:\"class-selected\",attrs:{slot:\"table-before\"},slot:\"table-before\"},[t._v(\" 已选中\"+t._s(t.selection.length)+\"个班级 \")])]),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{loading:t.confirmLoading,size:\"small\"},on:{click:function(e){t.visible=!1}}},[t._v(\" 取消 \")]),a(\"el-button\",{attrs:{loading:t.confirmLoading,size:\"small\",type:\"primary\"},on:{click:t.onClickConfirm}},[t._v(\" 确定 \")])],1)],1),a(\"el-dialog\",{key:t.count,attrs:{title:\"已授权班级\",visible:t.selectedVisible,width:\"860px\",center:\"\",\"close-on-click-modal\":!1,\"close-on-press-escape\":!1,\"show-close\":!1,\"append-to-body\":!0},on:{\"update:visible\":function(e){t.selectedVisible=e}}},[a(\"div\",{staticClass:\"class-selected\"},[t._v(\"已选中\"+t._s(t.selection.length)+\"个班级\")]),a(\"c-table\",{ref:\"cTable\",attrs:{\"row-key\":\"id\",border:\"\",size:\"small\",data:t.selectedList,headers:t.columns,loading:t.selectedDialogLoading},on:{select:t.handleSelect,\"select-all\":function(e){return t.handleSelectAll(e,t.$refs.cTable.$refs.table)}}}),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{loading:t.confirmLoading,size:\"small\"},on:{click:function(e){t.selectedVisible=!1}}},[t._v(\" 取消 \")]),a(\"el-button\",{attrs:{loading:t.confirmLoading,size:\"small\",type:\"primary\"},on:{click:t.onClickConfirm}},[t._v(\" 确定 \")])],1)],1)],1)}),w=[],x=a(\"a34a\"),j=a.n(x),B=a(\"1da1\"),O=(a(\"2986\"),a(\"14e9\")),T=a.n(O),P=(a(\"06f1\"),a(\"6ac9\")),_=a.n(P),$=(a(\"560b\"),a(\"dcdc\")),R=a.n($),V=(a(\"fb6a\"),a(\"a434\"),a(\"159b\"),a(\"7db0\"),a(\"05f4\")),E={name:\"ClassAuth\",components:(i={},Object(n[\"a\"])(i,f.a.name,f.a),Object(n[\"a\"])(i,d.a.name,d.a),Object(n[\"a\"])(i,k[\"a\"].name,k[\"a\"]),Object(n[\"a\"])(i,R.a.name,R.a),Object(n[\"a\"])(i,_.a.name,_.a),Object(n[\"a\"])(i,T.a.name,T.a),Object(n[\"a\"])(i,V[\"a\"].name,V[\"a\"]),i),props:{value:{type:Array,default:function(){return[]}},title:{type:String,default:\"\"},ajax:{type:Function,default:null},otherParams:{type:Object,default:null},customFormItems:{type:Array,default:function(){return[{type:\"input\",label:\"班级名称\",prop:\"className\",attrs:{maxlength:30}}]}},customAjax:{type:Function,default:null},customColumns:{type:Array,default:function(){return[{label:\"学年\",prop:\"signYearType\"},{label:\"学部\",prop:\"departName\"},{label:\"年级\",prop:\"gradeName\"},{label:\"班型\",prop:\"classTypeName\"},{label:\"班级\",prop:\"className\"}]}}},data:function(){return{visible:!1,selection:[],confirmLoading:!1,tableData:[],count:0,selectedVisible:!1,selectedDialogLoading:!1,selectedList:[]}},computed:{columns:function(){var t=this.customColumns;return t.unshift({type:\"selection\",label:\"选择\",prop:\"id\",width:\"60px\"}),t}},watch:{visible:function(){var t=this;this.visible&&this.$nextTick((function(){t.$refs.bTable&&t.$refs.bTable.ajaxGetTableDataByPage()}))}},created:function(){},methods:{ajaxGetData:function(t){return t=Object(o[\"a\"])(Object(o[\"a\"])({},t),this.otherParams),t.departCodes=t.departCode?t.departCode:t.departCodes.join(\",\"),\"function\"===typeof this.customAjax?this.customAjax(t):Object(D[\"d\"])(t)},show:function(){this.visible=!0},hide:function(){this.visible=!1},onClickConfirm:function(){var t=this.selection.slice(0);if(this.$emit(\"input\",t),this.$emit(\"select\",t),\"function\"!==typeof this.ajax)return this.visible=!1,void(this.selectedVisible=!1);this.invokeAjax(t)},onSelect:function(){this.selection=this.value.slice(0),this.visible=!0,this.count++},invokeAjax:function(t){var e=this;return Object(B[\"a\"])(j.a.mark((function a(){return j.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.confirmLoading=!0,a.prev=1,a.next=4,e.ajax(t);case 4:a.sent;case 5:return a.prev=5,e.confirmLoading=!1,e.visible=!1,a.finish(5);case 9:case\"end\":return a.stop()}}),a,null,[[1,,5,9]])})))()},toggleRowSelected:function(t,e){var a=this.selection.findIndex((function(e){return e===t.classCode}));e?-1===a&&this.selection.push(t.classCode):a>=0&&this.selection.splice(a,1)},handleSelect:function(t,e){var a=t.indexOf(e)>=0;this.toggleRowSelected(e,a)},handleSelectAll:function(t,e){var a=this,i=!!t.length;i||(t=e.tableData),t.forEach((function(t){return a.toggleRowSelected(t,i)}))},changeTableData:function(t){var e=this;this.$nextTick((function(){var t=e.$refs.bTable.$refs.table.$refs.table;t.tableData.filter((function(t){return e.selection.find((function(e){return t.classCode===e}))})).forEach((function(e){t.toggleRowSelection(e,!0)}))}))},onOpenSelectedDialog:function(){var t=this;this.count++,this.selection=this.value.slice(0),this.selectedVisible=!0,this.selectedDialogLoading=!0,Object(D[\"e\"])(this.value).then((function(e){var a=e.data;t.selectedList=a,t.$nextTick((function(){t.$refs.cTable&&t.$refs.cTable.$refs.table&&t.$refs.cTable.$refs.table.toggleAllSelection()}))})).finally((function(){t.selectedDialogLoading=!1}))}}},N=E,U=(a(\"c8e4\"),Object(y[\"a\"])(N,I,w,!1,null,\"16851d97\",null)),F=(U.exports,a(\"be3b\"),a(\"c12e\")),H=a(\"bc34\"),G={name:\"UserManage\",components:(s={},Object(n[\"a\"])(s,f.a.name,f.a),Object(n[\"a\"])(s,d.a.name,d.a),Object(n[\"a\"])(s,\"BTable\",k[\"a\"]),Object(n[\"a\"])(s,\"permissionModal\",C),s),data:function(){return{modalVisible:!1,staffCodeList:[],dialogVisible:!1,formItems:[{type:\"input\",label:\"用户工号\",prop:\"staffCode\",attrs:{maxlength:30}},{type:\"input\",label:\"姓名\",prop:\"staffName\",attrs:{maxlength:30}},{type:\"select\",label:\"性别\",prop:\"gender\",options:[{label:\"男\",value:1},{label:\"女\",value:2}]},{type:\"select\",label:\"用户状态\",prop:\"isShow\",options:[{label:\"启用\",value:\"0\"},{label:\"禁用\",value:\"1\"}]}],headers:[{type:\"selection\"},{label:\"序号\",type:\"index\",align:\"center\",width:60,index:function(t,e,a){return t+1+(e-1)*a}},{label:\"工号\",prop:\"staffCode\"},{label:\"姓名\",prop:\"staffName\"},{label:\"手机号码\",prop:\"mobile\"},{label:\"性别\",prop:\"gender\",width:60,formatter:function(t,e,a){return 1===a?\"男\":\"女\"}},{label:\"状态\",prop:\"isShow\",width:60,formatter:function(t,e,a){return 0==a?\"启用\":\"禁用\"}},{label:\"单位/部门\",prop:\"orgName\"},{label:\"角色\",prop:\"role\",colType:\"column\",slotName:\"role\"},{label:\"区域范围\",prop:\"schoolList\",colType:\"column\",slotName:\"schoolList\"},{label:\"操作\",colType:\"btns\",fixed:\"right\",width:80,btns:[{label:\"编辑\",size:\"mini\",type:\"text\",click:this.onClickUserSetting}]}],userSettingData:{gljs:[],departCodes:[],classCodes:[],relationRoles:[]},userSettingFormAttrs:{\"label-width\":\"100px\"},confirmLoading:!1,toolbars:[{label:\"批量新增区域\",click:this.batchAddArea,size:\"mini\",type:\"primary\"}]}},computed:{},methods:{fetchListData:D[\"f\"],onClickUserSetting:function(t){console.log(t.staffCode,\"row.staffCode\"),this.$router.push({path:\"/system/user/permission-assign\",query:{staffCode:t.staffCode,staffName:t.staffName,staffId:t.staffId}})},onConfirm:function(){var t=this;this.$refs.cDynamicForm.validate().then((function(){t.confirmLoading=!0,Object(D[\"h\"])(Object(o[\"a\"])(Object(o[\"a\"])({},t.userSettingData),{},{classCodes:t.$refs.cDynamicForm.model.classCodes})).then((function(){t.dialogVisible=!1,t.$message.success(\"操作成功\"),t.$refs.bTable.onRefreshTable()})).finally((function(){t.confirmLoading=!1}))}))},onClickExport:function(){H[\"a\"].download(\"/commonData/staffInfo/manage/export?queryCondition=\".concat(encodeURIComponent(JSON.stringify(this.$refs.bTable.getQueryParam()))),{},{method:\"POST\"},Object(F[\"b\"])(\"simsbff\"))},batchAddArea:function(){var t=this.$refs.bTable.selectRows;0!==t.length?(this.staffCodeList=t.map((function(t){return t.staffCode})),this.modalVisible=!0):this.$message(\"请至少选择一条数据\")},refreshData:function(){var t=this;this.$nextTick((function(){t.$refs.bTable&&t.$refs.bTable.ajaxGetTableDataByPage()}))},handleCancel:function(){this.modalVisible=!1},handleSubmit:function(){this.modalVisible=!1,this.refreshData()}},activated:function(){this.refreshData()}},q=G,J=(a(\"3f91\"),Object(y[\"a\"])(q,c,l,!1,null,\"4f6870fc\",null));e[\"default\"]=J.exports},eb02:function(t,e,a){},eb34:function(t,e,a){\"use strict\";a.d(e,\"f\",(function(){return s})),a.d(e,\"h\",(function(){return c})),a.d(e,\"d\",(function(){return l})),a.d(e,\"e\",(function(){return o})),a.d(e,\"a\",(function(){return n})),a.d(e,\"g\",(function(){return r})),a.d(e,\"c\",(function(){return d})),a.d(e,\"b\",(function(){return h})),a.d(e,\"i\",(function(){return f}));a(\"a15b\");var i=a(\"be3b\");function s(t){return Object(i[\"b\"])({url:\"/common/getUserList\",method:\"GET\",params:t},\"cater\")}function c(t){return Object(i[\"b\"])({url:\"/dataAuth/userDataAuthSetUp\",method:\"POST\",data:t||{}},\"cater\")}function l(t){return Object(i[\"b\"])({url:\"/class-api/classApi/queryAllClassForAuth\",method:\"GET\",params:t},\"cater\")}function o(t){return Object(i[\"b\"])({url:\"/class-api/classApi/queryClassByCodeList\",method:\"GET\",params:{classCodes:Array.isArray(t)?t.join(\",\"):\"\"}},\"cater\")}function n(t){return Object(i[\"b\"])({url:\"/provinceCityDistrict/baseTreeWithSchool\",method:\"GET\",params:t},\"cater\")}function r(t){return Object(i[\"b\"])({url:\"/userSchoolPower/saveUserSchoolPower\",method:\"POST\",data:t},\"cater\")}function d(t){return Object(i[\"b\"])({url:\"/common/getUserRoles\",method:\"GET\",params:t},\"cater\")}function h(t){return Object(i[\"b\"])({url:\"/userSchoolPower/batchSaveUserSchoolPower\",method:\"POST\",data:t},\"cater\")}function f(t){return Object(i[\"b\"])({url:\"/common/updateUserRole\",method:\"POST\",data:t},\"cater\")}}}]);","extractedComments":[]}