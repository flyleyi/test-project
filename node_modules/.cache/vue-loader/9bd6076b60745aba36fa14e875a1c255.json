{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CFilterCheckPanel/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/components/common/CFilterCheckPanel/index.vue","mtime":1627979214238},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBDaGVja2JveCwgQ2hlY2tib3hHcm91cCwgQnV0dG9uLCBEaWFsb2csIE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXVpJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0NGaWx0ZXJDaGVja1BhbmVsJywNCiAgY29tcG9uZW50czogew0KICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsDQogICAgW0NoZWNrYm94R3JvdXAubmFtZV06IENoZWNrYm94R3JvdXAsDQogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLA0KICAgIFtEaWFsb2cubmFtZV06IERpYWxvZw0KICB9LA0KICBwcm9wczogew0KICAgIC8v5Lyg5YWl5pWw5o2u6aG5DQogICAgZGF0YTogew0KICAgICAgdHlwZTogQXJyYXksDQogICAgICBkZWZhdWx0OiAoKSA9PiB7DQogICAgICAgIHJldHVybiBbXTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5qCH6aKY5ZCN56ewDQogICAgdGl0bGU6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICfmmL7npLrliJcnDQogICAgfSwNCiAgICAvL+aYr+WQpuS/ruaUueaVsOaNrua6kA0KICAgIGVkaXRPcmlnaW5EYXRhOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgLy/mmL7npLrnmoTmoIfnrb7lrZfmrrUNCiAgICBsYWJlbEZpZWxkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnbGFiZWwnDQogICAgfSwNCiAgICAvL+mAieWei+eahOWAvOWtl+autQ0KICAgIHByb3BGaWVsZDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ3Byb3AnDQogICAgfSwNCiAgICAvL+W9k+WJjeaYr+WQpuacqumAieS4rQ0KICAgIGhpZGRlbkZpZWxkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnaGlkZGVuJw0KICAgIH0sDQogICAgLy/mmK/lkKblv4XopoHlrZfmrrUNCiAgICByZXF1aXJlZEZpZWxkOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAncmVxdWlyZWQnDQogICAgfSwNCiAgICAvL+aIkOWKn+aWh+ahiA0KICAgIHN1Y2Nlc3NNc2c6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfSwNCiAgICAvL+Wksei0peaWh+ahiA0KICAgIGVycm9yTXNnOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAn5pWw5o2u5L+d5a2Y5aSx6LSlJw0KICAgIH0sDQogICAgLy/lhbPpl63lvLnnqpflkI7lm57osIMNCiAgICBvbkNsb3NlZDogew0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fQ0KICAgIH0sDQogICAgLy/or7fmsYLmlrnms5Ug6ZyA6KaB6L+U5ZuecHJvbWlzZQ0KICAgIGFqYXhGdW46IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uDQogICAgfSwNCiAgICAvL+aVsOaNruWbnuiwg++8jOeCueWHu+aPkOS6pOaXtuinpuWPkQ0KICAgIGNhbGxiYWNrOiB7DQogICAgICB0eXBlOiBGdW5jdGlvbg0KICAgIH0NCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaW5pdGVkOiBmYWxzZSwNCiAgICAgIHZpc2libGU6IGZhbHNlLCAvL+m7mOiupOS4jeaYvuekuuW8ueeqlyDnlKjkuo7lvLnnqpfliqjnlLsNCiAgICAgIGxvYWRpbmc6IGZhbHNlLCAvL3RydWU95o6l5Y+j6K+35rGC5LitDQogICAgICBkZWZhdWx0Q2hlY2tMaXN0OiBbXSwgLy/pu5jorqTkvKDlhaXnmoTmlbDmja7ovazmjaLmiJDlhoXpg6jmoLzlvI8NCiAgICAgIGluaXRDaGVja0xpc3Q6IFtdLCAvL+WIneWni+mAieS4reeahOWtl+auteWIlw0KICAgICAgY2hlY2tlZExpc3Q6IFtdIC8v5b2T5YmN6YCJ5Lit55qE5pWw5o2u5a2X5q61DQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHt9LA0KICBtZXRob2RzOiB7DQogICAgLy/lsZXnpLrlvLnnqpcNCiAgICBzaG93KCkgew0KICAgICAgaWYgKCF0aGlzLmRhdGEpIHJldHVybjsNCiAgICAgIC8v5Lul57uE5Lu25b2i5byP5L2/55So5pe277yM5LiN6YeN5aSN5aSE55CG5pWw5o2u77yM5Y+q5YGa5pi+56S66ZqQ6JePDQogICAgICBpZiAodGhpcy5pbml0ZWQpIHsNCiAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5pbml0ZWQgPSB0cnVlOw0KICAgICAgLy97bGFiZWw6ICflp5PlkI0nLCBwcm9wOiAnbmFtZScscmVxdWlyZWQ6IHRydWUsaGlkZGVuOiB0cnVlfQ0KICAgICAgdGhpcy5kZWZhdWx0Q2hlY2tMaXN0ID0gdGhpcy5kYXRhDQogICAgICAgIC5maWx0ZXIoaXRlbSA9PiBpdGVtW3RoaXMucHJvcEZpZWxkXSkNCiAgICAgICAgLm1hcChpdGVtID0+IHsNCiAgICAgICAgICBsZXQgcHJvcCA9IGl0ZW1bdGhpcy5wcm9wRmllbGRdOyAvL+S8oOWFpeeahOWAvCDpu5jorqRbcHJvcF0NCiAgICAgICAgICBpZiAoIXByb3ApIHJldHVybjsNCiAgICAgICAgICBsZXQgbGFiZWwgPSBpdGVtW3RoaXMubGFiZWxGaWVsZF07IC8v5Lyg5YWl55qE5pi+56S65qCH562+W2xhYmVsXQ0KICAgICAgICAgIGxldCBoaWRkZW4gPSBpdGVtW3RoaXMuaGlkZGVuRmllbGRdIHx8IGZhbHNlOyAvL+S8oOWFpeeahOm7mOiupOmakOiXj+eKtuaAgVtoaWRkZW5dDQogICAgICAgICAgbGV0IHJlcXVpcmVkID0gaXRlbVt0aGlzLnJlcXVpcmVkRmllbGRdIHx8IGZhbHNlOyAvL+S8oOWFpeeahOm7mOiupOW/hemAieeKtuaAgVtyZXF1aXJlZF0NCiAgICAgICAgICAvL+W9k+WJjemAiemhueaYr+W/hemAieeahO+8jOaIluiAheW3sumAieS4rQ0KICAgICAgICAgIGlmIChyZXF1aXJlZCB8fCAhaGlkZGVuKSB7DQogICAgICAgICAgICB0aGlzLmNoZWNrZWRMaXN0LnB1c2gocHJvcCk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICBsYWJlbCwNCiAgICAgICAgICAgIHByb3AsDQogICAgICAgICAgICBoaWRkZW4sDQogICAgICAgICAgICByZXF1aXJlZA0KICAgICAgICAgIH07DQogICAgICAgIH0pOw0KICAgICAgdGhpcy5pbml0Q2hlY2tMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNoZWNrZWRMaXN0KSk7IC8v6LWL5YC85Yid5aeL6YCJ5Lit5pWw5o2uDQogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOw0KICAgIH0sDQogICAgLy/mjInkvKDlhaXpobrluo/vvIzojrflj5bmlbDmja7pobkNCiAgICBnZXREYXRhKCkgew0KICAgICAgbGV0IHJlc3VsdCA9IFtdOw0KICAgICAgdGhpcy5kZWZhdWx0Q2hlY2tMaXN0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIHJlc3VsdC5wdXNoKHsNCiAgICAgICAgICAuLi5pdGVtLA0KICAgICAgICAgIGhpZGRlbjogIXRoaXMuY2hlY2tlZExpc3QuaW5jbHVkZXMoaXRlbVt0aGlzLnByb3BGaWVsZF0pDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0sDQogICAgLy/mlbDmja7lpITnkIbvvIzlpoLmnpzorr7nva5lZGl0T3JpZ2luRGF0YT10cnVl77yM5YiZ5Luj6KGo5Lya5pS55Y+Y5rqQ5pWw5o2u77yM5ZCm5YiZ5Y+q5Lya5Zue6LCD6YCJ5Lit55qE5YiX6KGoDQogICAgc2F2ZURhdGEoKSB7DQogICAgICBpZiAodGhpcy5lZGl0T3JpZ2luRGF0YSkgew0KICAgICAgICAvL+a6kOaVsOaNruebtOaOpeS/ruaUuQ0KICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBsZXQgcHJvcCA9IGl0ZW1bdGhpcy5wcm9wRmllbGRdOw0KICAgICAgICAgIGlmICghcHJvcCkgcmV0dXJuOw0KICAgICAgICAgIGxldCBpZlNob3cgPSB0aGlzLmNoZWNrZWRMaXN0LmluY2x1ZGVzKHByb3ApOw0KICAgICAgICAgIGl0ZW1bdGhpcy5oaWRkZW5GaWVsZF0gPSAhaWZTaG93OyAvL+iuvue9ruaYr+WQpumakOiXj++8iOacqumAieS4re+8iQ0KICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmRhdGEsIGluZGV4LCBpdGVtKTsNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgY2FsbGJhY2sgPSB0aGlzLmNhbGxiYWNrOw0KICAgICAgICB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJyAmJiBjYWxsYmFjayh0aGlzLmNoZWNrZWRMaXN0KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8v5q+U6L6D5o+Q5Lqk5pe277yM6YCJ5Lit5pWw5o2u5piv5ZCm5Y+R55Sf5Y+Y5pu0DQogICAgY29tcGFyZUNoZWNrQ2hhbmdlKCkgew0KICAgICAgbGV0IGJlZm9yZUxpc3QgPSB0aGlzLmluaXRDaGVja0xpc3Q7IC8v5Yid5aeL6YCJ5Lit5pWw5o2uDQogICAgICBsZXQgYWZ0ZXJMaXN0ID0gdGhpcy5jaGVja2VkTGlzdDsgLy/mj5DkuqTml7bpgInkuK3mlbDmja4NCiAgICAgIHJldHVybiAoDQogICAgICAgIEpTT04uc3RyaW5naWZ5KGJlZm9yZUxpc3Quc29ydCgpKSA9PSBKU09OLnN0cmluZ2lmeShhZnRlckxpc3Quc29ydCgpKQ0KICAgICAgKTsNCiAgICB9LA0KICAgIC8v54K55Ye75o+Q5Lqk5oyJ6ZKuDQogICAgb25TdWJtaXQoKSB7DQogICAgICBpZiAodGhpcy5jaGVja2VkTGlzdC5sZW5ndGggPT0gMCkgew0KICAgICAgICBNZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiAn6K+36Iez5bCR6YCJ5Lit5LiA6aG5JywNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgZHVyYXRpb246IDUgKiAxMDAwDQogICAgICAgIH0pOw0KICAgICAgICByZXR1cm47DQogICAgICB9DQogICAgICAvL+aVsOaNruaXoOWPmOWMlg0KICAgICAgaWYgKHRoaXMuY29tcGFyZUNoZWNrQ2hhbmdlKCkpIHsNCiAgICAgICAgdGhpcy5vbkNsb3NlRGlhbG9nKCk7IC8v55u05o6l5YWz6ZetDQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7IC8v6K6+572u5p+l6K+i5LitDQogICAgICBsZXQgYWpheEZ1bjsNCiAgICAgIGlmICh0eXBlb2YgdGhpcy5hamF4RnVuID09ICdmdW5jdGlvbicpDQogICAgICAgIGFqYXhGdW4gPSB0aGlzLmFqYXhGdW4odGhpcy5nZXREYXRhKCkpOw0KICAgICAgLy/ngrnlh7vnoa7lrprml7bpnIDopoHmjqXlj6Por7fmsYINCiAgICAgIGlmIChhamF4RnVuICYmIHR5cGVvZiBhamF4RnVuLnRoZW4gPT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICBhamF4RnVuDQogICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICB0aGlzLnNhdmVEYXRhKCk7DQogICAgICAgICAgICAvL+aIkOWKn+aPkOekug0KICAgICAgICAgICAgaWYgKHRoaXMuc3VjY2Vzc01zZykgew0KICAgICAgICAgICAgICBNZXNzYWdlKHsNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiB0aGlzLnN1Y2Nlc3NNc2csDQogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1ICogMTAwMA0KICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRoaXMub25DbG9zZURpYWxvZygpOyAvL+aIkOWKn+WQjuWFs+mXreW9k+WJjeeql+WPow0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGUgPT4gew0KICAgICAgICAgICAgLy/mjqXlj6PlvILluLjvvIzplJnor6/mj5DnpLoNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy/ml6DpnIDmjqXlj6Por7fmsYLvvIznm7TmjqXov5Tlm57nu5PmnpwNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMuc2F2ZURhdGEoKTsNCiAgICAgICAgdGhpcy5vbkNsb3NlRGlhbG9nKCk7IC8v5oiQ5Yqf5ZCO5YWz6Zet5b2T5YmN56qX5Y+jDQogICAgICB9DQogICAgfSwNCiAgICAvL+WkhOeQhmRpYWxvZ+m7mOiupOeahOWFs+mXreihjOS4ug0KICAgIG9uQmVmb3JlQ2xvc2UoZG9uZSkgew0KICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuOw0KICAgICAgZG9uZSgpOw0KICAgIH0sDQogICAgb25DbG9zZURpYWxvZygpIHsNCiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHJldHVybjsNCiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/common/CFilterCheckPanel","sourcesContent":["<template>\r\n  <el-dialog\r\n    class=\"check-dialog\"\r\n    :visible.sync=\"visible\"\r\n    :title=\"title\"\r\n    center\r\n    v-on=\"$listeners\"\r\n    :before-close=\"onBeforeClose\"\r\n    @closed=\"onClosed\"\r\n  >\r\n    <el-checkbox-group v-model=\"checkedList\" :disabled=\"loading\">\r\n      <el-checkbox\r\n        v-for=\"item in defaultCheckList\"\r\n        :label=\"item.prop\"\r\n        :key=\"item.prop\"\r\n        :disabled=\"item.required\"\r\n        >{{ item.label }}</el-checkbox\r\n      >\r\n    </el-checkbox-group>\r\n    <span slot=\"footer\" class=\"dialog-footer\">\r\n      <el-button size=\"small\" :loading=\"loading\" @click=\"onCloseDialog\">\r\n        取消\r\n      </el-button>\r\n      <el-button\r\n        type=\"primary\"\r\n        size=\"small\"\r\n        @click=\"onSubmit\"\r\n        :loading=\"loading\"\r\n        >确定</el-button\r\n      >\r\n    </span>\r\n  </el-dialog>\r\n</template>\r\n<script>\r\nimport { Checkbox, CheckboxGroup, Button, Dialog, Message } from 'element-ui';\r\nexport default {\r\n  name: 'CFilterCheckPanel',\r\n  components: {\r\n    [Checkbox.name]: Checkbox,\r\n    [CheckboxGroup.name]: CheckboxGroup,\r\n    [Button.name]: Button,\r\n    [Dialog.name]: Dialog\r\n  },\r\n  props: {\r\n    //传入数据项\r\n    data: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      }\r\n    },\r\n    //标题名称\r\n    title: {\r\n      type: String,\r\n      default: '显示列'\r\n    },\r\n    //是否修改数据源\r\n    editOriginData: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    //显示的标签字段\r\n    labelField: {\r\n      type: String,\r\n      default: 'label'\r\n    },\r\n    //选型的值字段\r\n    propField: {\r\n      type: String,\r\n      default: 'prop'\r\n    },\r\n    //当前是否未选中\r\n    hiddenField: {\r\n      type: String,\r\n      default: 'hidden'\r\n    },\r\n    //是否必要字段\r\n    requiredField: {\r\n      type: String,\r\n      default: 'required'\r\n    },\r\n    //成功文案\r\n    successMsg: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    //失败文案\r\n    errorMsg: {\r\n      type: String,\r\n      default: '数据保存失败'\r\n    },\r\n    //关闭弹窗后回调\r\n    onClosed: {\r\n      type: Function,\r\n      default: () => {}\r\n    },\r\n    //请求方法 需要返回promise\r\n    ajaxFun: {\r\n      type: Function\r\n    },\r\n    //数据回调，点击提交时触发\r\n    callback: {\r\n      type: Function\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      inited: false,\r\n      visible: false, //默认不显示弹窗 用于弹窗动画\r\n      loading: false, //true=接口请求中\r\n      defaultCheckList: [], //默认传入的数据转换成内部格式\r\n      initCheckList: [], //初始选中的字段列\r\n      checkedList: [] //当前选中的数据字段\r\n    };\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    //展示弹窗\r\n    show() {\r\n      if (!this.data) return;\r\n      //以组件形式使用时，不重复处理数据，只做显示隐藏\r\n      if (this.inited) {\r\n        this.visible = true;\r\n        return;\r\n      }\r\n      this.inited = true;\r\n      //{label: '姓名', prop: 'name',required: true,hidden: true}\r\n      this.defaultCheckList = this.data\r\n        .filter(item => item[this.propField])\r\n        .map(item => {\r\n          let prop = item[this.propField]; //传入的值 默认[prop]\r\n          if (!prop) return;\r\n          let label = item[this.labelField]; //传入的显示标签[label]\r\n          let hidden = item[this.hiddenField] || false; //传入的默认隐藏状态[hidden]\r\n          let required = item[this.requiredField] || false; //传入的默认必选状态[required]\r\n          //当前选项是必选的，或者已选中\r\n          if (required || !hidden) {\r\n            this.checkedList.push(prop);\r\n          }\r\n          return {\r\n            label,\r\n            prop,\r\n            hidden,\r\n            required\r\n          };\r\n        });\r\n      this.initCheckList = JSON.parse(JSON.stringify(this.checkedList)); //赋值初始选中数据\r\n      this.visible = true;\r\n    },\r\n    //按传入顺序，获取数据项\r\n    getData() {\r\n      let result = [];\r\n      this.defaultCheckList.forEach(item => {\r\n        result.push({\r\n          ...item,\r\n          hidden: !this.checkedList.includes(item[this.propField])\r\n        });\r\n      });\r\n      return result;\r\n    },\r\n    //数据处理，如果设置editOriginData=true，则代表会改变源数据，否则只会回调选中的列表\r\n    saveData() {\r\n      if (this.editOriginData) {\r\n        //源数据直接修改\r\n        this.data.forEach((item, index) => {\r\n          let prop = item[this.propField];\r\n          if (!prop) return;\r\n          let ifShow = this.checkedList.includes(prop);\r\n          item[this.hiddenField] = !ifShow; //设置是否隐藏（未选中）\r\n          this.$set(this.data, index, item);\r\n        });\r\n      } else {\r\n        let callback = this.callback;\r\n        typeof callback == 'function' && callback(this.checkedList);\r\n      }\r\n    },\r\n    //比较提交时，选中数据是否发生变更\r\n    compareCheckChange() {\r\n      let beforeList = this.initCheckList; //初始选中数据\r\n      let afterList = this.checkedList; //提交时选中数据\r\n      return (\r\n        JSON.stringify(beforeList.sort()) == JSON.stringify(afterList.sort())\r\n      );\r\n    },\r\n    //点击提交按钮\r\n    onSubmit() {\r\n      if (this.checkedList.length == 0) {\r\n        Message({\r\n          message: '请至少选中一项',\r\n          type: 'warning',\r\n          duration: 5 * 1000\r\n        });\r\n        return;\r\n      }\r\n      //数据无变化\r\n      if (this.compareCheckChange()) {\r\n        this.onCloseDialog(); //直接关闭\r\n        return;\r\n      }\r\n      if (this.loading) return;\r\n      this.loading = true; //设置查询中\r\n      let ajaxFun;\r\n      if (typeof this.ajaxFun == 'function')\r\n        ajaxFun = this.ajaxFun(this.getData());\r\n      //点击确定时需要接口请求\r\n      if (ajaxFun && typeof ajaxFun.then == 'function') {\r\n        ajaxFun\r\n          .then(() => {\r\n            this.loading = false;\r\n            this.saveData();\r\n            //成功提示\r\n            if (this.successMsg) {\r\n              Message({\r\n                message: this.successMsg,\r\n                type: 'success',\r\n                duration: 5 * 1000\r\n              });\r\n            }\r\n            this.onCloseDialog(); //成功后关闭当前窗口\r\n          })\r\n          .catch(e => {\r\n            //接口异常，错误提示\r\n            this.loading = false;\r\n          });\r\n      } else {\r\n        //无需接口请求，直接返回结果\r\n        this.loading = false;\r\n        this.saveData();\r\n        this.onCloseDialog(); //成功后关闭当前窗口\r\n      }\r\n    },\r\n    //处理dialog默认的关闭行为\r\n    onBeforeClose(done) {\r\n      if (this.loading) return;\r\n      done();\r\n    },\r\n    onCloseDialog() {\r\n      if (this.loading) return;\r\n      this.visible = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.check-dialog {\r\n  .el-checkbox {\r\n    margin-top: 10px;\r\n  }\r\n}\r\n</style>\r\n"]}]}