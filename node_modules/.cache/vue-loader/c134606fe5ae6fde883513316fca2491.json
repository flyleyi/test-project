{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/third/HotLineFill.vue?vue&type=style&index=0&id=68ee82c6&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/third/HotLineFill.vue","mtime":1627979214309},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouaG90LWxpbmUtcGFnZSB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHBhZGRpbmctdG9wOiAxcmVtOwogIC5ob3QtbGluZS1mb3JtIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIC9kZWVwLyAudmFuLXN0ZXBwZXItLXJvdW5kIC52YW4tc3RlcHBlcl9faW5wdXQgewogICAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDsKICAgIH0KICB9CiAgLmJ0bnMtYmFyIHsKICAgIG1hcmdpbi10b3A6IDFyZW07CiAgICBkaXNwbGF5OiBmbGV4OwogICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgLnN1Ym1pdC1idG4gewogICAgICAvLyBtYXJnaW4tbGVmdDogMXJlbTsKICAgICAgd2lkdGg6IDNyZW07CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["HotLineFill.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotLineFill.vue","sourceRoot":"src/pages/h5/views/third","sourcesContent":["<template>\n  <div class=\"hot-line-page\">\n    <van-form validate-first ref=\"form\" class=\"hot-line-form\">\n      <div class=\"form-items\">\n        <van-field\n          readonly\n          clickable\n          name=\"datetimePicker\"\n          :value=\"formatDate\"\n          label=\"选择日期\"\n          placeholder=\"点击选择日期\"\n          @click=\"showDatePicker = true\"\n        />\n        <van-field name=\"pickPhoneCount\" label=\"电话接听数量\">\n          <template #input>\n            <van-stepper\n              v-model=\"pickPhoneCount\"\n              input-width=\"60px\"\n              min=\"0\"\n              max=\"2000\"\n              step=\"1\"\n              theme=\"round\"\n            />\n          </template>\n        </van-field>\n        <van-field name=\"enrollCount\" label=\"招生电话数量\">\n          <template #input>\n            <van-stepper\n              v-model=\"enrollCount\"\n              input-width=\"60px\"\n              min=\"0\"\n              max=\"2000\"\n              step=\"1\"\n              theme=\"round\"\n            />\n          </template>\n        </van-field>\n        <van-popup v-model=\"showDatePicker\" position=\"bottom\">\n          <van-datetime-picker\n            type=\"date\"\n            title=\"选择年月日\"\n            :value=\"date\"\n            :min-date=\"minDate\"\n            :max-date=\"maxDate\"\n            @confirm=\"onDateConfirm\"\n            @cancel=\"showDatePicker = false\"\n          />\n        </van-popup>\n      </div>\n    </van-form>\n    <div class=\"btns-bar\">\n      <van-button\n        block\n        class=\"submit-btn\"\n        hairline\n        type=\"primary\"\n        @click=\"onSubmit\"\n        >提交</van-button\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  Form,\n  Field,\n  Popup,\n  stepper,\n  DatetimePicker,\n  Button,\n  Toast\n} from 'vant';\nimport { ajaxAddHotline } from '@/pages/h5/api/third/hotline';\nexport default {\n  name: 'HotLineFill',\n  components: {\n    [Button.name]: Button,\n    [DatetimePicker.name]: DatetimePicker,\n    [Form.name]: Form,\n    [Field.name]: Field,\n    [stepper.name]: stepper,\n    [Popup.name]: Popup\n  },\n  data() {\n    return {\n      date: null, //当前填写日期\n      showDatePicker: false, //显示日期选择弹窗\n      minDate: new Date(new Date().getTime() - 7 * 24 * 60 * 60 * 1000), // 最早可选择日期为7天内\n      maxDate: new Date(), //最晚可选择日期为今天\n      enrollCount: 0, //招生电话数\n      pickPhoneCount: 0 //电话接听数\n    };\n  },\n  mounted() {\n    //特殊处理-pc设置fontsize\n    window.onresize = this.onResize;\n    this.onResize();\n  },\n  computed: {\n    //日期展示格式化\n    formatDate() {\n      if (!this.date) return '';\n      return this.$util.dateConverter('yyyy-MM-dd', this.date);\n    }\n  },\n  methods: {\n    //设置大于一定尺寸，不再扩大fontsize，使pc页面上能一屏展示全部内容\n    onResize() {\n      console.log('resize');\n      let docEl = document.documentElement;\n      if (docEl.clientWidth > 1000) docEl.style.fontSize = '130px';\n    },\n    //监听日期选择完成\n    onDateConfirm(time) {\n      this.date = new Date(time);\n      this.showDatePicker = false;\n    },\n    //提交数据\n    onSubmit() {\n      if (!this.formatDate) {\n        Toast.fail('日期未填写');\n        return;\n      }\n      let pattern = /^(([1-9]\\d*)|0)$/;\n      if (!pattern.test(this.pickPhoneCount)) {\n        Toast.fail('电话接听数量必须为整数');\n        return;\n      }\n      if (!pattern.test(this.enrollCount)) {\n        Toast.fail('招生数量必须为整数');\n        return;\n      }\n      let loading = Toast.loading({\n        duration: 0\n      });\n      //调用填报接口\n      ajaxAddHotline({\n        fillDate: this.formatDate,\n        phoneCallReceived: Number(this.pickPhoneCount),\n        recruitPhone: Number(this.enrollCount)\n      })\n        .then(res => {\n          Toast.success('填报成功');\n        })\n        .catch(e => {\n          Toast.fail(e.message || '系统异常，请稍后再试');\n        })\n        .finally(() => {\n          loading.close();\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.hot-line-page {\n  position: relative;\n  padding-top: 1rem;\n  .hot-line-form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /deep/ .van-stepper--round .van-stepper__input {\n      width: 100px !important;\n    }\n  }\n  .btns-bar {\n    margin-top: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .submit-btn {\n      // margin-left: 1rem;\n      width: 3rem;\n    }\n  }\n}\n</style>\n"]}]}