{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/components/common/Football.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/components/common/Football.vue","mtime":1627979214301},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgdGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfnkIMnCiAgICB9LAogICAgaXRlbVdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNDAKICAgIH0sCiAgICBpdGVtSGVpZ2h0OiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogNDAKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsZWZ0OiAwLAogICAgICB0b3A6IDAsCiAgICAgIHN0YXJ0VG9Nb3ZlOiBmYWxzZSwKICAgICAgaXNTaG93OiB0cnVlLAogICAgICB0aW1lcjogbnVsbCwKICAgICAgY3VycmVudFRvcDogbnVsbCwKICAgICAgY2xpZW50VzogZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLCAvL+inhuWPo+WuvQogICAgICBjbGllbnRIOiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LCAvL+inhuWPo+mrmAogICAgICBoaWRlc2hvdzogZmFsc2UsIC8v5pi+56S65oiW6ICF6ZqQ6JePZm9vdGVyCiAgICAgIGlzUmVzaXplOiBmYWxzZSwKICAgICAgZGV2aWNlSW5mbzogdGhpcy5nZXRUeXBlKCkgLy/orr7lpIfkv6Hmga8KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5sZWZ0ID0gdGhpcy5jbGllbnRXIC0gdGhpcy5pdGVtV2lkdGggLSAzMDsKICAgIC8vIHRoaXMudG9wID0gdGhpcy5jbGllbnRIIC8gMiAtIHRoaXMuaXRlbUhlaWdodCAvIDI7CgogICAgaWYgKHRoaXMuZGV2aWNlSW5mbyA9PT0gJ2lwaG9uZScpIHsKICAgICAgdGhpcy50b3AgPSB0aGlzLmNsaWVudEggLSAxODA7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnRvcCA9IHRoaXMuY2xpZW50SCAtIDEzMDsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICBjb25zdCBzZWxmID0gdGhpczsKICAgIC8v5a6J5Y2T5bCP6ZSu55uY5by56LW36L+U5ZueIEJ1ZwogICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4gewogICAgICByZXR1cm4gKCgpID0+IHsKICAgICAgICBpZiAoc2VsZi5kZXZpY2VJbmZvID09PSAnYW5kcm9pZCcpIHsKICAgICAgICAgIHNlbGYuaXNSZXNpemUgPSB0cnVlOwogICAgICAgICAgc2VsZi5oaWRlc2hvdyA9IGZhbHNlOwogICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2VsZi5jbGllbnRIID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDsKICAgICAgICAgICAgc2VsZi50b3AgPSBzZWxmLmNsaWVudEggLSAxMzA7CiAgICAgICAgICAgIHNlbGYuaGlkZXNob3cgPSB0cnVlOwogICAgICAgICAgfSwgMjAwKTsKICAgICAgICB9CiAgICAgIH0pKCk7CiAgICB9OwogICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgaWYgKCFzZWxmLmlzUmVzaXplKSB7CiAgICAgICAgc2VsZi5oaWRlc2hvdyA9IHRydWU7CiAgICAgIH0KICAgIH0sIDIwMCk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpIHsKICAgICAgdGhpcy5iaW5kU2Nyb2xsRXZlbnQoKTsKICAgIH0pOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIC8vIOiusOW+l+mUgOavgeS4gOS6m+WFqOWxgOeahOeahOS6i+S7tgogICAgdGhpcy5yZW1vdmVTY3JvbGxFdmVudCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VHlwZSgpIHsKICAgICAgbGV0IHR5cGU7CiAgICAgIGlmICgvKGlQaG9uZXxpUGFkfGlQb2R8aU9TKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAgICAgICB0eXBlID0gJ2lwaG9uZSc7CiAgICAgIH0gZWxzZSBpZiAoLyhBbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsKICAgICAgICB0eXBlID0gJ2FuZHJvaWQnOwogICAgICB9IGVsc2UgewogICAgICAgIHR5cGUgPSAncGMnOwogICAgICB9CiAgICAgIHJldHVybiB0eXBlOwogICAgfSwKICAgIGhhbmRsZVRvdWNoU3RhcnQoKSB7CiAgICAgIHRoaXMuc3RhcnRUb01vdmUgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzLmRyYWdJY29uLnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7CiAgICB9LAogICAgaGFuZGxlVG91Y2hNb3ZlKGUpIHsKICAgICAgY29uc3QgY2xpZW50WCA9IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYOyAvL+aJi+aMh+ebuOWvueinhuWPo+eahHgKICAgICAgY29uc3QgY2xpZW50WSA9IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRZOyAvL+aJi+aMh+ebuOWvueinhuWPo+eahHkKICAgICAgY29uc3QgaXNJblNjcmVlbiA9CiAgICAgICAgY2xpZW50WCA8PSB0aGlzLmNsaWVudFcgJiYKICAgICAgICBjbGllbnRYID49IDAgJiYKICAgICAgICBjbGllbnRZIDw9IHRoaXMuY2xpZW50SCAmJgogICAgICAgIGNsaWVudFkgPj0gMDsKICAgICAgaWYgKHRoaXMuc3RhcnRUb01vdmUgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PT0gMSkgewogICAgICAgIGlmIChpc0luU2NyZWVuKSB7CiAgICAgICAgICB0aGlzLmxlZnQgPSBjbGllbnRYIC0gdGhpcy5pdGVtV2lkdGggLyAyOwogICAgICAgICAgdGhpcy50b3AgPSBjbGllbnRZIC0gdGhpcy5pdGVtSGVpZ2h0IC8gMjsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUb3VjaEVuZCgpIHsKICAgICAgaWYgKHRoaXMubGVmdCA8IHRoaXMuY2xpZW50VyAvIDIpIHsKICAgICAgICB0aGlzLmxlZnQgPSAzMDsgLy/kuI3orqnotLTovrkg5omA5Lul6K6+572uMzDmsqHorr7nva4wCiAgICAgICAgdGhpcy5oYW5kbGVJY29uWSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubGVmdCA9IHRoaXMuY2xpZW50VyAtIHRoaXMuaXRlbVdpZHRoIC0gMzA7IC8v5LiN6K6p6LS06L65IOaJgOS7peWHjzMwCiAgICAgICAgdGhpcy5oYW5kbGVJY29uWSgpOwogICAgICB9CiAgICAgIHRoaXMuJHJlZnMuZHJhZ0ljb24uc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgLjNzJzsKICAgIH0sCiAgICBoYW5kbGVJY29uWSgpIHsKICAgICAgaWYgKHRoaXMudG9wIDwgMCkgewogICAgICAgIHRoaXMudG9wID0gMzA7IC8v5LiN5LiK5biW5LiK6L655omA5Lul6K6+572u5Li6MzAg5rKh6K6+572uMAogICAgICB9IGVsc2UgaWYgKHRoaXMudG9wICsgdGhpcy5pdGVtSGVpZ2h0ID4gdGhpcy5jbGllbnRIIC0gNTApIHsKICAgICAgICB0aGlzLnRvcCA9IHRoaXMuY2xpZW50SCAtIHRoaXMuaXRlbUhlaWdodCAtIDYwOyAvL+S4jeiuqeW4luS4i+i+ueaJgOS7peWHjzYwCiAgICAgIH0KICAgIH0sCiAgICBiaW5kU2Nyb2xsRXZlbnQoKSB7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmhhbmRsZVNjcm9sbFN0YXJ0KTsKICAgIH0sCiAgICByZW1vdmVTY3JvbGxFdmVudCgpIHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuaGFuZGxlU2Nyb2xsU3RhcnQpOwogICAgfSwKICAgIGhhbmRsZVNjcm9sbFN0YXJ0KCkgewogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLnRpbWVyICYmIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTsKICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRoaXMuaGFuZGxlU2Nyb2xsRW5kKCk7CiAgICAgIH0sIDMwMCk7CiAgICAgIHRoaXMuY3VycmVudFRvcCA9CiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcDsKICAgIH0sCiAgICBoYW5kbGVTY3JvbGxFbmQoKSB7CiAgICAgIHRoaXMuc2Nyb2xsVG9wID0KICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wOwogICAgICAvLyDliKTmlq3mmK/lkKblgZzmraLmu5rliqjnmoTmnaHku7YKICAgICAgaWYgKHRoaXMuc2Nyb2xsVG9wID09IHRoaXMuY3VycmVudFRvcCkgewogICAgICAgIHRoaXMuaXNTaG93ID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["Football.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Football.vue","sourceRoot":"src/pages/executive-serveh5/components/common","sourcesContent":["<template>\n  <transition>\n    <div\n      v-show=\"hideshow\"\n      ref=\"dragIcon\"\n      class=\"dragIcon\"\n      @touchstart.stop=\"handleTouchStart\"\n      @touchmove.prevent.stop=\"handleTouchMove($event)\"\n      @touchend.stop=\"handleTouchEnd\"\n      :style=\"{\n        left: left + 'px',\n        top: top + 'px',\n        width: itemWidth + 'px',\n        height: itemHeight + 'px'\n      }\"\n    >\n      <slot>\n        {{ text }}\n      </slot>\n    </div>\n  </transition>\n</template>\n\n<script>\nexport default {\n  props: {\n    text: {\n      type: String,\n      default: '球'\n    },\n    itemWidth: {\n      type: Number,\n      default: 40\n    },\n    itemHeight: {\n      type: Number,\n      default: 40\n    }\n  },\n  data() {\n    return {\n      left: 0,\n      top: 0,\n      startToMove: false,\n      isShow: true,\n      timer: null,\n      currentTop: null,\n      clientW: document.documentElement.clientWidth, //视口宽\n      clientH: document.documentElement.clientHeight, //视口高\n      hideshow: false, //显示或者隐藏footer\n      isResize: false,\n      deviceInfo: this.getType() //设备信息\n    };\n  },\n  created() {\n    this.left = this.clientW - this.itemWidth - 30;\n    // this.top = this.clientH / 2 - this.itemHeight / 2;\n\n    if (this.deviceInfo === 'iphone') {\n      this.top = this.clientH - 180;\n    } else {\n      this.top = this.clientH - 130;\n    }\n  },\n  mounted() {\n    const self = this;\n    //安卓小键盘弹起返回 Bug\n    window.onresize = () => {\n      return (() => {\n        if (self.deviceInfo === 'android') {\n          self.isResize = true;\n          self.hideshow = false;\n          setTimeout(function() {\n            self.clientH = document.documentElement.clientHeight;\n            self.top = self.clientH - 130;\n            self.hideshow = true;\n          }, 200);\n        }\n      })();\n    };\n    setTimeout(function() {\n      if (!self.isResize) {\n        self.hideshow = true;\n      }\n    }, 200);\n    this.$nextTick(function() {\n      this.bindScrollEvent();\n    });\n  },\n  beforeDestroy() {\n    // 记得销毁一些全局的的事件\n    this.removeScrollEvent();\n  },\n  methods: {\n    getType() {\n      let type;\n      if (/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)) {\n        type = 'iphone';\n      } else if (/(Android)/i.test(navigator.userAgent)) {\n        type = 'android';\n      } else {\n        type = 'pc';\n      }\n      return type;\n    },\n    handleTouchStart() {\n      this.startToMove = true;\n      this.$refs.dragIcon.style.transition = 'none';\n    },\n    handleTouchMove(e) {\n      const clientX = e.targetTouches[0].clientX; //手指相对视口的x\n      const clientY = e.targetTouches[0].clientY; //手指相对视口的y\n      const isInScreen =\n        clientX <= this.clientW &&\n        clientX >= 0 &&\n        clientY <= this.clientH &&\n        clientY >= 0;\n      if (this.startToMove && e.targetTouches.length === 1) {\n        if (isInScreen) {\n          this.left = clientX - this.itemWidth / 2;\n          this.top = clientY - this.itemHeight / 2;\n        }\n      }\n    },\n    handleTouchEnd() {\n      if (this.left < this.clientW / 2) {\n        this.left = 30; //不让贴边 所以设置30没设置0\n        this.handleIconY();\n      } else {\n        this.left = this.clientW - this.itemWidth - 30; //不让贴边 所以减30\n        this.handleIconY();\n      }\n      this.$refs.dragIcon.style.transition = 'all .3s';\n    },\n    handleIconY() {\n      if (this.top < 0) {\n        this.top = 30; //不上帖上边所以设置为30 没设置0\n      } else if (this.top + this.itemHeight > this.clientH - 50) {\n        this.top = this.clientH - this.itemHeight - 60; //不让帖下边所以减60\n      }\n    },\n    bindScrollEvent() {\n      window.addEventListener('scroll', this.handleScrollStart);\n    },\n    removeScrollEvent() {\n      window.removeEventListener('scroll', this.handleScrollStart);\n    },\n    handleScrollStart() {\n      this.isShow = false;\n      this.timer && clearTimeout(this.timer);\n      this.timer = setTimeout(() => {\n        this.handleScrollEnd();\n      }, 300);\n      this.currentTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n    },\n    handleScrollEnd() {\n      this.scrollTop =\n        document.documentElement.scrollTop || document.body.scrollTop;\n      // 判断是否停止滚动的条件\n      if (this.scrollTop == this.currentTop) {\n        this.isShow = true;\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.dragIcon {\n  position: fixed;\n  width: 1.4rem;\n  height: 1.4rem;\n  border-radius: 50%;\n  background-color: orange;\n  line-height: 1.4rem;\n  text-align: center;\n  color: #fff;\n}\n.v-enter {\n  opacity: 1;\n}\n.v-leave-to {\n  opacity: 0;\n}\n.v-enter-active,\n.v-leave-active {\n  transition: opacity 0.3s;\n}\n</style>\n"]}]}