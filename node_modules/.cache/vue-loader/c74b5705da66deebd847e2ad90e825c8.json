{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serve/views/filler/FillTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serve/views/filler/FillTable.vue","mtime":1627979214296},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlsbFRhYmxlJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckluZm86IHt9LAogICAgICByb2xlczogW10sCiAgICAgIHN0YXR1c09iajogewogICAgICAgICcxJzogewogICAgICAgICAgY29sb3I6ICcjMTg5MEZGJywKICAgICAgICAgIHRleHQ6ICflvoXlrqHmoLgnCiAgICAgICAgfSwKICAgICAgICAnMic6IHsKICAgICAgICAgIGNvbG9yOiAnI0ZGOTgwMCcsCiAgICAgICAgICB0ZXh0OiAn5pyN5Yqh5LitJwogICAgICAgIH0sCiAgICAgICAgJzMnOiB7CiAgICAgICAgICBjb2xvcjogJyMyOUU0RDgnLAogICAgICAgICAgdGV4dDogJ+W+heivhOS7tycKICAgICAgICB9LAogICAgICAgICc0JzogewogICAgICAgICAgY29sb3I6ICcjNTJDNDFBJywKICAgICAgICAgIHRleHQ6ICcg5bey6K+E5Lu3JwogICAgICAgIH0sCiAgICAgICAgJzUnOiB7CiAgICAgICAgICBjb2xvcjogJyNFRTUxNTEnLAogICAgICAgICAgdGV4dDogJ+WuoeaguOS4jemAmui/hycKICAgICAgICB9LAogICAgICAgICc2JzogewogICAgICAgICAgY29sb3I6ICcjOTk5OTk5JywKICAgICAgICAgIHRleHQ6ICflt7LmkqTplIAnCiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHRhYmxlRGF0YTogewogICAgICB0eXBlOiBBcnJheQogICAgfSwKICAgIHRvdGFsOiB7CiAgICAgIHR5cGU6IE51bWJlcgogICAgfSwKICAgIGlkZW50aXR5OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIHRhYmxlVHlwZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgY3VycmVudFBhZ2U6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgdXNlckluZm8gPQogICAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSAmJgogICAgICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySW5mbycpKTsKICAgIHRoaXMudXNlckluZm8gPSB1c2VySW5mbzsKICAgIHRoaXMucm9sZXMgPSB1c2VySW5mby5yb2xlcyB8fCBbXTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZU9wZXJhKGl0ZW0pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGAvJHt0aGlzLmlkZW50aXR5fS9kZXRhaWwvJHtpdGVtLmlkfWAsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkZW50aXR5OiB0aGlzLmlkZW50aXR5CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjdXJyZW50Q2hhbmdlKGN1cnJlbnQpIHsKICAgICAgY29uc29sZS5sb2coJ2N1cnJlbnQnLCBjdXJyZW50KTsKICAgICAgaWYgKHRoaXMudGFibGVUeXBlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnZ2V0VGFibGVEYXRhJywgdGhpcy50YWJsZVR5cGUsIGN1cnJlbnQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJGVtaXQoJ2dldFRhYmxlRGF0YScsIGN1cnJlbnQpOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["FillTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FillTable.vue","sourceRoot":"src/pages/executive-serve/views/filler","sourcesContent":["<template>\n  <div>\n    <el-table border :data=\"tableData\" style=\"width: 100%\">\n      <el-table-column prop=\"serveName\" label=\"订单\"> </el-table-column>\n      <el-table-column prop=\"cybkName\" label=\"板块\"> </el-table-column>\n      <el-table-column width=\"120\" prop=\"createByName\" label=\"下单人\">\n      </el-table-column>\n      <el-table-column prop=\"createTime\" label=\"下单时间\"> </el-table-column>\n      <el-table-column label=\"状态\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <span>\n            <span\n              class=\"circle\"\n              :style=\"{ background: statusObj[scope.row.serveStatus].color }\"\n            ></span>\n            {{\n              scope.row.serveStatus == 2 && scope.row.userCount === 0\n                ? '待抢单'\n                : statusObj[scope.row.serveStatus].text\n            }}\n            <span v-if=\"scope.row.serveStatus == 2\">\n              <img\n                v-for=\"i of 3\"\n                :key=\"i\"\n                class=\"status-img\"\n                :src=\"\n                  scope.row.userCount + 1 > i\n                    ? require('../../assets/images/矩形@2x (1).png')\n                    : require('../../assets/images/矩形@2x.png')\n                \"\n              />\n            </span>\n          </span>\n        </template>\n      </el-table-column>\n      <el-table-column\n        v-if=\"identity != 'filler'\"\n        prop=\"auditTime\"\n        :label=\"identity === 'checker' ? '审核时间' : '抢单时间'\"\n      >\n      </el-table-column>\n      <el-table-column width=\"130\" label=\"操作\">\n        <template slot-scope=\"scope\">\n          <span class=\"operaBtn\" @click=\"handleOpera(scope.row)\">\n            <span v-if=\"identity == 'checker' && scope.row.serveStatus == '1'\"\n              >审核</span\n            >\n            <span\n              v-else-if=\"\n                identity == 'supervisor' &&\n                  scope.row.createByName !== userInfo.userName &&\n                  scope.row.serveStatus == '2' &&\n                  !scope.row.isUsable &&\n                  scope.row.userCount < 3 &&\n                  roles.includes('处理人')\n              \"\n              style=\"color:#FF9800\"\n              >进入抢单</span\n            >\n            <span\n              v-else-if=\"identity == 'handler' && scope.row.serveStatus == '2'\"\n              style=\"color:#FF9800\"\n              >前往处理</span\n            >\n            <span v-else>查看</span>\n          </span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pagination\">\n      <el-pagination\n        background\n        :hide-on-single-page=\"true\"\n        @current-change=\"currentChange\"\n        layout=\"prev, pager, next\"\n        :page-size=\"10\"\n        :total=\"total\"\n        :current-page=\"currentPage\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  name: 'fillTable',\n  data() {\n    return {\n      userInfo: {},\n      roles: [],\n      statusObj: {\n        '1': {\n          color: '#1890FF',\n          text: '待审核'\n        },\n        '2': {\n          color: '#FF9800',\n          text: '服务中'\n        },\n        '3': {\n          color: '#29E4D8',\n          text: '待评价'\n        },\n        '4': {\n          color: '#52C41A',\n          text: ' 已评价'\n        },\n        '5': {\n          color: '#EE5151',\n          text: '审核不通过'\n        },\n        '6': {\n          color: '#999999',\n          text: '已撤销'\n        }\n      }\n    };\n  },\n  props: {\n    tableData: {\n      type: Array\n    },\n    total: {\n      type: Number\n    },\n    identity: {\n      type: String\n    },\n    tableType: {\n      type: String,\n      default: ''\n    },\n    currentPage: {\n      type: Number,\n      default: 1\n    }\n  },\n  created() {\n    const userInfo =\n      localStorage.getItem('userInfo') &&\n      JSON.parse(localStorage.getItem('userInfo'));\n    this.userInfo = userInfo;\n    this.roles = userInfo.roles || [];\n  },\n  methods: {\n    handleOpera(item) {\n      this.$router.push({\n        path: `/${this.identity}/detail/${item.id}`,\n        query: {\n          identity: this.identity\n        }\n      });\n    },\n    currentChange(current) {\n      console.log('current', current);\n      if (this.tableType) {\n        this.$emit('getTableData', this.tableType, current);\n      } else {\n        this.$emit('getTableData', current);\n      }\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.el-pagination {\n  text-align: right;\n}\n.operaBtn {\n  color: #2697ff;\n  cursor: pointer;\n}\n.status-img {\n  position: relative;\n  width: 16px;\n  top: 3px;\n}\n.circle {\n  display: inline-block;\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  background-color: #1890ff;\n  position: relative;\n  top: -2px;\n  margin: 0 5px 0 0;\n}\n.pagination {\n  margin-top: 20px;\n}\n/deep/.el-pagination.is-background li {\n  background: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n}\n/deep/.el-pagination.is-background .btn-next,\n/deep/.el-pagination.is-background .btn-prev {\n  background: #fff;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n}\n/deep/.el-pagination.is-background .el-pager li:not(.disabled).active {\n  background-color: #ff9800;\n}\n/deep/.el-pagination.is-background .el-pager li:not(.disabled):hover {\n  color: #ff9800;\n}\n/deep/.el-pagination.is-background .el-pager li:not(.disabled).active:hover {\n  color: #fff;\n}\n</style>\n"]}]}