{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/views/teacher-points/addOption.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/views/teacher-points/addOption.vue","mtime":1645176309873},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBUb2FzdCwNCiAgUmFkaW8sDQogIFJhZGlvR3JvdXAsDQogIFRyZWVTZWxlY3QsDQogIFNlYXJjaCwNCiAgTGlzdCwNCiAgUHVsbFJlZnJlc2gNCn0gZnJvbSAndmFudCc7DQppbXBvcnQgew0KICBnZXRNeVRlYWNoUmVsYXRpb24sDQogIGdldFNlbGVjdEJ5U3RhbmROYW1lLA0KICBzZWxlY3REaWN0aW9uYXJ5V2l0aENoaWxkcmVuDQp9IGZyb20gJ0AvcGFnZXMvdGVhY2hpbmctcG9pbnRzLWg1L2FwaS90ZWFjaGluZy1hY3Rpdml0eS90ZWFjaGluZy1wb2ludHMnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnYWRkT3B0aW9uJywNCiAgY29tcG9uZW50czogew0KICAgIFtSYWRpby5uYW1lXTogUmFkaW8sDQogICAgW1JhZGlvR3JvdXAubmFtZV06IFJhZGlvR3JvdXAsDQogICAgW1RyZWVTZWxlY3QubmFtZV06IFRyZWVTZWxlY3QsDQogICAgW1NlYXJjaC5uYW1lXTogU2VhcmNoLA0KICAgIFtMaXN0Lm5hbWVdOiBMaXN0LA0KICAgIFtQdWxsUmVmcmVzaC5uYW1lXTogUHVsbFJlZnJlc2gNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBmaW5pc2hlZFRleHQoKSB7DQogICAgICBpZiAodGhpcy5wYWdlSW5mby50b3RhbCA9PT0gMCkgew0KICAgICAgICByZXR1cm4gJ+aaguaXoOaVsOaNric7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gJ+ayoeacieabtOWkmuS6hic7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0eXBlOiAnJywNCiAgICAgIGNoZWNrU291cmNlOiAtMSwNCiAgICAgIHNvdXJjZUxpc3Q6IFtdLA0KICAgICAgdGVhY2hpbmdSZXNlYXJjaElkQ2hvb3NlOiAnJywNCiAgICAgIHRlYWNoaW5nUmVzZWFyY2hJZExpc3Q6IFtdLA0KICAgICAgY2hvb3NlVGVhY2hpbmdSZXNlYXJjaElkOiAnJywNCiAgICAgIGNhc2NhZGVyT3B0aW9uczogW10sDQogICAgICBzdGFuZGFyZElkczogW10sDQogICAgICBmb3JtRGF0YToge30sDQogICAgICBwYWdlSW5mbzogew0KICAgICAgICAvL+Whq+aKpeS/oeaBr+aAu+mhteaVsA0KICAgICAgICB0b3RhbDogMA0KICAgICAgfSwNCiAgICAgIGlzc3VlTmFtZTogJycsDQogICAgICBwYWdpbmdQYXJhbXM6IHsNCiAgICAgICAgLy/loavmiqXliIbpobXlj4LmlbANCiAgICAgICAgbGltaXQ6IDEwLA0KICAgICAgICBvZmZzZXQ6IDANCiAgICAgIH0sDQogICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgIGZpbmlzaGVkOiBmYWxzZSwNCiAgICAgIHJlZnJlc2hpbmc6IGZhbHNlLA0KICAgICAgZXJyb3I6IGZhbHNlDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnR5cGUgPSB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlOw0KICAgIGlmICh0aGlzLnR5cGUgPT09ICdTb3VyY2VUeXBlJykgew0KICAgICAgdGhpcy4kZGQuYml6Lm5hdmlnYXRpb24uc2V0VGl0bGUoew0KICAgICAgICB0aXRsZTogJ+adpea6kOexu+WeiycNCiAgICAgIH0pOw0KICAgICAgLy8gdGhpcy4kcm91dGUubWV0YS50aXRsZSA9ICfmnaXmupDnsbvlnosnOw0KICAgICAgLy8gdGhpcy4kcm91dGVyDQogICAgICAvLyAgIC5yZXBsYWNlKHsNCiAgICAgIC8vICAgICBwYXRoOiAnL3RlYWNoZXItcG9pbnRzL2FkZE9wdGlvbicsDQogICAgICAvLyAgICAgcXVlcnk6IHsNCiAgICAgIC8vICAgICAgIHRlbXA6IERhdGUubm93KCksDQogICAgICAvLyAgICAgICB0eXBlOiB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlLA0KICAgICAgLy8gICAgICAgdGVhY2hJZDogdGhpcy4kcm91dGUucXVlcnkudGVhY2hJZCwNCiAgICAgIC8vICAgICAgIHBhdGhUeXBlOiB0aGlzLiRyb3V0ZS5xdWVyeS5wYXRoVHlwZSwNCiAgICAgIC8vICAgICAgIHBhdGhJZDogdGhpcy4kcm91dGUucXVlcnkucGF0aElkDQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICB9KQ0KICAgICAgLy8gICAuY2F0Y2goKCkgPT4ge30pOw0KICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnc3RhbmRhcmRJZHMnKSB7DQogICAgICB0aGlzLiRkZC5iaXoubmF2aWdhdGlvbi5zZXRUaXRsZSh7DQogICAgICAgIHRpdGxlOiAn5qCH5YeG5aWW6aG55ZCN56ewJw0KICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMuJGRkLmJpei5uYXZpZ2F0aW9uLnNldFRpdGxlKHsNCiAgICAgICAgdGl0bGU6ICfmlZnlrabnoJTnqbYnDQogICAgICB9KTsNCiAgICB9DQogICAgdGhpcy5pbml0RGF0YSgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdERhdGEoKSB7DQogICAgICBsZXQgX3NlbGYgPSB0aGlzOw0KICAgICAgX3NlbGYuJGRkLmJpei5uYXZpZ2F0aW9uLnNldFJpZ2h0KHsNCiAgICAgICAgc2hvdzogZmFsc2UgLy/mjqfliLbmjInpkq7mmL7npLrvvIwgdHJ1ZSDmmL7npLrvvIwgZmFsc2Ug6ZqQ6JeP77yMIOm7mOiupHRydWUNCiAgICAgIH0pOw0KICAgICAgdGhpcy5mb3JtRGF0YSA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnZm9ybURhdGEnKSk7DQogICAgICBpZiAodGhpcy50eXBlID09PSAnU291cmNlVHlwZScpIHsNCiAgICAgICAgdGhpcy5zZWxlY3REaWN0aW9uYXJ5V2l0aENoaWxkcmVuKCk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMudHlwZSA9PT0gJ3N0YW5kYXJkSWRzJykgew0KICAgICAgICB0aGlzLmdldFNlbGVjdEJ5U3RhbmROYW1lKCk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmdldE15VGVhY2hSZWxhdGlvbigpOw0KICAgICAgfQ0KICAgIH0sDQogICAgc3VibWl0U291cmNlKCkgew0KICAgICAgaWYgKHRoaXMudHlwZSA9PT0gJ1NvdXJjZVR5cGUnKSB7DQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc291cmNlTGlzdCkgJiYgdGhpcy5zb3VyY2VMaXN0Lmxlbmd0aCA8PSAwKSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgcGF0aDogJy90ZWFjaGVyLXBvaW50cy9hZGQnLA0KICAgICAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhdGhJZCwNCiAgICAgICAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkucGF0aFR5cGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuY2hlY2tTb3VyY2UgPT09IC0xKSB7DQogICAgICAgICAgVG9hc3QuZmFpbCgn6K+35YWI6YCJ5oup5LiA6aG5Jyk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oDQogICAgICAgICAgJ3NyY1R5cGUnLA0KICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHRoaXMuc291cmNlTGlzdFt0aGlzLmNoZWNrU291cmNlXSkNCiAgICAgICAgKTsNCiAgICAgIH0gZWxzZSBpZiAodGhpcy50eXBlID09PSAnc3RhbmRhcmRJZHMnKSB7DQogICAgICAgIGlmICgNCiAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuY2FzY2FkZXJPcHRpb25zKSAmJg0KICAgICAgICAgIHRoaXMuY2FzY2FkZXJPcHRpb25zLmxlbmd0aCA8PSAwDQogICAgICAgICkgew0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgICAgIHBhdGg6ICcvdGVhY2hlci1wb2ludHMvYWRkJywNCiAgICAgICAgICAgIHF1ZXJ5OiB7DQogICAgICAgICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5wYXRoSWQsDQogICAgICAgICAgICAgIHR5cGU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhdGhUeXBlDQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIHRyeSB7DQogICAgICAgICAgdGhpcy5zdGFuZGFyZElkcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwICYmICFpdGVtKSB7DQogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign6K+36YCJ5oup5YW35L2T5LiA6aG5Jyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLmxpc3QgJiYgaXRlbS5saXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGFuZGFyZElkc1tpbmRleCArIDFdLCBpdGVtLCAnaGFzJyk7DQogICAgICAgICAgICAgIGlmICghdGhpcy5zdGFuZGFyZElkc1tpbmRleCArIDFdKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfor7fpgInmi6nlhbfkvZPkuIDpobknKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9IGNhdGNoIChlKSB7DQogICAgICAgICAgVG9hc3QuZmFpbChlLm1lc3NhZ2UpOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgc3RhbmRhcmRJZHMgPSB7DQogICAgICAgICAgaWRzOiBbXSwNCiAgICAgICAgICBuYW1lOiAnJw0KICAgICAgICB9Ow0KICAgICAgICB0aGlzLnN0YW5kYXJkSWRzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgc3RhbmRhcmRJZHMuaWRzLnB1c2goaXRlbS5pZCk7DQogICAgICAgICAgc3RhbmRhcmRJZHMubmFtZSArPSBgJHtpdGVtLnN0YW5kYXJkTmFtZX0gLyBgOw0KICAgICAgICB9KTsNCiAgICAgICAgLy8g5Y675o6J5pyA5ZCO5LiA5LiqICIvIiAs5Zug5Li65pyJ56m65qC85omA5LulLTINCiAgICAgICAgc3RhbmRhcmRJZHMubmFtZSA9IHN0YW5kYXJkSWRzLm5hbWUuc3Vic3RyKA0KICAgICAgICAgIDAsDQogICAgICAgICAgc3RhbmRhcmRJZHMubmFtZS5sZW5ndGggLSAyDQogICAgICAgICk7DQogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oJ3N0YW5kYXJkSWRzJywgSlNPTi5zdHJpbmdpZnkoc3RhbmRhcmRJZHMpKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGlmICgNCiAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMudGVhY2hpbmdSZXNlYXJjaElkTGlzdCkgJiYNCiAgICAgICAgICB0aGlzLnRlYWNoaW5nUmVzZWFyY2hJZExpc3QubGVuZ3RoIDw9IDANCiAgICAgICAgKSB7DQogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICAgICAgcGF0aDogJy90ZWFjaGVyLXBvaW50cy9hZGQnLA0KICAgICAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhdGhJZCwNCiAgICAgICAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkucGF0aFR5cGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCF0aGlzLmNob29zZVRlYWNoaW5nUmVzZWFyY2hJZCkgew0KICAgICAgICAgIFRvYXN0LmZhaWwoJ+ivt+WFiOmAieaLqeS4gOmhuScpOw0KICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgY2hvb3NlVGVhY2hpbmdSZXNlYXJjaElkID0gdGhpcy50ZWFjaGluZ1Jlc2VhcmNoSWRMaXN0LmZpbHRlcigNCiAgICAgICAgICBpdGVtID0+IGl0ZW0uaWQgPT09IHRoaXMuY2hvb3NlVGVhY2hpbmdSZXNlYXJjaElkDQogICAgICAgIClbMF07DQogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oDQogICAgICAgICAgJ3RlYWNoaW5nUmVzZWFyY2hJZCcsDQogICAgICAgICAgSlNPTi5zdHJpbmdpZnkoY2hvb3NlVGVhY2hpbmdSZXNlYXJjaElkKQ0KICAgICAgICApOw0KICAgICAgfQ0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goew0KICAgICAgICBwYXRoOiAnL3RlYWNoZXItcG9pbnRzL2FkZCcsDQogICAgICAgIHF1ZXJ5OiB7DQogICAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnBhdGhJZCwNCiAgICAgICAgICB0eXBlOiB0aGlzLiRyb3V0ZS5xdWVyeS5wYXRoVHlwZQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOiOt+WPluadpea6kOexu+WeiyAxNuS7o+ihqOadpea6kOexu+Wei+Wtl+WFuA0KICAgIHNlbGVjdERpY3Rpb25hcnlXaXRoQ2hpbGRyZW4oKSB7DQogICAgICBzZWxlY3REaWN0aW9uYXJ5V2l0aENoaWxkcmVuKCcxNicpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5zb3VyY2VMaXN0ID0gcmVzLmRhdGE7DQogICAgICAgIGlmICh0aGlzLmZvcm1EYXRhLnNyY1R5cGUpIHsNCiAgICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuc291cmNlTGlzdC5maW5kSW5kZXgoDQogICAgICAgICAgICB2ID0+IHYuZGljdGlvbmFyeUlkID09PSB0aGlzLmZvcm1EYXRhLnNyY1R5cGUNCiAgICAgICAgICApOw0KICAgICAgICAgIHRoaXMuY2hlY2tTb3VyY2UgPSBpbmRleDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBvblJlZnJlc2goKSB7DQogICAgICB0aGlzLnRlYWNoaW5nUmVzZWFyY2hJZExpc3QgPSBbXTsNCiAgICAgIHRoaXMuZmluaXNoZWQgPSBmYWxzZTsNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7DQogICAgICB0aGlzLnBhZ2VJbmZvLnRvdGFsID0gMDsNCiAgICAgIHRoaXMucGFnaW5nUGFyYW1zLm9mZnNldCA9IDA7DQogICAgICB0aGlzLm9uTG9hZCgpOw0KICAgIH0sDQogICAgb25Mb2FkKCkgew0KICAgICAgaWYgKHRoaXMucmVmcmVzaGluZykgew0KICAgICAgICB0aGlzLnRlYWNoaW5nUmVzZWFyY2hJZExpc3QgPSBbXTsNCiAgICAgICAgdGhpcy5yZWZyZXNoaW5nID0gZmFsc2U7DQogICAgICB9DQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgdGhpcy5nZXRNeVRlYWNoUmVsYXRpb24oKTsNCiAgICB9LA0KICAgIC8vIOiOt+WPlueglOeptuivvumimOaVsOaNrg0KICAgIGdldE15VGVhY2hSZWxhdGlvbigpIHsNCiAgICAgIGlmICh0aGlzLnBhZ2luZ1BhcmFtcy5vZmZzZXQgPiB0aGlzLnBhZ2VJbmZvLnRvdGFsKSByZXR1cm47DQogICAgICBnZXRNeVRlYWNoUmVsYXRpb24oeyAuLi50aGlzLnBhZ2luZ1BhcmFtcyB9KS50aGVuKHJlcyA9PiB7DQogICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAvLyB0aGlzLnRlYWNoaW5nUmVzZWFyY2hJZExpc3QgPSByZXMuZGF0YS5yZWNvcmRzOw0KICAgICAgICAgIGxldCBkYXRhID0gcmVzLmRhdGEucmVjb3JkcyB8fCBbXTsNCiAgICAgICAgICB0aGlzLnRlYWNoaW5nUmVzZWFyY2hJZExpc3QgPSB0aGlzLnRlYWNoaW5nUmVzZWFyY2hJZExpc3QuY29uY2F0KA0KICAgICAgICAgICAgZGF0YQ0KICAgICAgICAgICk7DQogICAgICAgICAgdGhpcy5wYWdlSW5mby50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOw0KICAgICAgICAgIGlmICh0aGlzLnBhZ2VJbmZvLnRvdGFsIDw9IHJlcy5kYXRhLmN1cnJlbnQgKiByZXMuZGF0YS5zaXplKSB7DQogICAgICAgICAgICB0aGlzLmZpbmlzaGVkID0gdHJ1ZTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5wYWdpbmdQYXJhbXMub2Zmc2V0ID0NCiAgICAgICAgICAgICAgKE1hdGguZmxvb3IodGhpcy5wYWdpbmdQYXJhbXMub2Zmc2V0IC8gdGhpcy5wYWdpbmdQYXJhbXMubGltaXQpICsNCiAgICAgICAgICAgICAgICAxKSAqDQogICAgICAgICAgICAgIHRoaXMucGFnaW5nUGFyYW1zLmxpbWl0Ow0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICBpZiAodGhpcy5mb3JtRGF0YS50ZWFjaGluZ1Jlc2VhcmNoSWQpIHsNCiAgICAgICAgICAgIHRoaXMuY2hvb3NlVGVhY2hpbmdSZXNlYXJjaElkID0gdGhpcy5mb3JtRGF0YS50ZWFjaGluZ1Jlc2VhcmNoSWQ7DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMub3B0aW9ucyA9IFtdOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOiOt+WPluagh+WHhuWllumhueWQjeensA0KICAgIGdldFNlbGVjdEJ5U3RhbmROYW1lKCkgew0KICAgICAgLy8g6I635Y+W5qCH5YeG5aWW6aG55ZCN56ewDQogICAgICBnZXRTZWxlY3RCeVN0YW5kTmFtZSgpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgdGhpcy5jYXNjYWRlck9wdGlvbnMgPSByZXMuZGF0YTsNCiAgICAgICAgLy8g5re75Yqg5YW25LuW6YCJ6aG5DQogICAgICAgIHRoaXMuY2FzY2FkZXJPcHRpb25zLnB1c2goew0KICAgICAgICAgIGlkOiAtMSwNCiAgICAgICAgICBzdGFuZGFyZE5hbWU6ICflhbbku5YnLA0KICAgICAgICAgIGxpc3Q6IFsNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgaWQ6IC0xMSwNCiAgICAgICAgICAgICAgc3RhbmRhcmROYW1lOiAn5YW25LuWJywNCiAgICAgICAgICAgICAgbGlzdDogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIGlkOiAtMTExLA0KICAgICAgICAgICAgICAgICAgc3RhbmRhcmROYW1lOiAn5YW25LuWJw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgIF0NCiAgICAgICAgfSk7DQogICAgICAgIGlmICh0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzKSB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcyAmJg0KICAgICAgICAgICAgdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcyA9PT0gJy0xMTEnDQogICAgICAgICAgKSB7DQogICAgICAgICAgICB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzID0gWy0xLCAtMTEsIC0xMTFdOw0KICAgICAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgICAgICB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzICYmDQogICAgICAgICAgICB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzICE9PSAnLTExMScNCiAgICAgICAgICApIHsNCiAgICAgICAgICAgIGlmICh0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzIGluc3RhbmNlb2YgQXJyYXkpIHsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgIHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMgPSB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzDQogICAgICAgICAgICAgICAgLnNwbGl0KCcsJykNCiAgICAgICAgICAgICAgICAubWFwKE51bWJlcik7IC8vIOWwhuWtl+espuS4sui9rOaVsOe7hOW5tui9rOS4uuaVsOWtlw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLnN0YW5kYXJkSWRzID0gW107DQogICAgICAgICAgdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgICAgdGhpcy5zdGFuZGFyZElkc1tpbmRleF0gPSB0aGlzLmNhc2NhZGVyT3B0aW9ucy5maWx0ZXIoDQogICAgICAgICAgICAgIGZpbHRlcnMgPT4gZmlsdGVycy5pZCA9PT0gaXRlbQ0KICAgICAgICAgICAgKVswXTsNCiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zdGFuZGFyZElkc1tpbmRleCAtIDFdKTsNCiAgICAgICAgICAgICAgdGhpcy5zdGFuZGFyZElkc1tpbmRleF0gPSB0aGlzLnN0YW5kYXJkSWRzW2luZGV4IC0gMV0ubGlzdC5maWx0ZXIoDQogICAgICAgICAgICAgICAgZmlsdGVycyA9PiBmaWx0ZXJzLmlkID09PSBpdGVtDQogICAgICAgICAgICAgIClbMF07DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgICAgLy8gdGhpcy4kc2V0KHRoaXMuc3RhbmQpDQogICAgICAgICAgY29uc29sZS5sb2coDQogICAgICAgICAgICB0aGlzLmNhc2NhZGVyT3B0aW9ucywNCiAgICAgICAgICAgIHRoaXMuc3RhbmRhcmRJZHMsDQogICAgICAgICAgICAndGhpcy5jYXNjYWRlck9wdGlvbnMnDQogICAgICAgICAgKTsNCiAgICAgICAgICBsZXQgY2hvb3NlSW5kZXggPSB0aGlzLmNhc2NhZGVyT3B0aW9ucy5maW5kSW5kZXgoDQogICAgICAgICAgICBpdGVtID0+IGl0ZW0uaWQgPT09IHRoaXMuc3RhbmRhcmRJZHNbMF0uaWQNCiAgICAgICAgICApOw0KICAgICAgICAgIGlmIChjaG9vc2VJbmRleCAhPT0gLTEpIHsNCiAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmNhc2NhZGVyT3B0aW9uc1tjaG9vc2VJbmRleF0sICdzaG93VHJlZScsIHRydWUpOw0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDpgInkuK3moJENCiAgICAgKiBAcGFyYW1zIHt0cmVlSW5kZXh9IOmAieaLqeeahOesrOWHoOajteagkSB7aXRlbX0g5pWw5o2uDQogICAgICovDQogICAgY2hvb3NlSXRlbSh0cmVlSW5kZXgsIGl0ZW0pIHsNCiAgICAgIGlmICh0cmVlSW5kZXggPT09IDApIHsNCiAgICAgICAgbGV0IGl0ZW1TaG93ID0gSlNPTi5wYXJzZSgNCiAgICAgICAgICBKU09OLnN0cmluZ2lmeShpdGVtWydzaG93VHJlZSddID8gaXRlbVsnc2hvd1RyZWUnXSA6IGZhbHNlKQ0KICAgICAgICApOw0KICAgICAgICAvLyDlhYjlsIblhajpg6jph43nva7kuLrpmpDol4/vvIznhLblkI7ngrnlh7vnmoTmmL7npLoNCiAgICAgICAgdGhpcy5jYXNjYWRlck9wdGlvbnMuZm9yRWFjaChmaXJzdEl0ZW0gPT4gew0KICAgICAgICAgIHRoaXMuJHNldChmaXJzdEl0ZW0sICdzaG93VHJlZScsIGZhbHNlKTsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuJHNldChpdGVtLCAnc2hvd1RyZWUnLCAhaXRlbVNob3cpOw0KICAgICAgfQ0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLnN0YW5kYXJkSWRzW3RyZWVJbmRleF0gJiYNCiAgICAgICAgdGhpcy5zdGFuZGFyZElkc1t0cmVlSW5kZXhdLmlkID09PSBpdGVtLmlkDQogICAgICApDQogICAgICAgIHJldHVybjsNCiAgICAgIHRoaXMuc3RhbmRhcmRJZHNbdHJlZUluZGV4XSA9IGl0ZW07DQogICAgICB0aGlzLiRzZXQodGhpcy5zdGFuZGFyZElkcywgdHJlZUluZGV4LCBpdGVtKTsNCiAgICAgIHRoaXMuc3RhbmRhcmRJZHMuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgLy8g5riF56m65LmL5ZCO6YCJ6aG5DQogICAgICAgIGlmICh0cmVlSW5kZXggPCBpbmRleCkgew0KICAgICAgICAgIHRoaXMuc3RhbmRhcmRJZHNbaW5kZXhdID0gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["addOption.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addOption.vue","sourceRoot":"src/pages/teaching-points-h5/views/teacher-points","sourcesContent":["<template>\r\n  <div class=\"optionDetail\">\r\n    <div class=\"SourceType\" v-if=\"type === 'SourceType'\">\r\n      <div\r\n        class=\"sourcecontetn\"\r\n        v-if=\"Array.isArray(sourceList) && sourceList.length > 0\"\r\n      >\r\n        <div\r\n          v-for=\"(item, index) in sourceList\"\r\n          :key=\"index\"\r\n          @click=\"checkSource = index\"\r\n          :class=\"checkSource === index ? 'checked' : ''\"\r\n        >\r\n          <span class=\"label\">{{ item.dictionaryText }}</span>\r\n          <span v-if=\"checkSource === index\" class=\"checkIcon\">\r\n            <img src=\"../../assets/images/icon/icon-chosed.png\" alt=\"\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div class=\"notDate\" v-else>暂无数据</div>\r\n    </div>\r\n    <div class=\"standardIds\" v-if=\"type === 'standardIds'\">\r\n      <div class=\"left\">\r\n        <div class=\"firstMenu\" v-for=\"first in cascaderOptions\" :key=\"first.id\">\r\n          <div\r\n            class=\"menuItem\"\r\n            @click=\"chooseItem(0, first)\"\r\n            :class=\"\r\n              standardIds[0] && standardIds[0].id === first.id\r\n                ? 'chooseItem'\r\n                : ''\r\n            \"\r\n            :style=\"{\r\n              'padding-left':\r\n                first &&\r\n                first.list &&\r\n                Array.isArray(first.list) &&\r\n                first.list.length > 0\r\n                  ? '0.28rem'\r\n                  : '0.58rem'\r\n            }\"\r\n          >\r\n            <van-icon\r\n              name=\"arrow\"\r\n              class=\"firstMenuIcon\"\r\n              v-if=\"\r\n                first &&\r\n                  first.list &&\r\n                  Array.isArray(first.list) &&\r\n                  first.list.length > 0\r\n              \"\r\n              :style=\"{\r\n                transform: first.showTree ? 'rotate(90deg)' : ''\r\n              }\"\r\n            />\r\n            <span>{{ first.standardName }}</span>\r\n          </div>\r\n          <div\r\n            class=\"secondMenu\"\r\n            v-if=\"\r\n              standardIds[0] &&\r\n                standardIds[0].list &&\r\n                standardIds[0].list.length > 0 &&\r\n                standardIds[0].id === first.id\r\n            \"\r\n            v-show=\"first.showTree\"\r\n          >\r\n            <div\r\n              class=\"menuItem\"\r\n              v-for=\"second in standardIds[0].list\"\r\n              :key=\"second.id\"\r\n              @click=\"chooseItem(1, second)\"\r\n              :class=\"\r\n                standardIds[1] && standardIds[1].id === second.id\r\n                  ? 'chooseItem'\r\n                  : ''\r\n              \"\r\n            >\r\n              <span>{{ second.standardName }}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\">\r\n        <div\r\n          class=\"thirdMenu\"\r\n          v-if=\"\r\n            standardIds[1] &&\r\n              standardIds[1].list &&\r\n              standardIds[1].list.length > 0\r\n          \"\r\n        >\r\n          <div\r\n            class=\"menuItem\"\r\n            v-for=\"third in standardIds[1].list\"\r\n            :key=\"third.id\"\r\n            @click=\"chooseItem(2, third)\"\r\n            :class=\"\r\n              standardIds[2] && standardIds[2].id === third.id\r\n                ? 'chooseItem'\r\n                : ''\r\n            \"\r\n          >\r\n            <span class=\"label\">{{ third.standardName }}</span>\r\n            <span\r\n              v-if=\"standardIds[2] && standardIds[2].id === third.id\"\r\n              class=\"checkIcon\"\r\n            >\r\n              <img src=\"../../assets/images/icon/icon-chosed.png\" alt=\"\" />\r\n            </span>\r\n          </div>\r\n        </div>\r\n        <div class=\"notDate\" v-else>暂无数据</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"teachingResearchId\" v-if=\"type === 'teachingResearchId'\">\r\n      <div\r\n        v-if=\"\r\n          Array.isArray(teachingResearchIdList) &&\r\n            teachingResearchIdList.length > 0\r\n        \"\r\n      >\r\n        <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n          <van-list\r\n            v-model=\"loading\"\r\n            :finished=\"finished\"\r\n            :offset=\"20\"\r\n            :error.sync=\"error\"\r\n            error-text=\"请求失败，点击重新加载\"\r\n            :finished-text=\"finishedText\"\r\n            @load=\"onLoad\"\r\n          >\r\n            <div>\r\n              <div class=\"taberHeader\">\r\n                <div class=\"checkItem\"></div>\r\n                <div class=\"topicThesisName\">课题名称</div>\r\n                <div class=\"name\">负责人</div>\r\n                <div class=\"statusName\">状态</div>\r\n              </div>\r\n              <div class=\"tableTbody\">\r\n                <van-radio-group v-model=\"chooseTeachingResearchId\">\r\n                  <div\r\n                    v-for=\"(table, tableIndex) in teachingResearchIdList\"\r\n                    :key=\"tableIndex\"\r\n                    class=\"tableItem\"\r\n                  >\r\n                    <div class=\"checkItem\">\r\n                      <van-radio :name=\"table.id\" shape=\"square\"></van-radio>\r\n                    </div>\r\n                    <div class=\"topicThesisName\">\r\n                      <p>{{ table.topicThesisName }}</p>\r\n                    </div>\r\n                    <div class=\"name\">{{ table.leaderAuthorName }}</div>\r\n                    <div class=\"statusName\">\r\n                      <div v-if=\"table.statusName\">\r\n                        <span\r\n                          class=\"teaching-green teachingPoint\"\r\n                          v-if=\"table.status === 'TOPIC_PUBLIC'\"\r\n                        ></span>\r\n                        <span\r\n                          class=\"teaching-blue teachingPoint\"\r\n                          v-if=\"table.status === 'TOPIC_END_DELAY'\"\r\n                        ></span>\r\n                        <span\r\n                          class=\"teaching-red teachingPoint\"\r\n                          v-if=\"table.status === 'TOPIC_END'\"\r\n                        ></span>\r\n                        {{ table.statusName }}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </van-radio-group>\r\n              </div>\r\n            </div>\r\n          </van-list>\r\n        </van-pull-refresh>\r\n      </div>\r\n\r\n      <div class=\"notDate\" v-else>暂无数据</div>\r\n    </div>\r\n    <div class=\"submitBtn\" @click=\"submitSource\">确定</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Toast,\r\n  Radio,\r\n  RadioGroup,\r\n  TreeSelect,\r\n  Search,\r\n  List,\r\n  PullRefresh\r\n} from 'vant';\r\nimport {\r\n  getMyTeachRelation,\r\n  getSelectByStandName,\r\n  selectDictionaryWithChildren\r\n} from '@/pages/teaching-points-h5/api/teaching-activity/teaching-points';\r\nexport default {\r\n  name: 'addOption',\r\n  components: {\r\n    [Radio.name]: Radio,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [TreeSelect.name]: TreeSelect,\r\n    [Search.name]: Search,\r\n    [List.name]: List,\r\n    [PullRefresh.name]: PullRefresh\r\n  },\r\n  computed: {\r\n    finishedText() {\r\n      if (this.pageInfo.total === 0) {\r\n        return '暂无数据';\r\n      } else {\r\n        return '没有更多了';\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      type: '',\r\n      checkSource: -1,\r\n      sourceList: [],\r\n      teachingResearchIdChoose: '',\r\n      teachingResearchIdList: [],\r\n      chooseTeachingResearchId: '',\r\n      cascaderOptions: [],\r\n      standardIds: [],\r\n      formData: {},\r\n      pageInfo: {\r\n        //填报信息总页数\r\n        total: 0\r\n      },\r\n      issueName: '',\r\n      pagingParams: {\r\n        //填报分页参数\r\n        limit: 10,\r\n        offset: 0\r\n      },\r\n      loading: false,\r\n      finished: false,\r\n      refreshing: false,\r\n      error: false\r\n    };\r\n  },\r\n  mounted() {\r\n    this.type = this.$route.query.type;\r\n    if (this.type === 'SourceType') {\r\n      this.$dd.biz.navigation.setTitle({\r\n        title: '来源类型'\r\n      });\r\n      // this.$route.meta.title = '来源类型';\r\n      // this.$router\r\n      //   .replace({\r\n      //     path: '/teacher-points/addOption',\r\n      //     query: {\r\n      //       temp: Date.now(),\r\n      //       type: this.$route.query.type,\r\n      //       teachId: this.$route.query.teachId,\r\n      //       pathType: this.$route.query.pathType,\r\n      //       pathId: this.$route.query.pathId\r\n      //     }\r\n      //   })\r\n      //   .catch(() => {});\r\n    } else if (this.type === 'standardIds') {\r\n      this.$dd.biz.navigation.setTitle({\r\n        title: '标准奖项名称'\r\n      });\r\n    } else {\r\n      this.$dd.biz.navigation.setTitle({\r\n        title: '教学研究'\r\n      });\r\n    }\r\n    this.initData();\r\n  },\r\n  methods: {\r\n    initData() {\r\n      let _self = this;\r\n      _self.$dd.biz.navigation.setRight({\r\n        show: false //控制按钮显示， true 显示， false 隐藏， 默认true\r\n      });\r\n      this.formData = JSON.parse(sessionStorage.getItem('formData'));\r\n      if (this.type === 'SourceType') {\r\n        this.selectDictionaryWithChildren();\r\n      } else if (this.type === 'standardIds') {\r\n        this.getSelectByStandName();\r\n      } else {\r\n        this.getMyTeachRelation();\r\n      }\r\n    },\r\n    submitSource() {\r\n      if (this.type === 'SourceType') {\r\n        if (Array.isArray(this.sourceList) && this.sourceList.length <= 0) {\r\n          this.$router.push({\r\n            path: '/teacher-points/add',\r\n            query: {\r\n              id: this.$route.query.pathId,\r\n              type: this.$route.query.pathType\r\n            }\r\n          });\r\n          return false;\r\n        }\r\n        if (this.checkSource === -1) {\r\n          Toast.fail('请先选择一项');\r\n          return false;\r\n        }\r\n        sessionStorage.setItem(\r\n          'srcType',\r\n          JSON.stringify(this.sourceList[this.checkSource])\r\n        );\r\n      } else if (this.type === 'standardIds') {\r\n        if (\r\n          Array.isArray(this.cascaderOptions) &&\r\n          this.cascaderOptions.length <= 0\r\n        ) {\r\n          this.$router.push({\r\n            path: '/teacher-points/add',\r\n            query: {\r\n              id: this.$route.query.pathId,\r\n              type: this.$route.query.pathType\r\n            }\r\n          });\r\n          return false;\r\n        }\r\n        try {\r\n          this.standardIds.forEach((item, index) => {\r\n            if (index === 0 && !item) {\r\n              throw new Error('请选择具体一项');\r\n            }\r\n            if (item && item.list && item.list.length > 0) {\r\n              console.log(this.standardIds[index + 1], item, 'has');\r\n              if (!this.standardIds[index + 1]) {\r\n                throw new Error('请选择具体一项');\r\n              }\r\n            }\r\n          });\r\n        } catch (e) {\r\n          Toast.fail(e.message);\r\n          return false;\r\n        }\r\n        let standardIds = {\r\n          ids: [],\r\n          name: ''\r\n        };\r\n        this.standardIds.forEach(item => {\r\n          standardIds.ids.push(item.id);\r\n          standardIds.name += `${item.standardName} / `;\r\n        });\r\n        // 去掉最后一个 \"/\" ,因为有空格所以-2\r\n        standardIds.name = standardIds.name.substr(\r\n          0,\r\n          standardIds.name.length - 2\r\n        );\r\n        sessionStorage.setItem('standardIds', JSON.stringify(standardIds));\r\n      } else {\r\n        if (\r\n          Array.isArray(this.teachingResearchIdList) &&\r\n          this.teachingResearchIdList.length <= 0\r\n        ) {\r\n          this.$router.push({\r\n            path: '/teacher-points/add',\r\n            query: {\r\n              id: this.$route.query.pathId,\r\n              type: this.$route.query.pathType\r\n            }\r\n          });\r\n          return false;\r\n        }\r\n        if (!this.chooseTeachingResearchId) {\r\n          Toast.fail('请先选择一项');\r\n          return false;\r\n        }\r\n        let chooseTeachingResearchId = this.teachingResearchIdList.filter(\r\n          item => item.id === this.chooseTeachingResearchId\r\n        )[0];\r\n        sessionStorage.setItem(\r\n          'teachingResearchId',\r\n          JSON.stringify(chooseTeachingResearchId)\r\n        );\r\n      }\r\n      this.$router.push({\r\n        path: '/teacher-points/add',\r\n        query: {\r\n          id: this.$route.query.pathId,\r\n          type: this.$route.query.pathType\r\n        }\r\n      });\r\n    },\r\n    // 获取来源类型 16代表来源类型字典\r\n    selectDictionaryWithChildren() {\r\n      selectDictionaryWithChildren('16').then(res => {\r\n        this.sourceList = res.data;\r\n        if (this.formData.srcType) {\r\n          const index = this.sourceList.findIndex(\r\n            v => v.dictionaryId === this.formData.srcType\r\n          );\r\n          this.checkSource = index;\r\n        }\r\n      });\r\n    },\r\n    onRefresh() {\r\n      this.teachingResearchIdList = [];\r\n      this.finished = false;\r\n      this.loading = true;\r\n      this.pageInfo.total = 0;\r\n      this.pagingParams.offset = 0;\r\n      this.onLoad();\r\n    },\r\n    onLoad() {\r\n      if (this.refreshing) {\r\n        this.teachingResearchIdList = [];\r\n        this.refreshing = false;\r\n      }\r\n      this.loading = true;\r\n      this.getMyTeachRelation();\r\n    },\r\n    // 获取研究课题数据\r\n    getMyTeachRelation() {\r\n      if (this.pagingParams.offset > this.pageInfo.total) return;\r\n      getMyTeachRelation({ ...this.pagingParams }).then(res => {\r\n        if (res.status === 200) {\r\n          // this.teachingResearchIdList = res.data.records;\r\n          let data = res.data.records || [];\r\n          this.teachingResearchIdList = this.teachingResearchIdList.concat(\r\n            data\r\n          );\r\n          this.pageInfo.total = res.data.total;\r\n          if (this.pageInfo.total <= res.data.current * res.data.size) {\r\n            this.finished = true;\r\n          } else {\r\n            this.pagingParams.offset =\r\n              (Math.floor(this.pagingParams.offset / this.pagingParams.limit) +\r\n                1) *\r\n              this.pagingParams.limit;\r\n          }\r\n          this.loading = false;\r\n          if (this.formData.teachingResearchId) {\r\n            this.chooseTeachingResearchId = this.formData.teachingResearchId;\r\n          }\r\n        } else {\r\n          this.options = [];\r\n        }\r\n      });\r\n    },\r\n    // 获取标准奖项名称\r\n    getSelectByStandName() {\r\n      // 获取标准奖项名称\r\n      getSelectByStandName().then(res => {\r\n        this.cascaderOptions = res.data;\r\n        // 添加其他选项\r\n        this.cascaderOptions.push({\r\n          id: -1,\r\n          standardName: '其他',\r\n          list: [\r\n            {\r\n              id: -11,\r\n              standardName: '其他',\r\n              list: [\r\n                {\r\n                  id: -111,\r\n                  standardName: '其他'\r\n                }\r\n              ]\r\n            }\r\n          ]\r\n        });\r\n        if (this.formData.standardIds) {\r\n          if (\r\n            this.formData.standardIds &&\r\n            this.formData.standardIds === '-111'\r\n          ) {\r\n            this.formData.standardIds = [-1, -11, -111];\r\n          } else if (\r\n            this.formData.standardIds &&\r\n            this.formData.standardIds !== '-111'\r\n          ) {\r\n            if (this.formData.standardIds instanceof Array) {\r\n            } else {\r\n              this.formData.standardIds = this.formData.standardIds\r\n                .split(',')\r\n                .map(Number); // 将字符串转数组并转为数字\r\n            }\r\n          }\r\n          this.standardIds = [];\r\n          this.formData.standardIds.forEach((item, index) => {\r\n            this.standardIds[index] = this.cascaderOptions.filter(\r\n              filters => filters.id === item\r\n            )[0];\r\n            if (index > 0) {\r\n              console.log(this.standardIds[index - 1]);\r\n              this.standardIds[index] = this.standardIds[index - 1].list.filter(\r\n                filters => filters.id === item\r\n              )[0];\r\n            }\r\n          });\r\n          // this.$set(this.stand)\r\n          console.log(\r\n            this.cascaderOptions,\r\n            this.standardIds,\r\n            'this.cascaderOptions'\r\n          );\r\n          let chooseIndex = this.cascaderOptions.findIndex(\r\n            item => item.id === this.standardIds[0].id\r\n          );\r\n          if (chooseIndex !== -1) {\r\n            this.$set(this.cascaderOptions[chooseIndex], 'showTree', true);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 选中树\r\n     * @params {treeIndex} 选择的第几棵树 {item} 数据\r\n     */\r\n    chooseItem(treeIndex, item) {\r\n      if (treeIndex === 0) {\r\n        let itemShow = JSON.parse(\r\n          JSON.stringify(item['showTree'] ? item['showTree'] : false)\r\n        );\r\n        // 先将全部重置为隐藏，然后点击的显示\r\n        this.cascaderOptions.forEach(firstItem => {\r\n          this.$set(firstItem, 'showTree', false);\r\n        });\r\n        this.$set(item, 'showTree', !itemShow);\r\n      }\r\n      if (\r\n        this.standardIds[treeIndex] &&\r\n        this.standardIds[treeIndex].id === item.id\r\n      )\r\n        return;\r\n      this.standardIds[treeIndex] = item;\r\n      this.$set(this.standardIds, treeIndex, item);\r\n      this.standardIds.forEach((item, index) => {\r\n        // 清空之后选项\r\n        if (treeIndex < index) {\r\n          this.standardIds[index] = null;\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.optionDetail {\r\n  .submitBtn {\r\n    width: 343px;\r\n    height: 0.96rem;\r\n    background: linear-gradient(180deg, #40adf6 0%, #528bee 100%);\r\n    border-radius: 4px;\r\n    margin: 0.32rem auto 0;\r\n    color: #ffffff;\r\n    line-height: 0.44rem;\r\n    font-size: 0.28rem;\r\n    font-weight: 400;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n  }\r\n  // 来源类型\r\n  .SourceType {\r\n    .sourcecontetn {\r\n      background: #fff;\r\n      > div {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.22rem 0.32rem;\r\n        font-size: 0.28rem;\r\n        color: rgba(0, 0, 0, 0.85);\r\n        .label {\r\n          flex: 1;\r\n          text-align: left;\r\n        }\r\n        .checkIcon {\r\n          width: 0.32rem;\r\n          height: 0.32rem;\r\n          > img {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n      > div.checked {\r\n        color: #489ef3;\r\n      }\r\n    }\r\n  }\r\n  // 教学研究样式\r\n  .teachingResearchId {\r\n    .taberHeader {\r\n      padding: 0 0.32rem;\r\n      display: flex;\r\n      height: 0.8rem;\r\n      > div {\r\n        font-weight: 400;\r\n        color: rgba(0, 0, 0, 0.65);\r\n        line-height: 0.44rem;\r\n        font-size: 0.32rem;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n      }\r\n      .topicThesisName {\r\n        width: 2.8rem;\r\n        padding: 0 0.3rem;\r\n        align-items: center;\r\n      }\r\n      .statusName,\r\n      .name {\r\n        flex: 1;\r\n      }\r\n      .checkItem {\r\n        width: 0.8rem;\r\n      }\r\n    }\r\n    .tableTbody {\r\n      background: #fff;\r\n      padding: 0 0.32rem;\r\n      .tableItem {\r\n        display: flex;\r\n        height: 0.8rem;\r\n        > div {\r\n          font-weight: 400;\r\n          color: rgba(0, 0, 0, 0.85);\r\n          line-height: 0.4rem;\r\n          font-size: 0.28rem;\r\n          border-bottom: 1px solid rgba(25, 31, 37, 0.08);\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          border-right: 1px solid rgba(25, 31, 37, 0.08);\r\n          .teachingPoint {\r\n            width: 6px;\r\n            height: 6px;\r\n            border-radius: 50%;\r\n            margin: 0 0.12rem;\r\n          }\r\n          .teaching-green {\r\n            background: #52c41a;\r\n          }\r\n          .teaching-red {\r\n            background: #f25643;\r\n          }\r\n          .teaching-blue {\r\n            background: #489ef3;\r\n          }\r\n        }\r\n        > div:last-child {\r\n          border-right: none;\r\n        }\r\n        .topicThesisName {\r\n          width: 2.8rem;\r\n          padding: 0 0.3rem;\r\n          display: flex;\r\n          align-items: center;\r\n          overflow: hidden;\r\n          > p {\r\n            width: 100%;\r\n            display: -webkit-box;\r\n            -webkit-line-clamp: 2;\r\n            overflow: hidden;\r\n            text-overflow: ellipsis;\r\n            -webkit-box-orient: vertical;\r\n            text-align: center;\r\n            vertical-align: middle;\r\n            word-wrap: break-word;\r\n          }\r\n        }\r\n        .statusName {\r\n          > div {\r\n            width: 100%;\r\n            height: 100%;\r\n            flex: 1;\r\n            font-weight: 400;\r\n            color: rgba(0, 0, 0, 0.85);\r\n            line-height: 0.4rem;\r\n            font-size: 0.28rem;\r\n            display: flex;\r\n            align-items: center;\r\n            justify-content: center;\r\n          }\r\n        }\r\n        .statusName,\r\n        .name {\r\n          flex: 1;\r\n        }\r\n        .checkItem {\r\n          width: 0.8rem;\r\n        }\r\n        .checkItem {\r\n          width: 0.8rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // 奖项标准名称样式\r\n  .standardIds {\r\n    display: flex;\r\n    .left {\r\n      width: 2.6rem;\r\n      background: #eeeeee;\r\n      .firstMenu {\r\n        .menuItem {\r\n          font-size: 0.28rem;\r\n          height: 0.8rem;\r\n          padding: 0.18rem 0.3rem;\r\n          display: flex;\r\n          align-items: center;\r\n          font-weight: 400;\r\n          color: rgba(0, 0, 0, 0.85);\r\n          line-height: 0.44rem;\r\n        }\r\n        .chooseItem {\r\n          color: #489ef3;\r\n          .firstMenuIcon {\r\n            color: #489ef3;\r\n          }\r\n        }\r\n        .secondMenu {\r\n          .menuItem {\r\n            padding-left: 0.58rem;\r\n            font-weight: 400;\r\n            color: rgba(0, 0, 0, 0.45);\r\n            line-height: 0.44rem;\r\n          }\r\n          .chooseItem {\r\n            color: #489ef3;\r\n            background: #fff;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      background: #fff;\r\n      flex: 1;\r\n      min-height: 100%;\r\n      .thirdMenu {\r\n        .menuItem {\r\n          padding: 0.2rem 0.4rem;\r\n          font-size: 0.28rem;\r\n          font-weight: 400;\r\n          color: rgba(0, 0, 0, 0.85);\r\n          line-height: 0.4rem;\r\n          display: flex;\r\n          align-items: center;\r\n          .label {\r\n            text-align: left;\r\n            flex: 1;\r\n          }\r\n          .checkIcon {\r\n            width: 0.32rem;\r\n            height: 0.32rem;\r\n            margin-left: 0.4rem;\r\n            > img {\r\n              width: 100%;\r\n              height: 100%;\r\n            }\r\n          }\r\n        }\r\n        .chooseItem {\r\n          color: #489ef3;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.notDate {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: 400;\r\n  color: rgba(0, 0, 0, 0.45);\r\n  line-height: 22px;\r\n  font-size: 0.32rem;\r\n  min-height: 5rem;\r\n}\r\n</style>\r\n"]}]}