{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/views/test-login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5-pre/views/test-login.vue","mtime":1645176309875},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd0ZXN0LWxvZ2luJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc3RhZmZDb2RlOiAnJw0KICAgIH07DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBnb1RvKCkgew0KICAgICAgaWYgKHRoaXMuc3RhZmZDb2RlID09PSAnJykgcmV0dXJuIHRoaXMuJHRvYXN0KCfor7fmsYLovpPlhaXlt6Xlj7cnKTsNCiAgICAgIC8vIOaYvuekuueZu+W9leS4rQ0KICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJHRvYXN0LmxvYWRpbmcoew0KICAgICAgICBtZXNzYWdlOiAn55m75b2V5LitLi4uJywNCiAgICAgICAgZm9yYmlkQ2xpY2s6IHRydWUsDQogICAgICAgIGxvYWRpbmdUeXBlOiAnc3Bpbm5lcicNCiAgICAgIH0pOw0KICAgICAgdGhpcy4kc3RvcmUNCiAgICAgICAgLmRpc3BhdGNoKCd0ZXN0TG9naW4nLCB0aGlzLnN0YWZmQ29kZSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIHRoaXMuJHRvYXN0LnN1Y2Nlc3MoJ+eZu+W9leaIkOWKnycpOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCcvJyk7DQogICAgICAgIH0pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICBsb2FkaW5nLmNsZWFyKCk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog6YCA5Ye65b2T5YmN55m75b2VDQogICAgICovDQogICAgbG9nb3V0KCkgew0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiR0b2FzdCgn5oiQ5Yqf5riF6Zmk5b2T5YmN55m75b2V54q25oCBJyk7DQogICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["test-login.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"test-login.vue","sourceRoot":"src/pages/teaching-points-h5-pre/views","sourcesContent":["<template>\r\n  <div>\r\n    <input v-model=\"staffCode\" type=\"text\" placeholder=\"工号\" />\r\n    <button type=\"button\" @click=\"goTo\">登录</button>\r\n    <p>\r\n      <button v-if=\"$store.state.token\" type=\"button\" @click=\"logout\">\r\n        清除当前登录状态\r\n      </button>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'test-login',\r\n  data() {\r\n    return {\r\n      staffCode: ''\r\n    };\r\n  },\r\n  methods: {\r\n    goTo() {\r\n      if (this.staffCode === '') return this.$toast('请求输入工号');\r\n      // 显示登录中\r\n      const loading = this.$toast.loading({\r\n        message: '登录中...',\r\n        forbidClick: true,\r\n        loadingType: 'spinner'\r\n      });\r\n      this.$store\r\n        .dispatch('testLogin', this.staffCode)\r\n        .then(() => {\r\n          this.$toast.success('登录成功');\r\n          this.$router.replace('/');\r\n        })\r\n        .finally(() => {\r\n          loading.clear();\r\n        });\r\n    },\r\n    /**\r\n     * 退出当前登录\r\n     */\r\n    logout() {\r\n      this.$store.dispatch('logout').then(() => {\r\n        this.$toast('成功清除当前登录状态');\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}