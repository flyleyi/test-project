{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/homework-admin/views/homework/Components/UploadSuccessDetail.vue?vue&type=style&index=1&id=d9b90502&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/homework-admin/views/homework/Components/UploadSuccessDetail.vue","mtime":1646020548002},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY2xhc3NUaXRsZVN0eWxlIHsKICBtYXJnaW4tdG9wOiAxMnB4OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICBoZWlnaHQ6IDUxcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7Cn0KLmJhblN0eWxlIHsKICBtYXJnaW4tbGVmdDogMjRweDsKICBmb250LXNpemU6IDE0OwogIGNvbG9yOiAjOTA5MDkwOwogIGhlaWdodDogMTRweDsKICBtYXJnaW4tdG9wOiAxN3B4Owp9Ci5qaVN0eWxlIHsKICBtYXJnaW4tbGVmdDogMzRweDsKICBmb250LXNpemU6IDE0OwogIGNvbG9yOiAjOTA5MDkwOwogIGhlaWdodDogMTRweDsKICBtYXJnaW4tdG9wOiAxN3B4Owp9CgouY2xhc3NOYW1lU3R5bGUgewogIGJhY2tncm91bmQtY29sb3I6IHJlZDsKfQouY2xhc3NJdGVtU3R5bGUgewogIG1hcmdpbi1sZWZ0OiA0MHB4OwogIGZvbnQtc2l6ZTogMTRweDsKICBjb2xvcjogIzQ4NDg0ODsKICBoZWlnaHQ6IDE0cHg7CiAgbWFyZ2luLXRvcDogMTdweDsKICBmb250LWZhbWlseTogJ1BpbmdGYW5nU0MtUmVndWxhcic7Cn0KLmVsdGFic1N0eWxlIHsKICBtYXJnaW4tbGVmdDogNnB4Owp9Ci5lbC10YWJzX19oZWFkZXIgewogIHBhZGRpbmc6IDA7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG1hcmdpbjogMHB4ICFpbXBvcnRhbnQ7Cn0KL2RlZXAvLmVsLXRhYnNfX2l0ZW06aG92ZXIgewogIGNvbG9yOiAjMzE5NWRmOwogIGN1cnNvcjogcG9pbnRlcjsKfQovZGVlcC8uZWwtdGFic19faXRlbS5pcy1hY3RpdmUgewogIGNvbG9yOiAjMzE5NWRmOwp9Ci9kZWVwLy5lbC10YWJzX19pdGVtIHsKICAvLyAgIHBhZGRpbmc6IDAgNDBweDsKICAvLyAgIHBhZGRpbmctcmlnaHQ6IDQwcHg7CiAgaGVpZ2h0OiA1MXB4OwogIC8vICAgaGVpZ2h0OiAxNHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgbGluZS1oZWlnaHQ6IDUxcHg7CiAgLy8gICBtYXJnaW4tdG9wOiAxOHB4OwogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBsaXN0LXN0eWxlOiBub25lOwogIGZvbnQtc2l6ZTogMTRweDsKICBmb250LXdlaWdodDogNTAwOwogIGNvbG9yOiAjNDg0ODQ4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQovZGVlcC8uZWwtdGFic19fYWN0aXZlLWJhciB7CiAgaGVpZ2h0OiAwcHggIWltcG9ydGFudDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7CiAgei1pbmRleDogMCAhaW1wb3J0YW50OwogIGxpc3Qtc3R5bGU6IG5vbmUgIWltcG9ydGFudDsKfQovZGVlcC8uZWwtdGFic19fbmF2LXdyYXA6OmFmdGVyIHsKICBwb3NpdGlvbjogc3RhdGljICFpbXBvcnRhbnQ7Cn0KCi5jZW50ZXJEaWNTdHlsZSB7CiAgbWFyZ2luLXRvcDogMTJweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiByb3c7Cn0KCi5zdHVkZW50TGlzdFN0eWxlIHsKICB3aWR0aDogMjYwcHg7CiAgaGVpZ2h0OiA2MjRweDsKICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsKICBib3JkZXItcmFkaXVzOiAycHg7CgogIC8vIOa7keWKqAogIG92ZXJmbG93LXg6IGhpZGRlbjsKICBvdmVyZmxvdy15OiBhdXRvOwp9CgouaG9tZXdvcmtQaWN0dXJlU3R5bGUgewogIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIG1hcmdpbi1sZWZ0OiAxMnB4OwogIHdpZHRoOiA5MjhweDsKICBoZWlnaHQ6IDcwNXB4OwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAvLyBmbGV4OiAxOwogIC8vIHBhZGRpbmctdG9wOiAyNXB4OwogIC8vIHBhZGRpbmctbGVmdDogNThweDsKICAvLyBwYWRkaW5nLXJpZ2h0OiA1OHB4Owp9Ci5hNHBpY3R1cmVTdHlsZSB7CiAgd2lkdGg6IDQwNnB4OwogIGhlaWdodDogNTc1cHg7CiAgbWFyZ2luLXRvcDogMjVweDsKfQouYTNwaWN0dXJlU3R5bGUgewogIHdpZHRoOiA4MTJweDsKICBoZWlnaHQ6IDU3NXB4OwogIG1hcmdpbi10b3A6IDI1cHg7Cn0KLnRlc3RTdHlsZSB7CiAgcGFkZGluZy1sZWZ0OiA1OHB4OwogIHBhZGRpbmctcmlnaHQ6IDU4cHg7CiAgcGFkZGluZy1ib3R0b206IDI1cHg7CiAgLy8g5ruR5YqoCiAgb3ZlcmZsb3cteDogaGlkZGVuOwogIG92ZXJmbG93LXk6IGF1dG87Cn0K"},{"version":3,"sources":["UploadSuccessDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadSuccessDetail.vue","sourceRoot":"src/pages/homework-admin/views/homework/Components","sourcesContent":["<template>\n  <div>\n    <div class=\"classTitleStyle\">\n      <span class=\"banStyle\">班</span>\n      <span class=\"jiStyle\">级：</span>\n\n      <el-tabs\n        v-model=\"editableTabsValue\"\n        @tab-click=\"classSelectMethods\"\n        class=\"eltabsStyle\"\n      >\n        <el-tab-pane\n          :key=\"item.classId\"\n          v-for=\"item in classList\"\n          :label=\"item.className\"\n          :name=\"item.className\"\n        >\n          <!-- {{ item.content }}{{ index }} -->\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n    <div class=\"centerDicStyle\">\n      <div\n        class=\"studentListStyle\"\n        v-infinite-scroll=\"loadMore\"\n        infinite-scroll-disabled=\"disabled\"\n      >\n        <upload-student-list\n          v-for=\"(item, index) in dataList\"\n          :key=\"item.studentId\"\n          :selectedID=\"index == studentSelectedIndex ? true : false\"\n          @click.native=\"studentSelectMethods(index)\"\n          :studentName=\"item.studentName\"\n          :detailList=\"item.detail\"\n          :studentNo=\"item.studentNo\"\n          :paperCount=\"item.paperCount\"\n        ></upload-student-list>\n        <!-- <p v-if=\"loading\">加载中...</p>\n        <p v-if=\"noMore\">没有更多了</p> -->\n      </div>\n      <div class=\"homeworkPictureStyle\">\n        <div class=\"testStyle\">\n          <img\n            v-for=\"item in showPicList\"\n            :src=\"item.resUrl\"\n            :key=\"item.id\"\n            :class=\"\n              item.paperType == 'A3' ? 'a3pictureStyle' : 'a4pictureStyle'\n            \"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Tabs, TabPane } from 'element-ui';\nimport uploadStudentList from './uploadStudentList';\nimport a3pic from './a3.png';\nimport a4pic from './a4.png';\nimport { uploadSuccessList } from '../../../api/upload/index';\nimport Cookie from 'js-cookie';\nimport Vue from 'vue';\nimport { InfiniteScroll } from 'element-ui';\nVue.use(InfiniteScroll);\n\nexport default {\n  name: 'DynamicFormPage',\n  components: {\n    ElTabPane: TabPane,\n    ElTabs: Tabs,\n    uploadStudentList\n  },\n  props: {\n    classList: {\n      type: Array,\n      default: () => []\n    },\n    id: {\n      type: Number,\n      default: 0\n    },\n    tabSelectIndex: {\n      type: Number,\n      default: 0\n    },\n    homeworkId: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      a3pic,\n      a4pic,\n      imgUrl: '',\n      studentSelectedIndex: 0,\n      studentListArray: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n      editableTabsValue: '',\n      tabIndex: 0,\n      dataList: [],\n      showPicList: [],\n      pageNum: 0,\n      pageSize: 20,\n      pageCount: 0,\n      total: 0,\n      loading: false,\n      count: 0\n    };\n\n    // editableTabs: [\n    //   {\n    //     title: '701',\n    //     name: '7011',\n    //     content: 'Tab 1 content'\n    //   },\n    //   {\n    //     title: '702',\n    //     name: '7022',\n    //     content: 'Tab 2 content'\n    //   },\n    //   {\n    //     title: '703',\n    //     name: '7013',\n    //     content: 'Tab 3 content'\n    //   }\n    // ],\n  },\n  computed: {\n    noMore() {\n      return this.count >= this.total;\n    },\n    disabled() {\n      return this.loading || this.noMore;\n    }\n  },\n  mounted() {\n    // console.log('this.classList = ', this.classList);\n    this.editableTabsValue =\n      this.classList.length > 0\n        ? this.classList[this.tabSelectIndex].className\n        : '';\n    console.log('editableTabsValue == ', this.editableTabsValue);\n\n    console.log('内部请求上传成功列表');\n    this.getSuccessList(false);\n    // uploadSuccessList({\n    //   classId: ,\n    //   homeworkId: this.query.homeworkId,\n    //   pageNum: 1,\n    //   pageSize: 20,\n    //   schoolId: Cookie.get('schoolId'),\n    //   tenantId: Cookie.get('tenantId')\n    // }).then(res => {\n    //   console.log('res成功===', res);\n    // });\n  },\n  methods: {\n    loadMore() {\n      console.log('loadMore');\n      this.pageNum++;\n      this.loading = true;\n      this.getSuccessList(false, true);\n    },\n\n    getSuccessList(type, flag) {\n      console.log('请求网络参数', this.tabSelectIndex);\n\n      let index = this.tabSelectIndex;\n      //type是否点击班级切换\n      if (type == true) {\n        index = this.tabIndex;\n        console.log('tabIndex', this.tabIndex);\n      }\n\n      uploadSuccessList({\n        classId: this.classList[index].classId,\n        homeworkId: this.homeworkId,\n        pageNum: this.pageNum,\n        pageSize: this.pageSize,\n        schoolId: Cookie.get('schoolId'),\n        tenantId: Cookie.get('tenantId')\n      }).then(res => {\n        console.log('res上传成功列表===', res);\n        if (res.success) {\n          if (flag) {\n            //上拉加载\n            this.dataList = this.dataList.concat(res.data.list);\n          } else {\n            //第一次请求\n            this.dataList = res.data.list;\n          }\n\n          if (this.dataList.length > 0) {\n            this.showPicList = this.dataList[this.studentSelectedIndex].detail;\n            console.log('showPicList===', this.showPicList);\n          }\n\n          this.pageNum = res.data.page;\n          this.pageSize = res.data.pageSize;\n          this.pageCount = res.data.pageCount;\n          this.total = res.data.total;\n          this.count = this.count + this.pageCount;\n          this.loading = false;\n        } else {\n          if (flag) {\n            //从前面的page++回退，保证下一次请求时数据正确\n            this.page--;\n          }\n        }\n      });\n    },\n\n    classSelectMethods(item) {\n      console.log('点击选择了', parseInt(item.index));\n      this.$emit('classSelect', parseInt(item.index));\n      this.tabIndex = parseInt(item.index);\n      this.studentSelectedIndex = 0; //初始化默认选中第一个学生\n      this.getSuccessList(true);\n    },\n    //点击学生切换\n    studentSelectMethods(index) {\n      this.studentSelectedIndex = index;\n      this.showPicList = this.dataList[index].detail;\n    }\n  }\n};\n</script>\n\n<style></style>\n\n<style lang=\"less\" scoped>\n.classTitleStyle {\n  margin-top: 12px;\n  display: flex;\n  flex-direction: row;\n  height: 51px;\n  background-color: white;\n}\n.banStyle {\n  margin-left: 24px;\n  font-size: 14;\n  color: #909090;\n  height: 14px;\n  margin-top: 17px;\n}\n.jiStyle {\n  margin-left: 34px;\n  font-size: 14;\n  color: #909090;\n  height: 14px;\n  margin-top: 17px;\n}\n\n.classNameStyle {\n  background-color: red;\n}\n.classItemStyle {\n  margin-left: 40px;\n  font-size: 14px;\n  color: #484848;\n  height: 14px;\n  margin-top: 17px;\n  font-family: 'PingFangSC-Regular';\n}\n.eltabsStyle {\n  margin-left: 6px;\n}\n.el-tabs__header {\n  padding: 0;\n  position: relative;\n  margin: 0px !important;\n}\n/deep/.el-tabs__item:hover {\n  color: #3195df;\n  cursor: pointer;\n}\n/deep/.el-tabs__item.is-active {\n  color: #3195df;\n}\n/deep/.el-tabs__item {\n  //   padding: 0 40px;\n  //   padding-right: 40px;\n  height: 51px;\n  //   height: 14px;\n  box-sizing: border-box;\n  line-height: 51px;\n  //   margin-top: 18px;\n  display: inline-block;\n  list-style: none;\n  font-size: 14px;\n  font-weight: 500;\n  color: #484848;\n  position: relative;\n}\n/deep/.el-tabs__active-bar {\n  height: 0px !important;\n  background-color: #ffffff !important;\n  z-index: 0 !important;\n  list-style: none !important;\n}\n/deep/.el-tabs__nav-wrap::after {\n  position: static !important;\n}\n\n.centerDicStyle {\n  margin-top: 12px;\n  display: flex;\n  flex-direction: row;\n}\n\n.studentListStyle {\n  width: 260px;\n  height: 624px;\n  background-color: white;\n  border-radius: 2px;\n\n  // 滑动\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.homeworkPictureStyle {\n  background-color: #ffffff;\n  border-radius: 2px;\n  margin-left: 12px;\n  width: 928px;\n  height: 705px;\n  display: flex;\n  flex-direction: row;\n  // flex: 1;\n  // padding-top: 25px;\n  // padding-left: 58px;\n  // padding-right: 58px;\n}\n.a4pictureStyle {\n  width: 406px;\n  height: 575px;\n  margin-top: 25px;\n}\n.a3pictureStyle {\n  width: 812px;\n  height: 575px;\n  margin-top: 25px;\n}\n.testStyle {\n  padding-left: 58px;\n  padding-right: 58px;\n  padding-bottom: 25px;\n  // 滑动\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n</style>\n"]}]}