{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-submit-done/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-submit-done/index.vue","mtime":1645178321142},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTaGFyZUd1aWRlIGZyb20gJy4uL2NvbW1vbi9TaGFyZUd1aWRlLnZ1ZSc7CmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHN1cnZleURldGFpbCB9IGZyb20gJy4uLy4uL2FwaS9zdXJ2ZXknOwppbXBvcnQgeyBVcGxvYWRlciwgSW1hZ2VQcmV2aWV3LCBTd2l0Y2ggfSBmcm9tICd2YW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdTdXJ2ZXlTdWJtaXREb25lJywKICBjb21wb25lbnRzOiB7CiAgICBbVXBsb2FkZXIubmFtZV06IFVwbG9hZGVyLAogICAgW1N3aXRjaC5uYW1lXTogU3dpdGNoLAogICAgU2hhcmVHdWlkZQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhbkVkaXQ6IDMsIC8vIOaYr+WQpuiDvee8lui+kSAw5Li654+t5Li75Lu76Kej57uR5oOF5Ya1IDPkuLrlrrbplb/ouqvku73ov5vlhaXmg4XlhrUKICAgICAgYmFzZUluZm86IHsKICAgICAgICBzdHVkZW50SWRzOiAnJywKICAgICAgICB0aXRsZTogJycsIC8vIOmXruWNt+agh+mimAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywgLy8g6Zeu5Y235o+P6L+wCiAgICAgICAgaW1nTGlzdDogW10sIC8vIOWbvueJh+mZhOS7tgogICAgICAgIGZpbGVMaXN0OiBbXSwgLy8g5paH5Lu26ZmE5Lu2CiAgICAgICAgc3RhcnRUaW1lOiAnJywgLy8g5byA5aeL5pel5pyfCiAgICAgICAgZW5kVGltZTogJycsIC8vIOaIquatouaXpeacnwogICAgICAgIGNvbGxlY3Rpb25NYXhDbnQ6IDAsIC8vIOacgOWkp+aUtumbhuaVsAogICAgICAgIHN1Ym1pdENvdW50OiAwLCAvLyDlt7LmlLbpm4bku73mlbAKICAgICAgICBzdWJtaXRMaXN0OiBbXSwgLy8g5o+Q5Lqk6K6w5b2VCiAgICAgICAgcmVtYXJrOiAnJywgLy8g5aSH5rOoCiAgICAgICAgaXNBbm9ueW1vdXNTdWJtaXQ6IDAsIC8vIOaYr+WQpuWMv+WQjQogICAgICAgIGlzRmluaXNoZWQ6IDEgLy8g6Zeu5Y235piv5ZCm5bey57uT5p2fCiAgICAgIH0sCiAgICAgIGNvbGxlY3ROdW06IDAsIC8vIOaUtumbhuS7veaVsAogICAgICBxdWVzdGlvbnM6IFtdLAogICAgICBpc1Nob3dTaGFyZTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoJ3VzZXInLCBbJ3dlY2hhdFVzZXJJZCcsICdjbGFzc0lkJywgJ3JvbGUnXSkKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmlzTWFpbiA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmlzTWFpbjsKICAgIHRoaXMuY2FuRWRpdCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmNhbkVkaXQgPyB0aGlzLiRyb3V0ZS5xdWVyeS5jYW5FZGl0IDogMzsKICAgIGlmICh0aGlzLmNhbkVkaXQgPT0gMykgewogICAgICB0aGlzLmdldFN1cnZleURldGFpbCgpOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5nZXRTdXJ2ZXlEZXRhaWxUZWFjaGVyKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bpl67ljbfor6bmg4Uo5a626ZW/6Lqr5Lu95q2j5bi46L+b5YWlKQogICAgZ2V0U3VydmV5RGV0YWlsKCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHdlY2hhdFVzZXJJZDogdGhpcy53ZWNoYXRVc2VySWQsCiAgICAgICAgcm9sZTogdGhpcy5yb2xlLAogICAgICAgIHN1cnZleUlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5zdXJ2ZXlJZCwKICAgICAgICBzdHVkZW50SWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LnN0dWRlbnRJZAogICAgICB9OwogICAgICBzdXJ2ZXlEZXRhaWwocGFyYW1zKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLnN0YXJ0VGltZSA9IHJlcy5kYXRhLnN0YXJ0VGltZTsKICAgICAgICAgIHRoaXMuYmFzZUluZm8uZW5kVGltZSA9IHJlcy5kYXRhLmVuZFRpbWU7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLnRpdGxlID0gcmVzLmRhdGEudGl0bGU7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLmRlc2NyaXB0aW9uID0gcmVzLmRhdGEuZGVzY3JpcHRpb247CiAgICAgICAgICB0aGlzLmNvbGxlY3ROdW0gPSByZXMuZGF0YS5jb2xsZWN0aW9uTWF4Q250OwogICAgICAgICAgdGhpcy5iYXNlSW5mby5jb2xsZWN0aW9uTWF4Q250ID0gcmVzLmRhdGEuY29sbGVjdGlvbk1heENudDsKICAgICAgICAgIHRoaXMuYmFzZUluZm8uc3VibWl0Q291bnQgPSByZXMuZGF0YS5zdWJtaXRDb3VudDsKICAgICAgICAgIHRoaXMuYmFzZUluZm8uc3VibWl0TGlzdCA9IHJlcy5kYXRhLnN1Ym1pdExpc3Q7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLnJlbWFyayA9IHJlcy5kYXRhLnJlbWFyazsKICAgICAgICAgIHRoaXMuYmFzZUluZm8uaXNGaW5pc2hlZCA9IHJlcy5kYXRhLmlzRmluaXNoZWQ7CiAgICAgICAgICByZXMuZGF0YS5hdHRhY2htZW50TGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICBpZiAoaXRlbS50eXBlID09ICdpbWcnKSB7CiAgICAgICAgICAgICAgdGhpcy5iYXNlSW5mby5pbWdMaXN0LnB1c2goeyB1cmw6IGl0ZW0udXJsLCBpZDogaXRlbS5pZCB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChpdGVtLnR5cGUgPT0gJ2ZpbGUnKSB7CiAgICAgICAgICAgICAgdGhpcy5iYXNlSW5mby5maWxlTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgIHVybDogaXRlbS51cmwsCiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsCiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJlcy5kYXRhLnF1ZXN0aW9uTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICBpZiAoaXRlbS50eXBlID09IDIpIHsKICAgICAgICAgICAgICBpdGVtLmNoZWNrZWROdW0gPSAwOwogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyQ29udCA9IFtdOwogICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PSAnNCcgfHwgaXRlbS50eXBlID09ICc1JykgewogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyQ29udCA9IFtdOwogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyTGlzdCA9IFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyQ29udCA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucXVlc3Rpb25zID0gcmVzLmRhdGEucXVlc3Rpb25MaXN0OwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICB0aGlzLiR0b2FzdChlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5bpl67ljbfor6bmg4Uo54+t5Li75Lu75peg5p2D6ZmQ5L+u5pS55pe26L+b5YWlKQogICAgZ2V0U3VydmV5RGV0YWlsVGVhY2hlcigpIHsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICB3ZWNoYXRVc2VySWQ6IHRoaXMud2VjaGF0VXNlcklkLAogICAgICAgIHJvbGU6IHRoaXMucm9sZSwKICAgICAgICBzdXJ2ZXlJZDogdGhpcy4kcm91dGUucXVlcnkuc3VydmV5SWQKICAgICAgfTsKICAgICAgc3VydmV5RGV0YWlsKHBhcmFtcykKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5iYXNlSW5mby5zdGFydFRpbWUgPSByZXMuZGF0YS5zdGFydFRpbWU7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLmVuZFRpbWUgPSByZXMuZGF0YS5lbmRUaW1lOwogICAgICAgICAgdGhpcy5iYXNlSW5mby50aXRsZSA9IHJlcy5kYXRhLnRpdGxlOwogICAgICAgICAgdGhpcy5iYXNlSW5mby5kZXNjcmlwdGlvbiA9IHJlcy5kYXRhLmRlc2NyaXB0aW9uOwogICAgICAgICAgdGhpcy5jb2xsZWN0TnVtID0gcmVzLmRhdGEuY29sbGVjdGlvbk1heENudDsKICAgICAgICAgIHRoaXMuYmFzZUluZm8uY29sbGVjdGlvbk1heENudCA9IHJlcy5kYXRhLmNvbGxlY3Rpb25NYXhDbnQ7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLnN1Ym1pdENvdW50ID0gcmVzLmRhdGEuc3VibWl0Q291bnQ7CiAgICAgICAgICB0aGlzLmJhc2VJbmZvLnN1Ym1pdExpc3QgPSByZXMuZGF0YS5zdWJtaXRMaXN0OwogICAgICAgICAgdGhpcy5iYXNlSW5mby5yZW1hcmsgPSByZXMuZGF0YS5yZW1hcms7CiAgICAgICAgICByZXMuZGF0YS5hdHRhY2htZW50TGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICBpZiAoaXRlbS50eXBlID09ICdpbWcnKSB7CiAgICAgICAgICAgICAgdGhpcy5iYXNlSW5mby5pbWdMaXN0LnB1c2goeyBjb250ZW50OiBpdGVtLnVybCwgaWQ6IGl0ZW0uaWQgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS50eXBlID09ICdmaWxlJykgewogICAgICAgICAgICAgIHRoaXMuYmFzZUluZm8uZmlsZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICBjb250ZW50OiBpdGVtLnVybCwKICAgICAgICAgICAgICAgIGZpbGU6IHsgbmFtZTogaXRlbS5uYW1lIH0sCiAgICAgICAgICAgICAgICBpZDogaXRlbS5pZAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHJlcy5kYXRhLnF1ZXN0aW9uTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICBpZiAoaXRlbS50eXBlID09IDIpIHsKICAgICAgICAgICAgICBpdGVtLmNoZWNrZWROdW0gPSAwOwogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyQ29udCA9IFtdOwogICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0udHlwZSA9PSAnNCcgfHwgaXRlbS50eXBlID09ICc1JykgewogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyQ29udCA9IFtdOwogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyTGlzdCA9IFtdOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGl0ZW0uYW5zd2VyQ29udCA9ICcnOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMucXVlc3Rpb25zID0gcmVzLmRhdGEucXVlc3Rpb25MaXN0OwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICB0aGlzLiR0b2FzdChlcnIubXNnKTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDlm77niYfpooTop4gKICAgIHByZXZpZXdJbWcodXJsKSB7CiAgICAgIEltYWdlUHJldmlldyhbdXJsXSk7CiAgICB9LAogICAgLy8g6aKE6KeI5paH5Lu2UERG77yMZG9jCiAgICBwcmV2aWV3RmlsZSh1cmwpIHsKICAgICAgLy8gd2luZG93Lm9wZW4odXJsKTsKICAgICAgaWYgKHR5cGVvZiB3eCA9PSAnb2JqZWN0JykgewogICAgICAgIGxldCBmaWxlVXJsID0gZW5jb2RlVVJJQ29tcG9uZW50KHVybCk7CiAgICAgICAgd2luZG93Lnd4Lm1pbmlQcm9ncmFtLm5hdmlnYXRlVG8oewogICAgICAgICAgdXJsOiBgL2g1L2ZpbGUvaW5kZXg/dXJsPSR7ZmlsZVVybH1gCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+mihOiniOWksei0pe+8jOivt+mHjeivlScpOwogICAgICB9CiAgICB9LAogICAgLy8g5qyh5a626ZW/5ZKM5bey5o+Q5Lqk54q25oCB5LiL5p+l55yL5o+Q5Lqk6YCJ6aG56K+m5oOFCiAgICBoYW5kbGVDaGVja09wdGlvbkRldGFpbCgpIHsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdzdXJ2ZXkvVVBEQVRBX1FVRVNUSU9OJywgdGhpcy5xdWVzdGlvbnMpOwogICAgICBsZXQgcmVtYXJrID0gdGhpcy5iYXNlSW5mby5yZW1hcmsgPyB0aGlzLmJhc2VJbmZvLnJlbWFyayA6ICcnOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogYC9vcHRpb24tZGV0YWlsP3JlbWFyaz0ke3JlbWFya30maXNNYWluPSR7dGhpcy5pc01haW59YAogICAgICB9KTsKICAgIH0sCiAgICAvLyDliIbkuqsKICAgIGhhbmRsZVNoYXJlKCkgewogICAgICB0aGlzLmlzU2hvd1NoYXJlID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDlhbPpl63liIbkuqvlvLnnqpcKICAgIGNsb3NlU2hhcmVHdWlkZSgpIHsKICAgICAgdGhpcy5pc1Nob3dTaGFyZSA9IGZhbHNlOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-submit-done","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <div class=\"base-info\">\n      <div class=\"time\">\n        <img\n          src=\"@/pages/jx-questionnaire-h5/assets/images/icons/time_icon.png\"\n        />\n        <div>\n          填表时间：{{\n            baseInfo.startTime +\n              (baseInfo.endTime ? '~' + baseInfo.endTime : '')\n          }}\n        </div>\n      </div>\n      <div class=\"title\">{{ baseInfo.title }}</div>\n      <div class=\"remark\" v-if=\"baseInfo.description\">\n        {{ baseInfo.description }}\n      </div>\n      <!-- 文件列表 -->\n      <div class=\"file-list\">\n        <div\n          class=\"file-item\"\n          v-for=\"(item, index) in baseInfo.fileList\"\n          :key=\"index\"\n          @click=\"previewFile(item.url)\"\n        >\n          <div class=\"file-name\">\n            <img\n              class=\"file-icon\"\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/file3_icon.png\"\n            />\n            <div>{{ item.name }}</div>\n            <img\n              class=\"arrow-icon\"\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/right_arrow2_icon.png\"\n            />\n          </div>\n        </div>\n      </div>\n      <!-- 图片列表 -->\n      <div class=\"img-list\">\n        <div\n          class=\"img-item\"\n          v-for=\"(item, index) in baseInfo.imgList\"\n          :key=\"index\"\n        >\n          <img class=\"img\" :src=\"item.url\" @click=\"previewImg(item.url)\" />\n        </div>\n      </div>\n    </div>\n    <div class=\"records\">\n      <div class=\"title\">\n        <div class=\"num\">\n          <span>以下为提交记录</span>\n          <span>{{\n            baseInfo.submitCount + '/' + baseInfo.collectionMaxCnt\n          }}</span>\n        </div>\n        <div class=\"sub-btn\" @click=\"handleCheckOptionDetail\">\n          {{ canEdit == 3 ? '我的提交详情' : '查看问卷' }}\n        </div>\n      </div>\n      <div\n        class=\"item\"\n        v-for=\"(item, index) in baseInfo.submitList\"\n        :key=\"index\"\n      >\n        <div>\n          {{ item.isAnonymousSubmit ? '匿名' : item.studentName + item.v }}\n        </div>\n        <div>{{ item.createTime }}</div>\n      </div>\n    </div>\n    <div class=\"blank\"></div>\n    <!-- 次家长展示转发按钮 -->\n    <div class=\"bottom-btn\" v-if=\"isMain == 0 && baseInfo.isFinished == 0\">\n      <div @click=\"handleShare\">转发给主家长填写</div>\n    </div>\n\n    <!-- 分享引导页面 -->\n    <transition name=\"van-fade\">\n      <share-guide\n        v-if=\"isShowShare\"\n        @closeShareGuide=\"closeShareGuide\"\n      ></share-guide>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport ShareGuide from '../common/ShareGuide.vue';\nimport { mapState } from 'vuex';\nimport { surveyDetail } from '../../api/survey';\nimport { Uploader, ImagePreview, Switch } from 'vant';\nexport default {\n  name: 'SurveySubmitDone',\n  components: {\n    [Uploader.name]: Uploader,\n    [Switch.name]: Switch,\n    ShareGuide\n  },\n  data() {\n    return {\n      canEdit: 3, // 是否能编辑 0为班主任解绑情况 3为家长身份进入情况\n      baseInfo: {\n        studentIds: '',\n        title: '', // 问卷标题\n        description: '', // 问卷描述\n        imgList: [], // 图片附件\n        fileList: [], // 文件附件\n        startTime: '', // 开始日期\n        endTime: '', // 截止日期\n        collectionMaxCnt: 0, // 最大收集数\n        submitCount: 0, // 已收集份数\n        submitList: [], // 提交记录\n        remark: '', // 备注\n        isAnonymousSubmit: 0, // 是否匿名\n        isFinished: 1 // 问卷是否已结束\n      },\n      collectNum: 0, // 收集份数\n      questions: [],\n      isShowShare: false\n    };\n  },\n  computed: {\n    ...mapState('user', ['wechatUserId', 'classId', 'role'])\n  },\n  created() {\n    this.isMain = this.$route.query.isMain;\n    this.canEdit = this.$route.query.canEdit ? this.$route.query.canEdit : 3;\n    if (this.canEdit == 3) {\n      this.getSurveyDetail();\n    } else {\n      this.getSurveyDetailTeacher();\n    }\n  },\n  methods: {\n    // 获取问卷详情(家长身份正常进入)\n    getSurveyDetail() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        role: this.role,\n        surveyId: this.$route.query.surveyId,\n        studentId: this.$route.query.studentId\n      };\n      surveyDetail(params)\n        .then(res => {\n          this.baseInfo.startTime = res.data.startTime;\n          this.baseInfo.endTime = res.data.endTime;\n          this.baseInfo.title = res.data.title;\n          this.baseInfo.description = res.data.description;\n          this.collectNum = res.data.collectionMaxCnt;\n          this.baseInfo.collectionMaxCnt = res.data.collectionMaxCnt;\n          this.baseInfo.submitCount = res.data.submitCount;\n          this.baseInfo.submitList = res.data.submitList;\n          this.baseInfo.remark = res.data.remark;\n          this.baseInfo.isFinished = res.data.isFinished;\n          res.data.attachmentList.forEach(item => {\n            if (item.type == 'img') {\n              this.baseInfo.imgList.push({ url: item.url, id: item.id });\n            } else if (item.type == 'file') {\n              this.baseInfo.fileList.push({\n                url: item.url,\n                name: item.name,\n                id: item.id\n              });\n            }\n          });\n          res.data.questionList.forEach(item => {\n            if (item.type == 2) {\n              item.checkedNum = 0;\n              item.answerCont = [];\n            } else if (item.type == '4' || item.type == '5') {\n              item.answerCont = [];\n              item.answerList = [];\n            } else {\n              item.answerCont = '';\n            }\n          });\n          this.questions = res.data.questionList;\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // 获取问卷详情(班主任无权限修改时进入)\n    getSurveyDetailTeacher() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        role: this.role,\n        surveyId: this.$route.query.surveyId\n      };\n      surveyDetail(params)\n        .then(res => {\n          this.baseInfo.startTime = res.data.startTime;\n          this.baseInfo.endTime = res.data.endTime;\n          this.baseInfo.title = res.data.title;\n          this.baseInfo.description = res.data.description;\n          this.collectNum = res.data.collectionMaxCnt;\n          this.baseInfo.collectionMaxCnt = res.data.collectionMaxCnt;\n          this.baseInfo.submitCount = res.data.submitCount;\n          this.baseInfo.submitList = res.data.submitList;\n          this.baseInfo.remark = res.data.remark;\n          res.data.attachmentList.forEach(item => {\n            if (item.type == 'img') {\n              this.baseInfo.imgList.push({ content: item.url, id: item.id });\n            } else if (item.type == 'file') {\n              this.baseInfo.fileList.push({\n                content: item.url,\n                file: { name: item.name },\n                id: item.id\n              });\n            }\n          });\n          res.data.questionList.forEach(item => {\n            if (item.type == 2) {\n              item.checkedNum = 0;\n              item.answerCont = [];\n            } else if (item.type == '4' || item.type == '5') {\n              item.answerCont = [];\n              item.answerList = [];\n            } else {\n              item.answerCont = '';\n            }\n          });\n          this.questions = res.data.questionList;\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // 图片预览\n    previewImg(url) {\n      ImagePreview([url]);\n    },\n    // 预览文件PDF，doc\n    previewFile(url) {\n      // window.open(url);\n      if (typeof wx == 'object') {\n        let fileUrl = encodeURIComponent(url);\n        window.wx.miniProgram.navigateTo({\n          url: `/h5/file/index?url=${fileUrl}`\n        });\n      } else {\n        this.$toast('预览失败，请重试');\n      }\n    },\n    // 次家长和已提交状态下查看提交选项详情\n    handleCheckOptionDetail() {\n      this.$store.commit('survey/UPDATA_QUESTION', this.questions);\n      let remark = this.baseInfo.remark ? this.baseInfo.remark : '';\n      this.$router.push({\n        path: `/option-detail?remark=${remark}&isMain=${this.isMain}`\n      });\n    },\n    // 分享\n    handleShare() {\n      this.isShowShare = true;\n    },\n    // 关闭分享弹窗\n    closeShareGuide() {\n      this.isShowShare = false;\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.app {\n  // 顶部基础信息\n  .base-info {\n    background-color: #ffffff;\n    padding: 0 0.24rem;\n    .time {\n      padding: 0.4rem 0 0.24rem 0;\n      display: flex;\n      align-items: center;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      & > img {\n        height: 0.32rem;\n      }\n      & > div {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.45);\n        padding-left: 0.1rem;\n      }\n    }\n    .title {\n      font-size: 0.32rem;\n      font-family: PingFangSC-Medium, PingFang SC;\n      font-weight: 500;\n      color: rgba(0, 0, 0, 0.85);\n      padding: 0.24rem 0;\n    }\n    .remark {\n      font-size: 0.28rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.85);\n      padding-bottom: 0.24rem;\n    }\n    .file-list {\n      .file-item {\n        padding-bottom: 0.24rem;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .file-name {\n          display: flex;\n          align-items: center;\n          .file-icon {\n            height: 0.28rem;\n          }\n          & > div {\n            max-width: 5rem;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            font-size: 0.24rem;\n            font-family: PingFangSC-Regular, PingFang SC;\n            color: #5ecfa8;\n            padding: 0 0.1rem;\n          }\n          .arrow-icon {\n            height: 0.22rem;\n          }\n        }\n      }\n    }\n    .img-list {\n      display: flex;\n      flex-wrap: wrap;\n      .img-item {\n        font-size: 0;\n        position: relative;\n        .img {\n          width: 1.57rem;\n          height: 1.57rem;\n          object-fit: cover;\n          margin: 0 0 0.24rem 0.24rem;\n          border-radius: 0.06rem;\n        }\n      }\n      .img-item:first-child {\n        .img {\n          margin: 0 0 0.24rem 0;\n        }\n      }\n      .img-item:nth-child(5) {\n        .img {\n          margin: 0 0 0.24rem 0;\n        }\n      }\n    }\n  }\n  // 提交记录\n  .records {\n    background-color: #ffffff;\n    padding: 0 0.24rem;\n    margin: 0.2rem 0;\n    .title {\n      padding: 0.21rem 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .num {\n        & > span:first-child {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.65);\n        }\n        & > span:nth-child(2) {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.85);\n          padding-left: 0.2rem;\n        }\n      }\n      .sub-btn {\n        padding: 0.07rem 0.2rem;\n        background: #ffffff;\n        border-radius: 0.06rem;\n        border: 1px solid #5ecfa8;\n        font-size: 0.26rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: #5ecfa8;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    }\n    .item {\n      padding: 0.24rem 0;\n      display: flex;\n      justify-content: space-between;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      & > div {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n      }\n      & > div:first-child {\n        color: rgba(0, 0, 0, 0.85);\n      }\n      & > div:nth-child(2) {\n        color: rgba(0, 0, 0, 0.45);\n      }\n    }\n  }\n  .blank {\n    height: 2rem;\n  }\n  // 底部提交按钮\n  .bottom-btn {\n    width: 100%;\n    padding: 0.48rem 0;\n    background-color: #f5f5f5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    & > div {\n      width: 7.02rem;\n      height: 0.98rem;\n      background: #51c49c;\n      border-radius: 0.06rem;\n      font-size: 0.34rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: #ffffff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n}\n</style>\n"]}]}