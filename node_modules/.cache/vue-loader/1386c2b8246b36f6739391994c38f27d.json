{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-book/views/catalogManage/Edit.vue?vue&type=style&index=1&id=1cab81cd&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-book/views/catalogManage/Edit.vue","mtime":1627979214326},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgpAaW1wb3J0ICcuLy4uLy4uL2Fzc2V0cy9sZXNzL21peGlucy9taXhpbnMnOwovLyAvLyAkZnM6IHB4MlJlbSgxNHB4KTsKCi8vIC8vIEBmdW5jdGlvbiBweDJSZW0oJHB4LCAkYmFzZS1mb250LXNpemU6IDE5LjJweCkgewovLyAvLyAgIEBpZiAodW5pdGxlc3MoJHB4KSkgewovLyAvLyAgICAgLy/mnInml6DljZXkvY0KLy8gLy8gICAgIEByZXR1cm4gKCRweCAvIDE5LjIpICogMS4ycmVtOwovLyAvLyAgIH0gQGVsc2UgaWYgKHVuaXQoJHB4KSA9PWVtKSB7Ci8vIC8vICAgICBAcmV0dXJuICRweDsKLy8gLy8gICB9CgovLyAvLyAgIEByZXR1cm4gKCRweCAvICRiYXNlLWZvbnQtc2l6ZSkgKiAxLjJyZW07Ci8vIC8vIH0KCi5oaWRkZW4gewogIHZpc2liaWxpdHk6IGhpZGRlbjsKfQoKLnNlYXJjaC10b3AgewogIG1hcmdpbjogMCAucHgyUmVtKDI0cHgpIFsgQHJlbV07CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4wNik7CiAgcGFkZGluZzogLnB4MlJlbSgyNHB4KSBbIEByZW1dIDA7CiAgcG9zaXRpb246IHJlbGF0aXZlOwoKICBidXR0b24gewogICAgd2lkdGg6IC5weDJSZW0oNzJweCkgWyBAcmVtXTsKICAgIGhlaWdodDogLnB4MlJlbSgzMnB4KSBbIEByZW1dOwogICAgbGluZS1oZWlnaHQ6IC5weDJSZW0oMzBweCkgWyBAcmVtXTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGZvbnQtc2l6ZTogQGZzMTQ7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjMDA5MWZmOwogICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgYmFja2dyb3VuZDogI2ZmZjsKICAgIGNvbG9yOiAjMDA5MWZmOwogICAgY3Vyc29yOiBwb2ludGVyOwogIH0KfQouZWRpdCB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogLnB4MlJlbSgzMHB4KSBbIEByZW1dOwogIHJpZ2h0OiAucHgyUmVtKDIwcHgpIFsgQHJlbV07CiAgbGVmdDogLnB4MlJlbSgyMHB4KSBbIEByZW1dOwogIGJvdHRvbTogMDsKICBtYXJnaW4tYm90dG9tOiAucHgyUmVtKDMwcHgpIFsgQHJlbV07CiAgLnBsYXRlQ29udGFpbmVyKG51bGwsIG51bGwpOwogIGZvbnQtc2l6ZTogQGZzMTQ7CiAgb3ZlcmZsb3c6IGF1dG87CgogICYtbGlzdCB7CiAgICBwYWRkaW5nOiAucHgyUmVtKDI0cHgpIFsgQHJlbV0gLnB4MlJlbSgyNHB4KSBbIEByZW1dIDA7CiAgfQoKICAmLWl0ZW0gewogICAgcGFkZGluZy1ib3R0b206IC5weDJSZW0oMjRweCkgWyBAcmVtXTsKCiAgICAudGQgewogICAgICBkaXNwbGF5OiB0YWJsZS1jZWxsOwogICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwoKICAgICAgJi50b3AgewogICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7CiAgICAgIH0KICAgIH0KCiAgICAmID4gLnRkIHsKICAgICAgcGFkZGluZy1yaWdodDogLnB4MlJlbSgxMnB4KSBbIEByZW1dOwoKICAgICAgLnRkIHsKICAgICAgICAmOmZpcnN0LWNoaWxkIHsKICAgICAgICAgIHdpZHRoOiAucHgyUmVtKDY4cHgpIFsgQHJlbV07CiAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsKICAgICAgICAgIGZvbnQtc2l6ZTogQGZzMTQ7CiAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg1KTsKICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IC5weDJSZW0oMTJweCkgWyBAcmVtXTsKCiAgICAgICAgICBzcGFuOmZpcnN0LWNoaWxkIHsKICAgICAgICAgICAgY29sb3I6ICMwMDg4ZjQ7CiAgICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDRweDsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5lbC1pbnB1dF9zZWFyY2ggOjp2LWRlZXAgaW5wdXQsCiAgICAgICAgLmVsLXNlbGVjdF9lZGl0IDo6di1kZWVwIGlucHV0IHsKICAgICAgICAgIHBhZGRpbmc6IDAgMTJweDsKICAgICAgICAgIGZvbnQtc2l6ZTogQGZzMTQ7CiAgICAgICAgICBoZWlnaHQ6IC5weDJSZW0oMzJweCkgWyBAcmVtXTsKICAgICAgICAgIGxpbmUtaGVpZ2h0OiAucHgyUmVtKDMycHgpIFsgQHJlbV07CiAgICAgICAgICB3aWR0aDogLnB4MlJlbSgyNTBweCkgWyBAcmVtXTsKICAgICAgICB9CiAgICAgICAgLmVsLWlucHV0X2F1dG8gLmljb25mb250IHsKICAgICAgICAgIGZvbnQtc2l6ZTogLnB4MlJlbSgxNHB4KSBbIEByZW1dOwogICAgICAgICAgbGluZS1oZWlnaHQ6IC5weDJSZW0oMzJweCkgWyBAcmVtXTsKICAgICAgICAgIHBhZGRpbmctcmlnaHQ6IDZweDsKICAgICAgICB9CgogICAgICAgIC5lbC1zZWxlY3RfZWRpdCwKICAgICAgICAuZWwtaW5wdXRfc2VhcmNoIHsKICAgICAgICAgICYudzYwNCA6OnYtZGVlcCBpbnB1dCB7CiAgICAgICAgICAgIHdpZHRoOiAucHgyUmVtKDU5NHB4KSBbIEByZW1dOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLnVlIHsKICAgICAgICAgIHdpZHRoOiAucHgyUmVtKDc2MHB4KSBbIEByZW1dOwogICAgICAgIH0KCiAgICAgICAgLnVwbG9hZC1kZW1vIHsKICAgICAgICAgIDo6di1kZWVwIC5lbC11cGxvYWQtZHJhZ2dlciB7CiAgICAgICAgICAgIHdpZHRoOiAucHgyUmVtKDc2MHB4KSBbIEByZW1dOwogICAgICAgICAgICBoZWlnaHQ6IGF1dG87CiAgICAgICAgICB9CgogICAgICAgICAgLmljb25mb250IHsKICAgICAgICAgICAgZm9udC1zaXplOiAucHgyUmVtKDQycHgpIFsgQHJlbV07CiAgICAgICAgICAgIGNvbG9yOiAjMDA5MWZmOwogICAgICAgICAgICBwYWRkaW5nOiAucHgyUmVtKDQ1cHgpIFsgQHJlbV0gMCAucHgyUmVtKDI2cHgpIFsgQHJlbV07CiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgICAgfQoKICAgICAgICAgIC5lbC11cGxvYWRfX3RleHQgewogICAgICAgICAgICBmb250LXNpemU6IC5weDJSZW0oMTZweCkgWyBAcmVtXTsKICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44KTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogLnB4MlJlbSgxMnB4KSBbIEByZW1dOwogICAgICAgICAgfQoKICAgICAgICAgIC5lbC11cGxvYWRfX3RpcCB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogQGZzMTQ7CiAgICAgICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDUpOwogICAgICAgICAgICBwYWRkaW5nLWJvdHRvbTogLnB4MlJlbSgyNHB4KSBbIEByZW1dOwogICAgICAgICAgICBsaW5lLWhlaWdodDogLnB4MlJlbSgyMnB4KSBbIEByZW1dOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgJi1idG5zIHsKICAgIC50ZCB7CiAgICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7CiAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICB9CgogICAgYnV0dG9uIHsKICAgICAgd2lkdGg6IC5weDJSZW0oMTAwcHgpIFsgQHJlbV07CiAgICAgIGhlaWdodDogLnB4MlJlbSgzMnB4KSBbIEByZW1dOwogICAgICBsaW5lLWhlaWdodDogLnB4MlJlbSgzMnB4KSBbIEByZW1dOwogICAgICBiYWNrZ3JvdW5kOiAjMDA5MWZmOwogICAgICBib3JkZXItcmFkaXVzOiAycHg7CiAgICAgIGZvbnQtc2l6ZTogQGZzMTQ7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgICAgY29sb3I6ICNmZmY7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgbWFyZ2luOiAucHgyUmVtKDE2cHgpIFsgQHJlbV0gMCAucHgyUmVtKDQwcHgpIFsgQHJlbV0gLnB4MlJlbSg4MHB4KSBbCiAgICAgICAgQHJlbV07CiAgICAgIGJvcmRlcjogMDsKCiAgICAgICYuZWRpdC1idG5zLXJlbW92ZSB7CiAgICAgICAgbWFyZ2luLWxlZnQ6IC5weDJSZW0oNDBweCkgWyBAcmVtXTsKICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMTUpOwogICAgICAgIHdpZHRoOiAucHgyUmVtKDY2cHgpIFsgQHJlbV07CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["Edit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4mBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Edit.vue","sourceRoot":"src/pages/school-book/views/catalogManage","sourcesContent":["<template>\n  <div class=\"edit\">\n    <div class=\"search-top\">\n      <button @click=\"$router.back()\">返回</button>\n    </div>\n    <div class=\"edit-list\">\n      <div class=\"edit-item\">\n        <div class=\"td\">\n          <div class=\"td\"><span>*</span><span>目录名称</span></div>\n          <div class=\"td\">\n            <el-select\n              class=\"el-select_edit w604\"\n              v-model=\"formData.catalogName\"\n              ref=\"select\"\n              placeholder=\"请选择目录\"\n              size=\"small\"\n            >\n              <el-option\n                :value=\"formData.catalogId\"\n                style=\"height:auto;background:#fff\"\n              >\n                <el-tree\n                  :data=\"treeData\"\n                  node-key=\"id\"\n                  ref=\"tree\"\n                  highlight-current\n                  :expand-on-click-node=\"false\"\n                  :props=\"defaultProps\"\n                  @node-click=\"handleNodeClick\"\n                >\n                  <!-- <div\n                    slot-scope=\"{ node, data }\"\n                    @click=\"handleNodeClick(node, data)\"\n                  >\n                    <span> {{ node.label }}</span>\n                  </div> -->\n                </el-tree>\n              </el-option>\n              <!-- <el-option\n                v-for=\"item in parentMenuOptions\"\n                :key=\"item.id\"\n                :label=\"item.catalogName\"\n                :value=\"item.id\"\n              >\n              </el-option> -->\n            </el-select>\n          </div>\n        </div>\n      </div>\n      <div class=\"edit-item\">\n        <div class=\"td\">\n          <div class=\"td\"><span>*</span><span>文章名称</span></div>\n          <div class=\"td\">\n            <el-input\n              v-model=\"formData.title\"\n              :maxlength=\"30\"\n              class=\"el-input_search w604\"\n              placeholder=\"请输入30字以内\"\n            >\n            </el-input>\n          </div>\n        </div>\n      </div>\n      <!-- <div class=\"edit-item\">\n        <div class=\"td\">\n          <div class=\"td\"><span>*</span><span>编辑人</span></div>\n          <div class=\"td\">\n            <el-autocomplete\n              class=\"el-input_search el-input_auto\"\n              v-model=\"formData.chargeStaff\"\n              :fetch-suggestions=\"querySearch\"\n              placeholder=\"请输入编辑人姓名\"\n              :trigger-on-focus=\"false\"\n              @select=\"handleSelect\"\n              value-key=\"staffName\"\n              :popper-append-to-body=\"false\"\n              popper-class=\"edit-popper-class\"\n            >\n              <i class=\"iconfont icon_sousuo\" slot=\"suffix\"> </i>\n              <template slot-scope=\"{ item }\">\n                <div class=\"name\">{{ item.staffName }}--{{ item.orgName }}</div>\n              </template>\n            </el-autocomplete>\n          </div>\n        </div>\n        <div class=\"td\">\n          <div class=\"td\"><span>*</span><span>编辑单位</span></div>\n          <div class=\"td\">\n            <el-input\n              v-model=\"formData.chargeUnit\"\n              class=\"el-input_search\"\n              placeholder=\"请输入编辑单位\"\n            >\n            </el-input>\n          </div>\n        </div>\n      </div> -->\n\n      <!-- <div class=\"edit-item\">\n        <div class=\"td\">\n          <div class=\"td\">\n            <span class=\"hidden\">*</span><span>当前进度</span>\n          </div>\n          <div class=\"td\">\n            <el-select\n              class=\"el-select_edit w604\"\n              v-model=\"formData.status\"\n              placeholder=\"请选择当前进度\"\n              size=\"small\"\n              clearable\n            >\n              <el-option\n                v-for=\"item in options\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              >\n              </el-option>\n            </el-select>\n          </div>\n        </div>\n      </div> -->\n      <div class=\"edit-item\">\n        <div class=\"td\">\n          <div class=\"td top\">\n            <span class=\"hidden\">*</span><span>正文内容</span>\n          </div>\n          <div class=\"td\">\n            <wangEdit v-model=\"formData.content\"></wangEdit>\n            <!-- <UE class=\"ue\" :height=\"300\" @update-content=\"res=>{formData.content=res}\"\n              :defaultMsg=\"formData.content\" :config=\"config\" ref=\"UE\" id=\"UE\"></UE> -->\n          </div>\n        </div>\n      </div>\n      <div class=\"edit-item\">\n        <div class=\"td\">\n          <div class=\"td top\">\n            <span class=\"hidden\">*</span><span>附件</span>\n          </div>\n          <div class=\"td\">\n            <el-upload\n              show-file-list\n              :file-list=\"fileList\"\n              class=\"upload-demo\"\n              drag\n              :action=\"uploadFilePath\"\n              multiple\n              accept=\".png,.jpg,.doc,.docx,.pdf,.xls,.xlsx\"\n              :on-preview=\"file => uploadEvent('preview', file)\"\n              :before-remove=\"\n                (file, fileList) => uploadEvent('beforeRemove', file, fileList)\n              \"\n              :on-remove=\"\n                (file, fileList) => uploadEvent('remove', file, fileList)\n              \"\n              :before-upload=\"file => uploadEvent('beforeUpload', file)\"\n              :on-change=\"\n                (file, fileList) => uploadEvent('change', file, fileList)\n              \"\n              :on-success=\"\n                (response, file, fileList) =>\n                  uploadEvent('success', file, fileList, response)\n              \"\n              :on-error=\"\n                (err, file, fileList) =>\n                  uploadEvent('error', file, fileList, err)\n              \"\n            >\n              <!-- <i class=\"el-icon-folder-opened floder-open\"></i> -->\n              <i class=\"iconfont icon_Container\"></i>\n              <div class=\"el-upload__text\">点击或将文件拖拽到这里上传</div>\n              <div class=\"el-upload__tip\">\n                支持上传png、jpg、doc、docx、pdf、xls、xlsx等格式文件<br />单个文件大小不能超过100M\n              </div>\n            </el-upload>\n          </div>\n        </div>\n      </div>\n      <div class=\"edit-btns\">\n        <div class=\"td\">\n          <button @click=\"submit\">确认提交</button>\n        </div>\n        <div class=\"td\" v-if=\"formData.id\">\n          <button class=\"edit-btns-remove\" @click=\"deleteContent\">删除</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n// import $api from '@/api/article';\nimport wangEdit from './../../components/wangEdit.vue';\nimport config from './../../config';\nimport {\n  saveContent,\n  getLastCatalog,\n  contentDetail,\n  contentDetailV1,\n  deleteContent,\n  getCatalogList,\n  getCatalogListAll,\n  saveContentV1,\n  deleteContentBatch\n} from './../../api/data';\nexport default {\n  name: 'article-edit',\n  components: {\n    wangEdit\n  },\n  data() {\n    return {\n      console: console,\n      treeData: [],\n      defaultProps: {\n        children: 'children',\n        label: 'catalogName',\n        disabled: function(data, node) {\n          return data.parentId == 0;\n        }\n      },\n      selectCatalog: null,\n      id: '',\n      config: {\n        initialFrameWidth: '100%',\n        enableAutoSave: false,\n        toolbars: [\n          [\n            'source', //源代码\n            'anchor', //锚点\n            'undo', //撤销\n            'redo', //重做\n            'bold', //加粗\n            'indent', //首行缩进\n            // 'snapscreen', //截图\n            'italic', //斜体\n            'underline', //下划线\n            'strikethrough', //删除线\n            'subscript', //下标\n            'fontborder', //字符边框\n            'superscript', //上标\n            'formatmatch', //格式刷\n            'blockquote', //引用\n            'pasteplain', //纯文本粘贴模式\n            'selectall', //全选\n            'print', //打印\n            'preview', //预览\n            'horizontal', //分隔线\n            'removeformat', //清除格式\n            'time', //时间\n            'date', //日期\n            'unlink', //取消链接\n            'insertrow', //前插入行\n            'insertcol', //前插入列\n            'mergeright', //右合并单元格\n            'mergedown', //下合并单元格\n            'deleterow', //删除行\n            'deletecol', //删除列\n            'splittorows', //拆分成行\n            'splittocols', //拆分成列\n            'splittocells', //完全拆分单元格\n            'deletecaption', //删除表格标题\n            'inserttitle', //插入标题\n            'mergecells', //合并多个单元格\n            'deletetable', //删除表格\n            'cleardoc', //清空文档\n            'insertparagraphbeforetable', //”表格前插入行”\n            //  'insertcode', //代码语言\n            'fontfamily', //字体\n            'fontsize', //字号\n            'paragraph', //段落格式\n            //'simpleupload', //单图上传\n            'insertimage', //多图上传\n            'edittable', //表格属性\n            'edittd', //单元格属性\n            'link', //超链接\n            'emotion', //表情\n            'spechars', //特殊字符\n            'searchreplace', //查询替换\n            // 'map', //Baidu地图\n            // 'gmap', //Google地图\n            // 'insertvideo', //视频\n            // 'help', //帮助\n            'justifyleft', //居左对齐\n            'justifyright', //居右对齐\n            'justifycenter', //居中对齐\n            'justifyjustify', //两端对齐\n            'forecolor', //字体颜色\n            'backcolor', //背景色\n            'insertorderedlist', //有序列表\n            'insertunorderedlist', //无序列表\n            'fullscreen', //全屏\n            'directionalityltr', //从左向右输入\n            'directionalityrtl', //从右向左输入\n            'rowspacingtop', //段前距\n            'rowspacingbottom', //段后距\n            'pagebreak', //分页\n            // 'insertframe', //插入Iframe\n            'imagenone', //默认\n            'imageleft', //左浮动\n            'imageright', //右浮动\n            'attachment', //附件\n            'imagecenter', //居中\n            // 'wordimage', //图片转存\n            'lineheight', //行间距\n            'edittip ', //编辑提示\n            'customstyle', //自定义标题\n            'autotypeset', //自动排版\n            // 'webapp', //百度应用\n            'touppercase', //字母大写\n            'tolowercase', //字母小写\n            'background', //背景\n            // 'template', //模板\n            // 'scrawl', //涂鸦\n            // 'music', //音乐\n            'inserttable' //插入表格\n            // 'drafts', // 从草稿箱加载\n            // 'charts', // 图表\n          ]\n        ]\n      },\n      parentMenuOptions: [],\n      options: [\n        {\n          label: '筹备中',\n          value: '1'\n        },\n        {\n          label: '草稿',\n          value: '2'\n        },\n        {\n          label: '发布',\n          value: '3'\n        }\n      ],\n      fileList: [],\n      formData: {\n        title: '',\n        // chargeStaff: '',\n        // staffCode: '',\n        // chargeUnit: '',\n        // mobile: '',\n        // status: '',\n        catalogId: '',\n        catalogName: '',\n        content: '',\n        files: '',\n        id: ''\n        // id: '',\n      }\n    };\n  },\n  computed: {\n    /**\n     * 上传文件地址\n     */\n    uploadFilePath() {\n      // return `${process.env.BASE_URL}/portal-userclient/uploadFile/uploadFile`;\n      return '/run-school-bible-admin/uploadFile/uploadFile';\n    }\n  },\n  created() {\n    this.formData.id = this.$route.query.contentId;\n    this.formData.catalogId = this.$route.query.catalogId;\n    this.formData.catalogName = this.$route.query.catalogName;\n    // this.getLastCatalog();\n    this.getCatalogListAll();\n    // console.log(this.$store);\n    if (this.formData.id) {\n      contentDetailV1({ id: this.formData.id }).then(({ data }) => {\n        this.formData.title = data.title || '';\n        this.formData.content = data.content || '';\n        this.fileList = data.files ? JSON.parse(data.files) : [];\n        // this.formData = Object.assign({}, this.formData, data);\n        // this.formData.id = this.id;\n        // this.formData.catalogId = this.catalogId;\n        // this.formData.status = this.formData.status\n        //   ? '' + this.formData.status\n        //   : this.formData.status; //转字符串\n        // this.fileList = this.formData.files\n        //   ? JSON.parse(this.formData.files)\n        //   : []; //设置文件列表\n        // var match = this.formData.chargeStaff.match(/\\((.+)\\)/); //根据字符串获取工号\n        // match && (this.formData.staffCode = match[1]);\n        // this.$refs.UE && this.$refs.UE.setUEContent(this.formData.content);\n      });\n    }\n  },\n  mounted() {},\n  methods: {\n    getCatalogListAll() {\n      getCatalogListAll().then(res => {\n        const list = res.data || [];\n        this.treeData = this.$util.listConvertTree(list);\n        if (this.formData.catalogId) {\n          this.$nextTick(() => {\n            this.$refs.tree.setCurrentKey(this.formData.catalogId);\n            this.expandNode(this.formData.catalogId);\n          });\n        }\n      });\n    },\n    getLastCatalog() {\n      if (this.formData.catalogId) {\n        getCatalogList().then(res => {\n          this.parentMenuOptions = res.data || [];\n        });\n      } else {\n        getLastCatalog().then(res => {\n          this.parentMenuOptions = res.data || [];\n        });\n      }\n    },\n    submit() {\n      //提交\n      // console.log(this.formData);\n      if (!this.formData.catalogId) {\n        return this.$message({\n          type: 'warning',\n          message: '请选择目录'\n        });\n      }\n      if (!this.formData.title) {\n        return this.$message({\n          type: 'warning',\n          message: '请输入标题'\n        });\n      }\n\n      // if (!this.formData.staffCode) {\n      //   return this.$message({\n      //     type: 'warning',\n      //     message: '请选择编辑人姓名'\n      //   });\n      // }\n      // if (!this.formData.chargeUnit) {\n      //   return this.$message({\n      //     type: 'warning',\n      //     message: '请输入编辑单位'\n      //   });\n      // }\n      // if(!this.formData.mobile||!this.formData.mobile.match(/^1[0-9]{10}$/)){\n      //   return this.$message({\n      //       type: 'warning',\n      //       message: !this.formData.mobile?\"请输入手机号码\":\"手机号码格式错误\"\n      //   });\n      // }\n      // console.log('fileList11', this.fileList);\n      for (let i = 0; i < this.fileList.length; i++) {\n        if (this.fileList[i].percentage && this.fileList[i].percentage != 100) {\n          this.$message({\n            type: 'warning',\n            message: '附件上传未完成'\n          });\n          return;\n        }\n      }\n      // return;\n      this.formData.files = JSON.stringify(\n        this.fileList.map(v => {\n          return {\n            name: v.name || v.response.data.name,\n            url: v.url || v.response.data.url\n          };\n        })\n      );\n      this.$confirm('请确认是否提交？', '', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        saveContentV1(this.formData).then(({ data }) => {\n          this.$message({\n            type: 'success',\n            message: '提交成功!'\n          });\n          this.$router.back();\n        });\n      });\n    },\n    deleteContent() {\n      //删除\n      this.$confirm('请确认是否删除？', '', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        deleteContentBatch({ ids: this.formData.id }).then(({ data }) => {\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          });\n          this.$router.back();\n        });\n      });\n    },\n    uploadEvent(type, file, fileList, response) {\n      //文件上传事件\n      // console.log(arguments);\n      if (type == 'beforeUpload') {\n        let regExp = new RegExp(/\\.(png|jpg|jpeg|doc|docx|pdf|xls|xlsx)$/, 'i');\n        if (!file.name.match(regExp)) {\n          this.$message({\n            type: 'warning',\n            message: file.name + '文件格式有误'\n          });\n          return false;\n        }\n        if (file.size / 1024 / 1024 > 100) {\n          //超过100M\n          this.$message({\n            type: 'warning',\n            message: file.name + '文件超出上传文件大小'\n          });\n          return false;\n        }\n      } else if (type == 'preview') {\n        window.open(config.FILE_PREFIX + file.url);\n      } else if (type == 'beforeRemove') {\n        return new Promise((resolve, reject) => {\n          this.$confirm('是否删除' + file.name + '？', '', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          })\n            .then(resolve)\n            ['catch'](reject);\n        });\n      } else if (type == 'remove') {\n        this.fileList = fileList;\n      } else if (type == 'error') {\n        //response为err\n        this.$message({\n          type: 'warning',\n          message: file.name + '文件上传失败'\n        });\n      } else if (type == 'success') {\n        // 检测状态上传是否成功\n\n        if (response.status && response.status === 200) {\n          this.fileList = fileList;\n        } else {\n          this.$message({\n            type: 'warning',\n            message: file.name + '文件上传失败'\n          });\n        }\n        // if (response.status && response.status === 200) {\n        //   // console.log(this.$store.getters.joinImgUrl(response.data));\n        //   // this.fileList.push({\n        //   //   name: file.name,\n        //   //   url: response.data.url,\n        //   //   status: 'success'\n        //   // });\n        // } else {\n        //   // var index = fileList.indexOf(file);\n        //   // index !== -1 && fileList.splice(index, 1);\n        //   // this.$message.error(response.message);\n        // }\n      } else if (type == 'change') {\n        this.fileList = fileList;\n      }\n    },\n    querySearch(queryString, cb) {\n      //查询负责人\n      // $api.queryPeoples(queryString).then(({ data }) => {\n      //   // 调用 callback 返回建议列表的数据\n      //   cb(\n      //     (data || []).map(v => {\n      //       return {\n      //         staffName: v.staffName,\n      //         orgName: v.orgName,\n      //         staffCode: v.staffCode\n      //       };\n      //     })\n      //   );\n      // });\n    },\n    /**\n     * 展开节点\n     * @param {*} 节点id\n     */\n    expandNode(key) {\n      this.$nextTick(() => {\n        var node = this.$refs.tree.getNode(key);\n        var fn = function(node) {\n          if (node.parent) fn(node.parent);\n          node.expanded = true;\n        };\n        node && fn(node);\n      });\n    },\n    handleSelect(item) {\n      //选中某一负责人\n      // console.log(item);\n      this.formData.chargeStaff = item.staffName + '(' + item.staffCode + ')';\n      this.formData.staffCode = item.staffCode;\n    },\n    handleNodeClick(node) {\n      console.log(node);\n      this.formData.catalogId = node.id;\n      this.formData.catalogName = node.catalogName;\n      this.$refs.select.blur();\n    }\n  }\n};\n</script>\n<style lang=\"less\">\n.edit-popper-class {\n  width: 400px !important;\n}\n.floder-open {\n  font-size: 2.625rem;\n  color: #0091ff;\n  padding: 2.8125rem 0 1.625rem;\n  display: block;\n}\n</style>\n//\n<style lang=\"less\" scoped>\n@import './../../assets/less/mixins/mixins';\n// // $fs: px2Rem(14px);\n\n// // @function px2Rem($px, $base-font-size: 19.2px) {\n// //   @if (unitless($px)) {\n// //     //有无单位\n// //     @return ($px / 19.2) * 1.2rem;\n// //   } @else if (unit($px) ==em) {\n// //     @return $px;\n// //   }\n\n// //   @return ($px / $base-font-size) * 1.2rem;\n// // }\n\n.hidden {\n  visibility: hidden;\n}\n\n.search-top {\n  margin: 0 .px2Rem(24px) [ @rem];\n  border-bottom: 1px solid rgba(0, 0, 0, 0.06);\n  padding: .px2Rem(24px) [ @rem] 0;\n  position: relative;\n\n  button {\n    width: .px2Rem(72px) [ @rem];\n    height: .px2Rem(32px) [ @rem];\n    line-height: .px2Rem(30px) [ @rem];\n    text-align: center;\n    font-size: @fs14;\n    border: 1px solid #0091ff;\n    border-radius: 2px;\n    background: #fff;\n    color: #0091ff;\n    cursor: pointer;\n  }\n}\n.edit {\n  position: absolute;\n  top: .px2Rem(30px) [ @rem];\n  right: .px2Rem(20px) [ @rem];\n  left: .px2Rem(20px) [ @rem];\n  bottom: 0;\n  margin-bottom: .px2Rem(30px) [ @rem];\n  .plateContainer(null, null);\n  font-size: @fs14;\n  overflow: auto;\n\n  &-list {\n    padding: .px2Rem(24px) [ @rem] .px2Rem(24px) [ @rem] 0;\n  }\n\n  &-item {\n    padding-bottom: .px2Rem(24px) [ @rem];\n\n    .td {\n      display: table-cell;\n      vertical-align: middle;\n\n      &.top {\n        vertical-align: top;\n      }\n    }\n\n    & > .td {\n      padding-right: .px2Rem(12px) [ @rem];\n\n      .td {\n        &:first-child {\n          width: .px2Rem(68px) [ @rem];\n          text-align: right;\n          font-size: @fs14;\n          color: rgba(0, 0, 0, 0.85);\n          padding-right: .px2Rem(12px) [ @rem];\n\n          span:first-child {\n            color: #0088f4;\n            padding-right: 4px;\n          }\n        }\n\n        .el-input_search ::v-deep input,\n        .el-select_edit ::v-deep input {\n          padding: 0 12px;\n          font-size: @fs14;\n          height: .px2Rem(32px) [ @rem];\n          line-height: .px2Rem(32px) [ @rem];\n          width: .px2Rem(250px) [ @rem];\n        }\n        .el-input_auto .iconfont {\n          font-size: .px2Rem(14px) [ @rem];\n          line-height: .px2Rem(32px) [ @rem];\n          padding-right: 6px;\n        }\n\n        .el-select_edit,\n        .el-input_search {\n          &.w604 ::v-deep input {\n            width: .px2Rem(594px) [ @rem];\n          }\n        }\n\n        .ue {\n          width: .px2Rem(760px) [ @rem];\n        }\n\n        .upload-demo {\n          ::v-deep .el-upload-dragger {\n            width: .px2Rem(760px) [ @rem];\n            height: auto;\n          }\n\n          .iconfont {\n            font-size: .px2Rem(42px) [ @rem];\n            color: #0091ff;\n            padding: .px2Rem(45px) [ @rem] 0 .px2Rem(26px) [ @rem];\n            display: block;\n          }\n\n          .el-upload__text {\n            font-size: .px2Rem(16px) [ @rem];\n            color: rgba(0, 0, 0, 0.8);\n            margin-bottom: .px2Rem(12px) [ @rem];\n          }\n\n          .el-upload__tip {\n            font-size: @fs14;\n            color: rgba(0, 0, 0, 0.45);\n            padding-bottom: .px2Rem(24px) [ @rem];\n            line-height: .px2Rem(22px) [ @rem];\n          }\n        }\n      }\n    }\n  }\n\n  &-btns {\n    .td {\n      display: table-cell;\n      vertical-align: middle;\n    }\n\n    button {\n      width: .px2Rem(100px) [ @rem];\n      height: .px2Rem(32px) [ @rem];\n      line-height: .px2Rem(32px) [ @rem];\n      background: #0091ff;\n      border-radius: 2px;\n      font-size: @fs14;\n      text-align: center;\n      color: #fff;\n      cursor: pointer;\n      margin: .px2Rem(16px) [ @rem] 0 .px2Rem(40px) [ @rem] .px2Rem(80px) [\n        @rem];\n      border: 0;\n\n      &.edit-btns-remove {\n        margin-left: .px2Rem(40px) [ @rem];\n        background: rgba(0, 0, 0, 0.15);\n        width: .px2Rem(66px) [ @rem];\n      }\n    }\n  }\n}\n</style>\n"]}]}