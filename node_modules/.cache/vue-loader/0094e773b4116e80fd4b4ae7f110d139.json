{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-h5/components/echarts/radar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-h5/components/echarts/radar.vue","mtime":1645176309817},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHN0clNsaWNlIH0gZnJvbSAnLi4vLi4vcGx1Z2lucy9jb21tb24vdXRpbHMnOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdyYWRhcicsCiAgcHJvcHM6IHsKICAgIGhlaWdodDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcyJwogICAgfSwKICAgIC8vIOaVsOaNrgogICAgY2hhcnRzQ29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBjaGFydHNDb25maWc6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogJ2NoYW5nZURhdGEnLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjaGFydERhdGE6IHt9LAogICAgICBjaGFydDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KHRoaXMuJHJlZnMuY2hhcnRzQm94KTsKICAgIHRoaXMuaW5pdEVjaGFydHNCb3goKTsKICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7CiAgICAgIHRoaXMuY2hhcnQucmVzaXplKCk7CiAgICB9KTsKICAgIHRoaXMuJG9uKCdob29rOmRlc3Ryb3llZCcsICgpID0+IHsKICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHsKICAgICAgICB0aGlzLmNoYXJ0LnJlc2l6ZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlRGF0YShuZXdWYWwpIHsKICAgICAgaWYgKG5ld1ZhbCkgewogICAgICAgIHRoaXMuY2hhcnREYXRhID0gbmV3VmFsOwogICAgICAgIHRoaXMuaW5pdEVjaGFydHNCb3goKTsKICAgICAgfQogICAgfSwKICAgIGluaXRFY2hhcnRzQm94KCkgewogICAgICBsZXQgb2JqID0gdGhpcy5jaGFydERhdGE7CiAgICAgIGNvbnNvbGUubG9nKG9iaik7CiAgICAgIGxldCBvcHRpb24gPSB7CiAgICAgICAgY29sb3I6IG9iai5jb21tb25Db25maWcuY29sb3IsCiAgICAgICAgcmFkYXI6IHsKICAgICAgICAgIHNwbGl0TnVtYmVyOiBvYmouY29tbW9uQ29uZmlnLnNwbGl0TnVtYmVyLAogICAgICAgICAgaW5kaWNhdG9yOiBvYmouaW5kaWNhdG9yLAogICAgICAgICAgY2VudGVyOiBbJzUwJScsICc1MCUnXSwKICAgICAgICAgIHJhZGl1czogJzYzJScsCiAgICAgICAgICBuYW1lOiB7CiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24obmFtZSkgewogICAgICAgICAgICAgIGxldCByYXRlID0gJyc7CiAgICAgICAgICAgICAgbGV0IHR5cGUgPSBvYmouY29tbW9uQ29uZmlnLmZvcm1hdHRlclR5cGU7CiAgICAgICAgICAgICAgLy8g5a2Y5Zyo77yM5LiU5pyJ55m+5YiG5q+UCiAgICAgICAgICAgICAgaWYgKHR5cGUgJiYgdHlwZSA9PT0gMSkgewogICAgICAgICAgICAgICAgb2JqLmluZGljYXRvci5tYXAoKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChpdGVtLm5hbWUgPT09IG5hbWUpIHsKICAgICAgICAgICAgICAgICAgICByYXRlID0gb2JqLnNlcmllc0RhdGFbaW5kZXhdICogMTAwOwogICAgICAgICAgICAgICAgICAgIHJhdGUgPSByYXRlLnRvRml4ZWQoMCkgKyAnJSc7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBsZXQgbnVtID0gNTsKICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lLmxlbmd0aCA+IG51bSA/IG5hbWUuc2xpY2UoMCwgbnVtKSArICcuLi4nIDogbmFtZTsKICAgICAgICAgICAgICAgIC8vIG5hbWUgPSBuYW1lLmxlbmd0aCA+IG51bSA/IHN0clNsaWNlKG5hbWUsIG51bSwgJ1xuJykgOiBuYW1lOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBsZXQgbm9kZSA9IGAke25hbWV9e3N0ckNvbG9yfCR7cmF0ZX19YDsKICAgICAgICAgICAgICByZXR1cm4gbm9kZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmljaDogewogICAgICAgICAgICAgIHN0ckNvbG9yOiB7CiAgICAgICAgICAgICAgICBjb2xvcjogJyNGQTY0MDAnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICB0ZXh0U3R5bGU6IG9iai5jb21tb25Db25maWcucmFkYXJOYW1lVGV4dFN0eWxlCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgdHlwZTogJ3JhZGFyJywKICAgICAgICAgICAgZGF0YTogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHZhbHVlOiBvYmouc2VyaWVzRGF0YSwKICAgICAgICAgICAgICAgIGFyZWFTdHlsZTogewogICAgICAgICAgICAgICAgICBub3JtYWw6IHsKICAgICAgICAgICAgICAgICAgICBjb2xvcjogewogICAgICAgICAgICAgICAgICAgICAgY29sb3JTdG9wczogb2JqLmNvbW1vbkNvbmZpZy5zZXJpZXNBcmVhU3R5bGUuY29sb3JTdG9wcwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIHN5bWJvbFNpemU6IDYsCiAgICAgICAgICAgICAgICBzeW1ib2w6ICdjaXJjbGUnCiAgICAgICAgICAgICAgfQogICAgICAgICAgICBdCiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9OwogICAgICBpZiAodGhpcy5jaGFydCAhPT0gbnVsbCkgdGhpcy5jaGFydC5zZXRPcHRpb24ob3B0aW9uKTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["radar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"radar.vue","sourceRoot":"src/pages/score-analysis-h5/components/echarts","sourcesContent":["<!--\n * @Author: wangxu\n * @Date: 2021-09-24 17:27:16\n * @LastEditTime: 2021-10-15 18:05:27\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: \\mutilwap\\src\\pages\\score-analysis-h5\\components\\echarts\\radar.vue\n-->\n\n<template>\n  <div ref=\"chartsBox\" :style=\"{ height: height + 'rem' }\"></div>\n</template>\n\n<script>\nimport { strSlice } from '../../plugins/common/utils';\n\nexport default {\n  name: 'radar',\n  props: {\n    height: {\n      type: String,\n      default: '2'\n    },\n    // 数据\n    chartsConfig: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  watch: {\n    chartsConfig: {\n      deep: true,\n      handler: 'changeData',\n      immediate: true\n    }\n  },\n  data() {\n    return {\n      chartData: {},\n      chart: null\n    };\n  },\n  mounted() {\n    this.chart = this.$echarts.init(this.$refs.chartsBox);\n    this.initEchartsBox();\n    window.addEventListener('resize', () => {\n      this.chart.resize();\n    });\n    this.$on('hook:destroyed', () => {\n      window.removeEventListener('resize', () => {\n        this.chart.resize();\n      });\n    });\n  },\n  methods: {\n    changeData(newVal) {\n      if (newVal) {\n        this.chartData = newVal;\n        this.initEchartsBox();\n      }\n    },\n    initEchartsBox() {\n      let obj = this.chartData;\n      console.log(obj);\n      let option = {\n        color: obj.commonConfig.color,\n        radar: {\n          splitNumber: obj.commonConfig.splitNumber,\n          indicator: obj.indicator,\n          center: ['50%', '50%'],\n          radius: '63%',\n          name: {\n            formatter: function(name) {\n              let rate = '';\n              let type = obj.commonConfig.formatterType;\n              // 存在，且有百分比\n              if (type && type === 1) {\n                obj.indicator.map((item, index) => {\n                  if (item.name === name) {\n                    rate = obj.seriesData[index] * 100;\n                    rate = rate.toFixed(0) + '%';\n                  }\n                });\n              } else {\n                let num = 5;\n                name = name.length > num ? name.slice(0, num) + '...' : name;\n                // name = name.length > num ? strSlice(name, num, '\\n') : name;\n              }\n              let node = `${name}{strColor|${rate}}`;\n              return node;\n            },\n            rich: {\n              strColor: {\n                color: '#FA6400'\n              }\n            },\n            textStyle: obj.commonConfig.radarNameTextStyle\n          }\n        },\n        series: [\n          {\n            type: 'radar',\n            data: [\n              {\n                value: obj.seriesData,\n                areaStyle: {\n                  normal: {\n                    color: {\n                      colorStops: obj.commonConfig.seriesAreaStyle.colorStops\n                    }\n                  }\n                },\n                symbolSize: 6,\n                symbol: 'circle'\n              }\n            ]\n          }\n        ]\n      };\n      if (this.chart !== null) this.chart.setOption(option);\n    }\n  }\n};\n</script>\n"]}]}