{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/third/HotLineFill.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/h5/views/third/HotLineFill.vue","mtime":1627979214309},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgRm9ybSwKICBGaWVsZCwKICBQb3B1cCwKICBzdGVwcGVyLAogIERhdGV0aW1lUGlja2VyLAogIEJ1dHRvbiwKICBUb2FzdAp9IGZyb20gJ3ZhbnQnOwppbXBvcnQgeyBhamF4QWRkSG90bGluZSB9IGZyb20gJ0AvcGFnZXMvaDUvYXBpL3RoaXJkL2hvdGxpbmUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0hvdExpbmVGaWxsJywKICBjb21wb25lbnRzOiB7CiAgICBbQnV0dG9uLm5hbWVdOiBCdXR0b24sCiAgICBbRGF0ZXRpbWVQaWNrZXIubmFtZV06IERhdGV0aW1lUGlja2VyLAogICAgW0Zvcm0ubmFtZV06IEZvcm0sCiAgICBbRmllbGQubmFtZV06IEZpZWxkLAogICAgW3N0ZXBwZXIubmFtZV06IHN0ZXBwZXIsCiAgICBbUG9wdXAubmFtZV06IFBvcHVwCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0ZTogbnVsbCwgLy/lvZPliY3loavlhpnml6XmnJ8KICAgICAgc2hvd0RhdGVQaWNrZXI6IGZhbHNlLCAvL+aYvuekuuaXpeacn+mAieaLqeW8ueeqlwogICAgICBtaW5EYXRlOiBuZXcgRGF0ZShuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSwgLy8g5pyA5pep5Y+v6YCJ5oup5pel5pyf5Li6N+WkqeWGhQogICAgICBtYXhEYXRlOiBuZXcgRGF0ZSgpLCAvL+acgOaZmuWPr+mAieaLqeaXpeacn+S4uuS7iuWkqQogICAgICBlbnJvbGxDb3VudDogMCwgLy/mi5vnlJ/nlLXor53mlbAKICAgICAgcGlja1Bob25lQ291bnQ6IDAgLy/nlLXor53mjqXlkKzmlbAKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgLy/nibnmrorlpITnkIYtcGPorr7nva5mb250c2l6ZQogICAgd2luZG93Lm9ucmVzaXplID0gdGhpcy5vblJlc2l6ZTsKICAgIHRoaXMub25SZXNpemUoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAvL+aXpeacn+WxleekuuagvOW8j+WMlgogICAgZm9ybWF0RGF0ZSgpIHsKICAgICAgaWYgKCF0aGlzLmRhdGUpIHJldHVybiAnJzsKICAgICAgcmV0dXJuIHRoaXMuJHV0aWwuZGF0ZUNvbnZlcnRlcigneXl5eS1NTS1kZCcsIHRoaXMuZGF0ZSk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+iuvue9ruWkp+S6juS4gOWumuWwuuWvuO+8jOS4jeWGjeaJqeWkp2ZvbnRzaXpl77yM5L2/cGPpobXpnaLkuIrog73kuIDlsY/lsZXnpLrlhajpg6jlhoXlrrkKICAgIG9uUmVzaXplKCkgewogICAgICBjb25zb2xlLmxvZygncmVzaXplJyk7CiAgICAgIGxldCBkb2NFbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgaWYgKGRvY0VsLmNsaWVudFdpZHRoID4gMTAwMCkgZG9jRWwuc3R5bGUuZm9udFNpemUgPSAnMTMwcHgnOwogICAgfSwKICAgIC8v55uR5ZCs5pel5pyf6YCJ5oup5a6M5oiQCiAgICBvbkRhdGVDb25maXJtKHRpbWUpIHsKICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUodGltZSk7CiAgICAgIHRoaXMuc2hvd0RhdGVQaWNrZXIgPSBmYWxzZTsKICAgIH0sCiAgICAvL+aPkOS6pOaVsOaNrgogICAgb25TdWJtaXQoKSB7CiAgICAgIGlmICghdGhpcy5mb3JtYXREYXRlKSB7CiAgICAgICAgVG9hc3QuZmFpbCgn5pel5pyf5pyq5aGr5YaZJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBwYXR0ZXJuID0gL14oKFsxLTldXGQqKXwwKSQvOwogICAgICBpZiAoIXBhdHRlcm4udGVzdCh0aGlzLnBpY2tQaG9uZUNvdW50KSkgewogICAgICAgIFRvYXN0LmZhaWwoJ+eUteivneaOpeWQrOaVsOmHj+W/hemhu+S4uuaVtOaVsCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIXBhdHRlcm4udGVzdCh0aGlzLmVucm9sbENvdW50KSkgewogICAgICAgIFRvYXN0LmZhaWwoJ+aLm+eUn+aVsOmHj+W/hemhu+S4uuaVtOaVsCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgbG9hZGluZyA9IFRvYXN0LmxvYWRpbmcoewogICAgICAgIGR1cmF0aW9uOiAwCiAgICAgIH0pOwogICAgICAvL+iwg+eUqOWhq+aKpeaOpeWPowogICAgICBhamF4QWRkSG90bGluZSh7CiAgICAgICAgZmlsbERhdGU6IHRoaXMuZm9ybWF0RGF0ZSwKICAgICAgICBwaG9uZUNhbGxSZWNlaXZlZDogTnVtYmVyKHRoaXMucGlja1Bob25lQ291bnQpLAogICAgICAgIHJlY3J1aXRQaG9uZTogTnVtYmVyKHRoaXMuZW5yb2xsQ291bnQpCiAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIFRvYXN0LnN1Y2Nlc3MoJ+Whq+aKpeaIkOWKnycpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgVG9hc3QuZmFpbChlLm1lc3NhZ2UgfHwgJ+ezu+e7n+W8guW4uO+8jOivt+eojeWQjuWGjeivlScpOwogICAgICAgIH0pCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["HotLineFill.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HotLineFill.vue","sourceRoot":"src/pages/h5/views/third","sourcesContent":["<template>\n  <div class=\"hot-line-page\">\n    <van-form validate-first ref=\"form\" class=\"hot-line-form\">\n      <div class=\"form-items\">\n        <van-field\n          readonly\n          clickable\n          name=\"datetimePicker\"\n          :value=\"formatDate\"\n          label=\"选择日期\"\n          placeholder=\"点击选择日期\"\n          @click=\"showDatePicker = true\"\n        />\n        <van-field name=\"pickPhoneCount\" label=\"电话接听数量\">\n          <template #input>\n            <van-stepper\n              v-model=\"pickPhoneCount\"\n              input-width=\"60px\"\n              min=\"0\"\n              max=\"2000\"\n              step=\"1\"\n              theme=\"round\"\n            />\n          </template>\n        </van-field>\n        <van-field name=\"enrollCount\" label=\"招生电话数量\">\n          <template #input>\n            <van-stepper\n              v-model=\"enrollCount\"\n              input-width=\"60px\"\n              min=\"0\"\n              max=\"2000\"\n              step=\"1\"\n              theme=\"round\"\n            />\n          </template>\n        </van-field>\n        <van-popup v-model=\"showDatePicker\" position=\"bottom\">\n          <van-datetime-picker\n            type=\"date\"\n            title=\"选择年月日\"\n            :value=\"date\"\n            :min-date=\"minDate\"\n            :max-date=\"maxDate\"\n            @confirm=\"onDateConfirm\"\n            @cancel=\"showDatePicker = false\"\n          />\n        </van-popup>\n      </div>\n    </van-form>\n    <div class=\"btns-bar\">\n      <van-button\n        block\n        class=\"submit-btn\"\n        hairline\n        type=\"primary\"\n        @click=\"onSubmit\"\n        >提交</van-button\n      >\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  Form,\n  Field,\n  Popup,\n  stepper,\n  DatetimePicker,\n  Button,\n  Toast\n} from 'vant';\nimport { ajaxAddHotline } from '@/pages/h5/api/third/hotline';\nexport default {\n  name: 'HotLineFill',\n  components: {\n    [Button.name]: Button,\n    [DatetimePicker.name]: DatetimePicker,\n    [Form.name]: Form,\n    [Field.name]: Field,\n    [stepper.name]: stepper,\n    [Popup.name]: Popup\n  },\n  data() {\n    return {\n      date: null, //当前填写日期\n      showDatePicker: false, //显示日期选择弹窗\n      minDate: new Date(new Date().getTime() - 7 * 24 * 60 * 60 * 1000), // 最早可选择日期为7天内\n      maxDate: new Date(), //最晚可选择日期为今天\n      enrollCount: 0, //招生电话数\n      pickPhoneCount: 0 //电话接听数\n    };\n  },\n  mounted() {\n    //特殊处理-pc设置fontsize\n    window.onresize = this.onResize;\n    this.onResize();\n  },\n  computed: {\n    //日期展示格式化\n    formatDate() {\n      if (!this.date) return '';\n      return this.$util.dateConverter('yyyy-MM-dd', this.date);\n    }\n  },\n  methods: {\n    //设置大于一定尺寸，不再扩大fontsize，使pc页面上能一屏展示全部内容\n    onResize() {\n      console.log('resize');\n      let docEl = document.documentElement;\n      if (docEl.clientWidth > 1000) docEl.style.fontSize = '130px';\n    },\n    //监听日期选择完成\n    onDateConfirm(time) {\n      this.date = new Date(time);\n      this.showDatePicker = false;\n    },\n    //提交数据\n    onSubmit() {\n      if (!this.formatDate) {\n        Toast.fail('日期未填写');\n        return;\n      }\n      let pattern = /^(([1-9]\\d*)|0)$/;\n      if (!pattern.test(this.pickPhoneCount)) {\n        Toast.fail('电话接听数量必须为整数');\n        return;\n      }\n      if (!pattern.test(this.enrollCount)) {\n        Toast.fail('招生数量必须为整数');\n        return;\n      }\n      let loading = Toast.loading({\n        duration: 0\n      });\n      //调用填报接口\n      ajaxAddHotline({\n        fillDate: this.formatDate,\n        phoneCallReceived: Number(this.pickPhoneCount),\n        recruitPhone: Number(this.enrollCount)\n      })\n        .then(res => {\n          Toast.success('填报成功');\n        })\n        .catch(e => {\n          Toast.fail(e.message || '系统异常，请稍后再试');\n        })\n        .finally(() => {\n          loading.close();\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.hot-line-page {\n  position: relative;\n  padding-top: 1rem;\n  .hot-line-form {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    /deep/ .van-stepper--round .van-stepper__input {\n      width: 100px !important;\n    }\n  }\n  .btns-bar {\n    margin-top: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .submit-btn {\n      // margin-left: 1rem;\n      width: 3rem;\n    }\n  }\n}\n</style>\n"]}]}