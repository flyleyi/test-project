{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/teacher-points/add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/teacher-points/add.vue","mtime":1627979214413},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBDYWxlbmRhciwNCiAgRGF0ZXRpbWVQaWNrZXIsDQogIEZvcm0sDQogIFBpY2tlciwNCiAgVG9hc3QsDQogIEltYWdlUHJldmlldywNCiAgVXBsb2FkZXIsDQogIFBvcHVwLA0KICBEaWFsb2csDQogIExvYWRpbmcsDQogIE5vdGlmeQ0KfSBmcm9tICd2YW50JzsNCmltcG9ydCB1dGlscyBmcm9tICdAL3BsdWdpbnMvY29tbW9uL3V0aWxzJzsNCmltcG9ydCB7DQogIGdldFJlcG9ydEF3YXJkRGV0YWlsLA0KICBkZWxldGVSZXBvcnRBd2FyZCwNCiAgYWRkUmVwb3J0QXdhcmQsDQogIGVkaXRSZXBvcnRBd2FyZCwNCiAgc2VsZWN0RGljdGlvbmFyeVdpdGhDaGlsZHJlbiwNCiAgc2VsZWN0RGljdGlvbmFyeVdpdGhMZXZlbExpc3QsDQogIGF3YXJkQXBwcm92ZUxvZw0KfSBmcm9tICdAL3BhZ2VzL3RlYWNoaW5nLXBvaW50cy1oNS9hcGkvdGVhY2hpbmctYWN0aXZpdHkvdGVhY2hpbmctcG9pbnRzJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ3RlYWNoaW5nUG9pbnRzRGV0YWlsJywNCiAgY29tcG9uZW50czogew0KICAgIFtDYWxlbmRhci5uYW1lXTogQ2FsZW5kYXIsDQogICAgW0RhdGV0aW1lUGlja2VyLm5hbWVdOiBEYXRldGltZVBpY2tlciwNCiAgICBbRm9ybS5uYW1lXTogRm9ybSwNCiAgICBbUGlja2VyLm5hbWVdOiBQaWNrZXIsDQogICAgW1VwbG9hZGVyLm5hbWVdOiBVcGxvYWRlciwNCiAgICBbUG9wdXAubmFtZV06IFBvcHVwLA0KICAgIFtMb2FkaW5nLm5hbWVdOiBMb2FkaW5nLA0KICAgIFtOb3RpZnkubmFtZV06IE5vdGlmeQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBmb3JtRGF0YToge30sDQogICAgICBjdXJyZW50RGF0ZTogbmV3IERhdGUoKSwgLy8g5pel5pyf6YCJ5oup5b2T5YmN5pel5pyfDQogICAgICBtYXhEYXRlOiBuZXcgRGF0ZSgpLA0KICAgICAgdGltZVNob3c6IGZhbHNlLCAvLyDlpZbpobnml6XmnJ8NCiAgICAgIHVwbG9hZE9iajogew0KICAgICAgICBsaW1pdDogMTAsIC8vIOacgOWkp+WFgeiuuOS4iuS8oOS4quaVsA0KICAgICAgICBzaXplOiAxMCAvLyDmlofku7blpKflsI8NCiAgICAgIH0sDQogICAgICBiYXNlVXBsb2FkOiB7fSwNCiAgICAgIHRlYWNoaW5nUmVzZWFyY2hTaG93OiBmYWxzZSwgLy8g5piv5ZCm5pi+56S65YWz6IGU5pWZ5a2m56CU56m2DQogICAgICBpc1N0dWRlbnQ6IGZhbHNlLCAvLyDojrflpZblr7nosaHmmK/lkKbkuLrlrabnlJ8NCiAgICAgIGlzQ2hlY2s6IGZhbHNlLCAvLyDmmK/lkKbkuLrmn6XnnIvlvLnmoYYNCiAgICAgIHF1ZXJ5UGFybWFzOiB7DQogICAgICAgIHR5cGU6IG51bGwNCiAgICAgIH0sIC8vIOi3r+eUseWPguaVsA0KICAgICAgYXdhcmRMZXZlbE9wdGlvbnM6IFtdLCAvLyDlpZbpobnnuqfliKvkuIvmi4nmoYYNCiAgICAgIGF3YXJkTGV2ZWxJbmRleDogMCwgLy/lpZbpobnnuqfliKvpu5jorqTpgInkuK3lgLwNCiAgICAgIGF3YXJkTGV2ZWxTaG93OiBmYWxzZSwgLy/lpZbpobnnuqfliKvmmK/lkKbmmL7npLoNCiAgICAgIGF3YXJkTGV2ZWxTaG93MjogZmFsc2UsIC8v5aWW6aG5562J57qn5piv5ZCm5pi+56S6DQogICAgICB3aW5uZXJPcHRpb25zOiBbXSwgLy8g6I635aWW5a+56LGh5LiL5ouJ5qGGDQogICAgICB3aW5uZXJJbmRleDogMCwgLy/ojrflpZblr7nosaHpu5jorqTpgInkuK3lgLwNCiAgICAgIHdpbm5lclNob3c6IGZhbHNlLCAvL+iOt+WlluWvueixoeaYr+WQpuaYvuekug0KICAgICAgb3JnT3B0aW9uczogW10sIC8vIOacuuaehOaAp+i0qOS4i+aLieahhg0KICAgICAgb3JnSW5kZXg6IDAsIC8v5py65p6E5oCn6LSo6buY6K6k6YCJ5Lit5YC8DQogICAgICBsZXZlbE9wdGlvbnM6IFtdLCAvL+Wllumhueetiee6p+S4i+aLieahhg0KICAgICAgbGV2ZWxJbmRleDogMCwgLy8g5aWW6aG5562J57qn6buY6K6k6YCJ5Lit5YC8DQogICAgICBvcmdTaG93OiBmYWxzZSwgLy/mnLrmnoTmgKfotKjmmK/lkKbmmL7npLoNCiAgICAgIGRlbGV0ZUlkc0FycjogW10sIC8vIOiOt+WPlue8lui+keaXtueahOiiq+WIoOmZpOeahOiOt+WlluS6umlk5pWw57uEDQogICAgICBpZHNBcnI6IFtdLCAvLyDojrflj5bnvJbovpHml7bliankvZnojrflpZbkurppZOaVsOe7hA0KICAgICAgaWNvbkRlbGV0ZTogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9pY29uL2ljb24tZGVsZXRlLnBuZycpLA0KICAgICAgaWNvbkVkaXQ6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaWNvbi9pY29uLWVkaXQucG5nJyksDQogICAgICBsb2dUYWJsZURhdGE6IFtdLCAvLyDlrqHmoLjorrDlvZUNCiAgICAgIGlzVXBsb2FkOiBmYWxzZSAvL+aYr+WQpuS4iuS8oOmZhOS7tuS4rQ0KICAgIH07DQogIH0sDQogIGZpbHRlcnM6IHsNCiAgICBmb3JtYXREYXRlKHZhbHVlKSB7DQogICAgICByZXR1cm4gdXRpbHMuZGF0ZUNvbnZlcnRlcigneXl5eS1NTS1kZCBoaDptbTpzcycsIHZhbHVlKTsNCiAgICB9DQogIH0sDQogIC8vIOS+puWQrOWZqA0KICB3YXRjaDogew0KICAgICdmb3JtRGF0YS53aW5uZXJUeXBlJzogew0KICAgICAgLy8g55uR5ZCs6I635aWW5a+56LGh77yM55So5LqO5o6n5Yi25oyH5a+86ICB5biI5Lq65pWw5pi+6ZqQDQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLmlzU3R1ZGVudCA9IG5ld1ZhbHVlID09ICcyMicgPyB0cnVlIDogZmFsc2U7DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgICAgZGVlcDogdHJ1ZQ0KICAgIH0sDQogICAgJ2Zvcm1EYXRhLnN0YW5kYXJkSWRzJzogew0KICAgICAgLyoqDQogICAgICAgKiDnm5HlkKzmoIflh4blpZbpobnlkI3np7DvvIznlKjkuo7mjqfliLblhbPogZTmlZnlrabnoJTnqbbmmL7pmpANCiAgICAgICAqIOmAieaLqeivvumimOaIkOaenCAxMDAwMTHjgIHorrrmloflj5HooaggMTAwMDEz44CB6K665paH6I635aWWIDEwMDAxMu+8jOaYvuekuuWFs+iBlOaVmeWtpueglOeptumAiemhuQ0KICAgICAgICovDQogICAgICBoYW5kbGVyKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgICBjb25zb2xlLmxvZyhuZXdWYWx1ZSwgJ25ld1ZhbHVlJyk7DQogICAgICAgIGlmICgNCiAgICAgICAgICBuZXdWYWx1ZSAmJg0KICAgICAgICAgIG5ld1ZhbHVlLmxlbmd0aCA9PT0gMyAmJg0KICAgICAgICAgIChuZXdWYWx1ZVsxXSA9PT0gMTAwMDExIHx8DQogICAgICAgICAgICBuZXdWYWx1ZVsxXSA9PT0gMTAwMDEyIHx8DQogICAgICAgICAgICBuZXdWYWx1ZVsxXSA9PT0gMTAwMDEzKQ0KICAgICAgICApIHsNCiAgICAgICAgICB0aGlzLnRlYWNoaW5nUmVzZWFyY2hTaG93ID0gdHJ1ZTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLnRlYWNoaW5nUmVzZWFyY2hTaG93ID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBpbW1lZGlhdGU6IHRydWUNCiAgICB9DQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgaWYgKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Zvcm1EYXRhJykpIHsNCiAgICAgIHRoaXMucXVlcnlQYXJtYXMgPSB0aGlzLiRyb3V0ZS5xdWVyeTsNCiAgICAgIHRoaXMuaW5pdEJlZm9yZUZyb21EYXRlKCk7DQogICAgfSBlbHNlIHsNCiAgICAgIGxldCBxdWVyeVBhcm1hcyA9IHsNCiAgICAgICAgdHlwZTogdGhpcy4kcm91dGUucXVlcnkudHlwZSwNCiAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgICB9Ow0KICAgICAgdGhpcy5xdWVyeVBhcm1hcyA9IHRoaXMuJHJvdXRlLnF1ZXJ5Ow0KICAgICAgdGhpcy5pbml0RGF0YSgpOw0KICAgIH0NCiAgICB0aGlzLmluaXQoKTsNCiAgICAvKioNCiAgICAgKiDliqjmgIHkv67mlLl0aXRsZQ0KICAgICAqIOS/ruaUueeahHRpdGxl56ys5LiA5qyh5LiN5Lya5Y+Y77yM5omA5Lul5re75Yqg5LqG5LiA5LiqcmVwbGFjZSzlj4LmlbDmnInkuIDkuKrml7bpl7TmiLMNCiAgICAgKi8NCiAgICBpZiAodGhpcy5xdWVyeVBhcm1hcy50eXBlID09PSAnY2hlY2snKSB7DQogICAgICB0aGlzLmlzQ2hlY2sgPSB0cnVlOw0KICAgICAgdGhpcy4kZGQuYml6Lm5hdmlnYXRpb24uc2V0VGl0bGUoew0KICAgICAgICB0aXRsZTogJ+ivpuaDhScgLy/mjqfliLbmoIfpopjmlofmnKzvvIznqbrlrZfnrKbkuLLooajnpLrmmL7npLrpu5jorqTmlofmnKwNCiAgICAgIH0pOw0KICAgICAgdGhpcy5nZXRBd2FyZEFwcHJvdmVMb2coKTsNCiAgICB9IGVsc2UgaWYgKHRoaXMucXVlcnlQYXJtYXMudHlwZSA9PT0gJ2VkaXQnKSB7DQogICAgICB0aGlzLiRkZC5iaXoubmF2aWdhdGlvbi5zZXRUaXRsZSh7DQogICAgICAgIHRpdGxlOiAn57yW6L6RJyAvL+aOp+WItuagh+mimOaWh+acrO+8jOepuuWtl+espuS4suihqOekuuaYvuekuum7mOiupOaWh+acrA0KICAgICAgfSk7DQogICAgfSBlbHNlIHsNCiAgICAgIHRoaXMuJGRkLmJpei5uYXZpZ2F0aW9uLnNldFRpdGxlKHsNCiAgICAgICAgdGl0bGU6ICfmlrDlu7onIC8v5o6n5Yi25qCH6aKY5paH5pys77yM56m65a2X56ym5Liy6KGo56S65pi+56S66buY6K6k5paH5pysDQogICAgICB9KTsNCiAgICB9DQogICAgdGhpcy5pbml0T3B0aW9uTGlzdCgpOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgaW5pdE9wdGlvbkxpc3QoKSB7DQogICAgICB0aGlzLmdldEF3YXJkTGV2ZWxPcHRpb25zKCk7DQogICAgICB0aGlzLmdldFdpbm5lck9wdGlvbnMoKTsNCiAgICAgIHRoaXMuZ2V0T3JnT3B0aW9ucygpOw0KICAgICAgdGhpcy5nZXRMZXZlbExpc3QoKTsNCiAgICB9LA0KICAgIGFzeW5jIGluaXQoKSB7DQogICAgICBsZXQgX3NlbGYgPSB0aGlzOw0KICAgICAgbGV0IGl0ZW0gPSBbXTsNCiAgICAgIGlmICh0aGlzLnF1ZXJ5UGFybWFzLnR5cGUgPT09ICdhZGQnKSB7DQogICAgICAgIGl0ZW0gPSBbDQogICAgICAgICAgew0KICAgICAgICAgICAgaWQ6ICcxJywNCiAgICAgICAgICAgIHRleHQ6ICflrozmiJAnDQogICAgICAgICAgfQ0KICAgICAgICBdOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnF1ZXJ5UGFybWFzLnR5cGUgPT09ICdlZGl0Jykgew0KICAgICAgICBpdGVtID0gWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIGlkOiAnNCcsDQogICAgICAgICAgICB0ZXh0OiAn5a6M5oiQJw0KICAgICAgICAgIH0NCiAgICAgICAgXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGl0ZW0gPSBbDQogICAgICAgICAgew0KICAgICAgICAgICAgaWQ6ICcyJywNCiAgICAgICAgICAgIGljb25JZDogJ2RlbGV0ZScsDQogICAgICAgICAgICB0ZXh0OiAn5Yig6ZmkJywNCiAgICAgICAgICAgIHVybDogX3NlbGYuaWNvbkRlbGV0ZQ0KICAgICAgICAgIH0sDQogICAgICAgICAgew0KICAgICAgICAgICAgaWQ6ICczJywNCiAgICAgICAgICAgIGljb25JZDogJ2VkaXQnLA0KICAgICAgICAgICAgdGV4dDogJ+e8lui+kScsDQogICAgICAgICAgICB1cmw6IF9zZWxmLmljb25FZGl0DQogICAgICAgICAgfQ0KICAgICAgICBdOw0KICAgICAgfQ0KICAgICAgX3NlbGYuJGRkLmJpei5uYXZpZ2F0aW9uLnNldE1lbnUoew0KICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICcjMjBEMUNEJywNCiAgICAgICAgdGV4dENvbG9yOiAnI0FERDhFNjExJywNCiAgICAgICAgaXRlbXM6IGl0ZW0sDQogICAgICAgIG9uU3VjY2VzczogZnVuY3Rpb24ocmVzKSB7DQogICAgICAgICAgLy8g6LCD55So5oiQ5Yqf5pe25Zue6LCDDQogICAgICAgICAgaWYgKHJlcy5pZCA9PT0gJzEnKSB7DQogICAgICAgICAgICBfc2VsZi5jb25maXJtRGF0YSgpOw0KICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmlkID09PSAnMicpIHsNCiAgICAgICAgICAgIGlmICghX3NlbGYuZm9ybURhdGEuaXNPcGVyYXRlVXBkYXRlKSB7DQogICAgICAgICAgICAgIFRvYXN0LmZhaWwoYCR7X3NlbGYuZm9ybURhdGEuYXdhcmRTdGF0dXNOYW1lfSwg5LiN5Y+v5Yig6ZmkYCk7DQogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF9zZWxmLmhhbmRsZURlbGV0ZSgpOw0KICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmlkID09PSAnMycpIHsNCiAgICAgICAgICAgIGlmICghX3NlbGYuZm9ybURhdGEuaXNPcGVyYXRlVXBkYXRlKSB7DQogICAgICAgICAgICAgIFRvYXN0LmZhaWwoYCR7X3NlbGYuZm9ybURhdGEuYXdhcmRTdGF0dXNOYW1lfSwg5LiN5Y+v57yW6L6RYCk7DQogICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIF9zZWxmLiRkZC5iaXoubmF2aWdhdGlvbi5zZXRUaXRsZSh7DQogICAgICAgICAgICAgIHRpdGxlOiAn57yW6L6RJyAvL+aOp+WItuagh+mimOaWh+acrO+8jOepuuWtl+espuS4suihqOekuuaYvuekuum7mOiupOaWh+acrA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBfc2VsZi5pc0NoZWNrID0gZmFsc2U7DQogICAgICAgICAgICBfc2VsZi5xdWVyeVBhcm1hcy50eXBlID0gJ2VkaXQnOw0KICAgICAgICAgICAgX3NlbGYuaW5pdCgpOw0KICAgICAgICAgICAgX3NlbGYuaW5pdE9wdGlvbkxpc3QoKTsNCiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5pZCA9PT0gJzQnKSB7DQogICAgICAgICAgICBfc2VsZi51cGRhdGVEYXRhKCk7DQogICAgICAgICAgICBfc2VsZi5nZXRBd2FyZEFwcHJvdmVMb2coKTsNCiAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG9uRmFpbDogZnVuY3Rpb24oZXJyKSB7DQogICAgICAgICAgLy8g6LCD55So5aSx6LSl5pe25Zue6LCDDQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQoNCiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRVcGxvYWRJbmZvJyk7DQogICAgICB0aGlzLmJhc2VVcGxvYWQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmJhc2VVcGxvYWQ7DQogICAgfSwNCiAgICAvLyDliJ3lp4vljJbmlbDmja4NCiAgICBpbml0RGF0YSgpIHsNCiAgICAgIC8vIGxldCBxdWVyeVBhcm1hcyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgncXVlcnlQYXJtYXMnKSk7DQogICAgICBpZiAodGhpcy5xdWVyeVBhcm1hcy50eXBlICE9PSAnYWRkJykgew0KICAgICAgICBnZXRSZXBvcnRBd2FyZERldGFpbCh0aGlzLnF1ZXJ5UGFybWFzLmlkKS50aGVuKGFzeW5jIHJlcyA9PiB7DQogICAgICAgICAgbGV0IHJlc0RhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgICBsZXQgd2lubmVyTGlzdCA9IFtdOw0KICAgICAgICAgIGlmIChyZXMuZGF0YS5ndWlkZU51bXMuaW5kZXhPZignLCcpICE9PSAtMSkgew0KICAgICAgICAgICAgbGV0IGd1aWRlTnVtc0FyciA9IHJlcy5kYXRhLmd1aWRlTnVtcy5zcGxpdCgnLCcpOw0KICAgICAgICAgICAgbGV0IHdpbm5lck5hbWVBcnIgPSByZXMuZGF0YS53aW5uZXJOYW1lLnNwbGl0KCcsJyk7DQogICAgICAgICAgICBndWlkZU51bXNBcnIuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICAgICAgd2lubmVyTGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgICBuYW1lOiB3aW5uZXJOYW1lQXJyW2luZGV4XSwNCiAgICAgICAgICAgICAgICBudW06IGl0ZW0NCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgd2lubmVyTGlzdCA9IFsNCiAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG5hbWU6IHJlcy5kYXRhLndpbm5lck5hbWUsDQogICAgICAgICAgICAgICAgbnVtOiByZXMuZGF0YS5ndWlkZU51bXMNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgXTsNCiAgICAgICAgICB9DQogICAgICAgICAgcmVzRGF0YVsnd2lubmVySW5mb0xpc3QnXSA9IHdpbm5lckxpc3Q7DQogICAgICAgICAgYXdhaXQgdGhpcy5pbml0Rm9ybURhdGEocmVzRGF0YSk7DQogICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IG5ldyBEYXRlKHJlc0RhdGEuaXNzdWVEYXRlKTsNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmZvcm1EYXRhID0gew0KICAgICAgICAgIHdpbm5lckluZm9MaXN0OiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgIG5hbWU6ICcnLA0KICAgICAgICAgICAgICBudW06ICcnDQogICAgICAgICAgICB9DQogICAgICAgICAgXSwNCiAgICAgICAgICBzdGFuZGFyZE5hbWVJZDogJycsDQogICAgICAgICAgd2lubmVyVHlwZTogJycsDQogICAgICAgICAgZmlsZUxpc3Q6IFtdDQogICAgICAgIH07DQogICAgICB9DQogICAgICB0aGlzLmN1cnJlbnREYXRlID0gbmV3IERhdGUoKTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybURhdGEpOw0KICAgIH0sDQogICAgLy8g6YeN572u5LmL5YmN5aGr5YaZ5pWw5o2uDQogICAgaW5pdEJlZm9yZUZyb21EYXRlKCkgew0KICAgICAgdGhpcy5pbml0Rm9ybURhdGEoSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdmb3JtRGF0YScpKSk7DQogICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc3JjVHlwZScpKSB7DQogICAgICAgIGxldCBzcmNUeXBlID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzcmNUeXBlJykpOw0KICAgICAgICB0aGlzLmZvcm1EYXRhLnNyY1R5cGUgPSBzcmNUeXBlLmRpY3Rpb25hcnlJZDsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5zcmNUeXBlTmFtZSA9IHNyY1R5cGUuZGljdGlvbmFyeVRleHQ7DQogICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3NyY1R5cGUnKTsNCiAgICAgIH0NCiAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdzdGFuZGFyZElkcycpKSB7DQogICAgICAgIGxldCBzdGFuZGFyZElkcyA9IEpTT04ucGFyc2Uoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnc3RhbmRhcmRJZHMnKSk7DQogICAgICAgIHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMgPSBzdGFuZGFyZElkcy5pZHM7DQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMpOw0KICAgICAgICB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkTmFtZSA9IHN0YW5kYXJkSWRzLm5hbWU7DQogICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3N0YW5kYXJkSWRzJyk7DQogICAgICB9DQogICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGVhY2hpbmdSZXNlYXJjaElkJykpIHsNCiAgICAgICAgbGV0IHRlYWNoaW5nUmVzZWFyY2hJZCA9IEpTT04ucGFyc2UoDQogICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgndGVhY2hpbmdSZXNlYXJjaElkJykNCiAgICAgICAgKTsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS50ZWFjaGluZ1Jlc2VhcmNoSWQgPSB0ZWFjaGluZ1Jlc2VhcmNoSWQuaWQ7DQogICAgICAgIHRoaXMuZm9ybURhdGEudGVhY2hpbmdSZXNlYXJjaE5hbWUgPSBgJHt0ZWFjaGluZ1Jlc2VhcmNoSWQudG9waWNUaGVzaXNOYW1lfSAtICR7dGVhY2hpbmdSZXNlYXJjaElkLmxlYWRlckF1dGhvck5hbWV9YDsNCiAgICAgICAgLy8gc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgndGVhY2hpbmdSZXNlYXJjaElkJyk7DQogICAgICB9DQogICAgICAvLyDliKDpmaQgc2Vzc2lvblN0b3JhZ2Ug55qEZnJvbURhdGHmlbDmja4NCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm9ybURhdGEsICdmb3JtZGF0YScpOw0KICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnZm9ybURhdGEnKTsNCiAgICB9LA0KICAgIC8vIOmHjee9rmZvcm1EYXRh5pWw5o2uDQogICAgaW5pdEZvcm1EYXRhKHJlc0RhdGEpIHsNCiAgICAgIC8vIOiuvue9ruWIneWni+WAvA0KICAgICAgdGhpcy5mb3JtRGF0YSA9IHsNCiAgICAgICAgaWQ6IHJlc0RhdGEuaWQsDQogICAgICAgIGF3YXJkQ29kZTogcmVzRGF0YS5hd2FyZENvZGUsDQogICAgICAgIGlzc3VlRGF0ZTogcmVzRGF0YS5pc3N1ZURhdGUsDQogICAgICAgIHNyY1R5cGU6IHJlc0RhdGEuc3JjVHlwZSwNCiAgICAgICAgaXNzdWVOYW1lOiByZXNEYXRhLmlzc3VlTmFtZSwNCiAgICAgICAgc3RhbmRhcmRJZHM6IHJlc0RhdGEuc3RhbmRhcmRJZHMsDQogICAgICAgIHN0YW5kYXJkTmFtZUlkOiByZXNEYXRhLnN0YW5kYXJkTmFtZUlkLA0KICAgICAgICBpc3N1ZUxldmVsOiByZXNEYXRhLmlzc3VlTGV2ZWwsDQogICAgICAgIGlzc3VlTGV2ZWxOYW1lOiByZXNEYXRhLmlzc3VlTGV2ZWxOYW1lLA0KICAgICAgICBhd2FyZExldmVsSWQ6IHJlc0RhdGEuYXdhcmRMZXZlbElkLA0KICAgICAgICBhd2FyZExldmVsTmFtZTogcmVzRGF0YS5hd2FyZExldmVsTmFtZSwNCiAgICAgICAgd2lubmVyVHlwZTogcmVzRGF0YS53aW5uZXJUeXBlLA0KICAgICAgICB3aW5uZXJUeXBlTmFtZTogcmVzRGF0YS53aW5uZXJUeXBlTmFtZSwNCiAgICAgICAgd2lubmVySW5mb0xpc3Q6IHJlc0RhdGEud2lubmVySW5mb0xpc3QsDQogICAgICAgIG9yZ05hbWU6IHJlc0RhdGEub3JnTmFtZSwNCiAgICAgICAgb3JnVHlwZTogcmVzRGF0YS5vcmdUeXBlLA0KICAgICAgICBvcmdUeXBlTmFtZTogcmVzRGF0YS5vcmdUeXBlTmFtZSwNCiAgICAgICAgcmVtYXJrOiByZXNEYXRhLnJlbWFyaywNCiAgICAgICAgaWRzOiByZXNEYXRhLmlkcywNCiAgICAgICAgZGVsZXRlSWRzOiByZXNEYXRhLmRlbGV0ZUlkcywNCiAgICAgICAgY3JlYXRlVXNlcjogcmVzRGF0YS5jcmVhdGVVc2VyLA0KICAgICAgICB0ZWFjaGluZ1Jlc2VhcmNoSWQ6IHJlc0RhdGEudGVhY2hpbmdSZXNlYXJjaElkLA0KICAgICAgICB0ZWFjaGluZ1Jlc2VhcmNoTmFtZTogcmVzRGF0YS50ZWFjaGluZ1Jlc2VhcmNoTmFtZSwNCiAgICAgICAgd2lubmVyTmFtZTogcmVzRGF0YS53aW5uZXJOYW1lLA0KICAgICAgICBndWlkZU51bXM6IHJlc0RhdGEuZ3VpZGVOdW1zLA0KICAgICAgICBzdGFuZGFyZE5hbWU6IHJlc0RhdGEuc3RhbmRhcmROYW1lLCAvLw0KICAgICAgICBzcmNUeXBlTmFtZTogcmVzRGF0YS5zcmNUeXBlTmFtZSwNCiAgICAgICAgaXNPcGVyYXRlVXBkYXRlOiByZXNEYXRhLmlzT3BlcmF0ZVVwZGF0ZSwgLy8g5piv5ZCm5Y+v57yW6L6RL+WIoOmZpA0KICAgICAgICBhd2FyZFN0YXR1c05hbWU6IHJlc0RhdGEuYXdhcmRTdGF0dXNOYW1lLCAvLyDlvZPliY3nirbmgIHlkI3np7ANCiAgICAgICAgYXdhcmRTdGF0dXM6IHJlc0RhdGEuYXdhcmRTdGF0dXMgLy8g5b2T5YmN54q25oCB6ZSu5YC8DQogICAgICB9Ow0KICAgICAgdGhpcy5pZHNBcnIgPSByZXNEYXRhLmlkcyA/IHJlc0RhdGEuaWRzLnNwbGl0KCcsJykgOiBbXTsgLy8g57uZaWRzQXJy6K6+572u6buY6K6k5YC8DQogICAgICB0aGlzLmRlbGV0ZUlkc0FyciA9IHJlc0RhdGEuZGVsZXRlSWRzID8gcmVzRGF0YS5kZWxldGVJZHMuc3BsaXQoJywnKSA6IFtdOyAvLyDnu5lkZWxldGVJZHNBcnLorr7nva7pu5jorqTlgLwNCiAgICAgIC8vIOa3u+WKoOWIpOaWreaWh+S7tuexu+Weiw0KICAgICAgbGV0IGZpbGVMaXN0ID0gW107DQogICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXNEYXRhLmZpbGVMaXN0KSAmJiByZXNEYXRhLmZpbGVMaXN0Lmxlbmd0aCA+IDApIHsNCiAgICAgICAgcmVzRGF0YS5maWxlTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGxldCBpdGVtVXJsU3BsaXQgPSBpdGVtLnVybCA/IGl0ZW0udXJsLnNwbGl0KCcuJykgOiBbXTsNCiAgICAgICAgICBpdGVtLmZvcm1hdCA9DQogICAgICAgICAgICBpdGVtVXJsU3BsaXQubGVuZ3RoID4gMA0KICAgICAgICAgICAgICA/IGl0ZW1VcmxTcGxpdFtpdGVtVXJsU3BsaXQubGVuZ3RoIC0gMV0udG9Mb3dlckNhc2UoKQ0KICAgICAgICAgICAgICA6ICcnOw0KICAgICAgICB9KTsNCiAgICAgICAgZmlsZUxpc3QgPSByZXNEYXRhLmZpbGVMaXN0Ow0KICAgICAgfQ0KICAgICAgLy8g5bCG5qCH5YeG5aWW6aG55ZCN56ew5pS55Li65pWw57uEDQogICAgICBpZiAodGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcyAmJiB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzID09PSAnLTExMScpIHsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcyA9IFstMSwgLTExLCAtMTExXTsNCiAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgIHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMgJiYNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcyAhPT0gJy0xMTEnDQogICAgICApIHsNCiAgICAgICAgaWYgKHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMgaW5zdGFuY2VvZiBBcnJheSkgew0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMgPSB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzDQogICAgICAgICAgICAuc3BsaXQoJywnKQ0KICAgICAgICAgICAgLm1hcChOdW1iZXIpOyAvLyDlsIblrZfnrKbkuLLovazmlbDnu4TlubbovazkuLrmlbDlrZcNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybURhdGEsICdmaWxlTGlzdCcsIGZpbGVMaXN0KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOiOt+WPluWuoeaguOiusOW9lQ0KICAgICAqLw0KICAgIGdldEF3YXJkQXBwcm92ZUxvZygpIHsNCiAgICAgIGF3YXJkQXBwcm92ZUxvZyh0aGlzLnF1ZXJ5UGFybWFzLmlkKQ0KICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAgIHRoaXMubG9nVGFibGVEYXRhID0gcmVzLmRhdGE7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIFRvYXN0LmZhaWwocmVzLm1lc3NhZ2UpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsNCiAgICB9LA0KICAgIC8vIOiOt+WPluWllumhueaXtumXtA0KICAgIG9uQ29uZmlybShkYXRlKSB7DQogICAgICB0aGlzLnRpbWVTaG93ID0gZmFsc2U7DQogICAgICBjb25zb2xlLmxvZyhkYXRlKTsNCiAgICAgIHRoaXMuZm9ybURhdGEuaXNzdWVEYXRlID0gdXRpbHMuZGF0ZUNvbnZlcnRlcigneXl5eS1NTS1kZCcsIGRhdGUpOw0KICAgIH0sDQogICAgaGFuZGxlUHJpemVMZXZlbCh2YWx1ZSkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5wcml6ZUxldmVsID0gdmFsdWU7DQogICAgICB0aGlzLnNob3dQcml6ZUxldmVsID0gZmFsc2U7DQogICAgfSwNCiAgICBnZXRSZXNXaW5uZXJJbmZvKCkgew0KICAgICAgLy8g6I635Y+W6I635aWW5Lq65L+h5oGvDQogICAgICBsZXQgd2lubmVyTmFtZUxpc3QgPSBbXTsNCiAgICAgIGxldCBndWlkZU51bXNMaXN0ID0gW107DQogICAgICBpZiAodGhpcy5mb3JtRGF0YS53aW5uZXJJbmZvTGlzdCkgew0KICAgICAgICB0aGlzLmZvcm1EYXRhLndpbm5lckluZm9MaXN0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgd2lubmVyTmFtZUxpc3QucHVzaChpdGVtLm5hbWUpOw0KICAgICAgICAgIGd1aWRlTnVtc0xpc3QucHVzaCh0aGlzLmZvcm1EYXRhLndpbm5lckluZm9MaXN0WzBdLm51bSk7DQogICAgICAgIH0pOw0KICAgICAgICB0aGlzLmZvcm1EYXRhLndpbm5lck5hbWUgPSB3aW5uZXJOYW1lTGlzdC5qb2luKCcsJyk7DQogICAgICAgIHRoaXMuZm9ybURhdGEuZ3VpZGVOdW1zID0gZ3VpZGVOdW1zTGlzdC5qb2luKCcsJyk7DQogICAgICB9DQogICAgfSwNCiAgICAvLyDpgInmi6nmlbDmja7mnaXmupANCiAgICAvKioNCiAgICAgKiBAcGFyYW0ge3R5cGV9IFN0cmluZyDnlKjkuo7liKTmlq3pgInmi6nnsbvlnosNCiAgICAgKi8NCiAgICBjaGFuZ2VTb3VyY2UodHlwZSkgew0KICAgICAgaWYgKHRoaXMuaXNDaGVjaykgew0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdmb3JtRGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybURhdGEpKTsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgcGF0aDogJy90ZWFjaGVyLXBvaW50cy9hZGRPcHRpb24nLA0KICAgICAgICBxdWVyeTogew0KICAgICAgICAgIHR5cGU6IHR5cGUsDQogICAgICAgICAgdGVhY2hJZDogdGhpcy5mb3JtRGF0YS50ZWFjaGluZ1Jlc2VhcmNoSWQgfHwgJycsDQogICAgICAgICAgcGF0aFR5cGU6IHRoaXMucXVlcnlQYXJtYXMudHlwZSwNCiAgICAgICAgICBwYXRoSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkDQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgYmVmb3JlUmVhZChmaWxlKSB7DQogICAgICBjb25zb2xlLmxvZyhmaWxlKTsNCiAgICAgIC8vIOaUr+aMgeS4iuS8oOeahOWbvueJh+exu+Weiw0KICAgICAgY29uc3QgaW1nVHlwZSA9IFsNCiAgICAgICAgJ2pwZycsDQogICAgICAgICdwbmcnLA0KICAgICAgICAnYm1wJywNCiAgICAgICAgJ2RvYycsDQogICAgICAgICdkb2N4JywNCiAgICAgICAgJ3hscycsDQogICAgICAgICd4bHN4JywNCiAgICAgICAgJ3BkZicsDQogICAgICAgICdqcGVnJywNCiAgICAgICAgJ2hlaWMnLA0KICAgICAgICAndGlmJywNCiAgICAgICAgJ3RpZmYnDQogICAgICBdOw0KICAgICAgLy8g5Yik5pat5piv5ZCm5LiK5Lyg5aSa5bygDQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZpbGUpID09ICdbb2JqZWN0IEFycmF5XScpIHsNCiAgICAgICAgaWYgKA0KICAgICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5mb3JtRGF0YS5maWxlTGlzdCkgJiYNCiAgICAgICAgICB0aGlzLmZvcm1EYXRhLmZpbGVMaXN0Lmxlbmd0aCArIGZpbGUubGVuZ3RoID4gdGhpcy51cGxvYWRPYmoubGltaXQNCiAgICAgICAgKSB7DQogICAgICAgICAgVG9hc3QuZmFpbChg6ZmE5Lu25YWB6K645LiK5Lyg5LiK6ZmQ5Li6JHt0aGlzLnVwbG9hZE9iai5saW1pdH3kuKpgKTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgbGV0IGV4Y2VlZFNpemUgPQ0KICAgICAgICAgIGZpbGUuZmluZEluZGV4KA0KICAgICAgICAgICAgaXRlbSA9PiBpdGVtLnNpemUgLyAxMDI0IC8gMTAyNCA+PSB0aGlzLnVwbG9hZE9iai5zaXplDQogICAgICAgICAgKSA9PT0gLTE7DQogICAgICAgIGlmICghZXhjZWVkU2l6ZSkgew0KICAgICAgICAgIFRvYXN0LmZhaWwoJ+WNleS4quaWh+S7tuacgOWkp+aUr+aMgScgKyB0aGlzLnVwbG9hZE9iai5zaXplICsgJ00nKTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgdHJ5IHsNCiAgICAgICAgICBmaWxlLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBsZXQgZmlsZVR5cGUgPSBpdGVtLm5hbWUNCiAgICAgICAgICAgICAgLnN1YnN0cmluZyhpdGVtLm5hbWUubGFzdEluZGV4T2YoJy4nKSArIDEpDQogICAgICAgICAgICAgIC50b0xvd2VyQ2FzZSgpOw0KICAgICAgICAgICAgaWYgKGltZ1R5cGUuaW5kZXhPZihmaWxlVHlwZSkgPT09IC0xKSB7DQogICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcign5qC85byP5LiN5pSv5oyBJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICBUb2FzdC5mYWlsKGUubWVzc2FnZSk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBsZXQgZmlsZVR5cGUgPSBmaWxlLm5hbWUNCiAgICAgICAgICAuc3Vic3RyaW5nKGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpICsgMSkNCiAgICAgICAgICAudG9Mb3dlckNhc2UoKTsNCiAgICAgICAgaWYgKGltZ1R5cGUuaW5kZXhPZihmaWxlVHlwZSkgPT09IC0xKSB7DQogICAgICAgICAgVG9hc3QuZmFpbCgn5qC85byP5LiN5pSv5oyBJyk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICAgIGlmICgNCiAgICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuZm9ybURhdGEuZmlsZUxpc3QpICYmDQogICAgICAgICAgdGhpcy5mb3JtRGF0YS5maWxlTGlzdC5sZW5ndGggKyAxID4gdGhpcy51cGxvYWRPYmoubGltaXQNCiAgICAgICAgKSB7DQogICAgICAgICAgVG9hc3QuZmFpbChg6ZmE5Lu25YWB6K645LiK5Lyg5LiK6ZmQ5Li6JHt0aGlzLnVwbG9hZE9iai5saW1pdH3kuKpgKTsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0ID49IHRoaXMudXBsb2FkT2JqLnNpemUpIHsNCiAgICAgICAgICBUb2FzdC5mYWlsKCfljZXkuKrmlofku7bmnIDlpKfmlK/mjIEnICsgdGhpcy51cGxvYWRPYmouc2l6ZSArICdNJyk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIEFmdGVyUmVhZChmaWxlKSB7DQogICAgICB0aGlzLmlzVXBsb2FkID0gdHJ1ZTsNCiAgICAgIGNvbnNvbGUubG9nKGZpbGUsIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmaWxlKSk7DQogICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGZpbGUpICE9ICdbb2JqZWN0IEFycmF5XScpIHsNCiAgICAgICAgbGV0IGZkID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgIGZkLmFwcGVuZCgna2V5JywgdGhpcy5iYXNlVXBsb2FkLmRpciArIGZpbGUuZmlsZS5uYW1lKTsNCiAgICAgICAgZmQuYXBwZW5kKCdvc3NBY2Nlc3NLZXlJZCcsIHRoaXMuYmFzZVVwbG9hZC5hY2Nlc3NpZCk7DQogICAgICAgIGZkLmFwcGVuZCgncG9saWN5JywgdGhpcy5iYXNlVXBsb2FkLnBvbGljeSk7DQogICAgICAgIGZkLmFwcGVuZCgnc2lnbmF0dXJlJywgdGhpcy5iYXNlVXBsb2FkLnNpZ25hdHVyZSk7DQogICAgICAgIGZkLmFwcGVuZCgnc3VjY2Vzc19hY3Rpb25fc3RhdHVzJywgJzIwMCcpOw0KICAgICAgICBmZC5hcHBlbmQoJ2RpcicsIHRoaXMuYmFzZVVwbG9hZC5kaXIpOw0KICAgICAgICBmZC5hcHBlbmQoJ2NhbGxiYWNrJywgdGhpcy5iYXNlVXBsb2FkLmNhbGxiYWNrKTsNCiAgICAgICAgZmQuYXBwZW5kKCdmaWxlJywgZmlsZS5maWxlKTsNCiAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgICAgdXJsOiB0aGlzLmJhc2VVcGxvYWQuaG9zdCwNCiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICBkYXRhOiBmZA0KICAgICAgICB9KQ0KICAgICAgICAgIC50aGVuKHJlcyA9PiB7DQogICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgLy8gZGF0YS51cmwgPSByZXMuZGF0YS5yZXNvdXJjZVVybDsNCiAgICAgICAgICAgIGRhdGEudXJsID0gcmVzLmRhdGEucmVzb3VyY2VVcmw7DQogICAgICAgICAgICB0aGlzLmZvcm1EYXRhLmZpbGVMaXN0LnB1c2gocmVzLmRhdGEpOyAvL+i/memHjOS4iuS8oOWIsOaMh+WumueahOWbvueJh+acjeWKoeWZqO+8jOaIkOWKn+WQjuS8mui/lOWbnuWbvueJh+eahHVybA0KICAgICAgICAgICAgdGhpcy5pc1VwbG9hZCA9IGZhbHNlOw0KICAgICAgICAgIH0pDQogICAgICAgICAgLmNhdGNoKGVyciA9PiB7DQogICAgICAgICAgICBUb2FzdC5mYWlsKGVyci5tZXNzYWdlKTsNCiAgICAgICAgICAgIHRoaXMuaXNVcGxvYWQgPSBmYWxzZTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGxldCB1cGxvYWROdW0gPSAwOyAvL+S4iuS8oOaIkOWKn+aVsOmHjw0KICAgICAgICBmaWxlLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgbGV0IGZkID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICAgICAgZmQuYXBwZW5kKCdrZXknLCB0aGlzLmJhc2VVcGxvYWQuZGlyICsgaXRlbS5maWxlLm5hbWUpOw0KICAgICAgICAgIGZkLmFwcGVuZCgnb3NzQWNjZXNzS2V5SWQnLCB0aGlzLmJhc2VVcGxvYWQuYWNjZXNzaWQpOw0KICAgICAgICAgIGZkLmFwcGVuZCgncG9saWN5JywgdGhpcy5iYXNlVXBsb2FkLnBvbGljeSk7DQogICAgICAgICAgZmQuYXBwZW5kKCdzaWduYXR1cmUnLCB0aGlzLmJhc2VVcGxvYWQuc2lnbmF0dXJlKTsNCiAgICAgICAgICBmZC5hcHBlbmQoJ3N1Y2Nlc3NfYWN0aW9uX3N0YXR1cycsICcyMDAnKTsNCiAgICAgICAgICBmZC5hcHBlbmQoJ2RpcicsIHRoaXMuYmFzZVVwbG9hZC5kaXIpOw0KICAgICAgICAgIGZkLmFwcGVuZCgnY2FsbGJhY2snLCB0aGlzLmJhc2VVcGxvYWQuY2FsbGJhY2spOw0KICAgICAgICAgIGZkLmFwcGVuZCgnZmlsZScsIGl0ZW0uZmlsZSk7DQogICAgICAgICAgdGhpcy5heGlvcyh7DQogICAgICAgICAgICB1cmw6IHRoaXMuYmFzZVVwbG9hZC5ob3N0LA0KICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICBkYXRhOiBmZA0KICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICBsZXQgZGF0YSA9IHJlcy5kYXRhOw0KICAgICAgICAgICAgICBkYXRhLnVybCA9IHJlcy5kYXRhLnJlc291cmNlVXJsOw0KICAgICAgICAgICAgICB0aGlzLmZvcm1EYXRhLmZpbGVMaXN0LnB1c2gocmVzLmRhdGEpOyAvL+i/memHjOS4iuS8oOWIsOaMh+WumueahOWbvueJh+acjeWKoeWZqO+8jOaIkOWKn+WQjuS8mui/lOWbnuWbvueJh+eahHVybA0KICAgICAgICAgICAgICB1cGxvYWROdW0gKz0gMTsNCiAgICAgICAgICAgICAgaWYgKHVwbG9hZE51bSA9PT0gZmlsZS5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmlzVXBsb2FkID0gZmFsc2U7DQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgICAgICAgVG9hc3QuZmFpbChlcnIubWVzc2FnZSk7DQogICAgICAgICAgICAgIHRoaXMuaXNVcGxvYWQgPSBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGRlbGV0ZUltZyhpbmRleCkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5maWxlTGlzdC5zcGxpY2UoaW5kZXgsIDEpOw0KICAgIH0sDQogICAgaGFuZGxlQWRkV2lubmVyKCkgew0KICAgICAgLy8g5re75Yqg6I635aWW5Lq6DQogICAgICBpZiAodGhpcy5mb3JtRGF0YS53aW5uZXJJbmZvTGlzdC5sZW5ndGggPD0gNSkgew0KICAgICAgICB0aGlzLmZvcm1EYXRhLndpbm5lckluZm9MaXN0LnB1c2goeyBuYW1lOiAnJywgbnVtOiAnJyB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIFRvYXN0KHsNCiAgICAgICAgICB0eXBlOiAnZmFpbCcsDQogICAgICAgICAgbWVzc2FnZTogJ+acgOWkmuWhq+WGmeWFreS9jeiOt+WlluS6uuWnk+WQjScNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVSZW1vdmVXaW5uZXIoaW5kZXgpIHsNCiAgICAgIC8vIOWIoOmZpOiOt+WlluS6ug0KICAgICAgdGhpcy5kZWxldGVJZHNBcnIucHVzaCh0aGlzLmlkc0Fyci5zcGxpY2UoaW5kZXgsIDEpLnRvU3RyaW5nKCkpOw0KICAgICAgdGhpcy5mb3JtRGF0YS53aW5uZXJJbmZvTGlzdC5zcGxpY2UoaW5kZXgsIDEpOw0KICAgIH0sDQogICAgLy8g5Zu+54mH54K55Ye7DQogICAgcHJldmlld0ltZyhmaWxlKSB7DQogICAgICAvLyDojrflj5bmlofku7bnsbvlnosNCiAgICAgIGNvbnN0IGltZ1R5cGUgPSBbDQogICAgICAgICdqcGcnLA0KICAgICAgICAnSlBHJywNCiAgICAgICAgJ3BuZycsDQogICAgICAgICdQTkcnLA0KICAgICAgICAnYm1wJywNCiAgICAgICAgJ0JNUCcsDQogICAgICAgICdqcGVnJywNCiAgICAgICAgJ0pQRUcnLA0KICAgICAgICAnaGVpYycsDQogICAgICAgICdIRUlDJywNCiAgICAgICAgJ3RpZicsDQogICAgICAgICdUSUYnLA0KICAgICAgICAndGlmZicsDQogICAgICAgICdUSUZGJw0KICAgICAgXTsNCiAgICAgIGNvbnN0IHdvcmRUeXBlID0gWydkb2MnLCAnRE9DJywgJ2RvY3gnLCAnRE9DWCddOw0KICAgICAgY29uc3QgZXhjZWxUeXBlID0gWyd4bHMnLCAnWExTJywgJ3hsc3gnLCAnWExTWCddOw0KICAgICAgY29uc3QgcGRmVHlwZSA9IFsncGRmJywgJ1BERiddOw0KICAgICAgaWYgKHBkZlR5cGUuaW5kZXhPZihmaWxlLmZvcm1hdCkgIT09IC0xKSB7DQogICAgICAgIGxldCB1cmwgPSBgL3BkZi1wcmV2aWV3L3dlYi92aWV3ZXIuaHRtbD9maWxlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KA0KICAgICAgICAgIHRoaXMuZW5jb2RlVVJJQ29tcG9uZW50RmlsZShmaWxlLnVybCkNCiAgICAgICAgKX1gOw0KICAgICAgICAvLyB3aW5kb3cub3Blbih1cmwpOw0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgbmFtZTogJ2NvdXJzZVJlc2VhcmNoUHJldmlldycsDQogICAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICAgIHVybDogdXJsLA0KICAgICAgICAgICAgdGl0bGU6IGZpbGUubmFtZSB8fCAncGRm5paH5Lu26aKE6KeIJw0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICB9IGVsc2UgaWYgKHdvcmRUeXBlLmluZGV4T2YoZmlsZS5mb3JtYXQpICE9PSAtMSkgew0KICAgICAgICB0aGlzLm9wZW5PZmZpY2VQcmV2aWV3KGZpbGUpOw0KICAgICAgfSBlbHNlIGlmIChleGNlbFR5cGUuaW5kZXhPZihmaWxlLmZvcm1hdCkgIT09IC0xKSB7DQogICAgICAgIC8vIHdpbmRvdy5vcGVuKGZpbGUudXJsKTsNCiAgICAgICAgdGhpcy5vcGVuT2ZmaWNlUHJldmlldyhmaWxlKTsNCiAgICAgIH0gZWxzZSBpZiAoaW1nVHlwZS5pbmRleE9mKGZpbGUuZm9ybWF0KSAhPT0gLTEpIHsNCiAgICAgICAgY29uc3QgbGlzdCA9IHRoaXMuZm9ybURhdGEuZmlsZUxpc3QuZmlsdGVyKA0KICAgICAgICAgIGl0ZW0gPT4gaW1nVHlwZS5pbmRleE9mKGl0ZW0uZm9ybWF0KSAhPT0gLTENCiAgICAgICAgKTsNCiAgICAgICAgbGV0IHJlc0xpc3QgPSBbXTsNCiAgICAgICAgbGV0IGltZ0luZGV4ID0gLTE7DQogICAgICAgIC8qKg0KICAgICAgICAgKiDojrflj5bpooTop4jliJfooajkuI7lm77niYfpooTop4jotbflp4vkvY3nva7ntKLlvJUNCiAgICAgICAgICogcmVzb3VyY2VJZOivpuaDheaOpeWPo+i/lOWbnueahOWbvueJh2lk77yMZmlsZUlkIOWbvueJh+S4iuS8oOeahOaOpeWPo+i/lOWbnueahOWbvueJh2lkDQogICAgICAgICAqLw0KICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7DQogICAgICAgICAgcmVzTGlzdC5wdXNoKGl0ZW0udXJsKTsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICAoaXRlbS5yZXNvdXJjZUlkIHx8IGl0ZW0uZmlsZUlkKSA9PT0NCiAgICAgICAgICAgIChmaWxlLnJlc291cmNlSWQgfHwgZmlsZS5maWxlSWQpDQogICAgICAgICAgKSB7DQogICAgICAgICAgICBpbWdJbmRleCA9IGluZGV4Ow0KICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgICAgIEltYWdlUHJldmlldyh7DQogICAgICAgICAgc3RhcnRQb3NpdGlvbjogaW1nSW5kZXgsDQogICAgICAgICAgaW1hZ2VzOiByZXNMaXN0DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY29uc29sZS5sb2coJ+ivpeaWh+S7tuagvOW8j+mUmeivr++8gScpOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBvcGVuT2ZmaWNlUHJldmlldyhmaWxlKSB7DQogICAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDsNCiAgICAgIGNvbnNvbGUubG9nKCd1c2VyQWdlbnQnLCB1c2VyQWdlbnQpOw0KICAgICAgdmFyIGlzQW5kcm9pZCA9DQogICAgICAgIHVzZXJBZ2VudC5pbmRleE9mKCdBbmRyb2lkJykgPiAtMSB8fCB1c2VyQWdlbnQuaW5kZXhPZignQWRyJykgPiAtMTsgLy9hbmRyb2lk57uI56uvDQogICAgICB2YXIgaXNpT1MgPSAhIXVzZXJBZ2VudC5tYXRjaCgvXChpW147XSs7KCBVOyk/IENQVS4rTWFjIE9TIFgvKTsgLy9pb3Pnu4jnq68NCiAgICAgIGlmIChpc0FuZHJvaWQpIHsNCiAgICAgICAgTm90aWZ5KHsNCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsDQogICAgICAgICAgbWVzc2FnZToNCiAgICAgICAgICAgICfogIHluIjmgqjlpb3vvIzpkonpkonnp7vliqjnq6/nm67liY3kuI3mlK/mjIHlnKjnur/pooTop4h3b3Jk44CBcHB05ZKMZXhjZWzmoLzlvI/mlofku7bvvIzor7fliLDnlLXohJHnq6/mn6XnnIvvvIEnDQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgd2luZG93Lm9wZW4oDQogICAgICAgICAgYGh0dHBzOi8vdmlldy5vZmZpY2VhcHBzLmxpdmUuY29tL29wL3ZpZXcuYXNweD9zcmM9JHtlbmNvZGVVUklDb21wb25lbnQoDQogICAgICAgICAgICB0aGlzLmVuY29kZVVSSUNvbXBvbmVudEZpbGUoZmlsZS51cmwpDQogICAgICAgICAgKX1gDQogICAgICAgICk7DQogICAgICB9DQogICAgfSwNCiAgICBlbmNvZGVVUklDb21wb25lbnRGaWxlKHVybCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgaWYgKHVybCkgew0KICAgICAgICAgIGxldCB1cmwxID0gdXJsLnN1YnN0cmluZygwLCB1cmwubGFzdEluZGV4T2YoJy8nKSArIDEpOw0KICAgICAgICAgIGxldCBmaWxlVXJsID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy8nKSArIDEsIHVybC5sZW5ndGgpOw0KICAgICAgICAgIHJldHVybiB1cmwxICsgZW5jb2RlVVJJQ29tcG9uZW50KGZpbGVVcmwpOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsNCiAgICAgICAgcmV0dXJuICcnOw0KICAgICAgfQ0KICAgIH0sDQoNCiAgICBpc1JlcGVhdE5hbWUoKSB7DQogICAgICAvLyDpqozor4Hph43lpI3lhYPntKDvvIzmnInph43lpI3ov5Tlm550cnVl77yb5ZCm5YiZ6L+U5ZueZmFsc2UNCiAgICAgIGNvbnN0IGFyciA9IHRoaXMuZm9ybURhdGEud2lubmVyTmFtZS5zcGxpdCgnLCcpOw0KICAgICAgdmFyIGhhc2ggPSB7fTsNCiAgICAgIGZvciAodmFyIGkgaW4gYXJyKSB7DQogICAgICAgIGlmIChoYXNoW2FycltpXV0pIHsNCiAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICAvLyDkuI3lrZjlnKjor6XlhYPntKDvvIzliJnotYvlgLzkuLp0cnVl77yM5Y+v5Lul6LWL5Lu75oSP5YC877yM55u45bqU55qE5L+u5pS5aWbliKTmlq3mnaHku7bljbPlj68NCiAgICAgICAgaGFzaFthcnJbaV1dID0gdHJ1ZTsNCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9LA0KICAgIGNvbmZpcm1EYXRhKCkgew0KICAgICAgLy8g5re75Yqg5aWW6aG5DQogICAgICAvLyB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKS50aGVuKCgpID0+IHsNCiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5pc3N1ZURhdGUpIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+36YCJ5oup6I635aWW5pel5pyfJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZm9ybURhdGEuaXNzdWVOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+i+k+WFpeWllumhueWQjeensCcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhLmlzc3VlTGV2ZWxOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+mAieaLqeWllumhuee6p+WIqycpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhLmF3YXJkTGV2ZWxJZCkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nlpZbpobnnrYnnuqcnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS5zcmNUeXBlTmFtZSkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nmnaXmupDnsbvlnosnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS5zdGFuZGFyZE5hbWUpIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+36YCJ5oup5qCH5YeG5aWW6aG55ZCN56ewJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgIHRoaXMudGVhY2hpbmdSZXNlYXJjaFNob3cgJiYNCiAgICAgICAgIXRoaXMuZm9ybURhdGEudGVhY2hpbmdSZXNlYXJjaE5hbWUNCiAgICAgICkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nlhbPogZTmlZnlrabnoJTnqbYnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS53aW5uZXJUeXBlTmFtZSkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nojrflpZblr7nosaEnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS5vcmdOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+i+k+WFpemigeWPkeacuuaehCcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhLm9yZ1R5cGVOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+mAieaLqeacuuaehOaAp+i0qCcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybURhdGEuZmlsZUxpc3QubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+35LiK5Lyg6K+B5piO6ZmE5Lu2Jyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YS53aW5uZXJJbmZvTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgaWYgKCFpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfor7fovpPlhaXojrflpZbkurrlp5PlkI0nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0aGlzLmlzU3R1ZGVudCkgew0KICAgICAgICAgICAgICBpZiAoIXRoaXMuZm9ybURhdGEud2lubmVySW5mb0xpc3RbMF0ubnVtKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfor7fovpPlhaXmjIflr7zogIHluIjkurrmlbAnKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpdGVtLm51bSA9IHRoaXMuZm9ybURhdGEud2lubmVySW5mb0xpc3RbMF0ubnVtOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICBUb2FzdC5mYWlsKGUubWVzc2FnZSk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgICAvLyDmoKHpqowNCiAgICAgIHRoaXMuZ2V0UmVzV2lubmVySW5mbygpOw0KICAgICAgaWYgKCF0aGlzLmlzUmVwZWF0TmFtZSgpKSB7DQogICAgICAgIHRoaXMuZm9ybURhdGEuc3RhbmRhcmROYW1lSWQgPSB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzDQogICAgICAgICAgPyB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkSWRzW3RoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHMubGVuZ3RoIC0gMV0NCiAgICAgICAgICA6ICcnOw0KICAgICAgICB0aGlzLmZvcm1EYXRhLmZpbGVMaXN0LmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgaXRlbS5uYW1lID0gaXRlbS5maWxlTmFtZSB8fCBpdGVtLm5hbWU7DQogICAgICAgIH0pOw0KICAgICAgICBhZGRSZXBvcnRBd2FyZCh0aGlzLmZvcm1EYXRhKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgVG9hc3Qoew0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIC8vIENvb2tpZXMucmVtb3ZlKHRoaXMuc3RhZmZDb2RlKTsgLy8g5o+Q5Lqk5oiQ5Yqf5ZCO5Yig6Zmk5LmL5YmNY29va2ll57yT5a2YDQogICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbSgnZm9ybURhdGEnKTsgLy8g5o+Q5Lqk5oiQ5Yqf5ZCO5Yig6Zmk5LmL5YmN57yT5a2YDQogICAgICAgICAgICB0aGlzLiRyb3V0ZXINCiAgICAgICAgICAgICAgLnB1c2goew0KICAgICAgICAgICAgICAgIHBhdGg6ICcvdGVhY2hlci1wb2ludHMvaW5kZXgnDQogICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIFRvYXN0KHsNCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLA0KICAgICAgICAgICAgICBtZXNzYWdlOiByZXMubWVzc2FnZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuaXNDaGVjayA9IHRydWU7DQogICAgICAgIH0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgVG9hc3Qoew0KICAgICAgICAgIHR5cGU6ICdmYWlsJywNCiAgICAgICAgICBtZXNzYWdlOiAn6I635aWW5Lq65aeT5ZCN6YeN5aSNJw0KICAgICAgICB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgLy8gfSk7DQogICAgfSwNCiAgICB1cGRhdGVEYXRhKCkgew0KICAgICAgLy8g57yW6L6RDQogICAgICAvLyB0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKS50aGVuKCgpID0+IHsNCiAgICAgIGlmICghdGhpcy5mb3JtRGF0YS5pc3N1ZURhdGUpIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+36YCJ5oup6I635aWW5pel5pyfJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuZm9ybURhdGEuaXNzdWVOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+i+k+WFpeWllumhueWQjeensCcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhLmlzc3VlTGV2ZWxOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+mAieaLqeWllumhuee6p+WIqycpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhLmF3YXJkTGV2ZWxJZCkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nlpZbpobnnrYnnuqcnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS5zcmNUeXBlTmFtZSkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nmnaXmupDnsbvlnosnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS5zdGFuZGFyZE5hbWUpIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+36YCJ5oup5qCH5YeG5aWW6aG55ZCN56ewJyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSBpZiAoDQogICAgICAgIHRoaXMudGVhY2hpbmdSZXNlYXJjaFNob3cgJiYNCiAgICAgICAgIXRoaXMuZm9ybURhdGEudGVhY2hpbmdSZXNlYXJjaE5hbWUNCiAgICAgICkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nlhbPogZTmlZnlrabnoJTnqbYnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS53aW5uZXJUeXBlTmFtZSkgew0KICAgICAgICBUb2FzdC5mYWlsKCfor7fpgInmi6nojrflpZblr7nosaEnKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfSBlbHNlIGlmICghdGhpcy5mb3JtRGF0YS5vcmdOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+i+k+WFpemigeWPkeacuuaehCcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLmZvcm1EYXRhLm9yZ1R5cGVOYW1lKSB7DQogICAgICAgIFRvYXN0LmZhaWwoJ+ivt+mAieaLqeacuuaehOaAp+i0qCcpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9IGVsc2UgaWYgKHRoaXMuZm9ybURhdGEuZmlsZUxpc3QubGVuZ3RoIDw9IDApIHsNCiAgICAgICAgVG9hc3QuZmFpbCgn6K+35LiK5Lyg6K+B5piO6ZmE5Lu2Jyk7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgdGhpcy5mb3JtRGF0YS53aW5uZXJJbmZvTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgICAgaWYgKCFpdGVtLm5hbWUpIHsNCiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfor7fovpPlhaXojrflpZbkurrlp5PlkI0nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmICh0aGlzLmlzU3R1ZGVudCkgew0KICAgICAgICAgICAgICBpZiAoIXRoaXMuZm9ybURhdGEud2lubmVySW5mb0xpc3RbMF0ubnVtKSB7DQogICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCfor7fovpPlhaXmjIflr7zogIHluIjkurrmlbAnKTsNCiAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBpdGVtLm51bSA9IHRoaXMuZm9ybURhdGEud2lubmVySW5mb0xpc3RbMF0ubnVtOw0KICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0gY2F0Y2ggKGUpIHsNCiAgICAgICAgICBUb2FzdC5mYWlsKGUubWVzc2FnZSk7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgICAvLyDmoKHpqowNCiAgICAgIHRoaXMuZ2V0UmVzV2lubmVySW5mbygpOw0KICAgICAgdGhpcy5mb3JtRGF0YS5pZHMgPSB0aGlzLmlkc0Fyci5qb2luKCcsJyk7DQogICAgICB0aGlzLmZvcm1EYXRhLmRlbGV0ZUlkcyA9IHRoaXMuZGVsZXRlSWRzQXJyLmpvaW4oJywnKTsNCiAgICAgIHRoaXMuZm9ybURhdGEudHlwZSA9ICcxJzsgLy8g5aGr5oql5q615re75Yqg5Yik5patDQogICAgICB0aGlzLmZvcm1EYXRhLnN0YW5kYXJkTmFtZUlkID0gdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcw0KICAgICAgICA/IHRoaXMuZm9ybURhdGEuc3RhbmRhcmRJZHNbdGhpcy5mb3JtRGF0YS5zdGFuZGFyZElkcy5sZW5ndGggLSAxXQ0KICAgICAgICA6ICcnOw0KICAgICAgdGhpcy5mb3JtRGF0YS5maWxlTGlzdC5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICBpdGVtLm5hbWUgPSBpdGVtLmZpbGVOYW1lIHx8IGl0ZW0ubmFtZTsNCiAgICAgIH0pOw0KICAgICAgaWYgKCF0aGlzLmlzUmVwZWF0TmFtZSgpKSB7DQogICAgICAgIGVkaXRSZXBvcnRBd2FyZCh0aGlzLmZvcm1EYXRhKS50aGVuKHJlcyA9PiB7DQogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgew0KICAgICAgICAgICAgVG9hc3Qoew0KICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2ZhdGhlck1ldGhvZCcpOw0KICAgICAgICAgICAgdGhpcy5pc0NoZWNrID0gdHJ1ZTsNCiAgICAgICAgICAgIHRoaXMucXVlcnlQYXJtYXMudHlwZSA9ICdjaGVjayc7DQogICAgICAgICAgICB0aGlzLmluaXQoKTsNCiAgICAgICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdmb3JtRGF0YScpOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBUb2FzdCh7DQogICAgICAgICAgICAgIHR5cGU6ICdmYWlsJywNCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLiRkZC5iaXoubmF2aWdhdGlvbi5zZXRUaXRsZSh7DQogICAgICAgICAgICB0aXRsZTogJ+ivpuaDhScgLy/mjqfliLbmoIfpopjmlofmnKzvvIznqbrlrZfnrKbkuLLooajnpLrmmL7npLrpu5jorqTmlofmnKwNCiAgICAgICAgICB9KTsNCiAgICAgICAgICB0aGlzLmlzQ2hlY2sgPSB0cnVlOw0KICAgICAgICB9KTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIFRvYXN0KHsNCiAgICAgICAgICB0eXBlOiAnZmFpbCcsDQogICAgICAgICAgbWVzc2FnZTogJ+iOt+WlluS6uuWnk+WQjemHjeWkjScNCiAgICAgICAgfSk7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICAgIC8vIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog6I635Y+W5aWW6aG557qn5YirDQogICAgICovDQogICAgZ2V0QXdhcmRMZXZlbE9wdGlvbnMoKSB7DQogICAgICBzZWxlY3REaWN0aW9uYXJ5V2l0aENoaWxkcmVuKCcxJykudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgdGhpcy5hd2FyZExldmVsT3B0aW9ucyA9IGRhdGEubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKA0KICAgICAgICAgICAge30sDQogICAgICAgICAgICB7IHRleHQ6IGl0ZW0uZGljdGlvbmFyeVRleHQgfSwNCiAgICAgICAgICAgIHsgdmFsdWU6IGl0ZW0uZGljdGlvbmFyeUlkIH0NCiAgICAgICAgICApOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5hd2FyZExldmVsSW5kZXggPSB0aGlzLmF3YXJkTGV2ZWxPcHRpb25zLmZpbmRJbmRleCgNCiAgICAgICAgICB2ID0+IHYudmFsdWUgPT09IHRoaXMuZm9ybURhdGEuaXNzdWVMZXZlbA0KICAgICAgICApOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVMZXZlbCh2YWx1ZSkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5pc3N1ZUxldmVsID0gdmFsdWUudmFsdWU7DQogICAgICB0aGlzLmZvcm1EYXRhLmlzc3VlTGV2ZWxOYW1lID0gdmFsdWUudGV4dDsNCiAgICAgIHRoaXMuYXdhcmRMZXZlbFNob3cgPSBmYWxzZTsNCiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsNCiAgICB9LA0KICAgIGhhbmRsZUxldmVsMih2YWx1ZSkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5hd2FyZExldmVsSWQgPSB2YWx1ZS52YWx1ZTsNCiAgICAgIHRoaXMuZm9ybURhdGEuYXdhcmRMZXZlbE5hbWUgPSB2YWx1ZS50ZXh0Ow0KICAgICAgdGhpcy5hd2FyZExldmVsU2hvdzIgPSBmYWxzZTsNCiAgICAgIGNvbnNvbGUubG9nKHZhbHVlKTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOiOt+WPluiOt+WlluWvueixoQ0KICAgICAqLw0KICAgIGdldFdpbm5lck9wdGlvbnMoKSB7DQogICAgICBzZWxlY3REaWN0aW9uYXJ5V2l0aENoaWxkcmVuKCcxOScpLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgIHRoaXMud2lubmVyT3B0aW9ucyA9IGRhdGEubWFwKGl0ZW0gPT4gew0KICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKA0KICAgICAgICAgICAge30sDQogICAgICAgICAgICB7IHRleHQ6IGl0ZW0uZGljdGlvbmFyeVRleHQgfSwNCiAgICAgICAgICAgIHsgdmFsdWU6IGl0ZW0uZGljdGlvbmFyeUlkIH0NCiAgICAgICAgICApOw0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy53aW5uZXJJbmRleCA9IHRoaXMud2lubmVyT3B0aW9ucy5maW5kSW5kZXgoDQogICAgICAgICAgdiA9PiB2LnZhbHVlID09PSB0aGlzLmZvcm1EYXRhLndpbm5lclR5cGUNCiAgICAgICAgKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgaGFuZGxlV2lubmVyKHZhbHVlKSB7DQogICAgICB0aGlzLmZvcm1EYXRhLndpbm5lclR5cGUgPSB2YWx1ZS52YWx1ZTsNCiAgICAgIHRoaXMuZm9ybURhdGEud2lubmVyVHlwZU5hbWUgPSB2YWx1ZS50ZXh0Ow0KICAgICAgdGhpcy53aW5uZXJTaG93ID0gZmFsc2U7DQogICAgICAvLyDojrflpZblr7nosaHlj5jljJbvvIzliIfmjaLojrflpZblr7nosaHmuIXnqbrojrflpZbkurrlj4rmjIflr7zogIHluIjkurrmlbANCiAgICAgIGlmICh2YWx1ZS52YWx1ZSA9PSAnMjInKSB7DQogICAgICAgIC8vIOWtpueUnw0KICAgICAgICB0aGlzLmZvcm1EYXRhLndpbm5lckluZm9MaXN0ID0gWw0KICAgICAgICAgIHsNCiAgICAgICAgICAgIG5hbWU6ICcnLA0KICAgICAgICAgICAgbnVtOiAnJw0KICAgICAgICAgIH0NCiAgICAgICAgXTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZm9ybURhdGEud2lubmVySW5mb0xpc3QgPSBbDQogICAgICAgICAgew0KICAgICAgICAgICAgbmFtZTogJycNCiAgICAgICAgICB9DQogICAgICAgIF07DQogICAgICB9DQogICAgICBpZiAodGhpcy5xdWVyeVBhcm1hcy50eXBlID09PSAnZWRpdCcpIHsNCiAgICAgICAgLy8g6Iul5Li657yW6L6R5by55qGG77yM5YiH5o2i5a+56LGh5pe26ZyA5o+Q5LqkZGVsZXRlSWRz5Yig6Zmk5Y6f5pys55qE5pWw5o2u5L+h5oGvDQogICAgICAgIHRoaXMuZGVsZXRlSWRzQXJyID0gT2JqZWN0LmFzc2lnbih0aGlzLmlkc0Fycik7DQogICAgICAgIHRoaXMuaWRzQXJyID0gW107DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDojrflj5bojrflpZblr7nosaENCiAgICAgKi8NCiAgICBnZXRPcmdPcHRpb25zKCkgew0KICAgICAgc2VsZWN0RGljdGlvbmFyeVdpdGhDaGlsZHJlbignMTInKS50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICB0aGlzLm9yZ09wdGlvbnMgPSBkYXRhLm1hcChpdGVtID0+IHsNCiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigNCiAgICAgICAgICAgIHt9LA0KICAgICAgICAgICAgeyB0ZXh0OiBpdGVtLmRpY3Rpb25hcnlUZXh0IH0sDQogICAgICAgICAgICB7IHZhbHVlOiBpdGVtLmRpY3Rpb25hcnlJZCB9DQogICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMub3JnSW5kZXggPSB0aGlzLm9yZ09wdGlvbnMuZmluZEluZGV4KA0KICAgICAgICAgIHYgPT4gdi52YWx1ZSA9PT0gdGhpcy5mb3JtRGF0YS5vcmdUeXBlDQogICAgICAgICk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOiOt+WPluWllumhueetiee6pw0KICAgICAqLw0KICAgIGdldExldmVsTGlzdCgpIHsNCiAgICAgIHNlbGVjdERpY3Rpb25hcnlXaXRoTGV2ZWxMaXN0KCkudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgdGhpcy5sZXZlbE9wdGlvbnMgPSBkYXRhLm1hcChpdGVtID0+IHsNCiAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigNCiAgICAgICAgICAgIHt9LA0KICAgICAgICAgICAgeyB0ZXh0OiBpdGVtLmRpY3Rpb25hcnlUZXh0IH0sDQogICAgICAgICAgICB7IHZhbHVlOiBpdGVtLmRpY3Rpb25hcnlJZCB9DQogICAgICAgICAgKTsNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMubGV2ZWxJbmRleCA9IHRoaXMubGV2ZWxPcHRpb25zLmZpbmRJbmRleCgNCiAgICAgICAgICB2ID0+IHYudmFsdWUgPT09IHRoaXMuZm9ybURhdGEuYXdhcmRMZXZlbElkDQogICAgICAgICk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGhhbmRsZU9yZyh2YWx1ZSkgew0KICAgICAgdGhpcy5mb3JtRGF0YS5vcmdUeXBlID0gdmFsdWUudmFsdWU7DQogICAgICB0aGlzLmZvcm1EYXRhLm9yZ1R5cGVOYW1lID0gdmFsdWUudGV4dDsNCiAgICAgIHRoaXMub3JnU2hvdyA9IGZhbHNlOw0KICAgIH0sDQogICAgLyoqDQogICAgICog57yW6L6RDQogICAgICogQHBhcmFtIHsqfSByb3cg6K6w5b2VDQogICAgICogQHBhcmFtIHtzdHJpbmd9IGNvbHVtbiDliJcNCiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIOWAvA0KICAgICAqIEBwYXJhbSB7Kn0gJGluZGV4IOe0ouW8lQ0KICAgICAqLw0KICAgIGhhbmRsZURlbGV0ZSgpIHsNCiAgICAgIC8vIFRPRE8NCiAgICAgIERpYWxvZy5jb25maXJtKHsNCiAgICAgICAgbWVzc2FnZTogJ+ehruiupOimgeWIoOmZpOivpeadoeaVsOaNrj8nLA0KICAgICAgICBjb25maXJtQnV0dG9uQ29sb3I6ICcjNDg5RUYzJw0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgIGRlbGV0ZVJlcG9ydEF3YXJkKHRoaXMucXVlcnlQYXJtYXMuaWQpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsNCiAgICAgICAgICAgICAgVG9hc3Quc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7DQogICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlcg0KICAgICAgICAgICAgICAvLyAgIC5wdXNoKHsNCiAgICAgICAgICAgICAgLy8gICAgIHBhdGg6ICcvdGVhY2hlci1wb2ludHMvaW5kZXgnDQogICAgICAgICAgICAgIC8vICAgfSkNCiAgICAgICAgICAgICAgLy8gICAuY2F0Y2goKCkgPT4ge30pOw0KICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgVG9hc3QuZmFpbChyZXMubWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgVG9hc3QuZmFpbCgn5bey5Y+W5raI5Yig6ZmkJyk7DQogICAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+hBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add.vue","sourceRoot":"src/pages/teaching-points-h5/views/teacher-points","sourcesContent":["<template>\r\n  <div class=\"teacherPointsDetail\">\r\n    <van-loading v-show=\"isUpload\" size=\"24px\" type=\"spinner\" vertical\r\n      >上传中...</van-loading\r\n    >\r\n    <van-form ref=\"form\">\r\n      <div class=\"detailInfo\">\r\n        <div>\r\n          <van-field\r\n            readonly\r\n            clickable\r\n            name=\"time\"\r\n            v-model=\"formData.issueDate\"\r\n            label=\"获奖日期：\"\r\n            placeholder=\"选择日期\"\r\n            @click=\"timeShow = true\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">获奖日期：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <!-- <van-calendar v-model=\"timeShow\" @confirm=\"onConfirm\" /> -->\r\n          <van-popup\r\n            v-if=\"!isCheck\"\r\n            v-model=\"timeShow\"\r\n            position=\"bottom\"\r\n            :style=\"{ height: '50%' }\"\r\n          >\r\n            <van-datetime-picker\r\n              v-model=\"currentDate\"\r\n              type=\"date\"\r\n              :max-date=\"maxDate\"\r\n              title=\"选择年月\"\r\n              @confirm=\"onConfirm\"\r\n              @cancel=\"timeShow = false\"\r\n            />\r\n          </van-popup>\r\n\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            v-model=\"formData.issueName\"\r\n            name=\"issueName\"\r\n            label=\"奖项名称：\"\r\n            placeholder=\"请输入奖项名称\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">奖项名称：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div>\r\n          <!-- <div class=\"label\">奖项级别：</div>\r\n          <div class=\"info\">集团已审核</div> -->\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"issueLevel\"\r\n            :value=\"formData.issueLevelName\"\r\n            label=\"奖项级别：\"\r\n            placeholder=\"选择奖项级别\"\r\n            @click=\"awardLevelShow = true\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">奖项级别：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <van-popup v-if=\"!isCheck\" v-model=\"awardLevelShow\" position=\"bottom\">\r\n            <van-picker\r\n              show-toolbar\r\n              :columns=\"awardLevelOptions\"\r\n              :default-index=\"awardLevelIndex\"\r\n              @confirm=\"handleLevel\"\r\n              @cancel=\"awardLevelShow = false\"\r\n            />\r\n          </van-popup>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"awardLevelId\"\r\n            :value=\"formData.awardLevelName\"\r\n            label=\"奖项等级：\"\r\n            placeholder=\"选择奖项等级\"\r\n            @click=\"awardLevelShow2 = true\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">奖项等级：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <van-popup\r\n            v-if=\"!isCheck\"\r\n            v-model=\"awardLevelShow2\"\r\n            position=\"bottom\"\r\n          >\r\n            <van-picker\r\n              show-toolbar\r\n              :columns=\"levelOptions\"\r\n              :default-index=\"levelIndex\"\r\n              @confirm=\"handleLevel2\"\r\n              @cancel=\"awardLevelShow2 = false\"\r\n            />\r\n          </van-popup>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"srcType\"\r\n            :value=\"formData.srcTypeName\"\r\n            label=\"来源类型：\"\r\n            placeholder=\"选择来源类型\"\r\n            @click=\"changeSource('SourceType')\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">来源类型：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"standardIds\"\r\n            :value=\"formData.standardName\"\r\n            label=\"标准奖项名称：\"\r\n            placeholder=\"标准奖项名称\"\r\n            @click=\"changeSource('standardIds')\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">标准奖项名称：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div v-if=\"teachingResearchShow\">\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"teachingResearchId\"\r\n            :value=\"formData.teachingResearchName\"\r\n            label=\"关联教学研究：\"\r\n            placeholder=\"关联教学研究\"\r\n            @click=\"changeSource('teachingResearchId')\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">关联教学研究：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"winnerType\"\r\n            :value=\"formData.winnerTypeName\"\r\n            label=\"获奖对象：\"\r\n            placeholder=\"选择获奖对象\"\r\n            @click=\"winnerShow = true\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">获奖对象：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <van-popup v-if=\"!isCheck\" v-model=\"winnerShow\" position=\"bottom\">\r\n            <van-picker\r\n              show-toolbar\r\n              :columns=\"winnerOptions\"\r\n              @confirm=\"handleWinner\"\r\n              :default-index=\"winnerIndex\"\r\n              @cancel=\"winnerShow = false\"\r\n            />\r\n          </van-popup>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div\r\n          class=\"winnerList\"\r\n          v-for=\"(item, index) of formData.winnerInfoList\"\r\n          :key=\"index\"\r\n        >\r\n          <div>\r\n            <van-field\r\n              rows=\"1\"\r\n              autosize\r\n              type=\"textarea\"\r\n              v-model=\"formData.winnerInfoList[index].name\"\r\n              name=\"获奖人姓名：\"\r\n              label=\"获奖人姓名\"\r\n              placeholder=\"请输入获奖人姓名\"\r\n              :disabled=\"isCheck\"\r\n            >\r\n              <template slot=\"label\">\r\n                <div class=\"label\">\r\n                  <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                    >*</label\r\n                  >\r\n                  <span class=\"custom-title\">获奖人姓名：</span>\r\n                </div>\r\n              </template>\r\n            </van-field>\r\n            <span\r\n              class=\"btn-text\"\r\n              v-if=\"index === 0 && isStudent && !isCheck\"\r\n              @click=\"handleAddWinner(index)\"\r\n              ><img src=\"../../assets/images/icon/icon-add-student.png\" alt=\"\"\r\n            /></span>\r\n\r\n            <span\r\n              class=\"btn-text\"\r\n              v-else-if=\"index != 0 && !isCheck\"\r\n              @click=\"handleRemoveWinner(index)\"\r\n              ><img\r\n                src=\"../../assets/images/icon/icon-delete-student.png\"\r\n                alt=\"\"\r\n            /></span>\r\n          </div>\r\n        </div>\r\n        <div v-if=\"isStudent\">\r\n          <van-field\r\n            v-model=\"formData.winnerInfoList[0].num\"\r\n            type=\"digit\"\r\n            name=\"指导老师人数：\"\r\n            label=\"指导老师人数\"\r\n            placeholder=\"请输入指导老师人数\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">指导老师人数：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n      </div>\r\n      <div class=\"prize\">\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            v-model=\"formData.orgName\"\r\n            name=\"orgName\"\r\n            label=\"颁发机构：\"\r\n            placeholder=\"颁发机构\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">颁发机构：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n        </div>\r\n        <div>\r\n          <van-field\r\n            rows=\"1\"\r\n            autosize\r\n            type=\"textarea\"\r\n            readonly\r\n            clickable\r\n            name=\"orgType\"\r\n            v-model=\"formData.orgTypeName\"\r\n            label=\"机构性质：\"\r\n            placeholder=\"机构性质\"\r\n            @click=\"orgShow = true\"\r\n            :disabled=\"isCheck\"\r\n          >\r\n            <template slot=\"label\">\r\n              <div class=\"label\">\r\n                <label class=\"import\" v-if=\"queryParmas.type !== 'check'\"\r\n                  >*</label\r\n                >\r\n                <span class=\"custom-title\">机构性质：</span>\r\n              </div>\r\n            </template>\r\n          </van-field>\r\n          <van-popup v-if=\"!isCheck\" v-model=\"orgShow\" position=\"bottom\">\r\n            <van-picker\r\n              show-toolbar\r\n              :columns=\"orgOptions\"\r\n              :default-index=\"orgIndex\"\r\n              @confirm=\"handleOrg\"\r\n              @cancel=\"orgShow = false\"\r\n            />\r\n          </van-popup>\r\n          <img\r\n            v-if=\"queryParmas.type !== 'check'\"\r\n            src=\"../../assets/images/icon/icon-gt.png\"\r\n            alt=\"\"\r\n            class=\"icon\"\r\n          />\r\n        </div>\r\n        <div class=\"photoBox\">\r\n          <div class=\"label\">\r\n            <label class=\"import\" v-if=\"queryParmas.type !== 'check'\">*</label>\r\n            <span class=\"custom-title\"\r\n              >证明附件：<span class=\"custom-title-tip\"\r\n                >(附件下载请到电脑端操作)\r\n              </span></span\r\n            >\r\n          </div>\r\n          <div class=\"Imgbox\">\r\n            <div v-for=\"(imgs, imgIndex) in formData.fileList\" :key=\"imgIndex\">\r\n              <img\r\n                @click=\"previewImg(imgs)\"\r\n                v-if=\"imgs.format === 'pdf'\"\r\n                class=\"provImg\"\r\n                src=\"../../assets/images/questionnaire/image-replace-pdf.png\"\r\n                alt=\"\"\r\n              />\r\n              <img\r\n                v-else-if=\"imgs.format === 'doc' || imgs.format === 'docx'\"\r\n                @click=\"previewImg(imgs)\"\r\n                class=\"provImg\"\r\n                src=\"../../assets/images/questionnaire/image-replace-doc.png\"\r\n                alt=\"\"\r\n              />\r\n              <img\r\n                @click=\"previewImg(imgs)\"\r\n                v-else-if=\"imgs.format === 'xls' || imgs.format === 'xlsx'\"\r\n                class=\"provImg\"\r\n                src=\"../../assets/images/questionnaire/image-replace-xls.png\"\r\n                alt=\"\"\r\n              />\r\n              <img\r\n                v-else\r\n                @click=\"previewImg(imgs)\"\r\n                class=\"provImg\"\r\n                :src=\"imgs.url\"\r\n                alt=\"\"\r\n              />\r\n              <i\r\n                v-if=\"queryParmas.type !== 'check'\"\r\n                class=\"deleteImg\"\r\n                @click=\"deleteImg(imgIndex)\"\r\n                ><img src=\"../../assets/images/icon/icon-close.png\" alt=\"\"\r\n              /></i>\r\n            </div>\r\n            <van-uploader\r\n              v-if=\"queryParmas.type !== 'check'\"\r\n              accept=\"*\"\r\n              :before-read=\"beforeRead\"\r\n              :after-read=\"AfterRead\"\r\n              :max-count=\"10\"\r\n              multiple\r\n              :disabled=\"isCheck\"\r\n            >\r\n              <img\r\n                class=\"provImg\"\r\n                src=\"../../assets/images/icon/icon-add-file.png\"\r\n                alt=\"\"\r\n              />\r\n            </van-uploader>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"record\">\r\n        <van-field\r\n          v-if=\"queryParmas.type !== 'check'\"\r\n          v-model=\"formData.remark\"\r\n          rows=\"3\"\r\n          autosize\r\n          label=\"备注：\"\r\n          type=\"textarea\"\r\n          maxlength=\"100\"\r\n          placeholder=\"请输入备注\"\r\n          :disabled=\"isCheck\"\r\n        />\r\n        <div v-else class=\"remarkBox\">\r\n          <div class=\"label\">备注：</div>\r\n          <div class=\"info\">\r\n            <p>\r\n              {{ formData.remark || '暂无' }}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"auditRecords\" v-if=\"queryParmas.type === 'check'\">\r\n        <div class=\"label\">\r\n          <span class=\"custom-title\">审核记录：</span>\r\n        </div>\r\n        <div\r\n          class=\"auditContent\"\r\n          v-if=\"Array.isArray(logTableData) && logTableData.length > 0\"\r\n        >\r\n          <div\r\n            class=\"audit-item\"\r\n            v-for=\"(item, index) in logTableData\"\r\n            :key=\"index\"\r\n          >\r\n            <div class=\"Record-point\">\r\n              <img src=\"../../assets/images/icon/icon-record.png\" alt=\"\" />\r\n              <div class=\"line\"></div>\r\n            </div>\r\n            <div class=\"record-content\">\r\n              <div class=\"info\">\r\n                <span class=\"name\">{{ item.staffName }}</span>\r\n                <span class=\"role\">{{ item.roleName }}</span>\r\n                <span class=\"time\">{{ item.createTime | formatDate }}</span>\r\n              </div>\r\n              <div class=\"message\">\r\n                {{ item.remark || '暂无' }}\r\n              </div>\r\n              <div class=\"status\">\r\n                <span\r\n                  class=\"icon statu-green\"\r\n                  v-if=\"item.statusKey === 'JXSB_ZT_JTYSH'\"\r\n                ></span>\r\n                <span\r\n                  class=\"icon statu-bule\"\r\n                  v-else-if=\"item.statusKey === 'JXSB_ZT_XXYSHJTWSH'\"\r\n                ></span>\r\n                <span class=\"icon statu-red\" v-else></span>\r\n                <span class=\"statusName\">{{ item.statusName }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div v-else class=\"notDate\">\r\n          暂无数据\r\n        </div>\r\n      </div>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Calendar,\r\n  DatetimePicker,\r\n  Form,\r\n  Picker,\r\n  Toast,\r\n  ImagePreview,\r\n  Uploader,\r\n  Popup,\r\n  Dialog,\r\n  Loading,\r\n  Notify\r\n} from 'vant';\r\nimport utils from '@/plugins/common/utils';\r\nimport {\r\n  getReportAwardDetail,\r\n  deleteReportAward,\r\n  addReportAward,\r\n  editReportAward,\r\n  selectDictionaryWithChildren,\r\n  selectDictionaryWithLevelList,\r\n  awardApproveLog\r\n} from '@/pages/teaching-points-h5/api/teaching-activity/teaching-points';\r\nexport default {\r\n  name: 'teachingPointsDetail',\r\n  components: {\r\n    [Calendar.name]: Calendar,\r\n    [DatetimePicker.name]: DatetimePicker,\r\n    [Form.name]: Form,\r\n    [Picker.name]: Picker,\r\n    [Uploader.name]: Uploader,\r\n    [Popup.name]: Popup,\r\n    [Loading.name]: Loading,\r\n    [Notify.name]: Notify\r\n  },\r\n  data() {\r\n    return {\r\n      formData: {},\r\n      currentDate: new Date(), // 日期选择当前日期\r\n      maxDate: new Date(),\r\n      timeShow: false, // 奖项日期\r\n      uploadObj: {\r\n        limit: 10, // 最大允许上传个数\r\n        size: 10 // 文件大小\r\n      },\r\n      baseUpload: {},\r\n      teachingResearchShow: false, // 是否显示关联教学研究\r\n      isStudent: false, // 获奖对象是否为学生\r\n      isCheck: false, // 是否为查看弹框\r\n      queryParmas: {\r\n        type: null\r\n      }, // 路由参数\r\n      awardLevelOptions: [], // 奖项级别下拉框\r\n      awardLevelIndex: 0, //奖项级别默认选中值\r\n      awardLevelShow: false, //奖项级别是否显示\r\n      awardLevelShow2: false, //奖项等级是否显示\r\n      winnerOptions: [], // 获奖对象下拉框\r\n      winnerIndex: 0, //获奖对象默认选中值\r\n      winnerShow: false, //获奖对象是否显示\r\n      orgOptions: [], // 机构性质下拉框\r\n      orgIndex: 0, //机构性质默认选中值\r\n      levelOptions: [], //奖项等级下拉框\r\n      levelIndex: 0, // 奖项等级默认选中值\r\n      orgShow: false, //机构性质是否显示\r\n      deleteIdsArr: [], // 获取编辑时的被删除的获奖人id数组\r\n      idsArr: [], // 获取编辑时剩余获奖人id数组\r\n      iconDelete: require('../../assets/images/icon/icon-delete.png'),\r\n      iconEdit: require('../../assets/images/icon/icon-edit.png'),\r\n      logTableData: [], // 审核记录\r\n      isUpload: false //是否上传附件中\r\n    };\r\n  },\r\n  filters: {\r\n    formatDate(value) {\r\n      return utils.dateConverter('yyyy-MM-dd hh:mm:ss', value);\r\n    }\r\n  },\r\n  // 侦听器\r\n  watch: {\r\n    'formData.winnerType': {\r\n      // 监听获奖对象，用于控制指导老师人数显隐\r\n      handler(newValue, oldValue) {\r\n        this.isStudent = newValue == '22' ? true : false;\r\n      },\r\n      immediate: true,\r\n      deep: true\r\n    },\r\n    'formData.standardIds': {\r\n      /**\r\n       * 监听标准奖项名称，用于控制关联教学研究显隐\r\n       * 选择课题成果 100011、论文发表 100013、论文获奖 100012，显示关联教学研究选项\r\n       */\r\n      handler(newValue, oldValue) {\r\n        console.log(newValue, 'newValue');\r\n        if (\r\n          newValue &&\r\n          newValue.length === 3 &&\r\n          (newValue[1] === 100011 ||\r\n            newValue[1] === 100012 ||\r\n            newValue[1] === 100013)\r\n        ) {\r\n          this.teachingResearchShow = true;\r\n        } else {\r\n          this.teachingResearchShow = false;\r\n        }\r\n      },\r\n      immediate: true\r\n    }\r\n  },\r\n  created() {\r\n    if (sessionStorage.getItem('formData')) {\r\n      this.queryParmas = this.$route.query;\r\n      this.initBeforeFromDate();\r\n    } else {\r\n      let queryParmas = {\r\n        type: this.$route.query.type,\r\n        id: this.$route.query.id\r\n      };\r\n      this.queryParmas = this.$route.query;\r\n      this.initData();\r\n    }\r\n    this.init();\r\n    /**\r\n     * 动态修改title\r\n     * 修改的title第一次不会变，所以添加了一个replace,参数有一个时间戳\r\n     */\r\n    if (this.queryParmas.type === 'check') {\r\n      this.isCheck = true;\r\n      this.$dd.biz.navigation.setTitle({\r\n        title: '详情' //控制标题文本，空字符串表示显示默认文本\r\n      });\r\n      this.getAwardApproveLog();\r\n    } else if (this.queryParmas.type === 'edit') {\r\n      this.$dd.biz.navigation.setTitle({\r\n        title: '编辑' //控制标题文本，空字符串表示显示默认文本\r\n      });\r\n    } else {\r\n      this.$dd.biz.navigation.setTitle({\r\n        title: '新建' //控制标题文本，空字符串表示显示默认文本\r\n      });\r\n    }\r\n    this.initOptionList();\r\n  },\r\n  methods: {\r\n    initOptionList() {\r\n      this.getAwardLevelOptions();\r\n      this.getWinnerOptions();\r\n      this.getOrgOptions();\r\n      this.getLevelList();\r\n    },\r\n    async init() {\r\n      let _self = this;\r\n      let item = [];\r\n      if (this.queryParmas.type === 'add') {\r\n        item = [\r\n          {\r\n            id: '1',\r\n            text: '完成'\r\n          }\r\n        ];\r\n      } else if (this.queryParmas.type === 'edit') {\r\n        item = [\r\n          {\r\n            id: '4',\r\n            text: '完成'\r\n          }\r\n        ];\r\n      } else {\r\n        item = [\r\n          {\r\n            id: '2',\r\n            iconId: 'delete',\r\n            text: '删除',\r\n            url: _self.iconDelete\r\n          },\r\n          {\r\n            id: '3',\r\n            iconId: 'edit',\r\n            text: '编辑',\r\n            url: _self.iconEdit\r\n          }\r\n        ];\r\n      }\r\n      _self.$dd.biz.navigation.setMenu({\r\n        backgroundColor: '#20D1CD',\r\n        textColor: '#ADD8E611',\r\n        items: item,\r\n        onSuccess: function(res) {\r\n          // 调用成功时回调\r\n          if (res.id === '1') {\r\n            _self.confirmData();\r\n          } else if (res.id === '2') {\r\n            if (!_self.formData.isOperateUpdate) {\r\n              Toast.fail(`${_self.formData.awardStatusName}, 不可删除`);\r\n              return false;\r\n            }\r\n            _self.handleDelete();\r\n          } else if (res.id === '3') {\r\n            if (!_self.formData.isOperateUpdate) {\r\n              Toast.fail(`${_self.formData.awardStatusName}, 不可编辑`);\r\n              return false;\r\n            }\r\n            _self.$dd.biz.navigation.setTitle({\r\n              title: '编辑' //控制标题文本，空字符串表示显示默认文本\r\n            });\r\n            _self.isCheck = false;\r\n            _self.queryParmas.type = 'edit';\r\n            _self.init();\r\n            _self.initOptionList();\r\n          } else if (res.id === '4') {\r\n            _self.updateData();\r\n            _self.getAwardApproveLog();\r\n          }\r\n        },\r\n        onFail: function(err) {\r\n          // 调用失败时回调\r\n          console.log(err);\r\n        }\r\n      });\r\n\r\n      await this.$store.dispatch('getUploadInfo');\r\n      this.baseUpload = this.$store.getters.baseUpload;\r\n    },\r\n    // 初始化数据\r\n    initData() {\r\n      // let queryParmas = JSON.parse(sessionStorage.getItem('queryParmas'));\r\n      if (this.queryParmas.type !== 'add') {\r\n        getReportAwardDetail(this.queryParmas.id).then(async res => {\r\n          let resData = res.data;\r\n          let winnerList = [];\r\n          if (res.data.guideNums.indexOf(',') !== -1) {\r\n            let guideNumsArr = res.data.guideNums.split(',');\r\n            let winnerNameArr = res.data.winnerName.split(',');\r\n            guideNumsArr.forEach((item, index) => {\r\n              winnerList.push({\r\n                name: winnerNameArr[index],\r\n                num: item\r\n              });\r\n            });\r\n          } else {\r\n            winnerList = [\r\n              {\r\n                name: res.data.winnerName,\r\n                num: res.data.guideNums\r\n              }\r\n            ];\r\n          }\r\n          resData['winnerInfoList'] = winnerList;\r\n          await this.initFormData(resData);\r\n          this.currentDate = new Date(resData.issueDate);\r\n        });\r\n      } else {\r\n        this.formData = {\r\n          winnerInfoList: [\r\n            {\r\n              name: '',\r\n              num: ''\r\n            }\r\n          ],\r\n          standardNameId: '',\r\n          winnerType: '',\r\n          fileList: []\r\n        };\r\n      }\r\n      this.currentDate = new Date();\r\n      console.log(this.formData);\r\n    },\r\n    // 重置之前填写数据\r\n    initBeforeFromDate() {\r\n      this.initFormData(JSON.parse(sessionStorage.getItem('formData')));\r\n      if (sessionStorage.getItem('srcType')) {\r\n        let srcType = JSON.parse(sessionStorage.getItem('srcType'));\r\n        this.formData.srcType = srcType.dictionaryId;\r\n        this.formData.srcTypeName = srcType.dictionaryText;\r\n        sessionStorage.removeItem('srcType');\r\n      }\r\n      if (sessionStorage.getItem('standardIds')) {\r\n        let standardIds = JSON.parse(sessionStorage.getItem('standardIds'));\r\n        this.formData.standardIds = standardIds.ids;\r\n        console.log(this.formData.standardIds);\r\n        this.formData.standardName = standardIds.name;\r\n        sessionStorage.removeItem('standardIds');\r\n      }\r\n      if (sessionStorage.getItem('teachingResearchId')) {\r\n        let teachingResearchId = JSON.parse(\r\n          sessionStorage.getItem('teachingResearchId')\r\n        );\r\n        this.formData.teachingResearchId = teachingResearchId.id;\r\n        this.formData.teachingResearchName = `${teachingResearchId.topicThesisName} - ${teachingResearchId.leaderAuthorName}`;\r\n        // sessionStorage.removeItem('teachingResearchId');\r\n      }\r\n      // 删除 sessionStorage 的fromData数据\r\n      console.log(this.formData, 'formdata');\r\n      sessionStorage.removeItem('formData');\r\n    },\r\n    // 重置formData数据\r\n    initFormData(resData) {\r\n      // 设置初始值\r\n      this.formData = {\r\n        id: resData.id,\r\n        awardCode: resData.awardCode,\r\n        issueDate: resData.issueDate,\r\n        srcType: resData.srcType,\r\n        issueName: resData.issueName,\r\n        standardIds: resData.standardIds,\r\n        standardNameId: resData.standardNameId,\r\n        issueLevel: resData.issueLevel,\r\n        issueLevelName: resData.issueLevelName,\r\n        awardLevelId: resData.awardLevelId,\r\n        awardLevelName: resData.awardLevelName,\r\n        winnerType: resData.winnerType,\r\n        winnerTypeName: resData.winnerTypeName,\r\n        winnerInfoList: resData.winnerInfoList,\r\n        orgName: resData.orgName,\r\n        orgType: resData.orgType,\r\n        orgTypeName: resData.orgTypeName,\r\n        remark: resData.remark,\r\n        ids: resData.ids,\r\n        deleteIds: resData.deleteIds,\r\n        createUser: resData.createUser,\r\n        teachingResearchId: resData.teachingResearchId,\r\n        teachingResearchName: resData.teachingResearchName,\r\n        winnerName: resData.winnerName,\r\n        guideNums: resData.guideNums,\r\n        standardName: resData.standardName, //\r\n        srcTypeName: resData.srcTypeName,\r\n        isOperateUpdate: resData.isOperateUpdate, // 是否可编辑/删除\r\n        awardStatusName: resData.awardStatusName, // 当前状态名称\r\n        awardStatus: resData.awardStatus // 当前状态键值\r\n      };\r\n      this.idsArr = resData.ids ? resData.ids.split(',') : []; // 给idsArr设置默认值\r\n      this.deleteIdsArr = resData.deleteIds ? resData.deleteIds.split(',') : []; // 给deleteIdsArr设置默认值\r\n      // 添加判断文件类型\r\n      let fileList = [];\r\n      if (Array.isArray(resData.fileList) && resData.fileList.length > 0) {\r\n        resData.fileList.forEach(item => {\r\n          let itemUrlSplit = item.url ? item.url.split('.') : [];\r\n          item.format =\r\n            itemUrlSplit.length > 0\r\n              ? itemUrlSplit[itemUrlSplit.length - 1].toLowerCase()\r\n              : '';\r\n        });\r\n        fileList = resData.fileList;\r\n      }\r\n      // 将标准奖项名称改为数组\r\n      if (this.formData.standardIds && this.formData.standardIds === '-111') {\r\n        this.formData.standardIds = [-1, -11, -111];\r\n      } else if (\r\n        this.formData.standardIds &&\r\n        this.formData.standardIds !== '-111'\r\n      ) {\r\n        if (this.formData.standardIds instanceof Array) {\r\n        } else {\r\n          this.formData.standardIds = this.formData.standardIds\r\n            .split(',')\r\n            .map(Number); // 将字符串转数组并转为数字\r\n        }\r\n      }\r\n      this.$set(this.formData, 'fileList', fileList);\r\n    },\r\n    /**\r\n     * 获取审核记录\r\n     */\r\n    getAwardApproveLog() {\r\n      awardApproveLog(this.queryParmas.id)\r\n        .then(res => {\r\n          if (res.status === 200) {\r\n            this.logTableData = res.data;\r\n          } else {\r\n            Toast.fail(res.message);\r\n          }\r\n        })\r\n        .catch(() => {});\r\n    },\r\n    // 获取奖项时间\r\n    onConfirm(date) {\r\n      this.timeShow = false;\r\n      console.log(date);\r\n      this.formData.issueDate = utils.dateConverter('yyyy-MM-dd', date);\r\n    },\r\n    handlePrizeLevel(value) {\r\n      this.formData.prizeLevel = value;\r\n      this.showPrizeLevel = false;\r\n    },\r\n    getResWinnerInfo() {\r\n      // 获取获奖人信息\r\n      let winnerNameList = [];\r\n      let guideNumsList = [];\r\n      if (this.formData.winnerInfoList) {\r\n        this.formData.winnerInfoList.forEach(item => {\r\n          winnerNameList.push(item.name);\r\n          guideNumsList.push(this.formData.winnerInfoList[0].num);\r\n        });\r\n        this.formData.winnerName = winnerNameList.join(',');\r\n        this.formData.guideNums = guideNumsList.join(',');\r\n      }\r\n    },\r\n    // 选择数据来源\r\n    /**\r\n     * @param {type} String 用于判断选择类型\r\n     */\r\n    changeSource(type) {\r\n      if (this.isCheck) {\r\n        return false;\r\n      }\r\n      sessionStorage.setItem('formData', JSON.stringify(this.formData));\r\n      this.$router.push({\r\n        path: '/teacher-points/addOption',\r\n        query: {\r\n          type: type,\r\n          teachId: this.formData.teachingResearchId || '',\r\n          pathType: this.queryParmas.type,\r\n          pathId: this.$route.query.id\r\n        }\r\n      });\r\n    },\r\n    beforeRead(file) {\r\n      console.log(file);\r\n      // 支持上传的图片类型\r\n      const imgType = [\r\n        'jpg',\r\n        'png',\r\n        'bmp',\r\n        'doc',\r\n        'docx',\r\n        'xls',\r\n        'xlsx',\r\n        'pdf',\r\n        'jpeg',\r\n        'heic',\r\n        'tif',\r\n        'tiff'\r\n      ];\r\n      // 判断是否上传多张\r\n      if (Object.prototype.toString.call(file) == '[object Array]') {\r\n        if (\r\n          Array.isArray(this.formData.fileList) &&\r\n          this.formData.fileList.length + file.length > this.uploadObj.limit\r\n        ) {\r\n          Toast.fail(`附件允许上传上限为${this.uploadObj.limit}个`);\r\n          return false;\r\n        }\r\n        let exceedSize =\r\n          file.findIndex(\r\n            item => item.size / 1024 / 1024 >= this.uploadObj.size\r\n          ) === -1;\r\n        if (!exceedSize) {\r\n          Toast.fail('单个文件最大支持' + this.uploadObj.size + 'M');\r\n          return false;\r\n        }\r\n        try {\r\n          file.forEach(item => {\r\n            let fileType = item.name\r\n              .substring(item.name.lastIndexOf('.') + 1)\r\n              .toLowerCase();\r\n            if (imgType.indexOf(fileType) === -1) {\r\n              throw new Error('格式不支持');\r\n            }\r\n          });\r\n        } catch (e) {\r\n          Toast.fail(e.message);\r\n          return false;\r\n        }\r\n      } else {\r\n        let fileType = file.name\r\n          .substring(file.name.lastIndexOf('.') + 1)\r\n          .toLowerCase();\r\n        if (imgType.indexOf(fileType) === -1) {\r\n          Toast.fail('格式不支持');\r\n          return false;\r\n        }\r\n        if (\r\n          Array.isArray(this.formData.fileList) &&\r\n          this.formData.fileList.length + 1 > this.uploadObj.limit\r\n        ) {\r\n          Toast.fail(`附件允许上传上限为${this.uploadObj.limit}个`);\r\n          return false;\r\n        }\r\n        if (file.size / 1024 / 1024 >= this.uploadObj.size) {\r\n          Toast.fail('单个文件最大支持' + this.uploadObj.size + 'M');\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    AfterRead(file) {\r\n      this.isUpload = true;\r\n      console.log(file, Object.prototype.toString.call(file));\r\n      if (Object.prototype.toString.call(file) != '[object Array]') {\r\n        let fd = new FormData();\r\n        fd.append('key', this.baseUpload.dir + file.file.name);\r\n        fd.append('ossAccessKeyId', this.baseUpload.accessid);\r\n        fd.append('policy', this.baseUpload.policy);\r\n        fd.append('signature', this.baseUpload.signature);\r\n        fd.append('success_action_status', '200');\r\n        fd.append('dir', this.baseUpload.dir);\r\n        fd.append('callback', this.baseUpload.callback);\r\n        fd.append('file', file.file);\r\n        this.axios({\r\n          url: this.baseUpload.host,\r\n          method: 'POST',\r\n          data: fd\r\n        })\r\n          .then(res => {\r\n            let data = res.data;\r\n            // data.url = res.data.resourceUrl;\r\n            data.url = res.data.resourceUrl;\r\n            this.formData.fileList.push(res.data); //这里上传到指定的图片服务器，成功后会返回图片的url\r\n            this.isUpload = false;\r\n          })\r\n          .catch(err => {\r\n            Toast.fail(err.message);\r\n            this.isUpload = false;\r\n          });\r\n      } else {\r\n        let uploadNum = 0; //上传成功数量\r\n        file.forEach(item => {\r\n          let fd = new FormData();\r\n          fd.append('key', this.baseUpload.dir + item.file.name);\r\n          fd.append('ossAccessKeyId', this.baseUpload.accessid);\r\n          fd.append('policy', this.baseUpload.policy);\r\n          fd.append('signature', this.baseUpload.signature);\r\n          fd.append('success_action_status', '200');\r\n          fd.append('dir', this.baseUpload.dir);\r\n          fd.append('callback', this.baseUpload.callback);\r\n          fd.append('file', item.file);\r\n          this.axios({\r\n            url: this.baseUpload.host,\r\n            method: 'POST',\r\n            data: fd\r\n          })\r\n            .then(res => {\r\n              let data = res.data;\r\n              data.url = res.data.resourceUrl;\r\n              this.formData.fileList.push(res.data); //这里上传到指定的图片服务器，成功后会返回图片的url\r\n              uploadNum += 1;\r\n              if (uploadNum === file.length) {\r\n                this.isUpload = false;\r\n              }\r\n            })\r\n            .catch(err => {\r\n              Toast.fail(err.message);\r\n              this.isUpload = false;\r\n            });\r\n        });\r\n      }\r\n    },\r\n    deleteImg(index) {\r\n      this.formData.fileList.splice(index, 1);\r\n    },\r\n    handleAddWinner() {\r\n      // 添加获奖人\r\n      if (this.formData.winnerInfoList.length <= 5) {\r\n        this.formData.winnerInfoList.push({ name: '', num: '' });\r\n      } else {\r\n        Toast({\r\n          type: 'fail',\r\n          message: '最多填写六位获奖人姓名'\r\n        });\r\n      }\r\n    },\r\n    handleRemoveWinner(index) {\r\n      // 删除获奖人\r\n      this.deleteIdsArr.push(this.idsArr.splice(index, 1).toString());\r\n      this.formData.winnerInfoList.splice(index, 1);\r\n    },\r\n    // 图片点击\r\n    previewImg(file) {\r\n      // 获取文件类型\r\n      const imgType = [\r\n        'jpg',\r\n        'JPG',\r\n        'png',\r\n        'PNG',\r\n        'bmp',\r\n        'BMP',\r\n        'jpeg',\r\n        'JPEG',\r\n        'heic',\r\n        'HEIC',\r\n        'tif',\r\n        'TIF',\r\n        'tiff',\r\n        'TIFF'\r\n      ];\r\n      const wordType = ['doc', 'DOC', 'docx', 'DOCX'];\r\n      const excelType = ['xls', 'XLS', 'xlsx', 'XLSX'];\r\n      const pdfType = ['pdf', 'PDF'];\r\n      if (pdfType.indexOf(file.format) !== -1) {\r\n        let url = `/pdf-preview/web/viewer.html?file=${encodeURIComponent(\r\n          this.encodeURIComponentFile(file.url)\r\n        )}`;\r\n        // window.open(url);\r\n        this.$router.push({\r\n          name: 'courseResearchPreview',\r\n          query: {\r\n            url: url,\r\n            title: file.name || 'pdf文件预览'\r\n          }\r\n        });\r\n      } else if (wordType.indexOf(file.format) !== -1) {\r\n        this.openOfficePreview(file);\r\n      } else if (excelType.indexOf(file.format) !== -1) {\r\n        // window.open(file.url);\r\n        this.openOfficePreview(file);\r\n      } else if (imgType.indexOf(file.format) !== -1) {\r\n        const list = this.formData.fileList.filter(\r\n          item => imgType.indexOf(item.format) !== -1\r\n        );\r\n        let resList = [];\r\n        let imgIndex = -1;\r\n        /**\r\n         * 获取预览列表与图片预览起始位置索引\r\n         * resourceId详情接口返回的图片id，fileId 图片上传的接口返回的图片id\r\n         */\r\n        list.forEach((item, index) => {\r\n          resList.push(item.url);\r\n          if (\r\n            (item.resourceId || item.fileId) ===\r\n            (file.resourceId || file.fileId)\r\n          ) {\r\n            imgIndex = index;\r\n          }\r\n        });\r\n        ImagePreview({\r\n          startPosition: imgIndex,\r\n          images: resList\r\n        });\r\n      } else {\r\n        console.log('该文件格式错误！');\r\n      }\r\n    },\r\n\r\n    openOfficePreview(file) {\r\n      var userAgent = navigator.userAgent;\r\n      console.log('userAgent', userAgent);\r\n      var isAndroid =\r\n        userAgent.indexOf('Android') > -1 || userAgent.indexOf('Adr') > -1; //android终端\r\n      var isiOS = !!userAgent.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端\r\n      if (isAndroid) {\r\n        Notify({\r\n          type: 'warning',\r\n          message:\r\n            '老师您好，钉钉移动端目前不支持在线预览word、ppt和excel格式文件，请到电脑端查看！'\r\n        });\r\n      } else {\r\n        window.open(\r\n          `https://view.officeapps.live.com/op/view.aspx?src=${encodeURIComponent(\r\n            this.encodeURIComponentFile(file.url)\r\n          )}`\r\n        );\r\n      }\r\n    },\r\n    encodeURIComponentFile(url) {\r\n      try {\r\n        if (url) {\r\n          let url1 = url.substring(0, url.lastIndexOf('/') + 1);\r\n          let fileUrl = url.substring(url.lastIndexOf('/') + 1, url.length);\r\n          return url1 + encodeURIComponent(fileUrl);\r\n        } else {\r\n          return '';\r\n        }\r\n      } catch (error) {\r\n        return '';\r\n      }\r\n    },\r\n\r\n    isRepeatName() {\r\n      // 验证重复元素，有重复返回true；否则返回false\r\n      const arr = this.formData.winnerName.split(',');\r\n      var hash = {};\r\n      for (var i in arr) {\r\n        if (hash[arr[i]]) {\r\n          return true;\r\n        }\r\n        // 不存在该元素，则赋值为true，可以赋任意值，相应的修改if判断条件即可\r\n        hash[arr[i]] = true;\r\n      }\r\n      return false;\r\n    },\r\n    confirmData() {\r\n      // 添加奖项\r\n      // this.$refs.form.validate().then(() => {\r\n      if (!this.formData.issueDate) {\r\n        Toast.fail('请选择获奖日期');\r\n        return false;\r\n      } else if (!this.formData.issueName) {\r\n        Toast.fail('请输入奖项名称');\r\n        return false;\r\n      } else if (!this.formData.issueLevelName) {\r\n        Toast.fail('请选择奖项级别');\r\n        return false;\r\n      } else if (!this.formData.awardLevelId) {\r\n        Toast.fail('请选择奖项等级');\r\n        return false;\r\n      } else if (!this.formData.srcTypeName) {\r\n        Toast.fail('请选择来源类型');\r\n        return false;\r\n      } else if (!this.formData.standardName) {\r\n        Toast.fail('请选择标准奖项名称');\r\n        return false;\r\n      } else if (\r\n        this.teachingResearchShow &&\r\n        !this.formData.teachingResearchName\r\n      ) {\r\n        Toast.fail('请选择关联教学研究');\r\n        return false;\r\n      } else if (!this.formData.winnerTypeName) {\r\n        Toast.fail('请选择获奖对象');\r\n        return false;\r\n      } else if (!this.formData.orgName) {\r\n        Toast.fail('请输入颁发机构');\r\n        return false;\r\n      } else if (!this.formData.orgTypeName) {\r\n        Toast.fail('请选择机构性质');\r\n        return false;\r\n      } else if (this.formData.fileList.length <= 0) {\r\n        Toast.fail('请上传证明附件');\r\n        return false;\r\n      } else {\r\n        try {\r\n          this.formData.winnerInfoList.forEach(item => {\r\n            if (!item.name) {\r\n              throw new Error('请输入获奖人姓名');\r\n            }\r\n            if (this.isStudent) {\r\n              if (!this.formData.winnerInfoList[0].num) {\r\n                throw new Error('请输入指导老师人数');\r\n              } else {\r\n                item.num = this.formData.winnerInfoList[0].num;\r\n              }\r\n            }\r\n          });\r\n        } catch (e) {\r\n          Toast.fail(e.message);\r\n          return false;\r\n        }\r\n      }\r\n      // 校验\r\n      this.getResWinnerInfo();\r\n      if (!this.isRepeatName()) {\r\n        this.formData.standardNameId = this.formData.standardIds\r\n          ? this.formData.standardIds[this.formData.standardIds.length - 1]\r\n          : '';\r\n        this.formData.fileList.forEach(item => {\r\n          item.name = item.fileName || item.name;\r\n        });\r\n        addReportAward(this.formData).then(res => {\r\n          if (res.status === 200) {\r\n            Toast({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n            // Cookies.remove(this.staffCode); // 提交成功后删除之前cookie缓存\r\n            window.sessionStorage.removeItem('formData'); // 提交成功后删除之前缓存\r\n            this.$router\r\n              .push({\r\n                path: '/teacher-points/index'\r\n              })\r\n              .catch(() => {});\r\n          } else {\r\n            Toast({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n          }\r\n          this.isCheck = true;\r\n        });\r\n      } else {\r\n        Toast({\r\n          type: 'fail',\r\n          message: '获奖人姓名重复'\r\n        });\r\n        return;\r\n      }\r\n      // });\r\n    },\r\n    updateData() {\r\n      // 编辑\r\n      // this.$refs.form.validate().then(() => {\r\n      if (!this.formData.issueDate) {\r\n        Toast.fail('请选择获奖日期');\r\n        return false;\r\n      } else if (!this.formData.issueName) {\r\n        Toast.fail('请输入奖项名称');\r\n        return false;\r\n      } else if (!this.formData.issueLevelName) {\r\n        Toast.fail('请选择奖项级别');\r\n        return false;\r\n      } else if (!this.formData.awardLevelId) {\r\n        Toast.fail('请选择奖项等级');\r\n        return false;\r\n      } else if (!this.formData.srcTypeName) {\r\n        Toast.fail('请选择来源类型');\r\n        return false;\r\n      } else if (!this.formData.standardName) {\r\n        Toast.fail('请选择标准奖项名称');\r\n        return false;\r\n      } else if (\r\n        this.teachingResearchShow &&\r\n        !this.formData.teachingResearchName\r\n      ) {\r\n        Toast.fail('请选择关联教学研究');\r\n        return false;\r\n      } else if (!this.formData.winnerTypeName) {\r\n        Toast.fail('请选择获奖对象');\r\n        return false;\r\n      } else if (!this.formData.orgName) {\r\n        Toast.fail('请输入颁发机构');\r\n        return false;\r\n      } else if (!this.formData.orgTypeName) {\r\n        Toast.fail('请选择机构性质');\r\n        return false;\r\n      } else if (this.formData.fileList.length <= 0) {\r\n        Toast.fail('请上传证明附件');\r\n        return false;\r\n      } else {\r\n        try {\r\n          this.formData.winnerInfoList.forEach(item => {\r\n            if (!item.name) {\r\n              throw new Error('请输入获奖人姓名');\r\n            }\r\n            if (this.isStudent) {\r\n              if (!this.formData.winnerInfoList[0].num) {\r\n                throw new Error('请输入指导老师人数');\r\n              } else {\r\n                item.num = this.formData.winnerInfoList[0].num;\r\n              }\r\n            }\r\n          });\r\n        } catch (e) {\r\n          Toast.fail(e.message);\r\n          return false;\r\n        }\r\n      }\r\n      // 校验\r\n      this.getResWinnerInfo();\r\n      this.formData.ids = this.idsArr.join(',');\r\n      this.formData.deleteIds = this.deleteIdsArr.join(',');\r\n      this.formData.type = '1'; // 填报段添加判断\r\n      this.formData.standardNameId = this.formData.standardIds\r\n        ? this.formData.standardIds[this.formData.standardIds.length - 1]\r\n        : '';\r\n      this.formData.fileList.forEach(item => {\r\n        item.name = item.fileName || item.name;\r\n      });\r\n      if (!this.isRepeatName()) {\r\n        editReportAward(this.formData).then(res => {\r\n          if (res.status === 200) {\r\n            Toast({\r\n              type: 'success',\r\n              message: res.message\r\n            });\r\n            this.$emit('fatherMethod');\r\n            this.isCheck = true;\r\n            this.queryParmas.type = 'check';\r\n            this.init();\r\n            window.sessionStorage.removeItem('formData');\r\n          } else {\r\n            Toast({\r\n              type: 'fail',\r\n              message: res.message\r\n            });\r\n          }\r\n          this.$dd.biz.navigation.setTitle({\r\n            title: '详情' //控制标题文本，空字符串表示显示默认文本\r\n          });\r\n          this.isCheck = true;\r\n        });\r\n      } else {\r\n        Toast({\r\n          type: 'fail',\r\n          message: '获奖人姓名重复'\r\n        });\r\n        return;\r\n      }\r\n      // });\r\n    },\r\n    /**\r\n     * 获取奖项级别\r\n     */\r\n    getAwardLevelOptions() {\r\n      selectDictionaryWithChildren('1').then(({ data }) => {\r\n        this.awardLevelOptions = data.map(item => {\r\n          return Object.assign(\r\n            {},\r\n            { text: item.dictionaryText },\r\n            { value: item.dictionaryId }\r\n          );\r\n        });\r\n        this.awardLevelIndex = this.awardLevelOptions.findIndex(\r\n          v => v.value === this.formData.issueLevel\r\n        );\r\n      });\r\n    },\r\n    handleLevel(value) {\r\n      this.formData.issueLevel = value.value;\r\n      this.formData.issueLevelName = value.text;\r\n      this.awardLevelShow = false;\r\n      console.log(value);\r\n    },\r\n    handleLevel2(value) {\r\n      this.formData.awardLevelId = value.value;\r\n      this.formData.awardLevelName = value.text;\r\n      this.awardLevelShow2 = false;\r\n      console.log(value);\r\n    },\r\n    /**\r\n     * 获取获奖对象\r\n     */\r\n    getWinnerOptions() {\r\n      selectDictionaryWithChildren('19').then(({ data }) => {\r\n        this.winnerOptions = data.map(item => {\r\n          return Object.assign(\r\n            {},\r\n            { text: item.dictionaryText },\r\n            { value: item.dictionaryId }\r\n          );\r\n        });\r\n        this.winnerIndex = this.winnerOptions.findIndex(\r\n          v => v.value === this.formData.winnerType\r\n        );\r\n      });\r\n    },\r\n    handleWinner(value) {\r\n      this.formData.winnerType = value.value;\r\n      this.formData.winnerTypeName = value.text;\r\n      this.winnerShow = false;\r\n      // 获奖对象变化，切换获奖对象清空获奖人及指导老师人数\r\n      if (value.value == '22') {\r\n        // 学生\r\n        this.formData.winnerInfoList = [\r\n          {\r\n            name: '',\r\n            num: ''\r\n          }\r\n        ];\r\n      } else {\r\n        this.formData.winnerInfoList = [\r\n          {\r\n            name: ''\r\n          }\r\n        ];\r\n      }\r\n      if (this.queryParmas.type === 'edit') {\r\n        // 若为编辑弹框，切换对象时需提交deleteIds删除原本的数据信息\r\n        this.deleteIdsArr = Object.assign(this.idsArr);\r\n        this.idsArr = [];\r\n      }\r\n    },\r\n    /**\r\n     * 获取获奖对象\r\n     */\r\n    getOrgOptions() {\r\n      selectDictionaryWithChildren('12').then(({ data }) => {\r\n        this.orgOptions = data.map(item => {\r\n          return Object.assign(\r\n            {},\r\n            { text: item.dictionaryText },\r\n            { value: item.dictionaryId }\r\n          );\r\n        });\r\n        this.orgIndex = this.orgOptions.findIndex(\r\n          v => v.value === this.formData.orgType\r\n        );\r\n      });\r\n    },\r\n    /**\r\n     * 获取奖项等级\r\n     */\r\n    getLevelList() {\r\n      selectDictionaryWithLevelList().then(({ data }) => {\r\n        this.levelOptions = data.map(item => {\r\n          return Object.assign(\r\n            {},\r\n            { text: item.dictionaryText },\r\n            { value: item.dictionaryId }\r\n          );\r\n        });\r\n        this.levelIndex = this.levelOptions.findIndex(\r\n          v => v.value === this.formData.awardLevelId\r\n        );\r\n      });\r\n    },\r\n    handleOrg(value) {\r\n      this.formData.orgType = value.value;\r\n      this.formData.orgTypeName = value.text;\r\n      this.orgShow = false;\r\n    },\r\n    /**\r\n     * 编辑\r\n     * @param {*} row 记录\r\n     * @param {string} column 列\r\n     * @param {*} value 值\r\n     * @param {*} $index 索引\r\n     */\r\n    handleDelete() {\r\n      // TODO\r\n      Dialog.confirm({\r\n        message: '确认要删除该条数据?',\r\n        confirmButtonColor: '#489EF3'\r\n      })\r\n        .then(() => {\r\n          deleteReportAward(this.queryParmas.id).then(res => {\r\n            if (res.status === 200) {\r\n              Toast.success('删除成功');\r\n              // this.$router\r\n              //   .push({\r\n              //     path: '/teacher-points/index'\r\n              //   })\r\n              //   .catch(() => {});\r\n              this.$router.go(-1);\r\n            } else {\r\n              Toast.fail(res.message);\r\n            }\r\n          });\r\n        })\r\n        .catch(() => {\r\n          Toast.fail('已取消删除');\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/ .van-cell {\r\n  padding: 0;\r\n}\r\n/deep/ .van-cell::after {\r\n  border: none;\r\n}\r\n.teacherPointsDetail {\r\n  height: 100%;\r\n  /deep/ .van-loading--vertical {\r\n    position: fixed;\r\n    width: 2rem;\r\n    height: 2rem;\r\n    background: rgba(0, 0, 0, 0.8);\r\n    color: #fff;\r\n    z-index: 9999;\r\n    top: calc(50% - 1rem);\r\n    left: calc(50% - 1rem);\r\n    border-radius: 0.3rem;\r\n    padding-top: 0.48rem;\r\n    box-sizing: border-box;\r\n    .van-loading__spinner,\r\n    .van-loading__text {\r\n      color: #fff;\r\n    }\r\n  }\r\n  .label {\r\n    .import {\r\n      color: #fb0000;\r\n    }\r\n  }\r\n  .detailInfo,\r\n  .prize,\r\n  .record {\r\n    margin-top: 0.2rem;\r\n    background: #fff;\r\n    padding: 0 0.32rem;\r\n    > div {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 0.26rem 0;\r\n      border-bottom: 1px solid rgba(25, 31, 37, 0.08);\r\n      /deep/ .van-cell__title {\r\n        font-weight: 400;\r\n        color: rgba(0, 0, 0, 0.45);\r\n        line-height: 0.44rem;\r\n        font-size: 0.26rem;\r\n        text-align: left;\r\n        width: auto;\r\n      }\r\n      /deep/ .van-field__control {\r\n        font-weight: 400;\r\n        color: rgba(0, 0, 0, 0.85);\r\n        line-height: 0.44rem;\r\n        font-size: 0.26rem;\r\n      }\r\n      /deep/.van-field__control:disabled {\r\n        -webkit-text-fill-color: rgba(0, 0, 0, 0.85);\r\n      }\r\n      .label {\r\n        font-weight: 400;\r\n        color: rgba(0, 0, 0, 0.45);\r\n        line-height: 0.44rem;\r\n        font-size: 0.26rem;\r\n      }\r\n      .info {\r\n        font-weight: 400;\r\n        color: rgba(0, 0, 0, 0.85);\r\n        line-height: 0.44rem;\r\n        font-size: 0.26rem;\r\n        flex: 1;\r\n        text-align: left;\r\n      }\r\n      .icon {\r\n        width: 0.32rem;\r\n        height: 0.32rem;\r\n      }\r\n    }\r\n    .winnerList {\r\n      flex-direction: column;\r\n      padding: 0;\r\n      border: none;\r\n      > div {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.26rem 0;\r\n        border-bottom: 1px solid rgba(25, 31, 37, 0.08);\r\n        width: 100%;\r\n      }\r\n    }\r\n    > .winnerList:last-child > div:last-child {\r\n      border: none;\r\n    }\r\n    .btn-text {\r\n      img {\r\n        width: 0.32rem;\r\n        height: 0.32rem;\r\n      }\r\n    }\r\n  }\r\n  .prize {\r\n    .photoBox {\r\n      flex-direction: column;\r\n      border-bottom: none;\r\n      .label {\r\n        width: 100%;\r\n        justify-content: flex-start;\r\n        text-align: left;\r\n      }\r\n      .Imgbox {\r\n        width: 100%;\r\n        margin-top: 0.2rem;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        justify-content: flex-start;\r\n        > div {\r\n          margin-right: 0.2rem;\r\n          margin-bottom: 0.2rem;\r\n          position: relative;\r\n          .provImg {\r\n            width: 1.58rem;\r\n            height: 1.58rem;\r\n          }\r\n          .deleteImg {\r\n            position: absolute;\r\n            width: 0.32rem;\r\n            height: 0.32rem;\r\n            top: -0.16rem;\r\n            right: -0.16rem;\r\n            > img {\r\n              width: 100%;\r\n              height: 100%;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .record {\r\n    > div {\r\n      align-items: flex-start;\r\n      border-bottom: none;\r\n    }\r\n    .remarkBox {\r\n      overflow: hidden;\r\n      .label {\r\n        min-width: 0.8rem;\r\n      }\r\n      .info {\r\n        margin-left: 12px;\r\n        font-size: 0.26rem;\r\n        color: #c8c9cc;\r\n        line-height: 0.44rem;\r\n        color: rgba(0, 0, 0, 0.85);\r\n        flex: 1;\r\n        overflow: hidden;\r\n        > p {\r\n          word-wrap: break-word;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .auditRecords {\r\n    margin-top: 0.2rem;\r\n    background: #fff;\r\n    padding: 0.26rem 0.32rem;\r\n    .label {\r\n      font-weight: 400;\r\n      color: rgba(0, 0, 0, 0.45);\r\n      line-height: 0.44rem;\r\n      font-size: 0.26rem;\r\n    }\r\n    .auditContent {\r\n      .audit-item:last-child {\r\n        border-bottom: none;\r\n        .Record-point .line {\r\n          display: none;\r\n        }\r\n      }\r\n      .audit-item {\r\n        position: relative;\r\n        margin-left: 0.68rem;\r\n        border-bottom: 1px solid rgba(25, 31, 37, 0.08);\r\n        padding: 0.2rem 0;\r\n        .Record-point {\r\n          position: absolute;\r\n          left: -0.68rem;\r\n          height: 100%;\r\n          > img {\r\n            width: 0.56rem;\r\n            height: 0.56rem;\r\n          }\r\n          .line {\r\n            height: 100%;\r\n            width: 0.04rem;\r\n            background: #e2e2e2;\r\n            margin-left: 0.28rem;\r\n            margin-top: -0.28rem;\r\n          }\r\n        }\r\n        .record-content {\r\n          .info {\r\n            display: flex;\r\n            .name {\r\n              font-size: 0.28rem;\r\n              font-weight: 400;\r\n              color: rgba(0, 0, 0, 0.85);\r\n              line-height: 0.44rem;\r\n            }\r\n            .role {\r\n              font-weight: 400;\r\n              color: rgba(0, 0, 0, 0.45);\r\n              line-height: 0.44rem;\r\n              font-size: 0.24rem;\r\n              margin-left: 0.2rem;\r\n            }\r\n            .time {\r\n              font-weight: 400;\r\n              color: rgba(0, 0, 0, 0.45);\r\n              line-height: 0.44rem;\r\n              font-size: 0.24rem;\r\n              flex: 1;\r\n              text-align: right;\r\n            }\r\n          }\r\n          .message {\r\n            margin-top: 0.2rem;\r\n            font-size: 0.28rem;\r\n            font-weight: 400;\r\n            color: rgba(0, 0, 0, 0.85);\r\n            line-height: 0.44rem;\r\n          }\r\n          .status {\r\n            display: flex;\r\n            justify-content: flex-end;\r\n            align-items: center;\r\n            .statusName {\r\n              font-size: 0.24rem;\r\n              font-weight: 400;\r\n              line-height: 0.4rem;\r\n            }\r\n            .icon {\r\n              width: 6px;\r\n              height: 6px;\r\n              border-radius: 50%;\r\n              margin-right: 0.12rem;\r\n            }\r\n            .statu-green {\r\n              background-color: #52c41a;\r\n            }\r\n            .statu-red {\r\n              background-color: #f25643;\r\n            }\r\n            .statu-bule {\r\n              background-color: #489ef3;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .notDate {\r\n      width: 100%;\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      font-weight: 400;\r\n      color: rgba(0, 0, 0, 0.45);\r\n      line-height: 22px;\r\n      font-size: 0.28rem;\r\n      min-height: 1rem;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}