{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-front/views/message/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-front/views/message/index.vue","mtime":1645176309828},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbWVzc2FnZVF1ZXJ5LAogIHBvc3RVcGRhdGFTaWduCn0gZnJvbSAnQC9wYWdlcy9zaGFyZS1wbGF0Zm9ybS1mcm9udC9hcGkvbWVzc2FnZSc7CmltcG9ydCB7CiAgZ2V0TGFiZWxBZGp1c3RlZCwKICBnZXRSZWFkTWVzc2FnZQp9IGZyb20gJ0AvcGFnZXMvc2hhcmUtcGxhdGZvcm0tZnJvbnQvYXBpL3VzZXInOwppbXBvcnQgewogIFBhZ2luYXRpb24sCiAgQ29sbGFwc2UsCiAgQ29sbGFwc2VJdGVtLAogIFRpbWVQaWNrZXIsCiAgQmFkZ2UsCiAgTGluawp9IGZyb20gJ2VsZW1lbnQtdWknOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ01lc3NhZ2UnLAogIGNvbXBvbmVudHM6IHsKICAgIFtQYWdpbmF0aW9uLm5hbWVdOiBQYWdpbmF0aW9uLAogICAgW0NvbGxhcHNlLm5hbWVdOiBDb2xsYXBzZSwKICAgIFtDb2xsYXBzZUl0ZW0ubmFtZV06IENvbGxhcHNlSXRlbSwKICAgIFtUaW1lUGlja2VyLm5hbWVdOiBUaW1lUGlja2VyLAogICAgW0JhZGdlLm5hbWVdOiBCYWRnZSwKICAgIFtMaW5rLm5hbWVdOiBMaW5rCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW1hZ2Vsb2dvOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL25ld2xvZ28ucG5nJyksCiAgICAgIGltZ1NyY0hvbWU6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvaG9tZS53ZWJwJyksCiAgICAgIGltZ1NyY09uZTogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9uZWVkLndlYnAnKSwKICAgICAgaW1nU3JjVHdvOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL21lc3NhZ2Uud2VicCcpLAogICAgICBpbWdTcmNUaHJlZTogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9wZXJzb25hbC53ZWJwJyksCiAgICAgIG1lc3NhZ2VEYXRhOiB7fSwKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLCAvL+mAieS4reeahOWIl+eahOaVsOe7hOmbhuWQiAogICAgICBhY2NvdW50VHlwZTogJycsCiAgICAgIGlzQWN0aXZlOiB0cnVlLAogICAgICBpc0RvdDogZmFsc2UsCiAgICAgIGlzbWVzc2FnZURvdDogZmFsc2UsCiAgICAgIGN1cnJlbnRQYWdlOiAxLCAvL+W9k+WJjemhteeggQogICAgICBwYWdlU2l6ZTogMTAgLy/mr4/pobXnmoTmlbDmja7mlbDph48KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5hY2NvdW50VHlwZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY2NvdW50VHlwZScpOwogICAgdGhpcy5nZXRtZXNzYWdlUXVlcnkoKTsKICAgIHRoaXMuZ2V0U2lnblRpcCgpOwogIH0sCiAgbWV0aG9kczogewogICAgbGlua0J0bih2YWwpIHsKICAgICAgY29uc29sZS5sb2coJ+i3s+i9rCcsIHZhbCk7CiAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdsaW5rRGF0YScsIEpTT04uc3RyaW5naWZ5KHZhbCkpOwogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL0RlbWFuZCcpOwogICAgfSwKICAgIC8v54K55Ye75Zu+5qCH6Lez6L2s6aG16Z2iCiAgICBnb1BhZ2Uoa2V5KSB7CiAgICAgIHN3aXRjaCAoa2V5KSB7CiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL1NlYXJjaCcpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMic6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL0RlbWFuZCcpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL01lc3NhZ2UnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzQnOgogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9QZXJzb25hbCcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvL+iOt+WPluS4quS6uuS4reW/g+aYr+WQpuacieW+heWKnuS6i+mhuQogICAgZ2V0U2lnblRpcCgpIHsKICAgICAgZ2V0TGFiZWxBZGp1c3RlZCh0aGlzLmFjY291bnRUeXBlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhID09ICcwJykgewogICAgICAgICAgdGhpcy5pc0RvdCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmlzRG90ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBnZXRSZWFkTWVzc2FnZSh0aGlzLmFjY291bnRUeXBlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5pc21lc3NhZ2VEb3QgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/pgIDlh7rnmbvlvZUKICAgIGFzeW5jIGxvZ091dCgpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0Jyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbG9naW4/cmVkaXJlY3Q9JHt0aGlzLiRyb3V0ZS5mdWxsUGF0aH1gKTsKICAgIH0sCiAgICAvL+W3suivu+a2iOaBr+e9rueBsAogICAgdGFibGVSb3dDbGFzc05hbWUoeyByb3csIHJvd0luZGV4IH0pIHsKICAgICAgaWYgKHJvdy5yZWFkU3RhdGUgPT09IDApIHsKICAgICAgICByZXR1cm4gJ3dhcm5pbmctcm93JzsKICAgICAgfQogICAgICByZXR1cm4gJyc7CiAgICB9LAogICAgLy/nirbmgIHkuLow5LiN5Y+v5Yu+6YCJCiAgICBzZWxlY3RhYmxlKHJvdywgcm93SW5kZXgpIHsKICAgICAgaWYgKHJvdy5yZWFkU3RhdGUgPT09IDApIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvL+WIl+ihqOWLvumAieS6i+S7tgogICAgY2hhbmdlRnVuKHJvdywgcm93SW5kZXgpIHsKICAgICAgbGV0IHJvd0RhdGEgPSBbXTsKICAgICAgcm93LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgcm93RGF0YS5wdXNoKGl0ZW0uaWQpOwogICAgICB9KTsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHJvd0RhdGE7IC8vIOi/lOWbnueahOaYr+mAieS4reeahOWIl+eahOaVsOe7hOmbhuWQiAogICAgfSwKICAgIC8v5YiG6aG15YiH5o2i5q+P6aG15oC75p2h5pWwCiAgICBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VzaXplKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSBwYWdlc2l6ZTsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgIGNvbnN0IHBhcmFtcyA9IHsKICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBvZmZzZXQ6IHRoaXMuY3VycmVudFBhZ2UsCiAgICAgICAgYWNjb3VudFR5cGU6IHRoaXMuYWNjb3VudFR5cGUKICAgICAgfTsKICAgICAgbWVzc2FnZVF1ZXJ5KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMubWVzc2FnZURhdGEgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLy/liIbpobXliIfmjaLpobXnoIEKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2UoY3VycmVudFBhZ2UpIHsKICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IGN1cnJlbnRQYWdlOwogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsCiAgICAgICAgb2Zmc2V0OiAodGhpcy5jdXJyZW50UGFnZSAtIDEpICogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBhY2NvdW50VHlwZTogdGhpcy5hY2NvdW50VHlwZQogICAgICB9OwogICAgICBtZXNzYWdlUXVlcnkocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5tZXNzYWdlRGF0YSA9IHJlcy5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmtojmga/liJfooajmn6Xor6IKICAgIGdldG1lc3NhZ2VRdWVyeSgpIHsKICAgICAgY29uc3QgaXRlbSA9IHsKICAgICAgICBhY2NvdW50VHlwZTogdGhpcy5hY2NvdW50VHlwZSwKICAgICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBvZmZzZXQ6IHRoaXMuY3VycmVudFBhZ2UKICAgICAgfTsKICAgICAgbWVzc2FnZVF1ZXJ5KGl0ZW0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLm1lc3NhZ2VEYXRhID0gcmVzLmRhdGE7CiAgICAgICAgLy8g6YGN5Y6G5pWw57uE77yM5Yik5pat5piv5ZCm5pyJ5pyq6K+75raI5oGvCiAgICAgICAgY29uc3QgY2hlY2tlZSA9IHRoaXMubWVzc2FnZURhdGEucmVjb3Jkcy5ldmVyeShmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5yZWFkU3RhdGUgPT09IDA7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGNoZWNrZWUpIHsKICAgICAgICAgIHRoaXMuaXNtZXNzYWdlRG90ID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdGF0ZUZvcm1hdHRlcihyb3cpIHsKICAgICAgcmV0dXJuICfnq5nlhoXmtojmga8nOyAvL+ebruWJjeS7heacieivpeS4gOenjeexu+Wei++8jOWQjue7reWPr+iDveWBmuS/ruaUueWImeeUqOaVsOaNruWtl+WFuOeahOaOpeWPowogICAgfSwKICAgIC8v5qCH6K6w5bey6K+75raI5oGvCiAgICBzaWduUmVhZGVkKCkgewogICAgICBjb25zdCBjaGVja2VlID0gdGhpcy5tZXNzYWdlRGF0YS5yZWNvcmRzLmV2ZXJ5KGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5yZWFkU3RhdGUgPT0gJzAnOwogICAgICB9KTsKICAgICAgaWYgKGNoZWNrZWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICfml6DmnKror7vmtojmga8hJwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLm11bHRpcGxlU2VsZWN0aW9uID09ICcnKSB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+35Yu+6YCJ5pyq6K+75raI5oGvIScKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBsZXQgcXVlcnlEYXRhID0gewogICAgICAgICAgICBhY2NvdW50VHlwZTogdGhpcy5hY2NvdW50VHlwZSwKICAgICAgICAgICAgbWVzc2FnZUlkczogdGhpcy5tdWx0aXBsZVNlbGVjdGlvbgogICAgICAgICAgfTsKICAgICAgICAgIHBvc3RVcGRhdGFTaWduKHF1ZXJ5RGF0YSkKICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip8hJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSBbXTsKICAgICAgICAgICAgICB0aGlzLmdldG1lc3NhZ2VRdWVyeSgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzlpLHotKUhJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSBbXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2lnbkFsbFJlYWRlZCgpIHsKICAgICAgY29uc3QgY2hlY2tlZSA9IHRoaXMubWVzc2FnZURhdGEucmVjb3Jkcy5ldmVyeShmdW5jdGlvbihpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucmVhZFN0YXRlID09ICcwJzsKICAgICAgfSk7CiAgICAgIGlmIChjaGVja2VlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICBtZXNzYWdlOiAn5peg5pyq6K+75raI5oGvIScKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgcXVlcnlEYXRhID0gewogICAgICAgICAgYWNjb3VudFR5cGU6IHRoaXMuYWNjb3VudFR5cGUsCiAgICAgICAgICBtZXNzYWdlSWRzOiBbXQogICAgICAgIH07CiAgICAgICAgcG9zdFVwZGF0YVNpZ24ocXVlcnlEYXRhKQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmk43kvZzmiJDlip8hJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5pc21lc3NhZ2VEb3QgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IFtdOwogICAgICAgICAgICB0aGlzLmdldG1lc3NhZ2VRdWVyeSgpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+aTjeS9nOWksei0pSEnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gW107CiAgICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/share-platform-front/views/message","sourcesContent":["<template>\n  <div class=\"loginRole\">\n    <div class=\"head-background\">\n      <div class=\"logo-img\">\n        <a href=\"#\">\n          <img :src=\"imagelogo\" alt=\"\" @click=\"goPage('1')\" />\n        </a>\n      </div>\n      <div class=\"nav\">\n        <a href=\"#\">\n          <img\n            :src=\"imgSrcHome\"\n            alt=\"返回首页\"\n            title=\"返回首页\"\n            @click=\"goPage('1')\"\n          />\n        </a>\n        <a href=\"#\">\n          <img\n            :src=\"imgSrcOne\"\n            alt=\"我的需求\"\n            title=\"我的需求\"\n            @click=\"goPage('2')\"\n          />\n        </a>\n        <el-badge :is-dot=\"ismessageDot\">\n          <a href=\"#\">\n            <img\n              :src=\"imgSrcTwo\"\n              alt=\"我的消息\"\n              title=\"我的消息\"\n              @click=\"goPage('3')\"\n            />\n          </a>\n        </el-badge>\n        <el-badge :is-dot=\"isDot\">\n          <a href=\"#\">\n            <img\n              :src=\"imgSrcThree\"\n              alt=\"个人中心\"\n              title=\"个人中心\"\n              @click=\"goPage('4')\"\n            />\n          </a>\n        </el-badge>\n        <el-button type=\"primary\" size=\"mini\" @click.native=\"logOut\"\n          >退出</el-button\n        >\n      </div>\n    </div>\n    <div class=\"menu\">\n      <el-card>\n        <el-form label-width=\"180px\" style=\"\" label-position=\"left\">\n          <span class=\"el-span\">我的消息</span>\n          <el-button\n            size=\"small\"\n            style=\"float:right;margin-top:15px;margin-left:10px;\"\n            @click=\"signReaded\"\n            >标记已读</el-button\n          >\n          <el-button\n            size=\"small\"\n            style=\"float:right;margin-top:15px;\"\n            @click=\"signAllReaded\"\n            >全部已读</el-button\n          >\n          <el-divider></el-divider\n        ></el-form>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"messageData.records\"\n          style=\"width:100%\"\n          tooltip-effect=\"dark\"\n          :row-class-name=\"tableRowClassName\"\n          @selection-change=\"changeFun\"\n        >\n          <el-table-column type=\"selection\" width=\"40\" :selectable=\"selectable\">\n          </el-table-column>\n          <el-table-column\n            prop=\"messageContent\"\n            label=\"消息内容\"\n            show-overflow-tooltip\n            min-width=\"400\"\n            ><template slot-scope=\"prop\">\n              <span v-if=\"!prop.row.extra\">{{ prop.row.messageContent }}</span>\n              <span v-else\n                >{{ prop.row.messageContent.split('|')[0]\n                }}<el-link type=\"primary\" @click=\"linkBtn(prop.row)\">{{\n                  prop.row.extraData\n                }}</el-link\n                >{{ prop.row.messageContent.split('|')[1] }}</span\n              >\n            </template>\n          </el-table-column>\n          <el-table-column label=\"日期\" prop=\"createTime\" width=\"150\">\n          </el-table-column>\n          <el-table-column\n            prop=\"messageType\"\n            :formatter=\"stateFormatter\"\n            label=\"类型\"\n            width=\"120\"\n          ></el-table-column>\n        </el-table>\n        <el-pagination\n          style=\"text-align:right;margin-top:10px;\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          :page-size=\"pageSize\"\n          background\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"messageData.total\"\n        >\n        </el-pagination>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  messageQuery,\n  postUpdataSign\n} from '@/pages/share-platform-front/api/message';\nimport {\n  getLabelAdjusted,\n  getReadMessage\n} from '@/pages/share-platform-front/api/user';\nimport {\n  Pagination,\n  Collapse,\n  CollapseItem,\n  TimePicker,\n  Badge,\n  Link\n} from 'element-ui';\nexport default {\n  name: 'Message',\n  components: {\n    [Pagination.name]: Pagination,\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    [TimePicker.name]: TimePicker,\n    [Badge.name]: Badge,\n    [Link.name]: Link\n  },\n  data() {\n    return {\n      imagelogo: require('../../assets/images/newlogo.png'),\n      imgSrcHome: require('../../assets/images/home.webp'),\n      imgSrcOne: require('../../assets/images/need.webp'),\n      imgSrcTwo: require('../../assets/images/message.webp'),\n      imgSrcThree: require('../../assets/images/personal.webp'),\n      messageData: {},\n      multipleSelection: [], //选中的列的数组集合\n      accountType: '',\n      isActive: true,\n      isDot: false,\n      ismessageDot: false,\n      currentPage: 1, //当前页码\n      pageSize: 10 //每页的数据数量\n    };\n  },\n  created() {\n    this.accountType = window.sessionStorage.getItem('accountType');\n    this.getmessageQuery();\n    this.getSignTip();\n  },\n  methods: {\n    linkBtn(val) {\n      console.log('跳转', val);\n      window.sessionStorage.setItem('linkData', JSON.stringify(val));\n      this.$router.push('/Demand');\n    },\n    //点击图标跳转页面\n    goPage(key) {\n      switch (key) {\n        case '1':\n          this.$router.push('/Search');\n          break;\n        case '2':\n          this.$router.push('/Demand');\n          break;\n        case '3':\n          this.$router.push('/Message');\n          break;\n        case '4':\n          this.$router.push('/Personal');\n          break;\n      }\n    },\n    //获取个人中心是否有待办事项\n    getSignTip() {\n      getLabelAdjusted(this.accountType).then(res => {\n        if (res.data == '0') {\n          this.isDot = false;\n        } else {\n          this.isDot = true;\n        }\n      });\n      getReadMessage(this.accountType).then(res => {\n        if (res.data.length) {\n          this.ismessageDot = true;\n        }\n      });\n    },\n    //退出登录\n    async logOut() {\n      window.localStorage.clear();\n      window.sessionStorage.clear();\n      await this.$store.dispatch('user/logout');\n      this.$router.push(`/login?redirect=${this.$route.fullPath}`);\n    },\n    //已读消息置灰\n    tableRowClassName({ row, rowIndex }) {\n      if (row.readState === 0) {\n        return 'warning-row';\n      }\n      return '';\n    },\n    //状态为0不可勾选\n    selectable(row, rowIndex) {\n      if (row.readState === 0) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n    //列表勾选事件\n    changeFun(row, rowIndex) {\n      let rowData = [];\n      row.forEach((item, index) => {\n        rowData.push(item.id);\n      });\n      this.multipleSelection = rowData; // 返回的是选中的列的数组集合\n    },\n    //分页切换每页总条数\n    handleSizeChange(pagesize) {\n      this.pageSize = pagesize;\n      this.currentPage = 1;\n      const params = {\n        limit: this.pageSize,\n        offset: this.currentPage,\n        accountType: this.accountType\n      };\n      messageQuery(params).then(res => {\n        this.messageData = res.data;\n      });\n    },\n    //分页切换页码\n    handleCurrentChange(currentPage) {\n      this.currentPage = currentPage;\n      const params = {\n        limit: this.pageSize,\n        offset: (this.currentPage - 1) * this.pageSize,\n        accountType: this.accountType\n      };\n      messageQuery(params).then(res => {\n        this.messageData = res.data;\n      });\n    },\n    // 消息列表查询\n    getmessageQuery() {\n      const item = {\n        accountType: this.accountType,\n        limit: this.pageSize,\n        offset: this.currentPage\n      };\n      messageQuery(item).then(res => {\n        this.messageData = res.data;\n        // 遍历数组，判断是否有未读消息\n        const checkee = this.messageData.records.every(function(item) {\n          return item.readState === 0;\n        });\n        if (checkee) {\n          this.ismessageDot = false;\n        }\n      });\n    },\n    stateFormatter(row) {\n      return '站内消息'; //目前仅有该一种类型，后续可能做修改则用数据字典的接口\n    },\n    //标记已读消息\n    signReaded() {\n      const checkee = this.messageData.records.every(function(item) {\n        return item.readState == '0';\n      });\n      if (checkee) {\n        this.$message({\n          type: 'info',\n          message: '无未读消息!'\n        });\n      } else {\n        if (this.multipleSelection == '') {\n          this.$message({\n            type: 'info',\n            message: '请勾选未读消息!'\n          });\n        } else {\n          let queryData = {\n            accountType: this.accountType,\n            messageIds: this.multipleSelection\n          };\n          postUpdataSign(queryData)\n            .then(res => {\n              this.$message({\n                type: 'success',\n                message: '操作成功!'\n              });\n              this.multipleSelection = [];\n              this.getmessageQuery();\n            })\n            .catch(() => {\n              this.$message({\n                type: 'error',\n                message: '操作失败!'\n              });\n              this.multipleSelection = [];\n            });\n        }\n      }\n    },\n    signAllReaded() {\n      const checkee = this.messageData.records.every(function(item) {\n        return item.readState == '0';\n      });\n      if (checkee) {\n        this.$message({\n          type: 'info',\n          message: '无未读消息!'\n        });\n      } else {\n        let queryData = {\n          accountType: this.accountType,\n          messageIds: []\n        };\n        postUpdataSign(queryData)\n          .then(res => {\n            this.$message({\n              type: 'success',\n              message: '操作成功!'\n            });\n            this.ismessageDot = false;\n            this.multipleSelection = [];\n            this.getmessageQuery();\n          })\n          .catch(() => {\n            this.$message({\n              type: 'error',\n              message: '操作失败!'\n            });\n            this.multipleSelection = [];\n          });\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.loginRole {\n  margin: 0;\n  padding: 0;\n}\n.head-background {\n  min-width: 800px;\n  background: url('../../assets/images/navbg.webp') no-repeat;\n  background-size: cover;\n}\n.logo-img {\n  display: inline-block;\n  margin-left: 20px;\n  padding: 10px 0;\n}\n.nav {\n  width: 350px;\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: 15px;\n  float: right;\n}\n.nav img {\n  width: 25px;\n  height: 25px;\n}\n.menu {\n  padding-top: 20px;\n  width: 80vw;\n  min-width: 800px;\n  margin: auto;\n}\n.el-divider {\n  margin: 0;\n  padding: 0;\n}\n.el-span {\n  display: inline-block;\n  font-size: 1rem;\n  font-weight: bold;\n  margin-top: 15px;\n  margin-bottom: 20px;\n}\n</style>\n<style>\n.el-table .warning-row {\n  /* background: rgb(202, 201, 201); */\n  color: rgb(206, 202, 202);\n}\n.el-tooltip__popper {\n  max-width: 40%;\n} /*设置显示隐藏部分内容，按50%显示*/\n</style>\n"]}]}