{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/SignIn/index.vue?vue&type=style&index=0&id=3fcf0d0e&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/SignIn/index.vue","mtime":1627979214288},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW5Cb3ggewogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNCk7CiAgd2lkdGg6IDEwMCU7CiAgbWluLWhlaWdodDogMTAwdmg7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIC5wb3BvdmVyLWJveCB7CiAgICB3aWR0aDogNzAwcHg7CiAgICBoZWlnaHQ6IDQwMHB4OwogICAgLmJveC1jYXJkIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMTAwJTsKICAgICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgICAvZGVlcC8uZWwtY2FyZF9fYm9keSB7CiAgICAgICAgcGFkZGluZzogMHB4OwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgLmltZy1ib3ggewogICAgICAgICAgd2lkdGg6IDQwMHB4OwogICAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICAgICAgaW1nIHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLmZvcm0tYm94IHsKICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICBwYWRkaW5nOiAwIDIwcHg7CiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwogICAgICAgICAgLnNpZ25Jbi1lbiB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDUwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMThweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7CiAgICAgICAgICB9CiAgICAgICAgICAuc2lnbkluLXpoIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg1KTsKICAgICAgICAgIH0KICAgICAgICAgIC5mcm9tLWdyb3VwIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsKICAgICAgICAgICAgLmZyb20tbGFiZWwgewogICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgL2RlZXAvLmVsLWlucHV0X19pbm5lciB7CiAgICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjA0KTsKICAgICAgICAgICAgfQogICAgICAgICAgICAucGFzc3dvcmRCb3ggewogICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgICAgICAgICAuZXJyb3JUaXAgewogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgaGVpZ2h0OiAyMHB4OwogICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZjUyMjJkOwogICAgICAgICAgICAgICAgLndhcm5pbmdJY29uIHsKICAgICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3BhbiB7CiAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiA1cHg7CiAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgLmJ0bi1ncm91cCB7CiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAzMHB4OwogICAgICAgICAgICAgIC5idG4gewogICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgd2lkdGg6IDE0MHB4OwogICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzNiNzhlMzsKICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDsKICAgICAgICAgICAgICAgIGNvbG9yOiAjZmZmOwogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/charity-foundation/views/SignIn","sourcesContent":["<template>\n  <div class=\"loginBox\" v-loading=\"loading\">\n    <div class=\"popover-box\">\n      <el-card class=\"box-card\">\n        <div class=\"img-box\">\n          <img src=\"../../assets/images/login.png\" alt=\"\" />\n        </div>\n        <div class=\"form-box\">\n          <p class=\"signIn-en\">SIGN IN</p>\n          <p class=\"signIn-zh\">用户登录</p>\n          <div class=\"from-group\">\n            <el-form\n              :model=\"ruleForm\"\n              :rules=\"rules\"\n              ref=\"ruleForm\"\n              class=\"demo-ruleForm\"\n            >\n              <el-form-item prop=\"username\">\n                <p class=\"from-label\">用户名</p>\n                <el-input\n                  v-model.trim=\"ruleForm.username\"\n                  placeholder=\"输入用户名\"\n                ></el-input>\n              </el-form-item>\n              <el-form-item prop=\"password\" class=\"passwordBox\">\n                <p class=\"from-label\">密码</p>\n                <el-input\n                  v-model.trim=\"ruleForm.password\"\n                  type=\"password\"\n                  placeholder=\"输入密码\"\n                ></el-input>\n                <p class=\"errorTip\" v-if=\"!this.passwordSuccess\">\n                  <i class=\"el-icon-warning-outline warningIcon\"></i>\n                  <span>{{ this.passwordMessage }}</span>\n                </p>\n              </el-form-item>\n            </el-form>\n            <div class=\"btn-group\">\n              <div class=\"btn\" @click=\"submitForm('ruleForm')\">登录</div>\n            </div>\n          </div>\n        </div>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Card, Input, Form, FormItem } from 'element-ui';\nimport { login, getAllMenus } from '../../api/user/index';\nimport {\n  setToken,\n  setUserName,\n  setUserId\n} from '../../../../plugins/core/auth';\nexport default {\n  name: 'SignIN',\n  components: {\n    [Card.name]: Card,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    [Input.name]: Input\n  },\n  data() {\n    // let passwordRules = (rule, value, callback) => {\n    //   console.log(this.passwordSuccess, 'success');\n    //   if (this.passwordSuccess) {\n    //     return callback();\n    //   } else {\n    //     return callback(new Error(this.passwordMessage));\n    //   }\n    // };\n    return {\n      ruleForm: {\n        username: '',\n        password: ''\n      },\n      passwordSuccess: true,\n      passwordMessage: '',\n      loading: false,\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { required: true, message: '请输入用户名', trigger: 'change' },\n          {\n            min: 1,\n            max: 16,\n            message: '用户名最大长度为16个字符',\n            trigger: 'blur'\n          }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { required: true, message: '请输入密码', trigger: 'change' },\n          {\n            min: 1,\n            max: 16,\n            message: '密码最大长度为16个字符',\n            trigger: 'blur'\n          }\n        ]\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.loading = true;\n      this.passwordSuccess = true;\n      this.passwordMessage = '';\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          this.$store.dispatch('user/logout');\n          login({\n            username: this.ruleForm.username.trim(),\n            password: this.ruleForm.password\n          }).then(response => {\n            const { data } = response;\n            this.$store.dispatch('user/setToken', `Bearere ${data.token}`);\n            this.$store.dispatch('user/setName', data.textName);\n            this.$store.dispatch('user/setUserId', data.userId);\n            setToken(`Bearere ${data.token}`);\n            setUserName(data.textName);\n            setUserId(data.userId);\n            this.$router\n              .replace({\n                // path: this.$route.query.redirect || '/home'\n                path: '/home'\n              })\n              .catch(() => {});\n          });\n          this.loading = false;\n        } else {\n          console.log('error submit!!');\n          this.loading = false;\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.loginBox {\n  background: rgba(0, 0, 0, 0.04);\n  width: 100%;\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .popover-box {\n    width: 700px;\n    height: 400px;\n    .box-card {\n      width: 100%;\n      height: 100%;\n      border-radius: 6px;\n      /deep/.el-card__body {\n        padding: 0px;\n        display: flex;\n        align-items: center;\n        width: 100%;\n        height: 100%;\n        .img-box {\n          width: 400px;\n          height: 100%;\n          img {\n            width: 100%;\n            height: 100%;\n          }\n        }\n        .form-box {\n          flex: 1;\n          height: 100%;\n          padding: 0 20px;\n          background-color: #fff;\n          .signIn-en {\n            margin-top: 50px;\n            font-size: 18px;\n            font-weight: 600;\n            color: rgba(0, 0, 0, 0.85);\n          }\n          .signIn-zh {\n            margin-top: 10px;\n            font-size: 14px;\n            font-weight: 600;\n            color: rgba(0, 0, 0, 0.85);\n          }\n          .from-group {\n            margin-top: 20px;\n            .from-label {\n              line-height: 30px;\n              font-weight: 400;\n            }\n            /deep/.el-input__inner {\n              background: rgba(0, 0, 0, 0.04);\n            }\n            .passwordBox {\n              position: relative;\n              .errorTip {\n                position: absolute;\n                height: 20px;\n                width: 100%;\n                display: flex;\n                align-items: center;\n                color: #f5222d;\n                .warningIcon {\n                  font-size: 14px;\n                }\n                span {\n                  margin-left: 5px;\n                  font-size: 12px;\n                }\n              }\n            }\n            .btn-group {\n              width: 100%;\n              height: 30px;\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              margin-top: 30px;\n              .btn {\n                cursor: pointer;\n                width: 140px;\n                background-color: #3b78e3;\n                border-radius: 2px;\n                color: #fff;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                font-weight: 400;\n                height: 30px;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}