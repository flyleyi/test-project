{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BMenuManage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/business/BMenuManage/index.vue","mtime":1627979214235},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB1dGlscyBmcm9tICdAL3BsdWdpbnMvY29tbW9uL3V0aWxzJzsKaW1wb3J0IGRlbGV0ZVBuZyBmcm9tICdAL2Fzc2V0cy9pbWFnZXMvZGVsZXRlLnBuZyc7CmltcG9ydCBDSWNvblBpY2tlciBmcm9tICcuLi8uLi9jb21tb24vQ0ljb25QaWNrZXInOwppbXBvcnQgQ1N2Z0ljb24gZnJvbSAnLi4vLi4vY29tbW9uL0NTdmdJY29uJzsKaW1wb3J0IHsKICBSb3csCiAgQ29sLAogIEZvcm0sCiAgRm9ybUl0ZW0sCiAgQnV0dG9uLAogIERpYWxvZywKICBQb3BvdmVyLAogIENhcmQsCiAgT3B0aW9uLAogIElucHV0LAogIFNlbGVjdCwKICBUcmVlLAogIFNjcm9sbGJhcgp9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgYXhpb3MgZnJvbSAnQC9wbHVnaW5zL2F4aW9zJzsKaW1wb3J0IEJJbXBvcnREYXRhUGFuZWwgZnJvbSAnQC9jb21wb25lbnRzL2J1c2luZXNzL0JJbXBvcnREYXRhUGFuZWwvaW5kZXgudnVlJzsKCmZ1bmN0aW9uIGRlbGV0ZU9yRmluZEFycihhcnJEYXRhLCBvYmosIGNoaWxkcmVuLCBfYWxsLCBmaW5kLCByZXBsYWNlQXJyKSB7CiAgLy/liKDpmaTmiJbmn6Xmib7mlbDnu4TkuK3mnInmn5DkuKrlr7nosaHnmoTlhYPntKAuIF9hbGzku6PooajmmK/lkKblhajpg6jliKDpmaQKICBjaGlsZHJlbiA9IGNoaWxkcmVuIHx8ICdjaGlsZHJlbic7IC8vb2Jq5Y+v5Lul5piv5Z+65pys5pWw5o2u57G75Z6LLnJlcGxhY2VBcnLlnKjliKDpmaTnmoTkvY3nva7mt7vliqDnmoTmlbDmja4KICBpZiAoIU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmaW5kKSA9PT0gJ1tvYmplY3QgQXJyYXldJykgewogICAgZmluZCA9IGZpbmQgPyBbXSA6IGZpbmQ7CiAgfQogIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyRGF0YSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyRGF0YS5sZW5ndGg7IGkrKykgewogICAgICB2YXIgbSA9IGFyckRhdGFbaV0sCiAgICAgICAgZmxnID0gMTsKICAgICAgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09ICdvYmplY3QnKSB7CiAgICAgICAgZm9yICh2YXIgaiBpbiBvYmopIHsKICAgICAgICAgIGlmICgKICAgICAgICAgICAgdHlwZW9mIG9ialtqXSA9PSAnZnVuY3Rpb24nCiAgICAgICAgICAgICAgPyAhb2JqW2pdKGosIG1bal0sIG0sIGFyckRhdGEsIGkpCiAgICAgICAgICAgICAgOiBtW2pdICE9IG9ialtqXQogICAgICAgICAgKSB7CiAgICAgICAgICAgIGZsZyA9IDA7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAobSAhPSBvYmopIHsKICAgICAgICAgIGZsZyA9IDA7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChmbGcpIHsKICAgICAgICBpZiAoZmluZCkgewogICAgICAgICAgZmluZC5wdXNoKG0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodHlwZW9mIHJlcGxhY2VBcnIgPT0gJ2Z1bmN0aW9uJykgewogICAgICAgICAgICByZXBsYWNlQXJyID0gcmVwbGFjZUFycihpLCBtLCBhcnJEYXRhKTsKICAgICAgICAgIH0KICAgICAgICAgIHJlcGxhY2VBcnIgPQogICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocmVwbGFjZUFycikgPT0gJ1tvYmplY3QgQXJyYXldJwogICAgICAgICAgICAgID8gcmVwbGFjZUFycgogICAgICAgICAgICAgIDogcmVwbGFjZUFyciB8fCBbXTsKICAgICAgICAgIGFyckRhdGEuc3BsaWNlLmFwcGx5KGFyckRhdGEsIFtpLCAxXS5jb25jYXQocmVwbGFjZUFycikpOwogICAgICAgICAgaS0tOwogICAgICAgICAgX2FsbCAmJiAoaSA9IGkgKyByZXBsYWNlQXJyLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIGlmICghX2FsbCkgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICAgIG9iaiAmJgogICAgICAgIHR5cGVvZiBvYmogPT0gJ29iamVjdCcgJiYKICAgICAgICBkZWxldGVPckZpbmRBcnIobSwgb2JqLCBjaGlsZHJlbiwgX2FsbCwgZmluZCwgcmVwbGFjZUFycik7CiAgICB9CiAgfSBlbHNlIGlmIChhcnJEYXRhICYmIHR5cGVvZiBhcnJEYXRhID09ICdvYmplY3QnKSB7CiAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyRGF0YVtjaGlsZHJlbl0pID09PSAnW29iamVjdCBBcnJheV0nICYmCiAgICAgIGRlbGV0ZU9yRmluZEFycihhcnJEYXRhW2NoaWxkcmVuXSwgb2JqLCBjaGlsZHJlbiwgX2FsbCwgZmluZCwgcmVwbGFjZUFycik7CiAgfQogIHJldHVybiBmaW5kOwp9Ci8qKgogKiDmi7fotJ0KICovCmZ1bmN0aW9uIGNsb25lKG9iaiwgZGVlcCkgewogIGlmICghb2JqKSB7CiAgICByZXR1cm4gb2JqOwogIH0KICBpZiAob2JqLnRhZ05hbWUgJiYgb2JqLm5vZGVUeXBlID09IDEgJiYgdHlwZW9mIG9iai5jbG9uZU5vZGUgPT0gJ2Z1bmN0aW9uJykgewogICAgcmV0dXJuIG9iai5jbG9uZU5vZGUoZGVlcCk7CiAgfQogIHZhciByZXM7CiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKSB7CiAgICByZXMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqLmxlbmd0aDsgaSsrKSB7CiAgICAgIHJlcy5wdXNoKHRoaXMuY2xvbmUob2JqW2ldLCBkZWVwKSk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PSAnb2JqZWN0JykgewogICAgICByZXMgPSB7fTsKICAgICAgZm9yIChsZXQgaSBpbiBvYmopIHsKICAgICAgICBpZiAoIWRlZXApIHsKICAgICAgICAgIHJlc1tpXSA9IG9ialtpXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmVzW2ldID0gdGhpcy5jbG9uZShvYmpbaV0sIGRlZXApOwogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmVzID0gb2JqOwogICAgfQogIH0KICByZXR1cm4gcmVzOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQk1lbnVNYW5hZ2UnLAogIGNvbXBvbmVudHM6IHsKICAgIENJY29uUGlja2VyLAogICAgQ1N2Z0ljb24sCiAgICBbUm93Lm5hbWVdOiBSb3csCiAgICBbQ29sLm5hbWVdOiBDb2wsCiAgICBbRm9ybS5uYW1lXTogRm9ybSwKICAgIFtGb3JtSXRlbS5uYW1lXTogRm9ybUl0ZW0sCiAgICBbSW5wdXQubmFtZV06IElucHV0LAogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLAogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLAogICAgW1BvcG92ZXIubmFtZV06IFBvcG92ZXIsCiAgICBbQ2FyZC5uYW1lXTogQ2FyZCwKICAgIFtTZWxlY3QubmFtZV06IFNlbGVjdCwKICAgIFtPcHRpb24ubmFtZV06IE9wdGlvbiwKICAgIFtTY3JvbGxiYXIubmFtZV06IFNjcm9sbGJhciwKICAgIFtUcmVlLm5hbWVdOiBUcmVlLAogICAgQkltcG9ydERhdGFQYW5lbAogIH0sCiAgcHJvcHM6IHsKICAgIC8qKgogICAgICog5pyN5Yqh5Zmo57G75Z6LCiAgICAgKi8KICAgIHNlcnZlclR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIC8qKgogICAgICog5qCH6aKYCiAgICAgKi8KICAgIHJvb3RUaXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICfoj5zljZUnCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy4kZm4gPSBmdW5jdGlvbihldikgewogICAgICBzZWxmLmhpZGVDb250ZXh0LmNhbGwoc2VsZiwgZXYpOwogICAgfTsKICAgIHJldHVybiB7CiAgICAgIGVkaXRTdGF0dXM6ICcnLAogICAgICBhdXRoTGlzdDogW10sCiAgICAgIGJ0bkRhdGE6IHt9LAogICAgICBidG5EaWFsb2c6IGZhbHNlLAogICAgICBidG5Mb2FkaW5nOiBmYWxzZSwKICAgICAgZGVsZXRlUG5nLAogICAgICBidG5SdWxlczogewogICAgICAgIC8vIOihqOWNlemqjOivgQogICAgICAgIGl0Zk5hbWU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHRyaWdnZXI6ICdjbGljaycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmjInpkq7lkI3np7DmnKrloavlhpknCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBpdGZDb2RlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAnY2xpY2snLCBtZXNzYWdlOiAn5o6l5Y+jY29kZeacquWhq+WGmScgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgbWVudVF1ZXJ5OiB7fSwKICAgICAgbGlzdExvYWRpbmc6IGZhbHNlLAogICAgICBwcm9wc09wdGlvbnM6IHsKICAgICAgICAvLyDmoJHpu5jorqTpgInpobkKICAgICAgICBsYWJlbDogJ21lbnVOYW1lJywKICAgICAgICBjaGlsZHJlbjogJ25vZGVzJywKICAgICAgICBpc0xlYWY6ICdsZWFmJwogICAgICB9LAogICAgICB0cmVlRGF0YTogW10sCiAgICAgIG5vd05vZGU6IHt9LCAvL+iiq+mAieS4reiKgueCueaVsOaNrgogICAgICBub3dTdGF0dXM6IDAsIC8vIOW9k+WJjeeKtuaAgQogICAgICBzdXBlck1lbnU6IFtdLCAvL+S4iue6p+iPnOWNleWIl+ihqAogICAgICBtZW51Q29udGV4dFNob3c6IGZhbHNlLCAvL+m8oOagh+WPjemUruaYvuekuuiPnOWNlQogICAgICBtZW51Q29udGV4dExpc3Q6IFtdLCAvL+m8oOagh+WPjemUruimgeaYvuekuueahOWIl+ihqAogICAgICB0aXRsZTogJ+aWsOWinicsCiAgICAgIGFkZERpYWxvZzogZmFsc2UsIC8v5paw5aKe5by556qXCiAgICAgIGFkZERhdGE6IHt9LAogICAgICBhZGRSdWxlczogewogICAgICAgIHVybDogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgICBtYXg6IDY0LAogICAgICAgICAgICBtZXNzYWdlOiAn6I+c5Y2V5Zyw5Z2A5LiN6IO95Li656m6JwogICAgICAgICAgfSwKICAgICAgICAgIHsgbWF4OiA2NCwgbWVzc2FnZTogJ+acgOWkp+mVv+W6pjY05Liq5a2X56ymJyB9LAogICAgICAgICAgewogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICAgIC8vIHZhciByZXMgPSBkZWxldGVPckZpbmRBcnIoCiAgICAgICAgICAgICAgLy8gICBzZWxmLnRyZWVEYXRhLAogICAgICAgICAgICAgIC8vICAgeyB1cmw6IHZhbHVlIH0sCiAgICAgICAgICAgICAgLy8gICBzZWxmLnByb3BzT3B0aW9ucy5jaGlsZHJlbiwKICAgICAgICAgICAgICAvLyAgIDAsCiAgICAgICAgICAgICAgLy8gICAxCiAgICAgICAgICAgICAgLy8gKTsgLy/mn6Xmib4KICAgICAgICAgICAgICBpZiAoIXZhbHVlIHx8ICF2YWx1ZS50b1N0cmluZygpLnJlcGxhY2UoL15ccyt8XHMrJC9nLCAnJykpIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6I+c5Y2V5Zyw5Z2A5LiN6IO95Li656m6JykpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvL3RoaXMuJHJvdXRlci5vcHRpb25zJiZ0aGlzLiRyb3V0ZXIub3B0aW9ucy5yb3V0ZXMmJihyZXM9dG9vbHMuZGVsZXRlT3JGaW5kQXJyKHRoaXMuJHJvdXRlci5vcHRpb25zLnJvdXRlcyx7dXJsOnZhbHVlfSwiIiwwLDEpKTsvL+afpeaJvgogICAgICAgICAgICAgICAgLy9yZXMubGVuZ3RoPjA/Y2FsbGJhY2soKTpjYWxsYmFjayhuZXcgRXJyb3IoIuaXoOaViOeahOiPnOWNleWcsOWdgCIpKTsKICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBtZW51TmFtZTogWwogICAgICAgICAgeyB0cmlnZ2VyOiAnYmx1cicsIG1heDogNjQsIG1lc3NhZ2U6ICfmnIDlpKfplb/luqY2NOS4quWtl+espicgfSwKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgbWVzc2FnZTogJ+iPnOWNleWQjeensOS4jeiDveS4uuepuicgfQogICAgICAgIF0sCiAgICAgICAgcm9sZVR5cGU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdjaGFuZ2UnLCBtZXNzYWdlOiAn6I+c5Y2V57G75Z6L5pyq5aGr5YaZJyB9CiAgICAgICAgXQogICAgICAgIC8vaWNvbjp7cmVxdWlyZWQ6IGZhbHNlLCB0cmlnZ2VyOiAnYmx1cicsbWVzc2FnZTogJ+Wbvuagh+S4jeiDveS4uuepuid9CiAgICAgIH0sCiAgICAgIHJvbGVMaXN0OiBbXSwKICAgICAgbm9kZURhdGE6IHsKICAgICAgICByb2xlVHlwZTogMAogICAgICB9LAogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgbm93Tm9kZSgpIHt9CiAgfSwKICBjb21wdXRlZDogewogICAgLyoqCiAgICAgKiDmmK/lkKbov5vlhaXlnKjmn5DkuKroj5zljZUKICAgICAqLwogICAgaXNOb3dOb2RlKCkgewogICAgICBpZiAodGhpcy5ub3dOb2RlICYmIHRoaXMubm93Tm9kZS51cmwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOaooeaAgeahhuagh+mimAogICAgICovCiAgICBidG50aXRsZSgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICB7CiAgICAgICAgICBuZXc6ICfmlrDlop4nLAogICAgICAgICAgZWRpdG9yOiAn57yW6L6RJwogICAgICAgIH1bdGhpcy5lZGl0U3RhdHVzXSB8fCAnJwogICAgICApOwogICAgfSwKICAgIC8qKgogICAgICog6I+c5Y2V57G75Z6L57yW6L6R5piv5ZCm56aB55SoCiAgICAgKiDmlrDlu7rkuIDnuqfoj5zljZXlj6/ku6XnvJbovpEKICAgICAqLwogICAgcm9sZVR5cGVEaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuICEodGhpcy5ub3dTdGF0dXMgPT09IDAgJiYgK3RoaXMubm9kZURhdGEuaWQgPT09IC0xKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIGF4aW9zKAogICAgICB7CiAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICB1cmw6ICcvdXNlcmd3L2FkbWluL2F1dGgvbGFzdE9yZGVyJwogICAgICB9LAogICAgICB0aGlzLnNlcnZlclR5cGUKICAgICkudGhlbihkYXRhID0+IHsKICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgIHRoaXMuc3VwZXJNZW51ID0gZGF0YS5kYXRhOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuc3VwZXJNZW51LCAndGhpcy5zdXBlck1lbnUnKTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOWvvOWHugogICAgICovCiAgICBleHBvcnRFeGNlbCgpIHsKICAgICAgdXRpbHMuZG93bmxvYWQoCiAgICAgICAgJy9tb2RlbC9tb2RlbERvd25sb2FkJywKICAgICAgICB7IHR5cGU6ICdpdGYnIH0sCiAgICAgICAgewogICAgICAgICAgbWV0aG9kOiAnR0VUJwogICAgICAgIH0KICAgICAgKTsKICAgIH0sCiAgICAvKioKICAgICAqIOWIneWni+WMluaYvuekuuaooeaAgeahhgogICAgICovCiAgICBpbml0U2hvd0RpYWxvZyh0eXBlKSB7CiAgICAgIHRoaXMuYnRuRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5lZGl0U3RhdHVzID0gdHlwZTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnNbJ2J0bkZvcm0nXS5jbGVhclZhbGlkYXRlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGJ0blN1cmUoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2J0bkZvcm0nXSAmJgogICAgICAgIHRoaXMuJHJlZnNbJ2J0bkZvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgaWYgKHRoaXMuZWRpdFN0YXR1cyA9PSAnbmV3JykgewogICAgICAgICAgICAgIGF4aW9zKAogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgICAgdXJsOiBgL3VzZXJndy9hZG1pbi9hdXRoL2luc2VydEl0Zi8ke3RoaXMuYnRuRGF0YS5tZW51SWR9YCwKICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5idG5EYXRhCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlCiAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE5vZGVMaXN0KCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5re75Yqg5oiQ5YqfIScKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBheGlvcygKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICAgIHVybDogJy91c2VyZ3cvYWRtaW4vYXV0aC91cGRhdGVJdGZCeUlkLzAnLAogICAgICAgICAgICAgICAgICBkYXRhOiB0aGlzLmJ0bkRhdGEKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclR5cGUKICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0Tm9kZUxpc3QoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8hJwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmJ0bkRpYWxvZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgfSwKICAgIGJ0bkNhbmNlbCgpIHsKICAgICAgdGhpcy5idG5EaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBjaGFuZ2VCdG4oaXRlbSwgdHlwZSkgewogICAgICBsZXQgYnRuSXRlbSA9IE9iamVjdC5hc3NpZ24oe30sIGl0ZW0pOwogICAgICB0aGlzLmJ0bkRhdGEgPSBidG5JdGVtOwogICAgICB0aGlzLmluaXRTaG93RGlhbG9nKHR5cGUpOwogICAgfSwKICAgIGRlbGV0ZUJ0bihpdGVtKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruWumuWIoOmZpOivpeaMiemSrj8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBsZXQgcGFyYW1zID0gewogICAgICAgICAgICBpZDogaXRlbS5pZCwKICAgICAgICAgICAgdHlwZTogMQogICAgICAgICAgfTsKICAgICAgICAgIGF4aW9zKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgdXJsOiAnL3VzZXJndy9hZG1pbi9hdXRoL3VwZGF0ZUl0ZkJ5SWQvMScsCiAgICAgICAgICAgICAgZGF0YTogcGFyYW1zCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICAgICAgKQogICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5nZXROb2RlTGlzdCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOWvvOWFpWV4ZWNsCiAgICBvblN1Y2Nlc3MoKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5a+85YWl5oiQ5YqfJyk7CiAgICAgIHRoaXMuZ2V0Tm9kZUxpc3QoKTsKICAgIH0sCiAgICBnZXRMaXN0KCkgewogICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZTsKICAgICAgYXhpb3MoCiAgICAgICAgewogICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgIHVybDogJy91c2VyZ3cvYWRtaW4vYXV0aC9saXN0SW5pdCcKICAgICAgICB9LAogICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICApCiAgICAgICAgLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMudHJlZURhdGEgPSBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWQ6IC0xLAogICAgICAgICAgICAgICAgbWVudU5hbWU6IHRoaXMucm9vdFRpdGxlLAogICAgICAgICAgICAgICAgcGFyZW50TWVudUlkOiAnLTInLAogICAgICAgICAgICAgICAgbm9kZXM6IGRhdGEuZGF0YSwKICAgICAgICAgICAgICAgIG1lbnVJZDogLTEKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIF07CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGdldERyYWdUeXBlKGRyb3BUeXBlKSB7CiAgICAgIGxldCByZXMgPSB7CiAgICAgICAgYmVmb3JlOiAwLAogICAgICAgIGFmdGVyOiAxLAogICAgICAgIGlubmVyOiAyCiAgICAgIH1bZHJvcFR5cGVdOwogICAgICByZXR1cm4gdHlwZW9mIHJlcyA9PT0gJ251bWJlcicgPyByZXMgOiAzOwogICAgfSwKICAgIGhhbmRsZURyYWdFbmQoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSwgZHJvcFR5cGUsIGV2KSB7CiAgICAgIGlmIChkcmFnZ2luZ05vZGUuZGF0YS5tZW51SWQgPT0gZHJvcE5vZGUuZGF0YS5tZW51SWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIHR5cGUgPSB0aGlzLmdldERyYWdUeXBlKGRyb3BUeXBlKTsKICAgICAgaWYgKHR5cGUgPT0gMykgewogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICAgIHJldHVybiB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIG1lc3NhZ2U6ICfmi5bmi73lpLHotKUnCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgbWVudUlkOiBkcmFnZ2luZ05vZGUuZGF0YS5tZW51SWQsCiAgICAgICAgcmVsYXRpdmVJZDogZHJvcE5vZGUuZGF0YS5tZW51SWQsCiAgICAgICAgdHlwZTogdHlwZQogICAgICB9OwogICAgICBpZiAoZGF0YS5tZW51SWQgPT0gZGF0YS5yZWxhdGl2ZUlkKSByZXR1cm47CiAgICAgIGF4aW9zKAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgdXJsOiBgL3VzZXJndy9hZG1pbi9hdXRoL2NoYW5nZU9yZGVyLyR7ZGF0YS5tZW51SWR9LyR7ZGF0YS5yZWxhdGl2ZUlkfS8ke2RhdGEudHlwZX1gCiAgICAgICAgfSwKICAgICAgICB0aGlzLnNlcnZlclR5cGUKICAgICAgKQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmi5bmi73kv53lrZjmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmdldExpc3QoKTsgLy/liLfmlrAKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVEcm9wKGRyYWdnaW5nTm9kZSwgZHJvcE5vZGUsIGRyb3BUeXBlLCBldikge30sCiAgICBhbGxvd0Ryb3AoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSwgdHlwZSkgewogICAgICBpZiAoZHJvcE5vZGUuZGF0YS5pZCA9PSAtMSkgewogICAgICAgIHJldHVybiB0eXBlID09ICdpbm5lcic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOeCueWHu+iKgueCueaYvuekuuS/oeaBrwogICAgICogQHBhcmFtIHsqfSBub2RlIOiKgueCueaVsOaNrgogICAgICovCiAgICBoYW5kbGVOb2RlQ2xpY2sobm9kZSkgewogICAgICB0aGlzLm1lbnVDb250ZXh0U2hvdyA9IGZhbHNlOwogICAgICB0aGlzLm5vd05vZGUgPSBub2RlOwogICAgICAhbm9kZS5tZW51SWQgJiYgKHRoaXMucm9sZUxpc3QgPSBbXSk7CiAgICAgIHRoaXMuZ2V0Tm9kZUxpc3QoKTsKICAgIH0sCiAgICBnZXROb2RlTGlzdCgpIHsKICAgICAgdGhpcy5ub3dOb2RlLm1lbnVJZCAmJgogICAgICAgIGF4aW9zKAogICAgICAgICAgewogICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICB1cmw6IGAvdXNlcmd3L2FkbWluL2F1dGgvZ2V0QXV0aEJ5TWVudS8ke3RoaXMubm93Tm9kZS5tZW51SWR9YAogICAgICAgICAgfSwKICAgICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICAgICkudGhlbihkYXRhID0+IHsKICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5yb2xlTGlzdCA9IGRhdGEuZGF0YS5yb2xlOwogICAgICAgICAgICB0aGlzLmF1dGhMaXN0ID0gZGF0YS5kYXRhLmF1dGg7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICB9LAogICAgaGlkZUNvbnRleHQoZXYpIHsKICAgICAgLy/lhbPpl63lj43plK7oj5zljZUKICAgICAgdGhpcy5tZW51Q29udGV4dFNob3cgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRDb250ZXh0TGlzdChsZXZlbCkgewogICAgICAvL+iOt+WPluWPs+mUruimgeWxleekuueahOiPnOWNlQogICAgICB2YXIgcm9vdCA9IDE7CiAgICAgIGlmIChyb290KSB7CiAgICAgICAgc3dpdGNoIChsZXZlbCkgewogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICByZXR1cm4gWzFdOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICByZXR1cm4gWzEsIDEsIDFdOwogICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICByZXR1cm4gWzEsIDEsIDFdOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIFswLCAxLCAxXTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGxldmVsID09IDEgPyBbMSwgMSwgMV0gOiBbMCwgMSwgMV07CiAgICB9LAogICAgc2hvd0NvbnRleHQoZXYsIGRhdGEsIG5vZGUsIHJlZikgewogICAgICAvL+aJk+W8gOWPjemUruiPnOWNlQogICAgICBpZiAoZXYud2hpY2ggPT0gMykgewogICAgICAgIGV2LnJldHVyblZhbHVlID0gZmFsc2U7CiAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTsKICAgICAgICB2YXIgbGV2ZWwgPSBub2RlLmxldmVsOyAvL+Wxgue6pwogICAgICAgIHRoaXMubWVudUNvbnRleHRTaG93ID0gdHJ1ZTsKICAgICAgICB0aGlzLm1lbnVDb250ZXh0TGlzdCA9IHRoaXMuZ2V0Q29udGV4dExpc3QobGV2ZWwpOwogICAgICAgIHRoaXMubm9kZURhdGEgPSBkYXRhOwoKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAvLyDliKTmlq3kvY3nva4KICAgICAgICAgIHZhciAkbWVudUNvbnRleHQgPSB0aGlzLiRyZWZzWydtZW51LWNvbnRleHQnXTsKICAgICAgICAgIHZhciBsZWZ0ID0gZXYucGFnZVggfHwgZXYueDsgLy8g6byg5qCHeOi9tOS9jee9rgogICAgICAgICAgdmFyIHRvcCA9IGV2LnBhZ2VZIHx8IGV2Lnk7IC8vIOm8oOagh3novbTkvY3nva4KICAgICAgICAgIHZhciBjbGllbnRIZWlnaHQgPSBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDsgLy8g56qX5Y+j6auY5bqmCiAgICAgICAgICB2YXIgd2lkdGggPSAkbWVudUNvbnRleHQuc2Nyb2xsV2lkdGg7IC8vIOmCruS7tuiPnOWNleWuveW6pgogICAgICAgICAgdmFyIGhlaWdodCA9ICRtZW51Q29udGV4dC5zY3JvbGxIZWlnaHQ7IC8vIOWPs+mUruiPnOWNlemrmOW6pgogICAgICAgICAgLy8g5aaC5p6c6I+c5Y2V5L2N572u5bqV6YOo5L2N572u6LaF5Ye656qX5Y+j6auY5bqm77yM6I+c5Y2V5pi+56S65Zyo6byg5qCH5LiK6Z2iCiAgICAgICAgICBpZiAodG9wICsgaGVpZ2h0ID4gY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgICAgIHRvcCA9IHRvcCAtIGhlaWdodDsKICAgICAgICAgIH0KICAgICAgICAgIC8vIOiuvue9ruS9jee9rgogICAgICAgICAgJG1lbnVDb250ZXh0LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKICAgICAgICAgICRtZW51Q29udGV4dC5zdHlsZS50b3AgPSB0b3AgKyAncHgnOwogICAgICAgICAgLy8gdGhpcy4kcmVmc1sibWVudS1jb250ZXh0Il0uc3R5bGUubGVmdD0oZXYucGFnZVh8fGV2LngpKyJweCIKICAgICAgICAgIC8vIHRoaXMuJHJlZnNbIm1lbnUtY29udGV4dCJdLnN0eWxlLnRvcD0oZXYucGFnZVl8fGV2LnkpKyJweCIKCiAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuJGZuLCBmYWxzZSk7CiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuJGZuLCBmYWxzZSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVUcmVlKHR5cGUpIHsKICAgICAgLy/pvKDmoIflj43plK7ngrnlh7vmlrDlop7nvJbovpHliKDpmaQKICAgICAgaWYgKHR5cGUgPT0gMikgewogICAgICAgIC8v5Yig6ZmkCiAgICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu5a6a5Yig6Zmk6K+l6I+c5Y2VPycsICfmj5DnpLonLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIGNsb3NlT25DbGlja01vZGFsOiBmYWxzZSwKICAgICAgICAgIGNsb3NlT25QcmVzc0VzY2FwZTogZmFsc2UKICAgICAgICB9KQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICByZXR1cm4gYXhpb3MoCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgICAgICAgIHVybDogYC91c2VyZ3cvYWRtaW4vYXV0aC9kZWxldGVkTWVudS8ke3RoaXMubm9kZURhdGEubWVudUlkfWAKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICAgICAgICApOwogICAgICAgICAgfSkKICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgLy8gdG9vbHMuZGVsZXRlT3JGaW5kQXJyKHRoaXMudHJlZURhdGEse21lbnVJZDp0aGlzLm5vZGVEYXRhLm1lbnVJZH0sdGhpcy5wcm9wc09wdGlvbnMuY2hpbGRyZW4sMCkvL+WIoOmZpAogICAgICAgICAgICByZXR1cm4gdGhpcy4kbmV4dFRpY2soKTsKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgIHRoaXMuJHJlZnNbJ3RyZWVNZW51J10ucmVtb3ZlKAogICAgICAgICAgICAgIHRoaXMubm9kZURhdGEubWVudUlkLAogICAgICAgICAgICAgIHRoaXMubm93Tm9kZS5wYXJlbnQKICAgICAgICAgICAgKTsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAvL+WPlua2iAogICAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g6YeN572u6KGo5Y2V6aqM6K+BCiAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgdGhpcy4kcmVmcy5hZGRGb3JtICYmIHRoaXMuJHJlZnMuYWRkRm9ybS5jbGVhclZhbGlkYXRlKCk7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKHR5cGUgPT0gMSkgewogICAgICAgICAgLy8g57yW6L6RCiAgICAgICAgICBjb25zdCBjbG9uZURhdGEgPSBjbG9uZSh0aGlzLm5vZGVEYXRhKTsKICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuaciXJvbGVUeXBl5a2X5q6177yM5aaC5p6c5rKh5pyJ6buY6K6k6K6+572u5Li6JzAnCiAgICAgICAgICBpZiAoIWNsb25lRGF0YS5yb2xlVHlwZSkgewogICAgICAgICAgICBjbG9uZURhdGEucm9sZVR5cGUgPSAnMCc7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmFkZERhdGEgPSBjbG9uZURhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOaWsOW7ugogICAgICAgICAgaWYgKHRoaXMubm9kZURhdGEuaWQgPT09IC0xKSB7CiAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuaYr+agueiKgueCuQogICAgICAgICAgICAvLyDliJvlu7rkuIDnuqfoj5zljZUKICAgICAgICAgICAgdGhpcy5hZGREYXRhID0gewogICAgICAgICAgICAgIHBhcmVudE1lbnVJZDogdGhpcy5ub2RlRGF0YS5tZW51SWQsCiAgICAgICAgICAgICAgaWNvbjogJycsCiAgICAgICAgICAgICAgcm9sZVR5cGU6ICcwJwogICAgICAgICAgICB9OwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5Yib5bu65LqM57qn6I+c5Y2VCiAgICAgICAgICAgIHRoaXMuYWRkRGF0YSA9IHsKICAgICAgICAgICAgICBwYXJlbnRNZW51SWQ6IHRoaXMubm9kZURhdGEubWVudUlkLAogICAgICAgICAgICAgIGljb246ICcnLAogICAgICAgICAgICAgIHJvbGVUeXBlOiB0aGlzLm5vZGVEYXRhLnJvbGVUeXBlIHx8ICcwJwogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICB0aGlzLnRpdGxlID0gdHlwZSA9PSAxID8gJ+e8lui+kScgOiAn5paw5aKeJzsKICAgICAgICB0aGlzLl90eXBlID0gdHlwZTsKICAgICAgICB0aGlzLmFkZERpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy5ub3dTdGF0dXMgPSB0eXBlOyAvLyDkv53lrZjnvJbovpHnirbmgIEKICAgICAgfQogICAgfSwKICAgIGFkZFN1cmUoKSB7CiAgICAgIC8v56Gu6K6k5paw5aKe57yW6L6RCiAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybSAmJgogICAgICAgIHRoaXMuJHJlZnMuYWRkRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgICAgdmFyIG9yZGVyTm8gPSAxOwogICAgICAgICAgICBpZiAoIXRoaXMuX3R5cGUpIHsKICAgICAgICAgICAgICAvL+aWsOWinuiOt+WPluacgOWkp+eahG9yZGVyTm8KICAgICAgICAgICAgICB2YXIgbm9kZXMgPSB0aGlzLm5vZGVEYXRhW3RoaXMucHJvcHNPcHRpb25zLmNoaWxkcmVuXTsKICAgICAgICAgICAgICBvcmRlck5vID0KICAgICAgICAgICAgICAgIChub2RlcyAmJgogICAgICAgICAgICAgICAgICBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXSAmJgogICAgICAgICAgICAgICAgICAobm9kZXNbbm9kZXMubGVuZ3RoIC0gMV0ub3JkZXJObyB8fCAwKSArIDEpIHx8CiAgICAgICAgICAgICAgICAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmVkaXRNZW51KHRoaXMuYWRkRGF0YSwgdGhpcy5fdHlwZSwgb3JkZXJObykKICAgICAgICAgICAgICAudGhlbihkYXRhID0+IHsKICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlID0gJyc7IC8vIOaPkOekuuS/oeaBrwogICAgICAgICAgICAgICAgaWYgKHRoaXMuX3R5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAvL+e8lui+kQogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuYWRkRGF0YSkgewogICAgICAgICAgICAgICAgICAgIC8vIHRoaXMubm9kZURhdGFbaV09dGhpcy5hZGREYXRhW2ldOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHNldCh0aGlzLm5vZGVEYXRhLCBpLCB0aGlzLmFkZERhdGFbaV0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSAn6I+c5Y2V5L+u5pS55oiQ5YqfJzsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIC8v5paw5aKeCiAgICAgICAgICAgICAgICAgIHRoaXMubm9kZURhdGFbdGhpcy5wcm9wc09wdGlvbnMuY2hpbGRyZW5dIHx8CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KHRoaXMubm9kZURhdGEsIHRoaXMucHJvcHNPcHRpb25zLmNoaWxkcmVuLCBbXSk7CiAgICAgICAgICAgICAgICAgIHRoaXMubm9kZURhdGFbdGhpcy5wcm9wc09wdGlvbnMuY2hpbGRyZW5dLnB1c2goewogICAgICAgICAgICAgICAgICAgIG9yZGVyTm86IG9yZGVyTm8sCiAgICAgICAgICAgICAgICAgICAgbWVudUlkOiBkYXRhLmRhdGEsCiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5hZGREYXRhCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBtZXNzYWdlID0gJ+iPnOWNlea3u+WKoOaIkOWKnyc7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MobWVzc2FnZSk7CiAgICAgICAgICAgICAgICB0aGlzLmFkZERpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICBlZGl0TWVudSgKICAgICAgeyBtZW51SWQsIG1lbnVOYW1lLCB1cmwsIGljb24sIHBhcmVudE1lbnVJZCwgcm9sZVR5cGUgfSwKICAgICAgdHlwZSwKICAgICAgb3JkZXJObwogICAgKSB7CiAgICAgIC8vIOaWsOWinue8lui+keiPnOWNlS8vdHlwZT0w5Li65paw5aKeCiAgICAgIHZhciBkYXRhID0gewogICAgICAgIG1lbnVJZCwKICAgICAgICBtZW51TmFtZSwKICAgICAgICB1cmwsCiAgICAgICAgaWNvbiwKICAgICAgICBwYXJlbnRNZW51SWQsCiAgICAgICAgcm9sZVR5cGUKICAgICAgfTsKICAgICAgaWYgKCF0eXBlKSB7CiAgICAgICAgLy8gMOagueiKgueCueWIm+W7ugogICAgICAgIChkYXRhLm1lbnVUeXBlID0gcGFyZW50TWVudUlkID8gMCA6IDEpLCAoZGF0YS5vcmRlck5vID0gb3JkZXJObyk7CiAgICAgIH0KICAgICAgcmV0dXJuIGF4aW9zKAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgdXJsOiBgL3VzZXJndy9hZG1pbi9jb21tb24vc2F2ZS8zMDIvJHt0eXBlID8gJzAyJyA6ICcwMSd9YCwKICAgICAgICAgIGRhdGEKICAgICAgICB9LAogICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICApOyAvLyAwMeaWsOWingogICAgfSwKICAgIGhhbmRsZVF1ZXJ5KCkge30sCiAgICBoYW5kbGVSZXNldCgpIHsKICAgICAgZm9yICh2YXIgaSBpbiB0aGlzLm1lbnVRdWVyeSkgewogICAgICAgIHRoaXMubWVudVF1ZXJ5W2ldID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOaYr+WQpuWFgeiuuOaLluaLveWbnuiwgwogICAgICogQHBhcmFtIHsqfSBkcmFnZ2luZ05vZGUg5ouW5ou955qE6IqC54K5CiAgICAgKiBAcGFyYW0geyp9IGRyb3BOb2RlIOaUvuS4i+eahOWFs+iBlOiKgueCuQogICAgICogQHBhcmFtIHsqfSB0eXBlIOaUvuS4i+exu+WeiwogICAgICovCiAgICBhbGxvd0RyYXAoZHJhZ2dpbmdOb2RlLCBkcm9wTm9kZSwgdHlwZSkgewogICAgICBpZiAoZHJhZ2dpbmdOb2RlLmxldmVsID09PSAxKSByZXR1cm4gZmFsc2U7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KfTsK"},null]}