{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/student/BasicInfo/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/student/BasicInfo/index.vue","mtime":1627979214290},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgQ2FyZCwKICBGb3JtLAogIEZvcm1JdGVtLAogIElucHV0LAogIFNlbGVjdCwKICBPcHRpb24sCiAgQnV0dG9uLAogIFRhYmxlLAogIFRhYmxlQ29sdW1uLAogIERhdGVQaWNrZXIsCiAgUGFnaW5hdGlvbgp9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgU3R1ZGVudEVkaXQgZnJvbSAnLi4vY29tcG9uZW50cy9TdHVkZW50RWRpdC9pbmRleCc7CmltcG9ydCBSZXBvcnREaWFsb2cgZnJvbSAnLi4vY29tcG9uZW50cy9SZXBvcnREaWFsb2cvaW5kZXgnOwppbXBvcnQgewogIGdldFN0dWRlbnRMaXN0LAogIGRlbGV0ZWRTdHVkZW50QnlJZCwKICB1cGRhdGVTdHVkZW50QnlJZCwKICBleHBvcnRTdHVkZW50TGlzdAp9IGZyb20gJy4uLy4uLy4uL2FwaS9zdXRkZW50L2luZGV4JzsKaW1wb3J0IHsgZ2V0UHJvamVjdExpc3QgfSBmcm9tICcuLi8uLi8uLi9hcGkvYXV0aC9pbmRleCc7Ci8vIGltcG9ydCB1dGlscyBmcm9tICdAL3BsdWdpbnMvY29tbW9uL3V0aWxzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCYXNpY0luZm8nLAogIGNvbXBvbmVudHM6IHsKICAgIFtDYXJkLm5hbWVdOiBDYXJkLAogICAgW0Zvcm0ubmFtZV06IEZvcm0sCiAgICBbRm9ybUl0ZW0ubmFtZV06IEZvcm1JdGVtLAogICAgW0lucHV0Lm5hbWVdOiBJbnB1dCwKICAgIFtTZWxlY3QubmFtZV06IFNlbGVjdCwKICAgIFtPcHRpb24ubmFtZV06IE9wdGlvbiwKICAgIFtCdXR0b24ubmFtZV06IEJ1dHRvbiwKICAgIFtUYWJsZS5uYW1lXTogVGFibGUsCiAgICBbVGFibGVDb2x1bW4ubmFtZV06IFRhYmxlQ29sdW1uLAogICAgW0RhdGVQaWNrZXIubmFtZV06IERhdGVQaWNrZXIsCiAgICBbUGFnaW5hdGlvbi5uYW1lXTogUGFnaW5hdGlvbiwKICAgIFN0dWRlbnRFZGl0LAogICAgUmVwb3J0RGlhbG9nCiAgfSwKICBkYXRhKCkgewogICAgLy8gbGV0IHBhc3N3b3JkUnVsZXMgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7CiAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMucGFzc3dvcmRTdWNjZXNzLCAnc3VjY2VzcycpOwogICAgLy8gICBpZiAodGhpcy5wYXNzd29yZFN1Y2Nlc3MpIHsKICAgIC8vICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKHRoaXMucGFzc3dvcmRNZXNzYWdlKSk7CiAgICAvLyAgIH0KICAgIC8vIH07CiAgICByZXR1cm4gewogICAgICBGb3JtRGF0YTogewogICAgICAgIG5hbWU6ICcnLCAvLyDlp5PlkI0KICAgICAgICBJRE51bTogJycsIC8vIOi6q+S7veivgeWPtwogICAgICAgIHR5cGU6ICcnLCAvLyDnsbvlnosgMSDov5DokKUgMui0ouWKoQogICAgICAgIHNleDogJycsIC8vIOaAp+WIqyAwIOWlsyAx55S3CiAgICAgICAgc3RhdGU6ICcnLCAvLyDlrablkZjnirbmgIEgMCDlvZLmoaMgMeato+W4uAogICAgICAgIHN0YWdlOiAnJywgLy8g5a2m5ZGY6Zi25q61CiAgICAgICAgdGltZVN0YXJ0OiAnJywgLy8g5byA5aeL5pe26Ze05q61562b6YCJCiAgICAgICAgdGltZUVuZDogJycgLy/nu5PmnZ/ml7bpl7TmrrXnrZvpgIkKICAgICAgfSwKICAgICAgcGlja2VyT3B0aW9uc1N0YXJ0OiB7CiAgICAgICAgZGlzYWJsZWREYXRlKHRpbWUpIHsKICAgICAgICAgIHJldHVybiB0aW1lLmdldFRpbWUoKSA+IERhdGUubm93KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBwaWNrZXJPcHRpb25zRW5kOiB7CiAgICAgICAgZGlzYWJsZWREYXRlKHRpbWUpIHsKICAgICAgICAgIHJldHVybiB0aW1lLmdldFRpbWUoKSA+IERhdGUubm93KCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICB0b3RhbDogMCwgLy8g5oC75pWw6YePCiAgICAgIHBhc3N3b3JkU3VjY2VzczogdHJ1ZSwKICAgICAgcGFzc3dvcmRNZXNzYWdlOiAnJywKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgLy8gYWNjb3VudDogWwogICAgICAgIC8vICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsIHRyaWdnZXI6ICdibHVyJyB9LAogICAgICAgIC8vICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQjScsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICAvLyBdCiAgICAgICAgLy8gICBwYXNzd29yZDogWwogICAgICAgIC8vICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CBJywgdHJpZ2dlcjogJ2JsdXInIH0sCiAgICAgICAgLy8gICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfor7fovpPlhaXlr4bnoIEnLCB0cmlnZ2VyOiAnY2hhbmdlJyB9CiAgICAgICAgLy8gICBdCiAgICAgIH0sCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgcHJvamVjdExpc3Q6IFtdIC8v5bel56iL57G75Z6L5YiX6KGoCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIOi3s+i9rOWIsOWNleeCueeZu+W9lemhtemdogogICAgY29uc29sZS5sb2coJ2FhYScpOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIHRoaXMuZmlyc3RUaW1lKCk7CiAgICAvLyB0aGlzLnNlY29uZFRpbWUoKTsKICAgIHRoaXMuaW5pdERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKgogICAgICog6K6+572u6L+b5YWl5pe26Ze05q615LiN5Y+v55So5pe26Ze0CiAgICAgKi8KICAgIGZpcnN0VGltZSgpIHsKICAgICAgaWYgKHRoaXMuRm9ybURhdGEudGltZUVuZCkgewogICAgICAgIGxldCBkYXRhMSA9IG5ldyBEYXRlKHRoaXMuRm9ybURhdGEudGltZUVuZCk7CiAgICAgICAgZGF0YTEgPQogICAgICAgICAgZGF0YTEuZ2V0RnVsbFllYXIoKSArCiAgICAgICAgICAnLScgKwogICAgICAgICAgKGRhdGExLmdldE1vbnRoKCkgKyAxKSArCiAgICAgICAgICAnLScgKwogICAgICAgICAgZGF0YTEuZ2V0RGF0ZSgpICsKICAgICAgICAgICcgJyArCiAgICAgICAgICBkYXRhMS5nZXRIb3VycygpICsKICAgICAgICAgICc6JyArCiAgICAgICAgICBkYXRhMS5nZXRNaW51dGVzKCkgKwogICAgICAgICAgJzonICsKICAgICAgICAgIGRhdGExLmdldFNlY29uZHMoKTsKICAgICAgICBsZXQgZGF0YSA9IG5ldyBEYXRlKGRhdGExKS5nZXRUaW1lKCk7CiAgICAgICAgdGhpcy5waWNrZXJPcHRpb25zU3RhcnQgPSB7CiAgICAgICAgICBkaXNhYmxlZERhdGUodGltZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyh0aW1lLmdldFRpbWUoKSwgZGF0YSk7CiAgICAgICAgICAgIGlmICh0aW1lLmdldFRpbWUoKSA+PSBkYXRhKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpID4gRGF0ZS5ub3coKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGlja2VyT3B0aW9uc1N0YXJ0ID0gewogICAgICAgICAgZGlzYWJsZWREYXRlKHRpbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpID4gRGF0ZS5ub3coKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiDorr7nva7nprvlvIDml7bpl7TmrrXkuI3lj6/nlKjml7bpl7QKICAgICAqLwogICAgc2Vjb25kVGltZSgpIHsKICAgICAgbGV0IF90aGlzID0gdGhpczsKICAgICAgaWYgKHRoaXMuRm9ybURhdGEudGltZVN0YXJ0KSB7CiAgICAgICAgbGV0IGRhdGEgPSBuZXcgRGF0ZShgJHt0aGlzLkZvcm1EYXRhLnRpbWVTdGFydH0gMDA6MDA6MDBgKS5nZXRUaW1lKCk7CiAgICAgICAgdGhpcy5waWNrZXJPcHRpb25zRW5kID0gewogICAgICAgICAgZGlzYWJsZWREYXRlKHRpbWUpIHsKICAgICAgICAgICAgaWYgKHRpbWUuZ2V0VGltZSgpIDwgZGF0YSkgewogICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9IGVsc2UgaWYgKHRpbWUuZ2V0VGltZSgpID09IGRhdGEpIHsKICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpID4gRGF0ZS5ub3coKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5waWNrZXJPcHRpb25zRW5kID0gewogICAgICAgICAgZGlzYWJsZWREYXRlKHRpbWUpIHsKICAgICAgICAgICAgcmV0dXJuIHRpbWUuZ2V0VGltZSgpID4gRGF0ZS5ub3coKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgLy8g5Yid5aeL5YyW5pWw5o2uCiAgICBpbml0RGF0YSgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgb2Zmc2V0OiB0aGlzLmN1cnJlbnRQYWdlLAogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIG5hbWU6IHRoaXMuRm9ybURhdGEubmFtZSwKICAgICAgICBjYXJkQ29kZTogdGhpcy5Gb3JtRGF0YS5JRE51bSwKICAgICAgICBwcm9qZWN0VHlwZTogdGhpcy5Gb3JtRGF0YS50eXBlLAogICAgICAgIHNleDogdGhpcy5Gb3JtRGF0YS5zZXgsCiAgICAgICAgaXNVc2U6IHRoaXMuRm9ybURhdGEuc3RhdGUsCiAgICAgICAgdXNlQ29tZVRpbWU6IHRoaXMuRm9ybURhdGEudGltZVN0YXJ0LAogICAgICAgIHVzZUxldmVsVGltZTogdGhpcy5Gb3JtRGF0YS50aW1lRW5kLAogICAgICAgIHN0dWRlbnRTdGF0dXM6IHRoaXMuRm9ybURhdGEuc3RhZ2UKICAgICAgfTsKICAgICAgdGhpcy50YWJsZURhdGEgPSBbXTsKICAgICAgZ2V0U3R1ZGVudExpc3QocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUuZG9MYXlvdXQoKTsgLy/op6PlhrPooajmoLzplJnkvY0KICAgICAgICB9KTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5o2i6aG1CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gdmFsOwogICAgICB0aGlzLmluaXREYXRhKCk7CiAgICB9LAogICAgLy8g6I635Y+W5bel56iL5YiX6KGoCiAgICBnZXRQcm9qZWN0TGlzdCgpIHsKICAgICAgdGhpcy5wcm9qZWN0TGlzdCA9IFtdOwogICAgICBnZXRQcm9qZWN0TGlzdCgpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnByb2plY3RMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog6YeN572u6KGo5Y2VCiAgICAgKi8KICAgIGFzeW5jIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgICAgYXdhaXQgdGhpcy5pbml0RGF0YSgpOwogICAgfSwKICAgIC8qKgogICAgICog562b6YCJCiAgICAgKi8KICAgIG9uU3VibWl0KCkgewogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy50b3RhbCA9IDA7CiAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgIH0sCiAgICAvKioKICAgICAqIOWvvOWHugogICAgICovCiAgICBleHBvcnRGb3JtKCkgewogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIG5hbWU6IHRoaXMuRm9ybURhdGEubmFtZSwKICAgICAgICBjYXJkQ29kZTogdGhpcy5Gb3JtRGF0YS5JRE51bSwKICAgICAgICBwcm9qZWN0VHlwZTogdGhpcy5Gb3JtRGF0YS50eXBlLAogICAgICAgIHNleDogdGhpcy5Gb3JtRGF0YS5zZXgsCiAgICAgICAgaXNVc2U6IHRoaXMuRm9ybURhdGEuc3RhdGUsCiAgICAgICAgdXNlQ29tZVRpbWU6IHRoaXMuRm9ybURhdGEudGltZVN0YXJ0LAogICAgICAgIHVzZUxldmVsVGltZTogdGhpcy5Gb3JtRGF0YS50aW1lRW5kLAogICAgICAgIHN0dWRlbnRTdGF0dXM6IHRoaXMuRm9ybURhdGEuc3RhZ2UKICAgICAgfTsKICAgICAgbGV0IGlkcyA9ICcnOwogICAgICBpZiAodGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgaWRzICs9IGl0ZW0uaWQgPyBgJHtpdGVtLmlkfSxgIDogJyc7CiAgICAgICAgfSk7CiAgICAgICAgaWRzID0gaWRzLnNsaWNlKDAsIGlkcy5sZW5ndGggLSAxKTsKICAgICAgICBwYXJhbXMuaWRzID0gaWRzOwogICAgICB9CiAgICAgIGV4cG9ydFN0dWRlbnRMaXN0KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmVzXSwgewogICAgICAgICAgdHlwZTogJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCcKICAgICAgICB9KTsKICAgICAgICBsZXQgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOwogICAgICAgIGxpbmsuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsICflrabnlJ/liJfooagueGxzJyk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICAgIGxpbmsgPSBudWxsOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5a+85Ye65oiQ5YqfJyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog5aSa6YCJ6aG55pS55Y+YCiAgICAgKi8KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgIH0sCiAgICAvKioKICAgICAqIOWIoOmZpAogICAgICovCiAgICBkZWxldGVSb3coaXRlbSkgewogICAgICBpZiAoaXRlbSA9PT0gJ2FsbCcgJiYgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5sZW5ndGggPD0gMCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+ivt+mAieaLqeimgeWIoOmZpOeahOeUqOaItycpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLiRjb25maXJtKCfliKDpmaTlkI7kuI3lj6/mgaLlpI3vvIznoa7lrprliKDpmaTlhoXlrrnvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlLAogICAgICAgIGNsb3NlT25QcmVzc0VzY2FwZTogZmFsc2UKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICBsZXQgdXNlcklkID0gJyc7CiAgICAgICAgICBpZiAoaXRlbSA9PT0gJ2FsbCcpIHsKICAgICAgICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5mb3JFYWNoKHVzZXIgPT4gewogICAgICAgICAgICAgIHVzZXJJZCArPSB1c2VyLmlkID8gYCR7dXNlci5pZH0sYCA6ICcnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdXNlcklkID0gdXNlcklkLnNsaWNlKDAsIHVzZXJJZC5sZW5ndGggLSAxKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHVzZXJJZCA9IGl0ZW0uaWQ7CiAgICAgICAgICB9CiAgICAgICAgICBjb25zb2xlLmxvZyh1c2VySWQpOwogICAgICAgICAgZGVsZXRlZFN0dWRlbnRCeUlkKHsgaWQ6IHVzZXJJZCB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgICAgICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAvL+WPlua2iAogICAgICAgIH0pOwogICAgfSwKICAgIC8qKgogICAgICog5b2S5qGjCiAgICAgKi8KICAgIGZpbGVSb3coaXRlbSwgaW5kZXgpIHsKICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICAn5b2S5qGj5ZCO5q2k5a2m5ZGY55qE5pWw5o2u5LiN5Y+C5LiO5Lu75L2V57uf6K6h77yM56Gu6K6k6KaB6L+b6KGM5b2S5qGj5pON5L2c77yfJywKICAgICAgICAn5b2S5qGjJywKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJywKICAgICAgICAgIGNsb3NlT25DbGlja01vZGFsOiBmYWxzZSwKICAgICAgICAgIGNsb3NlT25QcmVzc0VzY2FwZTogZmFsc2UKICAgICAgICB9CiAgICAgICkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB1cGRhdGVTdHVkZW50QnlJZCh7IGlkOiBpdGVtLmlkLCBpc1VzZTogJzEnIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICflrablkZjlvZLmoaPmiJDlip8hJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgLy8g5Y+W5raICiAgICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDkv67mlLnmlrDlop4KICAgICAqIEBwYXJhbSB7TnVtYmVyfX0gdHlwZSAxIOaWsOWiniAy5L+u5pS5CiAgICAgKi8KICAgIGVkaXRSb3codHlwZSwgaXRlbSkgewogICAgICBpdGVtWydpc2VkaXQnXSA9IHR5cGUgPT09IDEgPyBmYWxzZSA6IHRydWU7CiAgICAgIHRoaXMuJHJlZnMuc3R1ZGVudEVkaXQuc2hvdyhpdGVtKTsKICAgIH0sCiAgICAvKioKICAgICAqIOS9k+ajgOaKpeWRiuaYvuekugogICAgICovCiAgICBzaG93UmVwb3J0KGl0ZW0pIHsKICAgICAgdGhpcy4kcmVmcy5yZXBvcnREaWFsb2cuc2hvdyhpdGVtLCAnaGVhbHRoUmVwb3J0JywgJ2hlYWx0aE5hbWUnKTsKICAgIH0sCiAgICAvKioKICAgICAqIOWJjeW+gOWtpueUn+ivpuaDhemhtemdogogICAgICovCiAgICBUb1N0dWRlbnRJbmZvKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uaXNVc2UgPT09ICcxJykgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9zdHVkZW50L3N0dWRlbnQtaW5mbycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpdGVtLmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOWFs+mXreaWsOWinuS/ruaUueW8ueahhgogICAgICovCiAgICBjbG9zZWQoKSB7CiAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgIH0sCiAgICAvKioKICAgICAqIOS9k+ajgOaKpeWRiuW8ueahhuS/ruaUueS/neWtmAogICAgICovCiAgICBwcmVzZXJ2YXRpb25IZWFsdGgoaXRlbSkgewogICAgICBsZXQgcGFyYW1zID0ge307CiAgICAgIHBhcmFtcyA9IHsKICAgICAgICBpZDogaXRlbVswXS5pZCwKICAgICAgICBoZWFsdGhSZXBvcnQ6IGl0ZW1bMV0sCiAgICAgICAgaGVhbHRoTmFtZTogaXRlbVsyXQogICAgICB9OwogICAgICB1cGRhdGVTdHVkZW50QnlJZChwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmiJDlip8nCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy4kcmVmcy5yZXBvcnREaWFsb2cub25DbG9zZWQoKTsKICAgICAgICB0aGlzLmluaXREYXRhKCk7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/charity-foundation/views/student/BasicInfo","sourcesContent":["<template>\n  <div class=\"PermissionBox\" v-loading=\"loading\">\n    <el-card class=\"topbar\">\n      <el-form\n        ref=\"FormData\"\n        :rules=\"rules\"\n        :model=\"FormData\"\n        class=\"form\"\n        size=\"mini\"\n      >\n        <el-form-item label=\"姓名:\" prop=\"name\">\n          <el-input\n            v-model.trim=\"FormData.name\"\n            placeholder=\"请输入姓名\"\n            @keyup.enter.native=\"onSubmit\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号:\" prop=\"IDNum\">\n          <el-input\n            v-model.trim=\"FormData.IDNum\"\n            placeholder=\"请输入身份证号\"\n            @keyup.enter.native=\"onSubmit\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"工程类型:\" prop=\"type\">\n          <el-select\n            v-model=\"FormData.type\"\n            placeholder=\"请选择工程类型\"\n            @focus=\"getProjectList\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option\n              v-for=\"(project, projectIndex) in projectList\"\n              :key=\"projectIndex\"\n              :label=\"project.label\"\n              :value=\"project.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"性别:\" prop=\"sex\">\n          <el-select\n            v-model=\"FormData.sex\"\n            placeholder=\"请选择学员性别\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option label=\"男\" value=\"0\"></el-option>\n            <el-option label=\"女\" value=\"1\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"学员状态:\" prop=\"state\">\n          <el-select\n            v-model=\"FormData.state\"\n            placeholder=\"请选择学员状态\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option label=\"正常\" value=\"0\"></el-option>\n            <el-option label=\"归档\" value=\"1\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"学员阶段:\" prop=\"stage\">\n          <el-select\n            v-model=\"FormData.stage\"\n            placeholder=\"请选择学员阶段\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option label=\"在读\" value=\"0\"></el-option>\n            <el-option label=\"就业\" value=\"1\"></el-option>\n            <el-option label=\"退回原籍\" value=\"2\"></el-option>\n            <el-option label=\"暂停资助\" value=\"3\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"进入时间段筛选:\" prop=\"timeStart\">\n          <!--  -->\n          <el-date-picker\n            v-model=\"FormData.timeStart\"\n            type=\"date\"\n            :picker-options=\"pickerOptionsStart\"\n            @focus=\"firstTime\"\n            placeholder=\"请选择开始时间范围\"\n            value-format=\"yyyy-MM-dd\"\n            @change=\"onSubmit\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <!-- :picker-options=\"pickerOptionsEnd\" \n        @focus=\"secondTime\"-->\n        <el-form-item label=\"离开时间段筛选:\" prop=\"timeEnd\">\n          <el-date-picker\n            v-model=\"FormData.timeEnd\"\n            type=\"date\"\n            :picker-options=\"pickerOptionsEnd\"\n            @focus=\"secondTime\"\n            placeholder=\"请选择结束时间范围\"\n            value-format=\"yyyy-MM-dd\"\n            @change=\"onSubmit\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item size=\"small\">\n          <el-button type=\"primary\" class=\"btn\" @click=\"onSubmit\"\n            >筛选</el-button\n          >\n          <el-button type=\"primary\" class=\"btn\" @click=\"resetForm('FormData')\"\n            >重置</el-button\n          >\n          <el-button type=\"primary\" class=\"btn\" @click=\"exportForm\"\n            >导出</el-button\n          >\n          <el-button type=\"primary\" class=\"btn\" @click=\"editRow(1, {})\"\n            >新增</el-button\n          >\n          <el-button type=\"danger\" class=\"btn\" @click=\"deleteRow('all')\"\n            >删除</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </el-card>\n    <el-card class=\"table-card\">\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"tableData\"\n        tooltip-effect=\"dark\"\n        border\n        style=\"width: 100%\"\n        @selection-change=\"handleSelectionChange\"\n        type=\"selection\"\n        :reserve-selection=\"true\"\n        :row-key=\"row => row.id\"\n        highlight-current-row\n      >\n        <el-table-column type=\"selection\" width=\"40\" :reserve-selection=\"true\">\n        </el-table-column>\n        <el-table-column label=\"序号\">\n          <template slot-scope=\"scope\">{{\n            scope.$index + (currentPage - 1) * pageSize + 1 > 9\n              ? scope.$index + (currentPage - 1) * pageSize + 1\n              : `0${scope.$index + (currentPage - 1) * pageSize + 1}`\n          }}</template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"姓名\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <p\n              :class=\"scope.row.isUse === '1' ? 'disabledLink' : 'LinkTd'\"\n              @click=\"ToStudentInfo(scope.row)\"\n            >\n              {{ scope.row.name }}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"身份证号\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.cardCode }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"工程类型\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.projectName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"状态\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.isUseName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"阶段\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.studentStatusName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"性别\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.sexName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"addressName\"\n          label=\"户籍\"\n          show-overflow-tooltip\n        />\n        <el-table-column\n          prop=\"guardianName\"\n          label=\"监护人\"\n          show-overflow-tooltip\n        />\n        <el-table-column\n          prop=\"guardianPhone\"\n          label=\"监护人联系方式\"\n          show-overflow-tooltip\n        />\n        <el-table-column\n          prop=\"name\"\n          label=\"体检报告\"\n          width=\"80\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <p class=\"LinkTd\" @click=\"showReport(scope.row)\">\n              {{ scope.row.healthName || '报告文件' }}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"140\">\n          <template slot-scope=\"scope\">\n            <el-button\n              @click.native.prevent=\"editRow(2, scope.row)\"\n              type=\"text\"\n              size=\"small\"\n              class=\"tableBtn\"\n            >\n              编辑\n            </el-button>\n            <el-button\n              @click.native.prevent=\"deleteRow(scope.row)\"\n              type=\"text\"\n              size=\"small\"\n              class=\"tableBtn\"\n            >\n              删除\n            </el-button>\n            <el-button\n              @click.native.prevent=\"fileRow(scope.row, scope.$index)\"\n              :disabled=\"scope.row.isUse === '1'\"\n              type=\"text\"\n              size=\"small\"\n              class=\"tableBtn\"\n            >\n              归档\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"block\">\n        <el-pagination\n          :current-page=\"currentPage\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n    <student-edit ref=\"studentEdit\" @close=\"closed\"></student-edit>\n    <report-dialog ref=\"reportDialog\" @close=\"closed()\"></report-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  Card,\n  Form,\n  FormItem,\n  Input,\n  Select,\n  Option,\n  Button,\n  Table,\n  TableColumn,\n  DatePicker,\n  Pagination\n} from 'element-ui';\nimport StudentEdit from '../components/StudentEdit/index';\nimport ReportDialog from '../components/ReportDialog/index';\nimport {\n  getStudentList,\n  deletedStudentById,\n  updateStudentById,\n  exportStudentList\n} from '../../../api/sutdent/index';\nimport { getProjectList } from '../../../api/auth/index';\n// import utils from '@/plugins/common/utils';\nexport default {\n  name: 'BasicInfo',\n  components: {\n    [Card.name]: Card,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    [Input.name]: Input,\n    [Select.name]: Select,\n    [Option.name]: Option,\n    [Button.name]: Button,\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [DatePicker.name]: DatePicker,\n    [Pagination.name]: Pagination,\n    StudentEdit,\n    ReportDialog\n  },\n  data() {\n    // let passwordRules = (rule, value, callback) => {\n    //   console.log(this.passwordSuccess, 'success');\n    //   if (this.passwordSuccess) {\n    //     return callback();\n    //   } else {\n    //     return callback(new Error(this.passwordMessage));\n    //   }\n    // };\n    return {\n      FormData: {\n        name: '', // 姓名\n        IDNum: '', // 身份证号\n        type: '', // 类型 1 运营 2财务\n        sex: '', // 性别 0 女 1男\n        state: '', // 学员状态 0 归档 1正常\n        stage: '', // 学员阶段\n        timeStart: '', // 开始时间段筛选\n        timeEnd: '' //结束时间段筛选\n      },\n      pickerOptionsStart: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      pickerOptionsEnd: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      currentPage: 1,\n      pageSize: 10,\n      total: 0, // 总数量\n      passwordSuccess: true,\n      passwordMessage: '',\n      loading: false,\n      rules: {\n        // account: [\n        //   { required: true, message: '请输入用户名', trigger: 'blur' },\n        //   { required: true, message: '请输入用户名', trigger: 'change' }\n        // ]\n        //   password: [\n        //     { required: true, message: '请输入密码', trigger: 'blur' },\n        //     { required: true, message: '请输入密码', trigger: 'change' }\n        //   ]\n      },\n      tableData: [],\n      multipleSelection: [],\n      projectList: [] //工程类型列表\n    };\n  },\n  created() {\n    // 跳转到单点登录页面\n    console.log('aaa');\n  },\n  mounted() {\n    // this.firstTime();\n    // this.secondTime();\n    this.initData();\n  },\n  methods: {\n    /**\n     * 设置进入时间段不可用时间\n     */\n    firstTime() {\n      if (this.FormData.timeEnd) {\n        let data1 = new Date(this.FormData.timeEnd);\n        data1 =\n          data1.getFullYear() +\n          '-' +\n          (data1.getMonth() + 1) +\n          '-' +\n          data1.getDate() +\n          ' ' +\n          data1.getHours() +\n          ':' +\n          data1.getMinutes() +\n          ':' +\n          data1.getSeconds();\n        let data = new Date(data1).getTime();\n        this.pickerOptionsStart = {\n          disabledDate(time) {\n            console.log(time.getTime(), data);\n            if (time.getTime() >= data) return true;\n            return time.getTime() > Date.now();\n          }\n        };\n      } else {\n        this.pickerOptionsStart = {\n          disabledDate(time) {\n            return time.getTime() > Date.now();\n          }\n        };\n      }\n    },\n    /**\n     * 设置离开时间段不可用时间\n     */\n    secondTime() {\n      let _this = this;\n      if (this.FormData.timeStart) {\n        let data = new Date(`${this.FormData.timeStart} 00:00:00`).getTime();\n        this.pickerOptionsEnd = {\n          disabledDate(time) {\n            if (time.getTime() < data) {\n              return true;\n            } else if (time.getTime() == data) {\n              return false;\n            } else {\n              return time.getTime() > Date.now();\n            }\n          }\n        };\n      } else {\n        this.pickerOptionsEnd = {\n          disabledDate(time) {\n            return time.getTime() > Date.now();\n          }\n        };\n      }\n    },\n    // 初始化数据\n    initData() {\n      this.loading = true;\n      this.$refs.multipleTable.clearSelection();\n      let params = {\n        offset: this.currentPage,\n        limit: this.pageSize,\n        name: this.FormData.name,\n        cardCode: this.FormData.IDNum,\n        projectType: this.FormData.type,\n        sex: this.FormData.sex,\n        isUse: this.FormData.state,\n        useComeTime: this.FormData.timeStart,\n        useLevelTime: this.FormData.timeEnd,\n        studentStatus: this.FormData.stage\n      };\n      this.tableData = [];\n      getStudentList(params).then(res => {\n        this.total = res.data.total;\n        this.tableData = res.data.records;\n        this.$nextTick(() => {\n          this.$refs.multipleTable.doLayout(); //解决表格错位\n        });\n        this.loading = false;\n      });\n    },\n    // 换页\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.initData();\n    },\n    // 获取工程列表\n    getProjectList() {\n      this.projectList = [];\n      getProjectList().then(res => {\n        this.projectList = res.data;\n      });\n    },\n    /**\n     * 重置表单\n     */\n    async resetForm(formName) {\n      this.currentPage = 1;\n      this.$refs[formName].resetFields();\n      await this.initData();\n    },\n    /**\n     * 筛选\n     */\n    onSubmit() {\n      this.currentPage = 1;\n      this.total = 0;\n      this.initData();\n    },\n    /**\n     * 导出\n     */\n    exportForm() {\n      let params = {\n        name: this.FormData.name,\n        cardCode: this.FormData.IDNum,\n        projectType: this.FormData.type,\n        sex: this.FormData.sex,\n        isUse: this.FormData.state,\n        useComeTime: this.FormData.timeStart,\n        useLevelTime: this.FormData.timeEnd,\n        studentStatus: this.FormData.stage\n      };\n      let ids = '';\n      if (this.multipleSelection.length > 0) {\n        this.multipleSelection.forEach(item => {\n          ids += item.id ? `${item.id},` : '';\n        });\n        ids = ids.slice(0, ids.length - 1);\n        params.ids = ids;\n      }\n      exportStudentList(params).then(res => {\n        const blob = new Blob([res], {\n          type: 'application/vnd.ms-excel'\n        });\n        let link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.setAttribute('download', '学生列表.xls');\n        link.click();\n        link = null;\n        this.$message.success('导出成功');\n      });\n    },\n    /**\n     * 多选项改变\n     */\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    /**\n     * 删除\n     */\n    deleteRow(item) {\n      if (item === 'all' && this.multipleSelection.length <= 0) {\n        this.$message.error('请选择要删除的用户');\n        return false;\n      }\n      this.$confirm('删除后不可恢复，确定删除内容？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        closeOnClickModal: false,\n        closeOnPressEscape: false\n      })\n        .then(() => {\n          let userId = '';\n          if (item === 'all') {\n            this.multipleSelection.forEach(user => {\n              userId += user.id ? `${user.id},` : '';\n            });\n            userId = userId.slice(0, userId.length - 1);\n          } else {\n            userId = item.id;\n          }\n          console.log(userId);\n          deletedStudentById({ id: userId }).then(res => {\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n            this.initData();\n            this.$refs.multipleTable.clearSelection();\n          });\n        })\n        .catch(() => {\n          //取消\n        });\n    },\n    /**\n     * 归档\n     */\n    fileRow(item, index) {\n      this.$confirm(\n        '归档后此学员的数据不参与任何统计，确认要进行归档操作？',\n        '归档',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          closeOnClickModal: false,\n          closeOnPressEscape: false\n        }\n      )\n        .then(() => {\n          updateStudentById({ id: item.id, isUse: '1' }).then(res => {\n            this.$message({\n              type: 'success',\n              message: '学员归档成功!'\n            });\n            this.initData();\n          });\n        })\n        .catch(() => {\n          // 取消\n        });\n    },\n    /**\n     * 修改新增\n     * @param {Number}} type 1 新增 2修改\n     */\n    editRow(type, item) {\n      item['isedit'] = type === 1 ? false : true;\n      this.$refs.studentEdit.show(item);\n    },\n    /**\n     * 体检报告显示\n     */\n    showReport(item) {\n      this.$refs.reportDialog.show(item, 'healthReport', 'healthName');\n    },\n    /**\n     * 前往学生详情页面\n     */\n    ToStudentInfo(item) {\n      if (item.isUse === '1') {\n        return false;\n      }\n      this.$router.push({\n        path: '/student/student-info',\n        query: {\n          id: item.id\n        }\n      });\n    },\n    /**\n     * 关闭新增修改弹框\n     */\n    closed() {\n      this.initData();\n    },\n    /**\n     * 体检报告弹框修改保存\n     */\n    preservationHealth(item) {\n      let params = {};\n      params = {\n        id: item[0].id,\n        healthReport: item[1],\n        healthName: item[2]\n      };\n      updateStudentById(params).then(res => {\n        this.$message({\n          type: 'success',\n          message: '上传成功'\n        });\n        this.$refs.reportDialog.onClosed();\n        this.initData();\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.PermissionBox {\n  .topbar {\n    width: 100%;\n    .form {\n      display: flex;\n      flex-wrap: wrap;\n      /deep/.el-form-item {\n        display: flex;\n        align-items: center;\n        margin-right: 20px;\n        margin-bottom: 0;\n        margin-bottom: 20px;\n      }\n      .btn {\n        padding: 6px 15px;\n        border-radius: 5px;\n      }\n    }\n  }\n  .table-card {\n    margin-top: 20px;\n    .LinkTd {\n      color: #409eff;\n      cursor: pointer;\n    }\n    .disabledLink {\n      color: #c0c4cc;\n      cursor: not-allowed;\n    }\n    .tableBtn {\n      font-size: 14px;\n    }\n  }\n}\n</style>\n"]}]}