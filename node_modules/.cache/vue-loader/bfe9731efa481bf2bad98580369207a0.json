{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/survey-teacher/index.vue?vue&type=style&index=0&id=2fa7af90&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/survey-teacher/index.vue","mtime":1645178321143},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmFwcCB7CiAgLnRvcC1jb250YWluZXIgewogICAgd2lkdGg6IDEwMCU7CiAgICAvLyBwb3NpdGlvbjogZml4ZWQ7CiAgICAvLyB0b3A6IDA7CiAgICAvLyBsZWZ0OiAwOwogICAgLy8gei1pbmRleDogOTk5OwogICAgYmFja2dyb3VuZDogI2Y1ZjVmNTsKICAgIC8vIOS4gOe6p+WvvOiIquagjwogICAgLnRhYiB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IDEuNjRyZW07CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICAgIGJveC1zaGFkb3c6IDAgMCAwLjFyZW0gMCByZ2JhKDAsIDAsIDAsIDAuMDgpOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAudGFiLWl0ZW0gewogICAgICAgIHdpZHRoOiA1MCU7CiAgICAgICAgaGVpZ2h0OiAxLjY0cmVtOwogICAgICAgIGZvbnQtc2l6ZTogMC4yOHJlbTsKICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQzsKICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpOwogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgLml0ZW0tYm94IHsKICAgICAgICAgIHdpZHRoOiAxcmVtOwogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgICAgLnRhYi1pY29uIHsKICAgICAgICAgICAgaGVpZ2h0OiAxcmVtOwogICAgICAgICAgICBtYXJnaW4tdG9wOiAwLjE4cmVtOwogICAgICAgICAgfQogICAgICAgICAgLmVsbGlwc2UgewogICAgICAgICAgICB3aWR0aDogMXJlbTsKICAgICAgICAgICAgaGVpZ2h0OiAwLjIycmVtOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICAgICAgYm90dG9tOiAtMC4xMXJlbTsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIC5ib3QtYm9yZGVyIHsKICAgICAgICAgICAgICB3aWR0aDogMC4yMnJlbTsKICAgICAgICAgICAgICBoZWlnaHQ6IDAuMDRyZW07CiAgICAgICAgICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiAwLjA2cmVtOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAvLyDkuoznuqflr7zoiKrmoI8KICAgIC5zdWItdGFiIHsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMC45OHJlbTsKICAgICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgICAgYm94LXNoYWRvdzogMCAwIDAuMXJlbSAwIHJnYmEoMCwgMCwgMCwgMC4wOCk7CiAgICAgIG1hcmdpbjogMC4ycmVtIDA7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYXJvdW5kOwogICAgICAuc3ViLWl0ZW0gewogICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIC5zdWItbGFiZWwgewogICAgICAgICAgZm9udC1zaXplOiAwLjNyZW07CiAgICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQzsKICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjY1KTsKICAgICAgICAgIHBhZGRpbmc6IDAuM3JlbSAwIDAuMXJlbSAwOwogICAgICAgIH0KICAgICAgICAuc3ViLWJsYW5rIHsKICAgICAgICAgIHdpZHRoOiAwLjQ4cmVtOwogICAgICAgICAgaGVpZ2h0OiAwLjA2cmVtOwogICAgICAgICAgYmFja2dyb3VuZDogIzVlY2ZhODsKICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMDZyZW07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICAuZmlyc3QtYnRuIHsKICAgICAgaGVpZ2h0OiAwLjM0cmVtOwogICAgICBwYWRkaW5nOiAwLjI0cmVtOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1OwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kOwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAmID4gaW1nIHsKICAgICAgICBoZWlnaHQ6IDAuMjhyZW07CiAgICAgIH0KICAgICAgJiA+IGRpdiB7CiAgICAgICAgZm9udC1zaXplOiAwLjI2cmVtOwogICAgICAgIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDOwogICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDUpOwogICAgICAgIHBhZGRpbmctbGVmdDogMC4xcmVtOwogICAgICB9CiAgICB9CiAgfQogIC5jb250ZW50IHsKICAgIC8vIHBhZGRpbmc6IDIuNXJlbSAwIDEuNDVyZW0gMDsKICAgIGhlaWdodDogY2FsYygxMDB2aCAtIDRyZW0pOwogICAgb3ZlcmZsb3c6IHNjcm9sbDsKICB9CiAgLmNvbnRlbnQxIHsKICAgIC8vIHBhZGRpbmc6IDNyZW0gMCAxLjQ1cmVtIDA7CiAgICBoZWlnaHQ6IGNhbGMoMTAwdmggLSA0LjVyZW0pOwogICAgb3ZlcmZsb3c6IHNjcm9sbDsKICB9CiAgLmVtcHR5IHsKICAgIHBhZGRpbmctdG9wOiAycmVtOwogICAgZGlzcGxheTogZmxleDsKICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAmID4gaW1nIHsKICAgICAgaGVpZ2h0OiA0cmVtOwogICAgfQogICAgJiA+IGRpdiB7CiAgICAgIGZvbnQtc2l6ZTogMC4yNnJlbTsKICAgICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7CiAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNDUpOwogICAgICBwYWRkaW5nLXRvcDogMC4ycmVtOwogICAgfQogIH0KICAuYm90dG9tLWJ0biB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjVmNWY1OwogICAgcG9zaXRpb246IGZpeGVkOwogICAgYm90dG9tOiAwOwogICAgbGVmdDogMDsKICAgICYgPiBkaXYgewogICAgICBtYXJnaW46IDAuMjRyZW0gMC4yNHJlbSAwLjQ0cmVtIDAuMjRyZW07CiAgICAgIHdpZHRoOiA3LjAycmVtOwogICAgICBoZWlnaHQ6IDAuOThyZW07CiAgICAgIGJhY2tncm91bmQ6ICM1MWM0OWM7CiAgICAgIGJvcmRlci1yYWRpdXM6IDAuMDZyZW07CiAgICAgIGZvbnQtc2l6ZTogMC4zNHJlbTsKICAgICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7CiAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-teacher","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <!-- 顶部导航区 -->\n    <div class=\"top-container\">\n      <div class=\"tab\">\n        <div\n          class=\"tab-item\"\n          v-for=\"(item, index) in tabList\"\n          :key=\"index\"\n          @click=\"changeTab(index)\"\n        >\n          <div class=\"item-box\">\n            <img\n              class=\"tab-icon\"\n              :src=\"tabIdx == index ? item.img : item.img2\"\n            />\n            <div\n              class=\"label\"\n              :style=\"\n                tabIdx == index\n                  ? 'color:#5ECFA8;font-family: PingFangSC-Medium, PingFang SC;'\n                  : ''\n              \"\n            >\n              {{ item.name }}\n            </div>\n            <div class=\"ellipse\" v-if=\"tabIdx == index\">\n              <div\n                class=\"bot-border\"\n                :style=\"tabIdx == index ? 'background:#5ECFA8' : ''\"\n              ></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"sub-tab\" v-if=\"tabIdx == 0\">\n        <div\n          class=\"sub-item\"\n          v-for=\"(item, index) in subTabList\"\n          :key=\"index\"\n          @click=\"handleSubTabChange(index)\"\n        >\n          <div\n            class=\"sub-label\"\n            :style=\"\n              subTabIdx == index\n                ? 'color: #5ECFA8;font-family: PingFangSC-Medium, PingFang SC;'\n                : ''\n            \"\n          >\n            {{ item.label + ' ' + item.num }}\n          </div>\n          <div class=\"sub-blank\" v-if=\"subTabIdx == index\"></div>\n        </div>\n      </div>\n      <div class=\"first-btn\" v-if=\"tabIdx == '1' && totalDraft > 0\">\n        <img\n          src=\"@/pages/jx-questionnaire-h5/assets/images/icons/remove_icon.png\"\n        />\n        <div @click=\"handleClearAll\">一键清空({{ totalDraft }})</div>\n      </div>\n    </div>\n    <!-- 已发布列表 -->\n    <div class=\"content1\" v-if=\"tabIdx == '0'\">\n      <van-list\n        v-model=\"loading\"\n        :immediate-check=\"false\"\n        :finished=\"finished\"\n        finished-text=\"\"\n        @load=\"loadMore\"\n        v-if=\"pubList.length > 0\"\n      >\n        <pub-list\n          :pub-list=\"pubList\"\n          @handleRemind=\"handleRemind\"\n          @handleDetailClick=\"handleDetailClick\"\n          @handleShare=\"handleShare\"\n        ></pub-list>\n      </van-list>\n      <template v-else-if=\"pubList.length == 0 && !loading\">\n        <div class=\"empty\">\n          <img\n            src=\"@/pages/jx-questionnaire-h5/assets/images/v1.0.0/empty.png\"\n          />\n          <div>还没有投票发布哦</div>\n        </div>\n      </template>\n    </div>\n    <!-- 草稿箱列表 -->\n    <div :class=\"totalDraft > 0 ? 'content' : 'content1'\" v-if=\"tabIdx == '1'\">\n      <template v-if=\"totalDraft > 0\">\n        <van-list\n          v-model=\"loading\"\n          :immediate-check=\"false\"\n          :finished=\"finished\"\n          finished-text=\"\"\n          @load=\"getList\"\n          v-if=\"draftList.length > 0\"\n        >\n          <draft-list\n            :draft-list=\"draftList\"\n            @handleDraftDetail=\"handleDraftDetail\"\n            @handleDeleteDraft=\"handleDeleteDraft\"\n          ></draft-list>\n        </van-list>\n      </template>\n      <template v-else-if=\"totalDraft == 0 && !loading\">\n        <div class=\"empty\">\n          <img\n            src=\"@/pages/jx-questionnaire-h5/assets/images/v1.0.0/empty.png\"\n          />\n          <div>还没有投票发布哦</div>\n        </div>\n      </template>\n    </div>\n    <!-- 底部新建按钮 -->\n    <div class=\"bottom-btn\" @click=\"handleAddSurvey\">\n      <div>新建问卷</div>\n    </div>\n\n    <!-- 分享引导页面 -->\n    <transition name=\"van-fade\">\n      <share-guide\n        v-if=\"isShowShare\"\n        @closeShareGuide=\"closeShareGuide\"\n      ></share-guide>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport PubList from './components/PubList.vue';\nimport DraftList from './components/DraftList.vue';\nimport ShareGuide from '../common/ShareGuide.vue';\nimport { List, Dialog } from 'vant';\nimport { mapState } from 'vuex';\nimport {\n  getSurveyList,\n  delDraftSurvey,\n  remindUnfinishedParents\n} from '../../api/survey';\nexport default {\n  name: 'SurveyTeacher',\n  components: {\n    [List.name]: List,\n    PubList,\n    DraftList,\n    ShareGuide\n  },\n  data() {\n    return {\n      tabList: [\n        {\n          img: require('@/pages/jx-questionnaire-h5/assets/images/v1.0.0/pub_icon.png'),\n          img2: require('@/pages/jx-questionnaire-h5/assets/images/v1.0.0/pub2_icon.png'),\n          name: '已发布'\n        },\n        {\n          img: require('@/pages/jx-questionnaire-h5/assets/images/v1.0.0/draft_icon.png'),\n          img2: require('@/pages/jx-questionnaire-h5/assets/images/v1.0.0/draft2_icon.png'),\n          name: '草稿箱'\n        }\n      ],\n      subTabList: [\n        { label: '全部', num: '' },\n        { label: '进行中', num: '' },\n        { label: '已结束', num: '' },\n        { label: '未开始', num: '' }\n      ],\n      tabIdx: '0', // 当前tab下标\n      subTabIdx: 0, // 二级导航tab当前下标\n      page: 0,\n      loading: false,\n      finished: false,\n      pubList: [], // 已发布\n      draftList: [], // 草稿箱\n      totalDraft: 0, // 草稿箱总数\n      isShowShare: false // 是否展示分享引导\n    };\n  },\n  computed: {\n    ...mapState('user', ['wechatUserId', 'classId', 'role']),\n    ...mapState('survey', ['getIosFirstPath'])\n  },\n  mounted() {\n    this.loadMore();\n  },\n  methods: {\n    loadMore() {\n      this.page += 1; //页数+1\n      this.getList();\n    },\n    // 获取列表数据\n    getList() {\n      let params = {\n        from: '',\n        wechatUserId: this.wechatUserId,\n        classIds: this.classId,\n        role: this.role,\n        currentPage: this.page,\n        pageSize: 20,\n        typeList: this.tabIdx == '0' ? 1 : 2,\n        buttonType: this.subTabIdx\n      };\n      getSurveyList(params)\n        .then(res => {\n          if (params.typeList == 1) {\n            // 加载状态结束\n            this.loading = false;\n            // 已发布\n            this.subTabList[0].num = res.data.numAll; // 全部数量\n            this.subTabList[1].num = res.data.num1; // 进行中数量\n            this.subTabList[2].num = res.data.num2; // 已结束数量\n            this.subTabList[3].num = res.data.num3; // 未开始数量\n            this.pubList = this.pubList.concat(res.data.list);\n            // 数据全部加载完成\n            if (\n              this.pubList.length >= res.data.total ||\n              res.data.list.length == 0\n            ) {\n              this.finished = true;\n            }\n          } else if (params.typeList == 2) {\n            // 加载状态结束\n            this.loading = false;\n            // 草稿箱\n            this.totalDraft = res.data.total;\n            this.draftList = res.data.list;\n            // 数据全部加载完成\n            if (\n              this.draftList.length >= res.data.total ||\n              res.data.list.length == 0\n            ) {\n              this.finished = true;\n            }\n          }\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // tab切换\n    changeTab(idx) {\n      if (this.loading) return;\n      this.tabIdx = idx;\n      // 数据初始化\n      this.loading = true;\n      this.page = 0;\n      this.finished = false;\n      this.pubList = [];\n      this.draftList = [];\n      this.loadMore();\n    },\n    // 二级tab导航栏切换\n    handleSubTabChange(index) {\n      if (this.loading) return;\n      this.subTabIdx = index;\n      // 数据初始化\n      this.loading = true;\n      this.page = 0;\n      this.finished = false;\n      this.pubList = [];\n      this.loadMore();\n    },\n    // 查看已发布问卷详情\n    handleDetailClick(canEdit, id) {\n      if (canEdit == 1) {\n        this.$router.push({\n          path: `/survey-detail?surveyId=${id}`\n        });\n      } else {\n        this.$router.push({\n          path: `/survey-submit-done?canEdit=${canEdit}&surveyId=${id}`\n        });\n      }\n    },\n    // 分享\n    handleShare() {\n      this.isShowShare = true;\n    },\n    // 关闭分享弹窗\n    closeShareGuide() {\n      this.isShowShare = false;\n    },\n    // 催交提醒\n    handleRemind(canEdit, id) {\n      if (!canEdit) {\n        this.$toast('权限不足，无法操作');\n        return;\n      }\n      Dialog.confirm({\n        title: '',\n        message: '将对未提交问卷家长通知提醒，请确认是否继续？',\n        confirmButtonColor: '#51c49c'\n      })\n        .then(() => {\n          remindUnfinishedParents({ surveyId: id })\n            .then(res => {\n              this.$toast('催交成功');\n            })\n            .catch(err => {\n              this.$toast(err.msg);\n            });\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    // 查看草稿详情\n    handleDraftDetail(id) {\n      this.$router.push({\n        path: `/survey-add?surveyId=${id}&status=2`\n      });\n    },\n    // 删除单个草稿\n    handleDeleteDraft(id) {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        surveyId: id\n      };\n      Dialog.confirm({\n        title: '',\n        message: '请确认是否删除该草稿（将不再保留已编辑信息）？',\n        confirmButtonColor: '#51c49c'\n      })\n        .then(() => {\n          delDraftSurvey(params)\n            .then(res => {\n              this.$toast('删除成功');\n              this.getList();\n            })\n            .catch(err => {\n              this.$toast(err.msg);\n            });\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    // 一键清空草稿\n    handleClearAll() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        surveyId: ''\n      };\n      Dialog.confirm({\n        title: '',\n        message: '请确认是否删除所有草稿（将不再保留已编辑信息）？',\n        confirmButtonColor: '#51c49c'\n      })\n        .then(() => {\n          delDraftSurvey(params)\n            .then(res => {\n              this.$toast('删除成功');\n              this.getList();\n            })\n            .catch(err => {\n              this.$toast(err.msg);\n            });\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    // 跳转新增问卷页面\n    handleAddSurvey() {\n      this.$router.push({\n        path: '/option-modules'\n      });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.app {\n  .top-container {\n    width: 100%;\n    // position: fixed;\n    // top: 0;\n    // left: 0;\n    // z-index: 999;\n    background: #f5f5f5;\n    // 一级导航栏\n    .tab {\n      width: 100%;\n      height: 1.64rem;\n      background-color: #ffffff;\n      box-shadow: 0 0 0.1rem 0 rgba(0, 0, 0, 0.08);\n      display: flex;\n      .tab-item {\n        width: 50%;\n        height: 1.64rem;\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        color: rgba(0, 0, 0, 0.65);\n        display: flex;\n        justify-content: center;\n        .item-box {\n          width: 1rem;\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          position: relative;\n          .tab-icon {\n            height: 1rem;\n            margin-top: 0.18rem;\n          }\n          .ellipse {\n            width: 1rem;\n            height: 0.22rem;\n            background: #ffffff;\n            border-radius: 50%;\n            position: absolute;\n            bottom: -0.11rem;\n            left: 0;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            .bot-border {\n              width: 0.22rem;\n              height: 0.04rem;\n              background: #ffffff;\n              border-radius: 0.06rem;\n            }\n          }\n        }\n      }\n    }\n    // 二级导航栏\n    .sub-tab {\n      width: 100%;\n      height: 0.98rem;\n      background: #ffffff;\n      box-shadow: 0 0 0.1rem 0 rgba(0, 0, 0, 0.08);\n      margin: 0.2rem 0;\n      display: flex;\n      justify-content: space-around;\n      .sub-item {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        .sub-label {\n          font-size: 0.3rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          font-weight: 500;\n          color: rgba(0, 0, 0, 0.65);\n          padding: 0.3rem 0 0.1rem 0;\n        }\n        .sub-blank {\n          width: 0.48rem;\n          height: 0.06rem;\n          background: #5ecfa8;\n          border-radius: 0.06rem;\n        }\n      }\n    }\n    .first-btn {\n      height: 0.34rem;\n      padding: 0.24rem;\n      background-color: #f5f5f5;\n      display: flex;\n      justify-content: flex-end;\n      align-items: center;\n      & > img {\n        height: 0.28rem;\n      }\n      & > div {\n        font-size: 0.26rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.45);\n        padding-left: 0.1rem;\n      }\n    }\n  }\n  .content {\n    // padding: 2.5rem 0 1.45rem 0;\n    height: calc(100vh - 4rem);\n    overflow: scroll;\n  }\n  .content1 {\n    // padding: 3rem 0 1.45rem 0;\n    height: calc(100vh - 4.5rem);\n    overflow: scroll;\n  }\n  .empty {\n    padding-top: 2rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    & > img {\n      height: 4rem;\n    }\n    & > div {\n      font-size: 0.26rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: rgba(0, 0, 0, 0.45);\n      padding-top: 0.2rem;\n    }\n  }\n  .bottom-btn {\n    background-color: #f5f5f5;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    & > div {\n      margin: 0.24rem 0.24rem 0.44rem 0.24rem;\n      width: 7.02rem;\n      height: 0.98rem;\n      background: #51c49c;\n      border-radius: 0.06rem;\n      font-size: 0.34rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: #ffffff;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  }\n}\n</style>\n"]}]}