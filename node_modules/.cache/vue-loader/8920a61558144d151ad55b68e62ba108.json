{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/views/weekly/weeklyFoodslist.vue?vue&type=style&index=0&id=79461fdd&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/views/weekly/weeklyFoodslist.vue","mtime":1645178321124},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoud2Vla2x5LWZvb2RzIHsKICBiYWNrZ3JvdW5kOiAjZjVmNWY1OwogIHBhZGRpbmc6IDE1cHg7Cn0KLmZvb2RzLWJveCB7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIGJhY2tncm91bmQ6ICNmYWZhZmE7CiAgYm94LXNoYWRvdzogMHB4IDFweCA1cHggMHB4IHJnYmEoMjE3LCAyMTcsIDIxNywgMC41KTsKICBvdmVyZmxvdzogaGlkZGVuOwogIGJvcmRlci1yYWRpdXM6IDVweDsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIC5mb29kcy1ib3gtb25lIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBwYWRkaW5nOiAxNHB4IDE1cHg7CiAgICBmb250LXNpemU6IDE1cHg7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgPiBwOm50aC1jaGlsZCgyKSB7CiAgICAgIGNvbG9yOiAjNDljNWM5OwogICAgfQogICAgL2RlZXAvIC52YW4taWNvbiB7CiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgIGNvbG9yOiAjNDljNWM5OwogICAgICBtYXJnaW4tbGVmdDogOXB4OwogICAgfQogIH0KICAuZm9vZHMtYm94LXR3byB7CiAgICBwYWRkaW5nOiAxNXB4OwogICAgPiBwOm50aC1jaGlsZCgxKSB7CiAgICAgIG1hcmdpbi1ib3R0b206IDhweDsKICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg1KTsKICAgIH0KICAgID4gcDpudGgtY2hpbGQoMikgewogICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpOwogICAgfQogIH0KfQo="},{"version":3,"sources":["weeklyFoodslist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"weeklyFoodslist.vue","sourceRoot":"src/pages/catering-h5/views/weekly","sourcesContent":["<template>\n  <div class=\"weekly-foods\">\n    <van-pull-refresh v-model=\"downLoading\" @refresh=\"onRefresh\">\n      <van-list\n        class=\"section\"\n        :immediate-check=\"false\"\n        :offset=\"10\"\n        v-model=\"loading\"\n        :finished=\"finished\"\n        finished-text=\"没有更多了\"\n        @load=\"onLoadList\"\n      >\n        <div\n          class=\"foods-box\"\n          v-for=\"item in list\"\n          :key=\"item.id\"\n          @click=\"goDetail(item)\"\n        >\n          <div class=\"foods-box-one\">\n            <p>{{ item.sendTime.slice(0, -3) }}</p>\n            <p>查看详情<van-icon name=\"arrow\" /></p>\n          </div>\n          <div class=\"foods-box-two\">\n            <p>{{ item.menuName }}</p>\n            <p>{{ item.schoolName }}</p>\n          </div>\n        </div>\n      </van-list>\n    </van-pull-refresh>\n  </div>\n</template>\n<script>\nimport { orderContentForPage } from '../../api/weekly/index.js';\nimport { formateDate } from '../../plugins/common/utils.js';\nexport default {\n  name: 'weeklyList',\n  data() {\n    return {\n      formateDate,\n      loading: false,\n      finished: false,\n      downLoading: false,\n      list: [],\n      query: {\n        offset: 0,\n        gradeId: '',\n        limit: 10 //每页条数\n      }\n    };\n  },\n  created() {\n    this.query.gradeId = this.$route.query.gradeId;\n    if (this.query.gradeId) {\n      this.getFoodsList();\n      this.downLoading = true;\n    }\n  },\n  methods: {\n    goDetail(item) {\n      this.$router.push({\n        name: 'weeklyFoodDetail',\n        query: {\n          id: item.menuId,\n          time: item.sendTime,\n          schoolName: item.schoolName,\n          menuName: item.menuName\n        }\n      });\n    },\n    getFoodsList(append) {\n      this.loading = true;\n      const query = {\n        ...this.query\n      };\n      orderContentForPage(query)\n        .then(res => {\n          console.log('列表', res.data.records);\n          if (append) {\n            this.list = this.list.concat(res.data.records || []);\n          } else {\n            this.list = res.data.records || [];\n          }\n          this.loading = false;\n          this.downLoading = false;\n          this.finished = false;\n          if (res.data.records.length < this.query.limit) {\n            this.finished = true;\n          }\n        })\n        .catch(e => {\n          this.loading = false;\n          this.downLoading = false;\n          this.finished = false;\n          this.$toast(e.message);\n        });\n    },\n    onRefresh() {\n      this.resetInfo();\n      this.getFoodsList();\n    },\n    resetInfo() {\n      this.query.offset = 0;\n      this.downLoading = true;\n      this.finished = false;\n    },\n    onLoadList() {\n      this.query.offset = this.query.limit + this.query.offset;\n      this.getFoodsList(1);\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.weekly-foods {\n  background: #f5f5f5;\n  padding: 15px;\n}\n.foods-box {\n  border-radius: 5px;\n  background: #fafafa;\n  box-shadow: 0px 1px 5px 0px rgba(217, 217, 217, 0.5);\n  overflow: hidden;\n  border-radius: 5px;\n  margin-bottom: 15px;\n  .foods-box-one {\n    display: flex;\n    padding: 14px 15px;\n    font-size: 15px;\n    background-color: #ffffff;\n    justify-content: space-between;\n    > p:nth-child(2) {\n      color: #49c5c9;\n    }\n    /deep/ .van-icon {\n      font-weight: 500;\n      color: #49c5c9;\n      margin-left: 9px;\n    }\n  }\n  .foods-box-two {\n    padding: 15px;\n    > p:nth-child(1) {\n      margin-bottom: 8px;\n      font-size: 15px;\n      color: rgba(0, 0, 0, 0.85);\n    }\n    > p:nth-child(2) {\n      font-size: 13px;\n      color: rgba(0, 0, 0, 0.65);\n    }\n  }\n}\n</style>\n"]}]}