{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/views/sims/enrollFill/IdentityInfo.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serveh5/views/sims/enrollFill/IdentityInfo.vue","mtime":1627979214304},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudGl0bGUgewogIGZvbnQtd2VpZ2h0OiBib2xkOwp9Cg=="},{"version":3,"sources":["IdentityInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAypBA;AACA;AACA","file":"IdentityInfo.vue","sourceRoot":"src/pages/executive-serveh5/views/sims/enrollFill","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <p class=\"title\">身份信息</p>\n    <van-form ref=\"form\">\n      <van-field\n        v-model=\"formData.fullName\"\n        name=\"学员姓名\"\n        label=\"学员姓名\"\n        placeholder=\"\"\n        required\n        :rules=\"[\n          { required: true, message: '学员姓名未填写' },\n          {\n            validator: validCommonName,\n            message: '学员姓名只能用中文、英文、数字'\n          },\n          { validator: lengthPattern, message: '学员姓名长度在2-20' }\n        ]\"\n      />\n      <van-field\n        v-model=\"formData.formerName\"\n        name=\"曾用名\"\n        label=\"曾用名\"\n        placeholder=\"\"\n        maxlength=\"30\"\n      />\n      <c-select-picker\n        v-model=\"formData.nation\"\n        label=\"民族\"\n        valueKey=\"value\"\n        :options=\"$D('MZM')\"\n        @change=\"onNationChange\"\n      ></c-select-picker>\n      <van-field\n        v-model=\"formData.idCard\"\n        name=\"身份证号\"\n        label=\"身份证号\"\n        placeholder=\"\"\n        required\n        :rules=\"[\n          { required: true, message: '身份证号未填写' },\n          { validator: checkIdCard, message: '身份证号格式不正确' }\n        ]\"\n        @blur=\"onIdBlur\"\n      />\n      <van-field\n        readonly\n        v-model=\"formData.birthdayStr\"\n        label=\"出生年月\"\n        placeholder=\"请选择\"\n        @click=\"showDatePicker = true\"\n      />\n      <van-popup v-model=\"showDatePicker\" position=\"bottom\">\n        <van-datetime-picker\n          type=\"date\"\n          title=\"选择年月日\"\n          :value=\"new Date(formData.birthday)\"\n          :min-date=\"minDate\"\n          :max-date=\"maxDate\"\n          @confirm=\"onConfirmbirthday\"\n          @cancel=\"showDatePicker = false\"\n        />\n      </van-popup>\n      <van-field name=\"radio\" label=\"性别\">\n        <template #input>\n          <van-radio-group\n            v-model=\"formData.gender\"\n            direction=\"horizontal\"\n            @change=\"onGenderChange\"\n          >\n            <van-radio name=\"1\">男</van-radio>\n            <van-radio name=\"2\">女</van-radio>\n          </van-radio-group>\n        </template>\n      </van-field>\n      <van-field\n        v-model=\"formData.height\"\n        type=\"number\"\n        name=\"身高\"\n        label=\"身高\"\n        maxlength=\"8\"\n        placeholder=\"\"\n      >\n        <span slot=\"extra\">cm</span>\n      </van-field>\n      <van-field\n        v-model=\"formData.weight\"\n        type=\"number\"\n        name=\"体重\"\n        label=\"体重\"\n        maxlength=\"8\"\n        placeholder=\"\"\n      >\n        <span slot=\"extra\">kg</span>\n      </van-field>\n      <van-field\n        v-model=\"formData.normalSize\"\n        name=\"常规尺寸\"\n        label=\"常规尺寸\"\n        maxlength=\"8\"\n        placeholder=\"\"\n        :rules=\"[\n          {\n            trigger: 'onChange',\n            validator: validCommonName,\n            message: '常规尺寸只能用中文、英文、数字'\n          }\n        ]\"\n      />\n      <van-field\n        v-model=\"formData.bornAddress\"\n        readonly\n        clickable\n        name=\"area\"\n        label=\"出生地\"\n        placeholder=\"请选择\"\n        @click=\"showBornAddressPicker = true\"\n      />\n      <van-popup v-model=\"showBornAddressPicker\" position=\"bottom\">\n        <van-area\n          :value=\"formData.birthplaceArea\"\n          :area-list=\"areaList\"\n          @confirm=\"onConfirmBornAddress\"\n          @cancel=\"showBornAddressPicker = false\"\n        />\n      </van-popup>\n      <van-field name=\"radio\" label=\"是否雏鹰\">\n        <template #input>\n          <van-radio-group v-model=\"formData.isOrphan\" direction=\"horizontal\">\n            <van-radio :name=\"true\">是</van-radio>\n            <van-radio :name=\"false\">否</van-radio>\n          </van-radio-group>\n        </template>\n      </van-field>\n      <van-field name=\"radio\" label=\"是否员工子女\">\n        <template #input>\n          <van-radio-group\n            v-model=\"formData.isFacultyChildren\"\n            direction=\"horizontal\"\n          >\n            <van-radio :name=\"true\">是</van-radio>\n            <van-radio :name=\"false\">否</van-radio>\n          </van-radio-group>\n        </template>\n      </van-field>\n      <van-field\n        name=\"checkboxGroup\"\n        label=\"关系\"\n        v-if=\"formData.isFacultyChildren\"\n      >\n        <template #input>\n          <van-checkbox v-model=\"formData.isFatherFaculty\" shape=\"square\"\n            >父亲</van-checkbox\n          >\n          <div style=\"width: 10px;\"></div>\n          <van-checkbox v-model=\"formData.isMotherFaculty\" shape=\"square\"\n            >母亲</van-checkbox\n          >\n        </template>\n      </van-field>\n      <van-field\n        v-model=\"formData.facultyDesc\"\n        name=\"教职工说明\"\n        label=\"教职工说明\"\n        maxlength=\"100\"\n        placeholder=\"\"\n        v-show=\"formData.isFacultyChildren\"\n      />\n      <c-select-picker\n        v-model=\"formData.fatherDepartment\"\n        v-show=\"formData.isFacultyChildren && formData.isFatherFaculty\"\n        label=\"父亲所属部门\"\n        value-key=\"value\"\n        text-key=\"label\"\n        :options=\"$D('JZSSBM')\"\n      ></c-select-picker>\n      <c-select-picker\n        v-model=\"formData.motherDepartment\"\n        v-show=\"formData.isFacultyChildren && formData.isMotherFaculty\"\n        label=\"母亲所属部门\"\n        value-key=\"value\"\n        text-key=\"label\"\n        :options=\"$D('JZSSBM')\"\n      ></c-select-picker>\n      <van-field name=\"radio\" label=\"是否体育特长生\">\n        <template #input>\n          <van-radio-group\n            v-model=\"formData.sportsSpecialty\"\n            direction=\"horizontal\"\n          >\n            <van-radio :name=\"true\">是</van-radio>\n            <van-radio :name=\"false\">否</van-radio>\n          </van-radio-group>\n        </template>\n      </van-field>\n      <c-select-picker\n        v-model=\"formData.sportsType\"\n        v-show=\"formData.sportsSpecialty\"\n        value-key=\"value\"\n        text-key=\"label\"\n        label=\"项目类型\"\n        :options=\"$D('sportsType')\"\n      ></c-select-picker>\n      <van-field\n        readonly\n        clickable\n        name=\"area\"\n        :value=\"formData.registerAddress\"\n        label=\"户籍地址\"\n        placeholder=\"请选择\"\n        @click=\"showRegisterAddressPicker = true\"\n      />\n      <van-popup v-model=\"showRegisterAddressPicker\" position=\"bottom\">\n        <van-area\n          :area-list=\"areaList\"\n          :value=\"formData.registrationArea\"\n          @confirm=\"onConfirmRegisterAddress\"\n          @cancel=\"showRegisterAddressPicker = false\"\n        />\n      </van-popup>\n      <van-field\n        v-model=\"formData.registrationAddress\"\n        name=\"详细地址\"\n        label=\"详细地址\"\n        maxlength=\"50\"\n        placeholder=\"\"\n      />\n      <van-field\n        readonly\n        disabled\n        v-model=\"formData.regidterTypeName\"\n        name=\"户籍地址类型\"\n        label=\"户籍地址类型\"\n        placeholder=\"\"\n      />\n      <van-field name=\"radio\" label=\"是否华侨\">\n        <template #input>\n          <van-radio-group\n            v-model=\"formData.overseasChinese\"\n            direction=\"horizontal\"\n          >\n            <van-radio :name=\"true\">是</van-radio>\n            <van-radio :name=\"false\">否</van-radio>\n          </van-radio-group>\n        </template>\n      </van-field>\n      <c-select-picker\n        v-model=\"formData.hostCountries\"\n        v-show=\"formData.overseasChinese\"\n        value-key=\"value\"\n        text-key=\"label\"\n        label=\"侨居国家\"\n        :options=\"$D('GJDQM')\"\n      ></c-select-picker>\n      <van-field name=\"idPhoto\" label=\"学员证件照\">\n        <template #input>\n          <van-uploader\n            v-model=\"formData.idPhoto\"\n            :max-count=\"1\"\n            :max-size=\"fileMaxSize * 1024 * 1024\"\n            :before-read=\"onBeforeRead\"\n            :after-read=\"onAfterRead\"\n            @oversize=\"onOversize\"\n          />\n        </template>\n      </van-field>\n      <van-field name=\"photo\" label=\"学员照片\">\n        <template #input>\n          <van-uploader\n            v-model=\"formData.photo\"\n            :max-count=\"1\"\n            :max-size=\"fileMaxSize * 1024 * 1024\"\n            :before-read=\"onBeforeRead\"\n            :after-read=\"onAfterRead\"\n            @oversize=\"onOversize\"\n          />\n        </template>\n      </van-field>\n      <div style=\"margin: 16px;\">\n        <van-button round block type=\"info\" @click=\"onSubmit\"\n          >保存并下一步</van-button\n        >\n      </div>\n    </van-form>\n  </div>\n</template>\n<script>\nimport {\n  Form,\n  Field,\n  Picker,\n  Popup,\n  DatetimePicker,\n  RadioGroup,\n  Radio,\n  Area,\n  Uploader,\n  Button,\n  Checkbox,\n  CheckboxGroup\n} from 'vant';\nimport { ajaxUploadSingle } from '@/pages/sims/api/file';\nimport { validCommonName } from '@/plugins/common/validate';\nimport { checkIdCard } from '@/plugins/common/validate';\nimport { areaList } from '@/plugins/common/area';\nimport CSelectPicker from '@/pages/h5/components/common/CSelectPicker.vue';\nimport { Toast } from 'vant';\nimport utils from '@/plugins/common/utils';\nimport mixins from './mixins';\nimport { saveIdentityInfoH5 } from '@/pages/h5/api/sims/enrollFill';\nexport default {\n  name: 'IdentityInfo',\n  mixins: [mixins],\n  components: {\n    [Form.name]: Form,\n    [Field.name]: Field,\n    [Picker.name]: Picker,\n    [Popup.name]: Popup,\n    [DatetimePicker.name]: DatetimePicker,\n    [RadioGroup.name]: RadioGroup,\n    [Radio.name]: Radio,\n    [Area.name]: Area,\n    [Uploader.name]: Uploader,\n    [Button.name]: Button,\n    [Checkbox.name]: Checkbox,\n    [CheckboxGroup.name]: CheckboxGroup,\n    CSelectPicker\n  },\n  data() {\n    let nowDate = new Date();\n    return {\n      areaList, // 省市区\n      minDate: new Date(nowDate.getFullYear() - 50, 0, 1), // 最小出生日期范围\n      maxDate: new Date(nowDate.getFullYear(), 11, 31), // 最大出生日期范围\n      bornYear: '',\n      bornMonth: '',\n      bornDay: '',\n      fileMaxSize: 5, //5M\n      accepts: ['png', 'jpeg', 'jpg'],\n      formData: {\n        fullName: '',\n        formerName: '',\n        nation: '',\n        natinName: '',\n        idCard: '',\n        birthday: null,\n        birthdayStr: '',\n        gender: '',\n        genderName: '',\n        height: '',\n        weight: '',\n        normalSize: '',\n        bornAddress: '',\n        birthplaceProvince: '',\n        birthplaceCity: '',\n        birthplaceArea: '',\n        isOrphan: null,\n        isFacultyChildren: null,\n        facultyDesc: '',\n        fatherDepartment: '',\n        motherDepartment: '',\n        sportsType: '',\n        paymentSno: '',\n        sportsSpecialty: null,\n        registerAddress: '',\n        registrationProvince: '',\n        registrationCity: '',\n        registrationArea: '',\n        regiterType: '',\n        sourceDistrictType: '',\n        registrationAddress: '',\n        overseasChinese: null,\n        hostCountries: '',\n        idPhoto: [],\n        photo: [],\n        imageUrl: '', //证件照\n        studentImageUrl: '', //学员照\n        isFatherFaculty: null,\n        isMotherFaculty: null\n      },\n      showDatePicker: false, // 出生年月弹框显隐\n      showBornAddressPicker: false, // 出生地弹框显隐\n      showRegisterAddressPicker: false // 户籍弹框显影\n    };\n  },\n  watch: {\n    'pageData.enrollModel': {\n      handler(newVal) {\n        this.initData(newVal);\n      }\n    },\n    //证件照列表变化，更新imageUrl\n    'formData.idPhoto': {\n      deep: true,\n      immediate: true,\n      handler(newVal) {\n        console.log('change-imageurl', newVal);\n        this.updateImageUrl('imageUrl', newVal);\n      }\n    },\n    //学员照列表变化，更新studentImageUrl\n    'formData.photo': {\n      deep: true,\n      immediate: true,\n      handler(newVal) {\n        this.updateImageUrl('studentImageUrl', newVal);\n      }\n    },\n    //生日变化,更新绑定字符串\n    'formData.birthday': {\n      handler(newVal) {\n        this.formData.birthdayStr = utils.dateConverter('yyyy-MM-dd', newVal);\n      }\n    }\n  },\n  methods: {\n    //文件上传超出大小限制\n    onOversize() {\n      Toast(`上传图片大小超过${this.fileMaxSize}M，请缩小图片后重新上传`);\n    },\n    //上传文件操作\n    onAfterRead(fileObj) {\n      fileObj.status = 'uploading';\n      fileObj.url = '';\n      ajaxUploadSingle(fileObj)\n        .then(res => {\n          fileObj.url = res.data.fileUrl;\n          fileObj.status = 'done';\n        })\n        .catch(e => {\n          fileObj.status = 'failed';\n        });\n    },\n    //上传文件前校验\n    onBeforeRead(file) {\n      let matchTypes = this.accepts.map(item => 'image/' + item);\n      //matchTypes长度为0表示不作文件扩展名限制\n      let isMatchType =\n        matchTypes.length == 0 ? true : matchTypes.includes(file.type);\n      if (!isMatchType) {\n        Toast('上传的文件格式支持：' + this.accepts.join('、'));\n        return false;\n      }\n      return true;\n    },\n    //身份证号失焦处理，生日自动填充\n    onIdBlur() {\n      let { idCard, birthday } = { ...this.formData };\n      if (this.checkIdCard(idCard)) {\n        this.formData.paymentSno = idCard;\n        if (birthday) return;\n        this.bornYear = idCard.slice(6, 10);\n        this.bornMonth = idCard.slice(10, 12);\n        this.bornDay = idCard.slice(12, 14);\n        this.formData.birthday = new Date(\n          this.bornYear + '/' + this.bornMonth + '/' + this.bornDay\n        ).getTime();\n      }\n    },\n    /**\n     * 提交表单\n     */\n    onSubmit() {\n      this.$refs.form\n        .validate()\n        .then(res => {\n          let loading = Toast.loading();\n          //保存身份信息\n          saveIdentityInfoH5({\n            ...this.formData,\n            staffCode: this.$route.query.staffCode\n          })\n            .then(res => {\n              loading.close();\n              this.replaceUrlQuery('enrollCode', res.data.data);\n              this.$router.replace({\n                path: '/sims/entrollFill/familyInfo',\n                query: this.$route.query\n              });\n            })\n            .catch(e => {\n              loading.close();\n              Toast.fail(e.message);\n            });\n        })\n        .catch(e => {\n          let message;\n          try {\n            message = e[0].message;\n          } catch (error) {\n            message = '校验失败';\n          }\n          Toast.fail(message);\n        });\n    },\n    /**\n     * 出生年月选择\n     */\n    onConfirmbirthday(val) {\n      this.formData.birthday = new Date(val).getTime();\n      this.showDatePicker = false;\n    },\n    /**\n     * 出生地选择\n     */\n    onConfirmBornAddress(val) {\n      this.formData.birthplaceProvince = val[0].code;\n      this.formData.birthplaceCity = val[1].code;\n      this.formData.birthplaceArea = val[2].code;\n      this.formData.bornAddress = this.getAddress(\n        val[0].code,\n        val[1].code,\n        val[2].code\n      );\n      this.showBornAddressPicker = false;\n    },\n    /**\n     * 户籍地选择\n     */\n    onConfirmRegisterAddress(val) {\n      this.formData.registrationProvince = val[0].code;\n      this.formData.registrationCity = val[1].code;\n      this.formData.registrationArea = val[2].code;\n      this.formData.registerAddress = this.getAddress(\n        val[0].code,\n        val[1].code,\n        val[2].code\n      );\n      this.getRegiterType(val[2].code);\n      this.showRegisterAddressPicker = false;\n    },\n    //性别切换\n    onGenderChange(val) {\n      this.formData.genderName = this.$D('XBM', val);\n    },\n    //民族切换\n    onNationChange(val) {\n      this.formData.nationName = val.label;\n    },\n    //初始化数据\n    initData(newVal) {\n      let {\n        birthplaceProvince,\n        birthplaceCity,\n        birthplaceArea,\n        registrationProvince,\n        registrationCity,\n        registrationArea,\n        imageUrl,\n        studentImageUrl\n      } = newVal;\n      Object.assign(this.formData, newVal);\n      //更新出生地\n      if (birthplaceProvince) {\n        this.formData.bornAddress = this.getAddress(\n          birthplaceProvince,\n          birthplaceCity,\n          birthplaceArea\n        );\n      }\n      //更新户籍地址\n      if (registrationProvince) {\n        this.formData.registerAddress = this.getAddress(\n          registrationProvince,\n          registrationCity,\n          registrationArea\n        );\n      }\n      //更新户籍地址类型\n      registrationArea && this.getRegiterType(registrationArea);\n      //默认填入学员证件照\n      if (imageUrl) {\n        this.formData.idPhoto = [\n          {\n            url: imageUrl\n          }\n        ];\n      } else {\n        this.formData.idPhoto = [];\n      }\n      //默认填入学员照片\n      if (studentImageUrl) {\n        this.formData.photo = [\n          {\n            url: studentImageUrl\n          }\n        ];\n      } else {\n        this.formData.photo = [];\n      }\n    },\n    //根据photolist变化，更新imageurl绑定至\n    updateImageUrl(key, newVal) {\n      if (newVal.length > 0) {\n        this.formData[key] = newVal[0].url;\n      } else {\n        this.formData[key] = '';\n      }\n    },\n    /**\n     * 获取地址\n     */\n    getAddress(provinceCode, cityCode, countyCode) {\n      return (\n        this.areaList.province_list[provinceCode] +\n        '/' +\n        this.areaList.city_list[cityCode] +\n        '/' +\n        this.areaList.county_list[countyCode]\n      );\n    },\n    /**\n     * 获取户籍地址类型\n     */\n    getRegiterType(cityCode) {\n      // 浙江省内（诸暨市外）、诸暨市内、浙江省外\n      let regidterTypeObj = {\n        '0': '诸暨市内',\n        '1': '浙江省内（诸暨市外）',\n        '2': '浙江省外'\n      };\n      console.log('cityCode', cityCode);\n      if (cityCode.slice(0, 2) != '33') {\n        this.formData.sourceDistrictType = '2';\n      } else if (cityCode == '330681') {\n        this.formData.sourceDistrictType = '0';\n      } else {\n        this.formData.sourceDistrictType = '1';\n      }\n      console.log('type', this.formData.sourceDistrictType);\n      this.formData.regidterTypeName =\n        regidterTypeObj[this.formData.sourceDistrictType];\n      console.log(regidterTypeObj[this.formData.sourceDistrictType]);\n    },\n    /**\n     * 更新url中的入参\n     * @param {String} queryKey 要替换的key\n     * @param {String} queryValue 要替换value\n     */\n    replaceUrlQuery(queryKey, queryValue) {\n      //url连接替换不刷新\n      let url = location.href;\n      url = this.$util.changeURLPar(url, queryKey, queryValue);\n      history.replaceState(null, null, url);\n      this.$route.query[queryKey] = queryValue;\n    },\n    /**\n     * 校验公共名称\n     */\n    validCommonName,\n    /**\n     * 长度校验\n     */\n    lengthPattern(str) {\n      if (!str) return true;\n      return /^.{2,20}$/.test(str);\n    },\n    /**\n     * 身份证校验\n     */\n    checkIdCard\n  }\n};\n</script>\n<style lang=\"less\">\n.title {\n  font-weight: bold;\n}\n</style>\n"]}]}