{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/views/article/search.vue?vue&type=style&index=0&id=20fd6b4c&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/school-secret/views/article/search.vue","mtime":1627979214336},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5zZWFyY2gtbWFpbiB7CiAgbGVmdDogMDsKICBwYWRkaW5nOiAyMHB4Owp9Cg=="},{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyHA;AACA;AACA;AACA","file":"search.vue","sourceRoot":"src/pages/school-secret/views/article","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"common-main search-main\">\n      <div class=\"common-header\">\n        <button class=\"common-btn1\" @click=\"onBack\">\n          <img src=\"../../assets/images/icons/back.png\" class=\"icon-img\" />返回\n        </button>\n        <search-nav\n          v-model=\"keyword\"\n          @search=\"handleSearch\"\n          class=\"search-nav\"\n        ></search-nav>\n      </div>\n      <null-content v-show=\"tableData.length < 1\"></null-content>\n      <b-table\n        v-show=\"tableData.length >= 1\"\n        ref=\"bTable\"\n        loading\n        empty-text=\"下车点与学校关联暂无数据\"\n        :headers=\"headers\"\n        :ajax-get-data=\"ajaxGetData\"\n        :show-column=\"false\"\n        :showRefresh=\"false\"\n        @row-click=\"rowClick\"\n      ></b-table>\n    </div>\n  </div>\n</template>\n\n<script>\nimport BTable from '@/components/business/BTable';\nimport searchNav from '../../views/home/components/search-nav';\nimport NullContent from '../home/components/null-content';\nimport { searchList } from '../../api/home';\nexport default {\n  name: 'index',\n  components: {\n    BTable,\n    searchNav,\n    NullContent\n  },\n  props: {},\n  data() {\n    return {\n      keyword: '',\n      headers: [\n        {\n          type: 'index',\n          label: '序号',\n          width: 100\n        },\n        {\n          label: '所在目录',\n          prop: 'catalogPath'\n        },\n        {\n          label: '标题',\n          prop: 'title'\n        }\n      ],\n      tableData: []\n    };\n  },\n  computed: {},\n  watch: {},\n  created() {\n    this.keyword = this.$route.query.keyword;\n  },\n  mounted() {},\n  methods: {\n    /**\n     * 刷新列表\n     */\n    refreshTable() {\n      this.$nextTick(() => {\n        this.$refs.bTable && this.$refs.bTable.onRefreshTable();\n      });\n    },\n    /**\n     * 获取查询列表\n     */\n    ajaxGetData(params) {\n      return searchList({\n        ...params,\n        keyword: this.keyword\n      }).then(({ data }) => {\n        this.tableData = data.records;\n        return {\n          data\n        };\n      });\n    },\n    /**\n     * 返回\n     */\n    onBack() {\n      this.$router.push({\n        path: '/home'\n      });\n    },\n    /**\n     * 点击跳转详情\n     */\n    rowClick(row) {\n      this.$router.push('/?catalogId=' + row.catalogId);\n    },\n    /**\n     * 搜索\n     */\n    handleSearch() {\n      this.refreshTable();\n    },\n    /**\n     *\n     */\n    getChange() {}\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.search-main {\n  left: 0;\n  padding: 20px;\n}\n</style>\n"]}]}