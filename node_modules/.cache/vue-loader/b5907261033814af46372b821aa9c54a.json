{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/homework-admin/views/homework/uploadDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/homework-admin/views/homework/uploadDetail.vue","mtime":1646020538169},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IElucHV0LCBNZW51SXRlbSwgTWVudSB9IGZyb20gJ2VsZW1lbnQtdWknOwppbXBvcnQgVXBsb2FkRmFpbGVkRGV0YWlsIGZyb20gJy4vQ29tcG9uZW50cy9VcGxvYWRGYWlsZWREZXRhaWwnOwppbXBvcnQgVXBsb2FkU3VjY2Vzc0RldGFpbCBmcm9tICcuL0NvbXBvbmVudHMvVXBsb2FkU3VjY2Vzc0RldGFpbCc7CmltcG9ydCB7IHVwbG9hZEZhaWxlZExpc3QsIHVwbG9hZFN1Y2Nlc3NMaXN0IH0gZnJvbSAnLi4vLi4vYXBpL3VwbG9hZC9pbmRleCc7CmltcG9ydCBDb29raWUgZnJvbSAnanMtY29va2llJzsKaW1wb3J0IE5vRGF0YSBmcm9tICcuL0NvbXBvbmVudHMvbm9EYXRhJzsKLy8gaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwovLyAgICAgIDxOb0RhdGEgbWVzc2FnZT0i5pqC5peg5raI5oGvIiA6YmdUeXBlPSIxIiB2LWVsc2UgLz4KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRHluYW1pY0Zvcm1QYWdlJywKICBjb21wb25lbnRzOiB7CiAgICBOb0RhdGEsCiAgICBFbE1lbnU6IE1lbnUsCiAgICBFbE1lbnVJdGVtOiBNZW51SXRlbSwKICAgIFtJbnB1dC5uYW1lXTogSW5wdXQsCiAgICBVcGxvYWRTdWNjZXNzRGV0YWlsLAogICAgVXBsb2FkRmFpbGVkRGV0YWlsCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmFpbGVkTm9EYXRhOiBmYWxzZSwKICAgICAgc3VjY2Vzc05vRGF0YTogZmFsc2UsCiAgICAgIHF1ZXJ5OiB0aGlzLiRyb3V0ZS5xdWVyeSwKICAgICAgYWN0aXZlSW5kZXg6IHRoaXMuJHJvdXRlLnF1ZXJ5LmhvbWV3b3JrU3RhdHVzID09IDEgPyAnMScgOiAnMicsIC8vMeaYryLkuIrkvKDmiJDlip8i77yMMuaYryLkuIrkvKDlpLHotKUiCiAgICAgIGZhaWxlZExpc3Q6IFtdLAogICAgICBzdWNjZXNzTGlzdDogW10sCiAgICAgIGZhaWxlZFRvdGFsOiAwLAogICAgICBjbGFzc0xpc3Q6IHRoaXMuJHJvdXRlLnF1ZXJ5LmRldGFpbExpc3QsIC8v54+t57qnCiAgICAgIHNlbGVjdENsYXNzOiAwIC8v5LiK5Lyg5oiQ5Yqf5Lit77yM6YCJ5Lit55qE54+t57qnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHt9LAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy5hY3RpdmVJbmRleCA9PSAxKSB7CiAgICAgIC8v5LiK5Lyg5oiQ5Yqf5YiX6KGoCiAgICAgIGNvbnNvbGUubG9nKCfkuIrkvKDmiJDlip/or7fmsYLliJfooagnKTsKICAgICAgdGhpcy5nZXRTdWNjZXNzVXBsb2FkTGlzdCgpOwogICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZUluZGV4ID09IDIpIHsKICAgICAgLy/kuIrkvKDlpLHotKXliJfooagKICAgICAgY29uc29sZS5sb2coJ+S4iuS8oOWksei0peivt+axguWIl+ihqCcpOwogICAgICB0aGlzLmdldEZhaWxlZFVwbG9hZExpc3QoKTsKICAgIH0gZWxzZSB7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKCkge30sCiAgICBoYW5kbGVTaXplQ2hhbmdlKCkge30sCiAgICBnZXRTdWNjZXNzVXBsb2FkTGlzdCgpIHsKICAgICAgLy8gdXBsb2FkU3VjY2Vzc0xpc3QoewogICAgICAvLyAgIGNsYXNzSWQ6LAogICAgICAvLyAgIGhvbWV3b3JrSWQ6IHRoaXMucXVlcnkuaG9tZXdvcmtJZCwKICAgICAgLy8gICBwYWdlTnVtOiAxLAogICAgICAvLyAgIHBhZ2VTaXplOiAyMCwKICAgICAgLy8gICBzY2hvb2xJZDogQ29va2llLmdldCgnc2Nob29sSWQnKSwKICAgICAgLy8gICB0ZW5hbnRJZDogQ29va2llLmdldCgndGVuYW50SWQnKQogICAgICAvLyB9KS50aGVuKHJlcyA9PiB7CiAgICAgIC8vICAgY29uc29sZS5sb2coJ3Jlc+aIkOWKnz09PScsIHJlcyk7CiAgICAgIC8vIH0pOwogICAgfSwKICAgIGdldEZhaWxlZFVwbG9hZExpc3QoKSB7CiAgICAgIHVwbG9hZEZhaWxlZExpc3QoewogICAgICAgIGhvbWV3b3JrSWQ6IHRoaXMucXVlcnkuaG9tZXdvcmtJZCwKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAyNzc3LAogICAgICAgIHNjaG9vbElkOiBDb29raWUuZ2V0KCdzY2hvb2xJZCcpLAogICAgICAgIHRlbmFudElkOiBDb29raWUuZ2V0KCd0ZW5hbnRJZCcpCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZygncmVz5aSx6LSlPT09JywgcmVzKTsKICAgICAgICBpZiAocmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgIGlmIChyZXMuZGF0YS5saXN0Lmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgLy/lsZXnpLrmlbDmja4KICAgICAgICAgICAgdGhpcy5mYWlsZWROb0RhdGEgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5mYWlsZWRMaXN0ID0gcmVzLmRhdGEubGlzdDsKICAgICAgICAgICAgdGhpcy5mYWlsZWRUb3RhbCA9IHJlcy5kYXRhLnRvdGFsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy/msqHmnInmlbDmja4KICAgICAgICAgICAgdGhpcy5mYWlsZWROb0RhdGEgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgbG9va2ZvclVwTG9hZERldGFpbChpZCkgewogICAgICBjb25zb2xlLmxvZyhg5q+P6aG1ICR7aWR9IOadoWApOwoKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnVXBMb2FkRGV0YWlsJyB9KTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Qoa2V5LCBrZXlQYXRoKSB7CiAgICAgIGNvbnNvbGUubG9nKGtleSwga2V5UGF0aCk7CiAgICAgIHRoaXMuYWN0aXZlSW5kZXggPSBrZXk7CiAgICAgIC8vIHRoaXMuJGVtaXQoJ3NlbGVjdEhhbmRsZScsIHRoaXMuYWN0aXZlSW5kZXgpOwogICAgICBpZiAoa2V5ID09IDEpIHsKICAgICAgICAvL+aIkOWKnwogICAgICAgIHRoaXMuZ2V0U3VjY2Vzc1VwbG9hZExpc3QoKTsKICAgICAgfSBlbHNlIGlmIChrZXkgPT0gMikgewogICAgICAgIC8v5aSx6LSlCiAgICAgICAgdGhpcy5nZXRGYWlsZWRVcGxvYWRMaXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgIH0KICAgIH0sCiAgICBjbGFzc1NlbGVjdE1ldGhvZHMoaW5kZXgpIHsKICAgICAgdGhpcy5zZWxlY3RDbGFzcyA9IGluZGV4OwogICAgfQogIH0KfTsK"},{"version":3,"sources":["uploadDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"uploadDetail.vue","sourceRoot":"src/pages/homework-admin/views/homework","sourcesContent":["<template>\n  <div class=\"detailContainerStyle\">\n    <el-menu\n      :default-active=\"activeIndex\"\n      class=\"menu\"\n      mode=\"horizontal\"\n      @select=\"handleSelect\"\n      active-text-color=\"#3195DF\"\n      text-color=\"#484848\"\n    >\n      <el-menu-item index=\"1\">上传成功</el-menu-item>\n      <el-menu-item index=\"2\">上传失败</el-menu-item>\n    </el-menu>\n    <div v-if=\"activeIndex == 1\">\n      <upload-success-detail\n        v-if=\"!this.successNoData\"\n        :classList=\"classList\"\n        @classSelect=\"classSelectMethods($event)\"\n        :tabSelectIndex=\"selectClass\"\n        :homeworkId=\"query.homeworkId\"\n      >\n      </upload-success-detail>\n      <no-data v-else message=\"暂无数据\" />\n    </div>\n    <div v-else-if=\"activeIndex == 2\">\n      <upload-failed-detail\n        v-if=\"!this.failedNoData\"\n        :studentListArray=\"failedList\"\n        :total=\"failedTotal\"\n      >\n      </upload-failed-detail>\n      <no-data class=\"nodataStyle\" v-else message=\"暂无数据\" />\n    </div>\n    <div v-else></div>\n  </div>\n</template>\n\n<script>\nimport { Input, MenuItem, Menu } from 'element-ui';\nimport UploadFailedDetail from './Components/UploadFailedDetail';\nimport UploadSuccessDetail from './Components/UploadSuccessDetail';\nimport { uploadFailedList, uploadSuccessList } from '../../api/upload/index';\nimport Cookie from 'js-cookie';\nimport NoData from './Components/noData';\n// import { mapGetters } from 'vuex';\n//      <NoData message=\"暂无消息\" :bgType=\"1\" v-else />\n\nexport default {\n  name: 'DynamicFormPage',\n  components: {\n    NoData,\n    ElMenu: Menu,\n    ElMenuItem: MenuItem,\n    [Input.name]: Input,\n    UploadSuccessDetail,\n    UploadFailedDetail\n  },\n  data() {\n    return {\n      failedNoData: false,\n      successNoData: false,\n      query: this.$route.query,\n      activeIndex: this.$route.query.homeworkStatus == 1 ? '1' : '2', //1是\"上传成功\"，2是\"上传失败\"\n      failedList: [],\n      successList: [],\n      failedTotal: 0,\n      classList: this.$route.query.detailList, //班级\n      selectClass: 0 //上传成功中，选中的班级\n    };\n  },\n  computed: {},\n  mounted() {\n    if (this.activeIndex == 1) {\n      //上传成功列表\n      console.log('上传成功请求列表');\n      this.getSuccessUploadList();\n    } else if (this.activeIndex == 2) {\n      //上传失败列表\n      console.log('上传失败请求列表');\n      this.getFailedUploadList();\n    } else {\n    }\n  },\n  methods: {\n    handleCurrentChange() {},\n    handleSizeChange() {},\n    getSuccessUploadList() {\n      // uploadSuccessList({\n      //   classId:,\n      //   homeworkId: this.query.homeworkId,\n      //   pageNum: 1,\n      //   pageSize: 20,\n      //   schoolId: Cookie.get('schoolId'),\n      //   tenantId: Cookie.get('tenantId')\n      // }).then(res => {\n      //   console.log('res成功===', res);\n      // });\n    },\n    getFailedUploadList() {\n      uploadFailedList({\n        homeworkId: this.query.homeworkId,\n        pageNum: 1,\n        pageSize: 2777,\n        schoolId: Cookie.get('schoolId'),\n        tenantId: Cookie.get('tenantId')\n      }).then(res => {\n        console.log('res失败===', res);\n        if (res.success) {\n          if (res.data.list.length > 0) {\n            //展示数据\n            this.failedNoData = false;\n            this.failedList = res.data.list;\n            this.failedTotal = res.data.total;\n          } else {\n            //没有数据\n            this.failedNoData = true;\n          }\n        }\n      });\n    },\n    lookforUpLoadDetail(id) {\n      console.log(`每页 ${id} 条`);\n\n      this.$router.push({ name: 'UpLoadDetail' });\n    },\n    handleSelect(key, keyPath) {\n      console.log(key, keyPath);\n      this.activeIndex = key;\n      // this.$emit('selectHandle', this.activeIndex);\n      if (key == 1) {\n        //成功\n        this.getSuccessUploadList();\n      } else if (key == 2) {\n        //失败\n        this.getFailedUploadList();\n      } else {\n      }\n    },\n    classSelectMethods(index) {\n      this.selectClass = index;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.detailContainerStyle {\n  margin: 0 auto;\n  max-width: 1200px;\n  //   background-color: white;\n  background-color: #eff1f6;\n}\n\n.menu {\n  padding-left: 24px;\n  font-size: 16px;\n  height: 48px;\n  border-radius: 2px;\n}\n\n.el-menu--horizontal > .el-menu-item.is-active {\n  border-bottom: 2px solid #3195df;\n  font-family: 'PingFangSC-Medium';\n}\n\n.el-menu--horizontal > .el-menu-item {\n  line-height: 48px;\n}\n.el-menu-item {\n  font-size: 16px;\n  font-family: 'PingFangSC-Medium';\n  padding: 0 0px;\n  cursor: pointer;\n  transition: border-color 0.3s, background-color 0.3s, color 0.3s;\n  box-sizing: border-box;\n  width: 64px;\n  height: 48px;\n  margin-right: 70px;\n}\n.el-menu.el-menu--horizontal {\n  border-bottom: solid 0px #ffffff;\n}\n.nodataStyle {\n  margin-top: 10px;\n  background-color: #ffffff;\n  height: 541px;\n}\n</style>\n\n<style></style>\n"]}]}