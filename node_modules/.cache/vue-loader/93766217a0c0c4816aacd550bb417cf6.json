{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serve/views/filler/FillDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/executive-serve/views/filler/FillDetail.vue","mtime":1627979214296},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgaGFuZGxlU2VydmUsCiAgZ2V0U2VydmVEZXRhaWwsCiAgYWRkUmVjb3JkLAogIGdldEhhbmRsZXJMaXN0LAogIGdldFNlcnZlU3RhdHVzLAogIGdldFJlY29yZExpc3QsCiAgZ2V0RXZhbHVhdGVMaXN0LAogIGRvd25sb2FkRmlsZSwKICBkZWxldGVSZWNvcmQKfSBmcm9tICcuLy4uLy4uL2FwaS9zZXJ2ZS5qcyc7Ci8qCiogQHN0YXR1c3sndW5jaGVjayc6IOW+heWuoeaguCDvvIwndW5wYXNzJzog5a6h5qC45pyq6YCa6L+HIO+8jCd1bmhhbmRsZSc6IOW+heWkhOeQhu+8jAonaGFuZGxlJzog5aSE55CG77yMJ3Jldm9rZSfvvJrlt7LmkqTplIAsICd1bmV2YWx1YXRlJzog5b6F6K+E5Lu377yMCidldmFsdWF0ZSc6IOW3suivhOS7tyx9CiovCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRmlsbERldGFpbCcsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlcnZlSWQ6ICcnLAogICAgICBpZGVudGl0eTogJycsCiAgICAgIHN0YXR1czogJycsCiAgICAgIHNob3dSZXZva2U6IGZhbHNlLAogICAgICByZXZva2VSZWFzb246ICcnLAogICAgICBzaG93RXZhbHVhdGU6IGZhbHNlLAogICAgICBzZXJ2ZUVmZmljaWVuY3k6IG51bGwsCiAgICAgIGhhbmRsZXJMaXN0OiBbXSwKICAgICAgaGFuZGxlclJlY29yZExpc3Q6IFtdLAogICAgICBzZXJ2ZVNhdGlzZmFjdGlvbjogbnVsbCwKICAgICAgZXZhbHVhdGVDb250ZW50OiAnJywKICAgICAgZGlhbG9nSW5wdXRUaXRsZTogJ+aSpOmUgOWOn+WboO+8micsCiAgICAgIGRpYWxvZ1RpdGxlOiAn5pKk6ZSA6K6i5Y2VJywKICAgICAgZGlhbG9nVHlwZTogJycsCiAgICAgIHNlcnZlRGV0YWlsOiB7fSwKICAgICAgcm9sZXM6IFtdLAogICAgICBzZXJ2ZVN0YXR1c0xpc3Q6IFtdLAogICAgICB1c2VySW5mbzoge30sCiAgICAgIHNob3dSZXBseUlkOiAnJywKICAgICAgcmVwbHlDb250ZW50OiAnJywKICAgICAgcmFkaW9TZWxlY3Q6ICcnLAogICAgICByYWRpb0xpc3Q6IFtdLAogICAgICBzdGF0dXNDdXJyZW50OiAwLAogICAgICByZXZva2VNYXg6IDEwMCwKICAgICAgZXZhbHVhdGVUYWdMaXN0OiBbCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ+mXqueUteaOpeWNlScsCiAgICAgICAgICBzZWxlY3RlZDogZmFsc2UKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIG5hbWU6ICfng63lv4PmnI3liqEnLAogICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBuYW1lOiAn5rKf6YCa6IO95omLJywKICAgICAgICAgIHNlbGVjdGVkOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbmFtZTogJ+i1hOa6kOWkp+S9rCcsCiAgICAgICAgICBzZWxlY3RlZDogZmFsc2UKICAgICAgICB9CiAgICAgIF0sCiAgICAgIHNlcnZlRXZhbHVhdGVPYmo6IHt9LAogICAgICBzZXJ2ZUV2YWx1YXRlVGFnOiBbXSwKICAgICAgZGlhbG9nUGxhY2Vob2xkZXI6ICflv4XloavvvIzor7fovpPlhaU2LTEwMOWtl+WOn+WboCcsCiAgICAgIGRlbGV0ZVJlY29yZElkOiBudWxsLAogICAgICBkaXNhYmxlQnRuOiBmYWxzZSwKICAgICAgc2hvd0lmcmFtZTogZmFsc2UsCiAgICAgIHByZXZpZXdTcmM6ICcnLAogICAgICBmaWxlTGlzdDogW10KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgeyBwYXJhbXMsIHF1ZXJ5IH0gPSB0aGlzLiRyb3V0ZTsKICAgIGNvbnN0IHVzZXJJbmZvID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlckluZm8nKSkgfHwge307CiAgICB0aGlzLmlkZW50aXR5ID0gcXVlcnkuaWRlbnRpdHk7CiAgICBpZiAocGFyYW1zLmlkKSB7CiAgICAgIHRoaXMuc2VydmVJZCA9IHBhcmFtcy5pZDsKICAgICAgdGhpcy5nZXRTZXJ2ZURldGFpbCh0aGlzLnNlcnZlSWQpOwogICAgfQogICAgdGhpcy51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgdGhpcy5yb2xlcyA9IHVzZXJJbmZvLnJvbGVzIHx8IFtdOwogICAgdGhpcy5nZXRTZXJ2ZVN0YXR1c0xpc3QoKTsKICB9LAogIHdhdGNoOiB7CiAgICByYWRpb1NlbGVjdChuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAobmV3VmFsICE9IG9sZFZhbCkgewogICAgICAgIHRoaXMucmV2b2tlUmVhc29uID0gJyc7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRvd25sb2FkRmlsZShmaWxlSWQsIGZpbGVOYW1lKSB7CiAgICAgIGNvbnN0IHByb3h5ID0gcmVxdWlyZSgnLi8uLi8uLi8uLi8uLi8uLi9jb25maWcvdG9vbHMvcHJveHkuanMnKTsKICAgICAgY29uc29sZS5sb2coJ3Byb3h5JywgcHJveHkpOwogICAgICBjb25zdCBpc0xvY2FsSG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0LmluZGV4T2YoJ2xvY2FsaG9zdCcpID4gLTE7CiAgICAgIGNvbnN0IGhvc3QgPSBpc0xvY2FsSG9zdAogICAgICAgID8gJ2h0dHA6Ly8xNzIuMTcuMTUuMTMwOjg1MDUnCiAgICAgICAgOiAnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdDsKICAgICAgd2luZG93Lm9wZW4oaG9zdCArIGAvc2VydmUvc2VydmUvZmlsZS9kb3dubG9hZC8ke2ZpbGVJZH1gKTsKICAgIH0sCiAgICByZXZva2VTZXJ2ZSgpIHsKICAgICAgaWYgKAogICAgICAgIHRoaXMucmV2b2tlUmVhc29uLnRyaW0oKS5sZW5ndGggPCA2IHx8CiAgICAgICAgdGhpcy5yZXZva2VSZWFzb24udHJpbSgpLmxlbmd0aCA+IDEwMAogICAgICApIHsKICAgICAgICB0aGlzLndhcm5pbmcoJyDor7fovpPlhaUgNi0xMDAg5pKk6ZSA5Y6f5ZugJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgc2VydmVJZDogdGhpcy5zZXJ2ZUlkLAogICAgICAgIHByb2Nlc3NUeXBlOiA1LAogICAgICAgIGNvbnRlbnQ6IHRoaXMucmV2b2tlUmVhc29uCiAgICAgIH07CiAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IHRydWU7CiAgICAgIGhhbmRsZVNlcnZlKHBhcmFtcykKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlQnRuID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmRpYWxvZ0NhbmNlbCgpOwogICAgICAgICAgdGhpcy53YXJuaW5nKCfmkqTplIDmiJDlip8nLCAnc3VjY2VzcycpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL2ZpbGwnCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICByZXR1cm4gZGF0ZS5yZXBsYWNlKC8tL2csICcvJykuc3BsaXQoJyAnKTsKICAgIH0sCiAgICBzaG93RGlhbG9nKAogICAgICB0eXBlLAogICAgICB0aXRsZSwKICAgICAgaW5wdXRUaXRsZSA9ICfljp/lm6DvvJonLAogICAgICBwbGFjZWhvbGRlciA9ICflv4XloavvvIzor7fovpPlhaU2LTEwMOWtl+WOn+WboCcsCiAgICAgIG9wdGlvbnMKICAgICkgewogICAgICB0aGlzLnNob3dSZXZva2UgPSB0cnVlOwogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSB0eXBlOwogICAgICB0aGlzLmRpYWxvZ1RpdGxlID0gdGl0bGU7CiAgICAgIHRoaXMuZGlhbG9nSW5wdXRUaXRsZSA9IGlucHV0VGl0bGU7CiAgICAgIHRoaXMuZGlhbG9nUGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjsKICAgICAgaWYgKHR5cGUgPT0gJ2NoZWNrJykgewogICAgICAgIHRoaXMucmFkaW9MaXN0ID0gWwogICAgICAgICAgewogICAgICAgICAgICBuYW1lOiAn6YCa6L+HJywKICAgICAgICAgICAgdmFsdWU6IDEKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIG5hbWU6ICfkuI3pgJrov4cnLAogICAgICAgICAgICB2YWx1ZTogMgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ+ebtOaOpeWIoOmZpCcsCiAgICAgICAgICAgIHZhbHVlOiAzCiAgICAgICAgICB9CiAgICAgICAgXTsKICAgICAgfQogICAgICAvL+a3u+WKoOiusOW9leWtl+aVsOmZkOWItiAyMDDvvIzlhbbkvZnkuLogMTAwCiAgICAgIGlmICh0eXBlID09PSAnYWRkUmVjb3JkJykgewogICAgICAgIHRoaXMucmV2b2tlTWF4ID0gNTAwOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucmV2b2tlTWF4ID0gMTAwOwogICAgICB9CiAgICAgIGlmICh0eXBlID09PSAnZGVsZXRlUmVjb3JkJyB8fCB0eXBlID09PSAnZGVsZXRlUmVwbHknKSB7CiAgICAgICAgdGhpcy5kZWxldGVSZWNvcmRJZCA9IG9wdGlvbnMuZGVsZXRlSWQ7CiAgICAgIH0KICAgIH0sCgogICAgZGlhbG9nQ29uZmlybSgpIHsKICAgICAgc3dpdGNoICh0aGlzLmRpYWxvZ1R5cGUpIHsKICAgICAgICBjYXNlICdyZXZva2UnOgogICAgICAgICAgdGhpcy5yZXZva2VTZXJ2ZSgpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnZGVsZXRlJzoKICAgICAgICAgIHRoaXMuZGVsZXRlU2VydmUoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2FkZFJlY29yZCc6CiAgICAgICAgICB0aGlzLmFkZFJlY29yZChudWxsKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2NoZWNrJzoKICAgICAgICAgIHRoaXMudmVyaWZ5U2VydmUoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ3F1aXQnOgogICAgICAgICAgdGhpcy5maW5pc2hTZXJ2ZSgzKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2JhY2snOgogICAgICAgICAgdGhpcy5maW5pc2hTZXJ2ZSgyKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2RlbGV0ZVJlY29yZCc6CiAgICAgICAgICB0aGlzLmRlbGV0ZVJlY29yZCgxKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJ2RlbGV0ZVJlcGx5JzoKICAgICAgICAgIHRoaXMuZGVsZXRlUmVjb3JkKDIpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICBkaWFsb2dDYW5jZWwoKSB7CiAgICAgIHRoaXMuc2hvd1Jldm9rZSA9IGZhbHNlOwogICAgICB0aGlzLmRpYWxvZ1R5cGUgPSAnJzsKICAgICAgdGhpcy5yZXZva2VSZWFzb24gPSAnJzsKICAgICAgdGhpcy5yYWRpb0xpc3QgPSBbXTsKICAgICAgdGhpcy5kZWxldGVSZWNvcmRJZCA9IG51bGw7CiAgICB9LAogICAgc2VuZFJlcGx5KGlkKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVCdG4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMucmVwbHlDb250ZW50Lmxlbmd0aCA8IDYpIHsKICAgICAgICB0aGlzLndhcm5pbmcoJ+ivt+i+k+WFpSA2LTIwMCDlrZflm57lpI0nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBzZXJ2ZUlkOiB0aGlzLnNlcnZlSWQsCiAgICAgICAgY29udGVudDogdGhpcy5yZXBseUNvbnRlbnQsCiAgICAgICAgcGFyZW50SWQ6IGlkCiAgICAgIH07CiAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IHRydWU7CiAgICAgIGFkZFJlY29yZChwYXJhbXMpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuc2hvd1JlcGx5SWQgPSAnJzsKICAgICAgICAgIHRoaXMucmVwbHlDb250ZW50ID0gJyc7CiAgICAgICAgICB0aGlzLmdldFJlY29yZExpc3QoKTsKICAgICAgICAgIHRoaXMud2FybmluZygn5Zue5aSN5pyN5Yqh6K6w5b2V5oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlQnRuID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgYWRkUmVjb3JkKHBhcmVudElkKSB7CiAgICAgIGlmICh0aGlzLnJldm9rZVJlYXNvbi5sZW5ndGggPCA2KSB7CiAgICAgICAgdGhpcy53YXJuaW5nKCfor7fovpPlhaUgNi0yMDAg5a2X5pyN5Yqh6K6w5b2VJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgc2VydmVJZDogdGhpcy5zZXJ2ZUlkLAogICAgICAgIGNvbnRlbnQ6IHRoaXMucmV2b2tlUmVhc29uLAogICAgICAgIHBhcmVudElkOiBwYXJlbnRJZAogICAgICB9OwogICAgICB0aGlzLmRpc2FibGVCdG4gPSB0cnVlOwogICAgICBhZGRSZWNvcmQocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5kaWFsb2dDYW5jZWwoKTsKICAgICAgICB0aGlzLmdldFJlY29yZExpc3QoKTsKICAgICAgICB0aGlzLndhcm5pbmcoJ+a3u+WKoOacjeWKoeiusOW9leaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgdGhpcy5kaXNhYmxlQnRuID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEhhbmRsZXJMaXN0KCkgewogICAgICBnZXRIYW5kbGVyTGlzdCh0aGlzLnNlcnZlSWQpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmhhbmRsZXJMaXN0ID0gcmVzLmRhdGEgfHwgW107CiAgICAgIH0pOwogICAgfSwKICAgIGdldFJlY29yZExpc3QoKSB7CiAgICAgIGdldFJlY29yZExpc3QodGhpcy5zZXJ2ZUlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgbGlzdCA9IHJlcy5kYXRhIHx8IFtdOwogICAgICAgIHRoaXMuaGFuZGxlclJlY29yZExpc3QgPSB0aGlzLmhhbmRsZXJSZWNvcmQobGlzdCk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZXJSZWNvcmQobGlzdCkgewogICAgICBsZXQgcmVzdWx0ID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGl0ZW0gPSBsaXN0W2ldOwogICAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLmdldENoaWxkUmVjb3JkKGxpc3RbaV0uY2hpbGRyZW4pOwogICAgICAgIGNoaWxkcmVuLnNvcnQoKGEsIGIpID0+IHsKICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgIG5ldyBEYXRlKGEuY3JlYXRlVGltZS5yZXBsYWNlKC8tL2csICcvJykpLmdldFRpbWUoKSAtCiAgICAgICAgICAgIG5ldyBEYXRlKGIuY3JlYXRlVGltZS5yZXBsYWNlKC8tL2csICcvJykpLmdldFRpbWUoKQogICAgICAgICAgKTsKICAgICAgICB9KTsKICAgICAgICBpdGVtLmNoaWxkcmVuID0gY2hpbGRyZW47CiAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sCiAgICBnZXRDaGlsZFJlY29yZChjaGlsZHJlbiwgcmVzdWx0ID0gW10pIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykgewogICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkcmVuW2ldKTsKICAgICAgICBpZiAoY2hpbGRyZW5baV0uY2hpbGRyZW4pIHsKICAgICAgICAgIHRoaXMuZ2V0Q2hpbGRSZWNvcmQoY2hpbGRyZW5baV0uY2hpbGRyZW4sIHJlc3VsdCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9LAogICAgZ2V0U2VydmVEZXRhaWwoaWQpIHsKICAgICAgZ2V0U2VydmVEZXRhaWwoaWQpLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZygnZGV0YWlsOicsIHJlcyk7CiAgICAgICAgdGhpcy5zZXJ2ZURldGFpbCA9IChyZXMgJiYgcmVzLmRhdGEpIHx8IHt9OwogICAgICAgIHRoaXMuZmlsZUxpc3QgPSB0aGlzLnNlcnZlRGV0YWlsLmF0dGFjaG1lbnRzIHx8IFtdOwogICAgICAgIHRoaXMub3JkZXJGaWxlKCk7CiAgICAgICAgdGhpcy5nZXRTZXJ2ZVN0YXR1cyh0aGlzLnNlcnZlRGV0YWlsLnNlcnZlU3RhdHVzIHx8ICcnKTsKICAgICAgICBjb25zb2xlLmxvZygnc3RhdHVzJywgdGhpcy5zdGF0dXMpOwogICAgICAgIGlmICh0aGlzLnNlcnZlRGV0YWlsLnVzZXJDb3VudCA+IDApIHsKICAgICAgICAgIHRoaXMuZ2V0SGFuZGxlckxpc3QoKTsKICAgICAgICB9CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5zZXJ2ZURldGFpbC5zZXJ2ZVN0YXR1cyAhPSAxIHx8CiAgICAgICAgICB0aGlzLnNlcnZlRGV0YWlsLnNlcnZlU3RhdHVzICE9IDUKICAgICAgICApIHsKICAgICAgICAgIHRoaXMuZ2V0UmVjb3JkTGlzdCgpOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMuc2VydmVEZXRhaWwuc2VydmVTdGF0dXMgPT0gNCkgewogICAgICAgICAgdGhpcy5nZXRFdmFsdWF0ZUxpc3QoKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEV2YWx1YXRlTGlzdCgpIHsKICAgICAgZ2V0RXZhbHVhdGVMaXN0KHRoaXMuc2VydmVJZCkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSByZXMuZGF0YSB8fCB7fTsKICAgICAgICB0aGlzLnNlcnZlRXZhbHVhdGVPYmogPSBkYXRhOwogICAgICAgIHRoaXMuc2VydmVFdmFsdWF0ZVRhZyA9CiAgICAgICAgICBkYXRhLmV2YWx1YXRlTGFiZWwgJiYgZGF0YS5ldmFsdWF0ZUxhYmVsLnNwbGl0KCcsJyk7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFNlcnZlU3RhdHVzKGNvZGUpIHsKICAgICAgc3dpdGNoIChjb2RlKSB7CiAgICAgICAgY2FzZSAxOgogICAgICAgICAgdGhpcy5zdGF0dXMgPSAndW5jaGVjayc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDI6CiAgICAgICAgICB0aGlzLnN0YXR1cyA9ICdoYW5kbGUnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAzOgogICAgICAgICAgdGhpcy5zdGF0dXMgPSAndW5ldmFsdWF0ZSc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICB0aGlzLnN0YXR1cyA9ICdldmFsdWF0ZSc7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlIDU6CiAgICAgICAgICB0aGlzLnN0YXR1cyA9ICd1bnBhc3MnOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSA2OgogICAgICAgICAgdGhpcy5zdGF0dXMgPSAncmV2b2tlJzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSwKICAgIGdldFNlcnZlU3RhdHVzTGlzdCgpIHsKICAgICAgZ2V0U2VydmVTdGF0dXModGhpcy5zZXJ2ZUlkKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ2dldFNlcnZlU3RhdHVzUmVzOicsIHJlcyk7CiAgICAgICAgdGhpcy5zZXJ2ZVN0YXR1c0xpc3QgPSByZXMuZGF0YSB8fCBbXTsKICAgICAgICBsZXQgc3RhdHVzQ3VycmVudCA9IHRoaXMuc2VydmVTdGF0dXNMaXN0LmZpbmRJbmRleCgKICAgICAgICAgIGl0ZW0gPT4gaXRlbS5pc0ZpbmlzaCAhPSAxCiAgICAgICAgKTsKCiAgICAgICAgdGhpcy5zdGF0dXNDdXJyZW50ID0KICAgICAgICAgIHN0YXR1c0N1cnJlbnQgPT0gLTEKICAgICAgICAgICAgPyB0aGlzLnNlcnZlU3RhdHVzTGlzdC5sZW5ndGggLSAxCiAgICAgICAgICAgIDogc3RhdHVzQ3VycmVudCAtIDE7CiAgICAgIH0pOwogICAgfSwKICAgIGdvRXZhbHVhdGUoKSB7CiAgICAgIHRoaXMuc2hvd0V2YWx1YXRlID0gdHJ1ZTsKICAgIH0sCiAgICBzZWxlY3RUYWcoaW5kZXgpIHsKICAgICAgdGhpcy5ldmFsdWF0ZVRhZ0xpc3RbaW5kZXhdLnNlbGVjdGVkID0gIXRoaXMuZXZhbHVhdGVUYWdMaXN0W2luZGV4XQogICAgICAgIC5zZWxlY3RlZDsKICAgIH0sCiAgICBldmFsdWF0ZUNhbmNlbCgpIHsKICAgICAgdGhpcy5zZXJ2ZVNhdGlzZmFjdGlvbiA9IG51bGw7CiAgICAgIHRoaXMuc2VydmVFZmZpY2llbmN5ID0gbnVsbDsKICAgICAgdGhpcy5ldmFsdWF0ZUNvbnRlbnQgPSAnJzsKICAgICAgdGhpcy5ldmFsdWF0ZVRhZ0xpc3QgPSB0aGlzLmV2YWx1YXRlVGFnTGlzdC5tYXAoaXRlbSA9PiB7CiAgICAgICAgaXRlbS5zZWxlY3RlZCA9IGZhbHNlOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgICAgdGhpcy5zaG93RXZhbHVhdGUgPSBmYWxzZTsKICAgIH0sCiAgICBldmFsdWF0ZVNlcnZlKCkgewogICAgICBsZXQgbGFiZWwgPSAnJywKICAgICAgICBzZWxlY3RUYWduYW1lTGlzdCA9IFtdOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZXZhbHVhdGVUYWdMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRoaXMuZXZhbHVhdGVUYWdMaXN0W2ldLnNlbGVjdGVkKSB7CiAgICAgICAgICBzZWxlY3RUYWduYW1lTGlzdC5wdXNoKHRoaXMuZXZhbHVhdGVUYWdMaXN0W2ldLm5hbWUpOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoIXRoaXMuc2VydmVTYXRpc2ZhY3Rpb24gfHwgIXRoaXMuc2VydmVFZmZpY2llbmN5KSB7CiAgICAgICAgdGhpcy53YXJuaW5nKCfor7flr7nmnI3liqHov5vooYzmiZPmmJ/or4Tku7fvvIEnKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKAogICAgICAgIHRoaXMuZXZhbHVhdGVDb250ZW50LnRyaW0oKSAmJgogICAgICAgICh0aGlzLmV2YWx1YXRlQ29udGVudC50cmltKCkubGVuZ3RoIDwgNiB8fAogICAgICAgICAgdGhpcy5ldmFsdWF0ZUNvbnRlbnQudHJpbSgpLmxlbmd0aCA+IDUwMCkKICAgICAgKSB7CiAgICAgICAgdGhpcy53YXJuaW5nKCfor7fovpPlhaUgNi01MDAg5a2X5pyN5Yqh6K+E5Lu3Jyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlmICh0aGlzLmRpc2FibGVCdG4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy/or4Tku7fmnI3liqEKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBzZXJ2ZUlkOiB0aGlzLnNlcnZlSWQsCiAgICAgICAgcHJvY2Vzc1R5cGU6IDQsCiAgICAgICAgc2F0aXNmaWVkU2NvcmU6IHRoaXMuc2VydmVTYXRpc2ZhY3Rpb24sCiAgICAgICAgZmluaXNoU2NvcmU6IHRoaXMuc2VydmVFZmZpY2llbmN5LAogICAgICAgIGV2YWx1YXRlTGFiZWw6IHNlbGVjdFRhZ25hbWVMaXN0LmpvaW4oJywnKSwKICAgICAgICBjb250ZW50OiB0aGlzLmV2YWx1YXRlQ29udGVudC50cmltKCkKICAgICAgfTsKICAgICAgdGhpcy5kaXNhYmxlQnRuID0gdHJ1ZTsKICAgICAgaGFuZGxlU2VydmUocGFyYW1zKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmV2YWx1YXRlQ2FuY2VsKCk7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdG4gPSBmYWxzZTsKICAgICAgICAgIHRoaXMud2FybmluZygn6K+E5Lu35oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9maWxsJwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdG4gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBtb2RpZnlTZXJ2ZSgpIHsKICAgICAgLy/kv67mlLnmnI3liqEKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvZmlsbC9hcHBseScsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHNlcnZlSWQ6IHRoaXMuc2VydmVJZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmVyaWZ5U2VydmUoKSB7CiAgICAgIC8v5a6h5qC45pyN5YqhCiAgICAgIGlmICh0aGlzLmRpc2FibGVCdG4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHRoaXMucmFkaW9TZWxlY3QgIT0gJzEnKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy5yZXZva2VSZWFzb24udHJpbSgpLmxlbmd0aCA8IDYgfHwKICAgICAgICAgIHRoaXMucmV2b2tlUmVhc29uLnRyaW0oKS5sZW5ndGggPiAxMDAKICAgICAgICApIHsKICAgICAgICAgIHRoaXMud2FybmluZygn6K+36L6T5YWlIDYtMTAwIOWtl+WOn+WboCcpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHNlcnZlSWQ6IHRoaXMuc2VydmVJZCwKICAgICAgICBwcm9jZXNzVHlwZTogMSwKICAgICAgICBjb250ZW50OiB0aGlzLnJldm9rZVJlYXNvbiwKICAgICAgICBhcHByb3ZlVHlwZTogdGhpcy5yYWRpb1NlbGVjdAogICAgICB9OwogICAgICB0aGlzLmRpc2FibGVCdG4gPSB0cnVlOwogICAgICBoYW5kbGVTZXJ2ZShwYXJhbXMpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coJ3ZlcmlmeVNlcnZlUmVzOicsIHJlcyk7CiAgICAgICAgICB0aGlzLndhcm5pbmcoJ+WuoeaguOaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgICB0aGlzLmRpYWxvZ0NhbmNlbCgpOwogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAnL2NoZWNrJwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdG4gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzbmFnU2VydmUoKSB7CiAgICAgIGlmICh0aGlzLmRpc2FibGVCdG4pIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy/miqLljZUKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBzZXJ2ZUlkOiB0aGlzLnNlcnZlSWQsCiAgICAgICAgcHJvY2Vzc1R5cGU6IDIKICAgICAgfTsKICAgICAgdGhpcy5kaXNhYmxlQnRuID0gdHJ1ZTsKICAgICAgaGFuZGxlU2VydmUocGFyYW1zKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdG4gPSBmYWxzZTsKICAgICAgICAgIHRoaXMud2FybmluZygKICAgICAgICAgICAgJ+aBreWWnOaKouWNleaIkOWKn++8jOaCqOWPr+S7peWcqOOAkOaIkeeahOaKouWNleOAkeS4reaJvuWIsOW3suaKouWIsOeahOiuouWNlSEnLAogICAgICAgICAgICAnc3VjY2VzcycKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6ICcvc3VwZXJ2aXNlJwogICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdG4gPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjb25maXJtRmluaXNoKCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTlt7Lnu4/lvpfliLDmnInmlYjop6PlhrPokL3lrp7vvJ8nLCAn5a6M5oiQ6K6i5Y2VJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY29uZmlybUJ1dHRvbkNsYXNzOiAnY29uZmlybS1idG4nLAogICAgICAgIGNhbmNlbEJ1dHRvbkNsYXNzOiAnY2FuY2VsLWJ0bicKICAgICAgICAvLyBjZW50ZXI6IHRydWUKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmZpbmlzaFNlcnZlKDEpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0sCiAgICBmaW5pc2hTZXJ2ZShoYW5kbGVUeXBlKSB7CiAgICAgIC8v5aSE55CG57G75Z6LKDHmj5DkuqTlrozmiJDmnI3liqEy6YCA5Ye65pyN5YqhKOWFtuS9meWkhOeQhuS6uikz6YCA5Zue5pyN5YqhKOWUr+S4gOS4u+WkhOeQhuS6uikpCiAgICAgIGlmICgKICAgICAgICBoYW5kbGVUeXBlICE9IDEgJiYKICAgICAgICAodGhpcy5yZXZva2VSZWFzb24udHJpbSgpLmxlbmd0aCA8IDYgfHwKICAgICAgICAgIHRoaXMucmV2b2tlUmVhc29uLnRyaW0oKS5sZW5ndGggPiAxMDApCiAgICAgICkgewogICAgICAgIHRoaXMud2FybmluZygn6K+36L6T5YWlIDYtMTAwIOWtl+WOn+WboCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5kaXNhYmxlQnRuKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGxldCBwYXJhbXMgPSB7CiAgICAgICAgc2VydmVJZDogdGhpcy5zZXJ2ZUlkLAogICAgICAgIHByb2Nlc3NUeXBlOiAzLAogICAgICAgIGhhbmRsZVR5cGU6IGhhbmRsZVR5cGUsCiAgICAgICAgY29udGVudDogdGhpcy5yZXZva2VSZWFzb24KICAgICAgfTsKICAgICAgdGhpcy5kaXNhYmxlQnRuID0gdHJ1ZTsKICAgICAgaGFuZGxlU2VydmUocGFyYW1zKQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmRpc2FibGVCdG4gPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXM6JywgcmVzKTsKICAgICAgICAgIGlmIChoYW5kbGVTZXJ2ZSAhPSAxKSB7CiAgICAgICAgICAgIHRoaXMuZGlhbG9nQ2FuY2VsKCk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoaGFuZGxlVHlwZSA9PSAzKSB7CiAgICAgICAgICAgIHRoaXMud2FybmluZygn6YCA5Zue5oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlVHlwZSA9PSAyKSB7CiAgICAgICAgICAgIHRoaXMud2FybmluZygn6YCA5Ye65oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0gZWxzZSBpZiAoaGFuZGxlVHlwZSA9PSAxKSB7CiAgICAgICAgICAgIHRoaXMud2FybmluZygn6K6i5Y2V5a6M5oiQJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9oYW5kbGUnCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZVNlcnZlKCkgewogICAgICBpZiAoCiAgICAgICAgdGhpcy5yZXZva2VSZWFzb24udHJpbSgpLmxlbmd0aCA8IDYgfHwKICAgICAgICB0aGlzLnJldm9rZVJlYXNvbi50cmltKCkubGVuZ3RoID4gMTAwCiAgICAgICkgewogICAgICAgIHRoaXMud2FybmluZygn6K+36L6T5YWlIDYtMTAwIOWtl+WIoOmZpOWOn+WboCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgcGFyYW1zID0gewogICAgICAgIHNlcnZlSWQ6IHRoaXMuc2VydmVJZCwKICAgICAgICBwcm9jZXNzVHlwZTogNiwKICAgICAgICBjb250ZW50OiB0aGlzLnJldm9rZVJlYXNvbgogICAgICB9OwogICAgICB0aGlzLmRpc2FibGVCdG4gPSB0cnVlOwogICAgICBoYW5kbGVTZXJ2ZShwYXJhbXMpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXM6JywgcmVzKTsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgICAgdGhpcy5kaWFsb2dDYW5jZWwoKTsKICAgICAgICAgIHRoaXMud2FybmluZygn5Yig6Zmk5oiQ5YqfJywgJ3N1Y2Nlc3MnKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogJy9zdXBlcnZpc2UnCiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgIH0pOwogICAgfSwKICAgIHJlcGx5UmVjb3JkKGlkKSB7CiAgICAgIHRoaXMuc2hvd1JlcGx5SWQgPSAnc2VydmVJZCcgKyBpZDsKICAgIH0sCiAgICAvL+WIoOmZpOWkhOeQhuiusOW9lSB0eXBl77yaMeWkhOeQhuiusOW9lSAy77ya5Zue5aSNCiAgICBkZWxldGVSZWNvcmQodHlwZSkgewogICAgICBpZiAoCiAgICAgICAgdGhpcy5yZXZva2VSZWFzb24udHJpbSgpLmxlbmd0aCA8IDYgfHwKICAgICAgICB0aGlzLnJldm9rZVJlYXNvbi50cmltKCkubGVuZ3RoID4gMTAwCiAgICAgICkgewogICAgICAgIHRoaXMud2FybmluZygn6K+36L6T5YWlIDYtMTAwIOWtl+WOn+WboCcpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmRpc2FibGVCdG4gPSB0cnVlOwogICAgICBkZWxldGVSZWNvcmQoewogICAgICAgIGlkOiB0aGlzLmRlbGV0ZVJlY29yZElkLAogICAgICAgIGNvbnRlbnQ6IHRoaXMucmV2b2tlUmVhc29uCiAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUJ0biA9IGZhbHNlOwogICAgICAgICAgaWYgKHR5cGUgPT0gMikgewogICAgICAgICAgICB0aGlzLndhcm5pbmcoJ+WIoOmZpOWbnuWkjeaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLndhcm5pbmcoJ+WIoOmZpOacjeWKoeiusOW9leaIkOWKnycsICdzdWNjZXNzJyk7CiAgICAgICAgICB9CgogICAgICAgICAgdGhpcy5kaWFsb2dDYW5jZWwoKTsKICAgICAgICAgIHRoaXMuZ2V0UmVjb3JkTGlzdCgpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGUgPT4gewogICAgICAgICAgdGhpcy5kaXNhYmxlQnRuID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAogICAgb3JkZXJGaWxlKCkgewogICAgICB0aGlzLmZpbGVMaXN0ID0gdGhpcy5maWxlTGlzdAogICAgICAgIC5maWx0ZXIoaXRlbSA9PiB0aGlzLmdldEl0ZW1UeXBlSW1hZ2UoaXRlbSkpCiAgICAgICAgLmNvbmNhdCh0aGlzLmZpbGVMaXN0LmZpbHRlcihpdGVtID0+ICF0aGlzLmdldEl0ZW1UeXBlSW1hZ2UoaXRlbSkpKTsKICAgIH0sCiAgICBnZXRJdGVtVHlwZUltYWdlKGl0ZW0pIHsKICAgICAgY29uc3QgbmFtZSA9IGl0ZW0uZmlsZU5hbWUgfHwgaXRlbS5uYW1lOwogICAgICBjb25zdCBpbWFnZUxpc3QgPSBbJ2pwZycsICdwbmcnLCAnZ2lmJywgJ2pwZWcnXTsKICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZ2V0RmlsZVR5cGUobmFtZSk7CiAgICAgIGNvbnNvbGUubG9nKCd0eXBlJywgdHlwZSk7CiAgICAgIHJldHVybiBpbWFnZUxpc3QuaW5jbHVkZXModHlwZS50b0xvd2VyQ2FzZSgpKTsKICAgIH0sCiAgICBnZXRGaWxlVHlwZShuYW1lKSB7CiAgICAgIGlmICghbmFtZSkgcmV0dXJuICdwbmcnOwogICAgICByZXR1cm4gbmFtZS5zbGljZShuYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxKTsKICAgIH0sCiAgICBwcmV2aWV3RmlsZShpdGVtKSB7CiAgICAgIGNvbnN0IG5hbWUgPSBpdGVtLmZpbGVOYW1lIHx8IGl0ZW0ubmFtZTsKICAgICAgY29uc3QgdHlwZSA9IHRoaXMuZ2V0RmlsZVR5cGUobmFtZSk7CiAgICAgIGlmIChpdGVtLnBlcmNlbnRhZ2UgJiYgaXRlbS5wZXJjZW50YWdlICE9IDEwMCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBsZXQgdXJsID0gaXRlbS51cmwgfHwgKGl0ZW0ucmVzcG9uc2UgJiYgaXRlbS5yZXNwb25zZS5kYXRhWzBdLnVybCk7CiAgICAgIGNvbnNvbGUubG9nKCd0eXBlJywgdHlwZSk7CiAgICAgIGlmICh0eXBlID09ICdwZGYnKSB7CiAgICAgICAgd2luZG93Lm9wZW4odXJsKTsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhpcy5wcmV2aWV3U3JjID0KICAgICAgICAvLyAnaHR0cHM6Ly92aWV3Lm9mZmljZWFwcHMubGl2ZS5jb20vb3Avdmlldy5hc3B4PycgKyB1cmw7CiAgICAgIH0KICAgICAgLy8gdGhpcy5zaG93SWZyYW1lID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZUlmcmFtZSgpIHsKICAgICAgdGhpcy5wcmV2aWV3U3JjID0gJyc7CiAgICAgIHRoaXMuc2hvd0lmcmFtZSA9IGZhbHNlOwogICAgfSwKICAgIHdhcm5pbmcobXNnLCB0eXBlID0gJ3dhcm5pbmcnKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIG1lc3NhZ2U6IG1zZywKICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgIHNob3dDbG9zZTogdHJ1ZQogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["FillDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FillDetail.vue","sourceRoot":"src/pages/executive-serve/views/filler","sourcesContent":["<template>\n  <div class=\"fill-detail\">\n    <div class=\"fill-detail-top\">\n      <div class=\"fill-detail-top-title\">\n        {{ serveDetail.serveName || '' }}\n      </div>\n      <div class=\"fill-detail-top-apply\">\n        <span class=\"fill-detail-top-apply-item\"\n          ><img\n            class=\"fill-detail-top-apply-item-icon\"\n            src=\"../../assets/images/icon_people_gray.png\"\n          />{{ serveDetail.userName || '' }}</span\n        >\n        <span class=\"fill-detail-top-apply-item\"\n          ><img\n            class=\"fill-detail-top-apply-item-icon\"\n            src=\"../../assets/images/icon_bankuai.png\"\n          />{{ serveDetail.cybkName || '' }}</span\n        >\n        <span class=\"fill-detail-top-apply-item\">\n          <img\n            class=\"fill-detail-top-apply-item-icon\"\n            src=\"../../assets/images/icon_time.png\"\n          />{{ serveDetail.createTime || '' }}\n        </span>\n      </div>\n      <span\n        class=\"fill-detail-top-btn\"\n        v-if=\"identity === 'filler' && status === 'uncheck'\"\n        @click=\"modifyServe\"\n        >修改</span\n      >\n    </div>\n    <div class=\"fill-detail-bottom\">\n      <div class=\"fill-detail-bottom-left\">\n        <div class=\"fill-detail-bottom-left-title\" style=\"marginTop: 0px\">\n          <c-title title=\"服务需求\"></c-title>\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-content fill-detail-content pre-line\"\n        >\n          {{ serveDetail.serveDesc || '暂无' }}\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-add\"\n          v-if=\"serveDetail.attachments && serveDetail.attachments.length > 0\"\n        >\n          <div class=\"fill-file\">附件：</div>\n          <div v-if=\"fileList && fileList.length > 0\">\n            <div\n              v-for=\"item in fileList\"\n              :key=\"item.id\"\n              class=\"fill-detail-content\"\n              :class=\"{ 'file-image': getItemTypeImage(item) }\"\n            >\n              <div v-if=\"getItemTypeImage(item)\">\n                <el-image\n                  style=\"width: 80px; height: 80px\"\n                  :src=\"\n                    item.url || (item.response && item.response.data[0].url)\n                  \"\n                  :preview-src-list=\"[\n                    item.url || (item.response && item.response.data[0].url)\n                  ]\"\n                  fit=\"cover\"\n                ></el-image>\n              </div>\n              <div v-else class=\"fill-file-box\">\n                <span class=\"fill-file-name ellipsis\" :title=\"item.fileName\">{{\n                  item.fileName\n                }}</span>\n                <!-- <span @click=\"previewFile(item)\">预览</span> -->\n                <span\n                  class=\"file-opera\"\n                  @click=\"downloadFile(item.id, item.fileName)\"\n                  >下载</span\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-revoke\"\n          v-if=\"\n            identity === 'filler' &&\n              serveDetail.serveStatus != 6 &&\n              serveDetail.serveStatus != 3 &&\n              serveDetail.serveStatus != 4\n          \"\n        >\n          如有变动可选择\n          <span\n            class=\"fill-detail-bottom-left-revoke-btn\"\n            @click=\"showDialog('revoke', '撤销订单', '撤销原因：')\"\n            >撤销订单></span\n          >\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-delete\"\n          v-if=\"identity === 'supervisor' && roles.includes('监督人')\"\n        >\n          订单如有涉及法律红线问题，可选择\n          <span\n            class=\"fill-detail-bottom-left-revoke-btn\"\n            @click=\"showDialog('delete', '删除订单', '原因：')\"\n            >删除订单></span\n          >\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-content-unpass\"\n          v-if=\"status === 'unpass'\"\n        >\n          <div\n            class=\"fill-detail-bottom-left-content-record-title unpass-title\"\n          >\n            <span class=\"fill-detail-bottom-left-content-unpass-name\"\n              ><img\n                class=\"fill-detail-bottom-left-content-handler-image\"\n                src=\"./../../assets/images/icon_people_gray.png\"\n              />{{ serveDetail.reviewer }}</span\n            >\n            <span class=\"fill-detail-bottom-left-content-record-time\">{{\n              serveDetail.updateTime\n            }}</span>\n          </div>\n          <div class=\"fill-detail-bottom-left-content-unpass-status\">\n            审核不通过\n          </div>\n          <div\n            class=\"fill-detail-bottom-left-content-unpass-reason fill-detail-content\"\n          >\n            {{ serveDetail.reason }}\n          </div>\n        </div>\n\n        <div\n          class=\"fill-detail-bottom-left-item\"\n          v-if=\"\n            (status === 'handle' && serveDetail.userCount > 0) ||\n              status === 'unevaluate' ||\n              status === 'evaluate'\n          \"\n        >\n          <div class=\"fill-detail-bottom-left-title\">\n            <c-title title=\"抢单人\"></c-title>\n          </div>\n          <div class=\"fill-detail-bottom-left-content\">\n            <span\n              v-for=\"item in handlerList\"\n              :key=\"item.id\"\n              class=\"fill-detail-bottom-left-content-handler\"\n              ><img\n                class=\"fill-detail-bottom-left-content-handler-image\"\n                src=\"./../../assets/images/icon_people_gray.png\"\n              />{{ item.userName }}</span\n            >\n          </div>\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-item\"\n          v-if=\"\n            (status === 'handle' &&\n              (identity === 'filler' ||\n                identity === 'checker' ||\n                (identity === 'supervisor' &&\n                  (serveDetail.isMain ||\n                    serveDetail.isGrabSingle ||\n                    serveDetail.userName === userInfo.userName)) ||\n                roles.includes('监督人') ||\n                (identity === 'handler' &&\n                  (serveDetail.isMain ||\n                    serveDetail.isGrabSingle ||\n                    serveDetail.userName === userInfo.userName)))) ||\n              status === 'unevaluate' ||\n              status === 'evaluate' ||\n              status === 'revoke'\n          \"\n        >\n          <div class=\"fill-detail-bottom-left-title\">\n            <c-title title=\"服务记录\"></c-title>\n            <span\n              v-if=\"\n                (serveDetail.serveStatus == 2 ||\n                  serveDetail.serveStatus == 3) &&\n                  (serveDetail.isMain ||\n                    serveDetail.isGrabSingle ||\n                    identity === 'filler' ||\n                    identity === 'checker')\n              \"\n              @click=\"\n                showDialog(\n                  'addRecord',\n                  '添加记录',\n                  '服务记录：',\n                  '必填，请输入 6-500 服务记录'\n                )\n              \"\n              class=\"add-record\"\n              >+添加记录</span\n            >\n          </div>\n          <div\n            v-if=\"!handlerRecordList.length\"\n            class=\"fill-detail-bottom-left-content fill-detail-content\"\n          >\n            暂无\n          </div>\n          <div\n            class=\"fill-detail-bottom-left-content fill-detail-content\"\n            v-for=\"item in handlerRecordList\"\n            :key=\"item.id\"\n          >\n            <div class=\"fill-detail-bottom-left-content-record-title\">\n              <span class=\"fill-detail-bottom-left-content-record-handler\"\n                ><img\n                  class=\"fill-detail-bottom-left-content-handler-image\"\n                  src=\"./../../assets/images/icon_people_yellow.png\"\n                />{{ item.userName }}</span\n              >\n              <span class=\"fill-detail-bottom-left-content-record-time\">{{\n                item.createTime\n              }}</span>\n            </div>\n            <div class=\"fill-detail-bottom-left-content-record-content\">\n              {{ item.content }}\n              <div class=\"fill-detail-bottom-left-content-record-reply-btn\">\n                <span\n                  v-if=\"\n                    userInfo.userName != item.userName &&\n                      (serveDetail.serveStatus == 2 ||\n                        serveDetail.serveStatus == 3) &&\n                      (serveDetail.isMain ||\n                        serveDetail.isGrabSingle ||\n                        identity === 'filler' ||\n                        identity === 'checker')\n                  \"\n                  class=\"reply-record\"\n                  @click=\"replyRecord(item.id)\"\n                >\n                  <img\n                    class=\"fill-detail-bottom-left-content-handler-image\"\n                    src=\"./../../assets/images/icon_reply.png\"\n                  />回复\n                </span>\n                <span\n                  v-if=\"\n                    roles.includes('监督人') ||\n                      item.userName == userInfo.userName\n                  \"\n                  class=\"reply-record\"\n                  style=\"margin: '0 10px 0 0'\"\n                  @click=\"\n                    showDialog(\n                      'deleteRecord',\n                      '删除记录',\n                      '原因：',\n                      undefined,\n                      {\n                        deleteId: item.id\n                      }\n                    )\n                  \"\n                >\n                  <img\n                    class=\"fill-detail-bottom-left-content-handler-image\"\n                    src=\"./../../assets/images/icon_del.png\"\n                  />删除\n                </span>\n              </div>\n              <div v-if=\"showReplyId == 'serveId' + item.id\">\n                <el-input\n                  class=\"replyInput\"\n                  v-model=\"replyContent\"\n                  type=\"textarea\"\n                  maxLength=\"200\"\n                  placeholder=\"请输入回复\"\n                ></el-input>\n                <div class=\"send-reply-wrapper\">\n                  <span class=\"send-reply-btn\" @click=\"sendReply(item.id)\"\n                    >发送</span\n                  >\n                </div>\n              </div>\n            </div>\n            <div class=\"fill-detail-bottom-left-content-record-content-wrapper\">\n              <div\n                class=\"fill-detail-bottom-left-content-record-content reply-wrapper\"\n                v-for=\"it in item.children\"\n                :key=\"it.id\"\n              >\n                <div class=\"fill-detail-bottom-left-content-record-reply\">\n                  <div class=\"fill-detail-bottom-left-content-record-title\">\n                    <span class=\"fill-detail-bottom-left-content-record-handler\"\n                      >{{ it.userName }}\n                      <span class=\"fill-detail-content\">回复</span>\n                      <span v-if=\"it.parentId != item.id\">{{\n                        it.parentUserName\n                      }}</span></span\n                    >\n                    <span class=\"fill-detail-bottom-left-content-record-time\">{{\n                      it.createTime\n                    }}</span>\n                  </div>\n                  {{ it.content }}\n                  <div class=\"fill-detail-bottom-left-content-record-reply-btn\">\n                    <span\n                      v-if=\"\n                        userInfo.userName != it.userName &&\n                          (serveDetail.serveStatus == 2 ||\n                            serveDetail.serveStatus == 3) &&\n                          (serveDetail.isMain ||\n                            serveDetail.isGrabSingle ||\n                            identity === 'filler' ||\n                            identity === 'checker')\n                      \"\n                      class=\"reply-record\"\n                      @click=\"replyRecord(it.id)\"\n                      style=\"margin: '0 10px 0 0'\"\n                    >\n                      <img\n                        class=\"fill-detail-bottom-left-content-handler-image\"\n                        src=\"./../../assets/images/icon_reply.png\"\n                      />回复\n                    </span>\n                    <span\n                      v-if=\"\n                        roles.includes('监督人') ||\n                          userInfo.userName == it.userName\n                      \"\n                      class=\"reply-record\"\n                      @click=\"\n                        showDialog(\n                          'deleteReply',\n                          '删除回复',\n                          '原因：',\n                          undefined,\n                          {\n                            deleteId: it.id\n                          }\n                        )\n                      \"\n                    >\n                      <img\n                        class=\"fill-detail-bottom-left-content-handler-image\"\n                        src=\"./../../assets/images/icon_del.png\"\n                      />删除\n                    </span>\n                  </div>\n                  <div v-if=\"showReplyId == 'serveId' + it.id\">\n                    <el-input\n                      class=\"replyInput\"\n                      v-model=\"replyContent\"\n                      type=\"textarea\"\n                      maxLength=\"200\"\n                      placeholder=\"请输入回复\"\n                    ></el-input>\n                    <div class=\"send-reply-wrapper\">\n                      <span class=\"send-reply-btn\" @click=\"sendReply(it.id)\"\n                        >发送</span\n                      >\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"fill-detail-bottom-left-item\" v-if=\"status === 'revoke'\">\n          <div class=\"fill-detail-bottom-left-item-revoke\">\n            <div class=\"fill-detail-bottom-left-title\">\n              <c-title title=\"撤销记录\"></c-title>\n            </div>\n            <div\n              class=\"fill-detail-bottom-left-content-record-title revoke-title\"\n            >\n              <span class=\"fill-detail-bottom-left-content-record-handler\"\n                ><img\n                  class=\"fill-detail-bottom-left-content-handler-image\"\n                  src=\"./../../assets/images/icon_people_yellow.png\"\n                />{{ serveDetail.userName }}</span\n              >\n              <span class=\"fill-detail-bottom-left-content-record-time\">{{\n                serveDetail.updateTime\n              }}</span>\n            </div>\n            <div class=\"fill-detail-bottom-left-content fill-detail-content\">\n              {{ serveDetail.reason }}\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"fill-detail-bottom-left-item fill-detail-content\"\n          v-if=\"status === 'evaluate'\"\n        >\n          <div class=\"fill-detail-bottom-left-title\">\n            <c-title title=\"评价\"></c-title>\n          </div>\n          <div class=\"fill-detail-bottom-left-evaluate\">\n            <div class=\"fill-detail-bottom-left-evaluate-title\">\n              服务效率：\n            </div>\n            <div class=\"fill-detail-bottom-left-evaluate-content\">\n              <el-rate\n                v-model=\"serveEvaluateObj.finishScore\"\n                disabled\n              ></el-rate>\n            </div>\n          </div>\n          <div class=\"fill-detail-bottom-left-evaluate\">\n            <div class=\"fill-detail-bottom-left-evaluate-title\">\n              服务满意度：\n            </div>\n            <div class=\"fill-detail-bottom-left-evaluate-content\">\n              <el-rate\n                v-model=\"serveEvaluateObj.satisfiedScore\"\n                disabled\n              ></el-rate>\n            </div>\n          </div>\n          <div class=\"fill-detail-bottom-left-evaluate\">\n            <div class=\"fill-detail-bottom-left-evaluate-title\">\n              评语：\n            </div>\n            <div class=\"fill-detail-bottom-left-evaluate-content\">\n              {{ serveEvaluateObj.content || '暂无' }}\n            </div>\n          </div>\n          <div class=\"fill-detail-bottom-left-evaluate\">\n            <div class=\"fill-detail-bottom-left-evaluate-content\">\n              <span\n                class=\"fill-detail-bottom-left-evaluate-content-tag\"\n                v-for=\"item in serveEvaluateTag\"\n                :key=\"item\"\n                v-show=\"item\"\n                >{{ item }}</span\n              >\n            </div>\n          </div>\n        </div>\n        <div\n          class=\"back-btn-wrapper\"\n          v-if=\"\n            identity === 'handler' &&\n              status === 'handle' &&\n              !serveDetail.isMain &&\n              serveDetail.isGrabSingle\n          \"\n        >\n          <span\n            @click=\"showDialog('back', '退出服务', '原因：')\"\n            class=\"back-btn\"\n            >退出</span\n          >\n        </div>\n      </div>\n      <div class=\"fill-detail-bottom-right\">\n        <div style=\"marginTop: 8px\">\n          <c-title title=\"服务状态\"></c-title>\n        </div>\n        <div class=\"status-list\">\n          <div\n            class=\"status-item\"\n            v-for=\"(item, index) in serveStatusList\"\n            :key=\"item.id\"\n          >\n            <div\n              v-if=\"index != serveStatusList.length - 1\"\n              class=\"status-item-line\"\n            ></div>\n            <div class=\"status-item-title clearfix\">\n              <div class=\"status-item-left\">\n                <div\n                  class=\"status-item-left-time\"\n                  v-if=\"item.serveNode != '抢单' && item.isFinish == 1\"\n                >\n                  {{\n                    (item.childNode &&\n                      item.childNode[0] &&\n                      formatDate(item.childNode[0].createTime)[1]) ||\n                      ''\n                  }}\n                </div>\n                <div\n                  class=\"status-item-left-time\"\n                  v-if=\"item.serveNode != '抢单' && item.isFinish == 1\"\n                >\n                  {{\n                    (item.childNode &&\n                      item.childNode[0] &&\n                      formatDate(item.childNode[0].createTime)[0]) ||\n                      ''\n                  }}\n                </div>\n              </div>\n              <div class=\"status-item-middle\">\n                <span\n                  class=\"circle-default\"\n                  :class=\"{\n                    'circle-active':\n                      item.isFinish == 1 || statusCurrent === index\n                  }\"\n                >\n                  <span class=\"circle-outer\">\n                    <span class=\"circle-inner\"></span>\n                  </span>\n                </span>\n              </div>\n              <div class=\"status-item-right\">\n                <div\n                  class=\"status-item-right-title\"\n                  :style=\"{ color: statusCurrent === index ? '#FF9800' : '' }\"\n                >\n                  {{ item.serveNode }}\n                </div>\n                <div\n                  class=\"status-item-right-item\"\n                  v-if=\"item.serveNode != '抢单' && item.isFinish == 1\"\n                >\n                  {{\n                    item.childNode &&\n                      item.childNode[0] &&\n                      item.childNode[0].serveNode\n                  }}\n                </div>\n              </div>\n            </div>\n            <div\n              v-if=\"index != serveStatusList.length - 1\"\n              class=\"status-item-content-wrapper\"\n            >\n              <div\n                v-if=\"\n                  item.serveNode == '抢单' &&\n                    item.isFinish == 1 &&\n                    item.childNode\n                \"\n              >\n                <div\n                  v-for=\"it in item.childNode\"\n                  :key=\"it.createTime + it.serveNode\"\n                  class=\"status-item-content clearfix\"\n                >\n                  <div class=\"status-item-left\">\n                    <div class=\"status-item-left-time\">\n                      {{ formatDate(it.createTime)[1] || '' }}\n                    </div>\n                    <div class=\"status-item-left-time\">\n                      {{ formatDate(it.createTime)[0] || '' }}\n                    </div>\n                  </div>\n                  <div class=\"status-item-middle\">\n                    <div class=\"status-item-circle-small\"></div>\n                  </div>\n                  <div class=\"status-item-right\">\n                    <div class=\"status-item-right-item\">{{ it.serveNode }}</div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"fill-detail-footer\"\n      v-if=\"identity === 'filler' && status === 'unevaluate'\"\n    >\n      <span class=\"fill-detail-footer-btn\" @click=\"goEvaluate\">评价 </span>\n    </div>\n    <div\n      class=\"fill-detail-footer\"\n      v-if=\"identity === 'filler' && status === 'unpass'\"\n    >\n      <span class=\"fill-detail-footer-btn\" @click=\"modifyServe\">\n        重新修改提交\n      </span>\n    </div>\n    <div\n      class=\"fill-detail-footer\"\n      v-if=\"identity === 'checker' && status === 'uncheck'\"\n    >\n      <span\n        class=\"fill-detail-footer-btn\"\n        @click=\"showDialog('check', '审核', '原因：')\"\n      >\n        审核\n      </span>\n    </div>\n    <div\n      class=\"fill-detail-footer\"\n      v-if=\"\n        identity === 'supervisor' &&\n          roles.includes('处理人') &&\n          userInfo.userName != serveDetail.userName &&\n          !serveDetail.isMain &&\n          !serveDetail.isGrabSingle &&\n          serveDetail.userCount < 3 &&\n          status == 'handle'\n      \"\n    >\n      <span class=\"fill-detail-footer-btn\" @click=\"snagServe\">\n        抢单\n      </span>\n    </div>\n    <div\n      class=\"fill-detail-footer\"\n      v-if=\"identity === 'handler' && status === 'handle' && serveDetail.isMain\"\n    >\n      <span class=\"fill-detail-footer-btn\" @click=\"confirmFinish\">\n        完成订单\n      </span>\n      <span\n        class=\"fill-detail-footer-btn fill-detail-footer-btn-quit\"\n        @click=\"\n          showDialog(\n            serveDetail.userCount == '1' ? 'quit' : 'back',\n            serveDetail.userCount == '1' ? '退回服务' : '退出服务',\n            '原因：'\n          )\n        \"\n      >\n        {{ serveDetail.userCount == '1' ? '退回' : '退出' }}\n      </span>\n    </div>\n    <el-dialog\n      :visible.sync=\"showRevoke\"\n      width=\"527px\"\n      height=\"334px\"\n      class=\"revoke-dialog\"\n      @close=\"dialogCancel\"\n    >\n      <span slot=\"title\">\n        <c-title :title=\"dialogTitle\"></c-title>\n      </span>\n      <div class=\"revoke-dialog-radio\">\n        <div\n          v-for=\"item in radioList\"\n          :key=\"item.value\"\n          style=\"marginBottom: 10px\"\n        >\n          <el-radio v-model=\"radioSelect\" :label=\"item.value\">{{\n            item.name\n          }}</el-radio>\n        </div>\n      </div>\n      <div\n        class=\"revoke-dialog-content\"\n        v-if=\"!(dialogType === 'check' && (!radioSelect || radioSelect == 1))\"\n      >\n        <span class=\"revoke-dialog-content-title\">{{ dialogInputTitle }}</span>\n        <el-input\n          class=\"revoke-input\"\n          type=\"textarea\"\n          :placeholder=\"dialogPlaceholder\"\n          resize=\"none\"\n          :maxLength=\"revokeMax\"\n          v-model=\"revokeReason\"\n        >\n        </el-input>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"small\" class=\"revoke-btn-cancal\" @click=\"dialogCancel\"\n          >取 消\n        </el-button>\n        <el-button\n          class=\"revoke-btn-confirm\"\n          type=\"small\"\n          @click=\"dialogConfirm\"\n          :disabled=\"disableBtn\"\n          >确 定\n        </el-button>\n      </span>\n    </el-dialog>\n    <el-dialog\n      :visible.sync=\"showEvaluate\"\n      width=\"527px\"\n      height=\"334px\"\n      class=\"evaluate-dialog\"\n      @close=\"evaluateCancel\"\n    >\n      <span slot=\"title\">\n        <c-title title=\"评价\"></c-title>\n      </span>\n      <div class=\"evaluate-dialog-content\">\n        <div class=\"evaluate-dialog-content-item\">\n          <span class=\"evaluate-dialog-content-title\">服务效率：</span>\n          <el-rate v-model=\"serveEfficiency\"></el-rate>\n        </div>\n        <div class=\"evaluate-dialog-content-item\">\n          <span class=\"evaluate-dialog-content-title\">服务满意度：</span>\n          <el-rate v-model=\"serveSatisfaction\"></el-rate>\n        </div>\n        <div class=\"evaluate-dialog-content-item\">\n          <span class=\"evaluate-dialog-content-title\">评语：</span>\n          <el-input\n            class=\"evaluate-input\"\n            type=\"textarea\"\n            placeholder=\"最多输入500汉字\"\n            resize=\"none\"\n            maxLength=\"500\"\n            v-model=\"evaluateContent\"\n          >\n          </el-input>\n        </div>\n        <div class=\"evaluate-dialog-content-item tag-list\">\n          <span\n            v-for=\"(item, index) in evaluateTagList\"\n            :key=\"item.name\"\n            class=\"evaluate-tag\"\n            @click=\"selectTag(index)\"\n            :class=\"{ selectedTag: item.selected }\"\n          >\n            {{ item.name }}\n          </span>\n        </div>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          type=\"small\"\n          class=\"evaluate-btn-cancal\"\n          @click=\"evaluateCancel\"\n          >取 消\n        </el-button>\n        <el-button\n          class=\"evaluate-btn-confirm\"\n          type=\"small\"\n          @click=\"evaluateServe\"\n          :disabled=\"disableBtn\"\n          >确 定\n        </el-button>\n      </span>\n    </el-dialog>\n    <div v-if=\"showIframe\" class=\"iframe-box\">\n      <div class=\"iframe-close\" @click=\"closeIframe\"></div>\n      <iframe\n        :src=\"previewSrc\"\n        frameborder=\"0\"\n        width=\"600px\"\n        height=\"600px\"\n        class=\"iframe\"\n      >\n      </iframe>\n    </div>\n  </div>\n</template>\n<script>\nimport {\n  handleServe,\n  getServeDetail,\n  addRecord,\n  getHandlerList,\n  getServeStatus,\n  getRecordList,\n  getEvaluateList,\n  downloadFile,\n  deleteRecord\n} from './../../api/serve.js';\n/*\n* @status{'uncheck': 待审核 ，'unpass': 审核未通过 ，'unhandle': 待处理，\n'handle': 处理，'revoke'：已撤销, 'unevaluate': 待评价，\n'evaluate': 已评价,}\n*/\nexport default {\n  name: 'FillDetail',\n  data() {\n    return {\n      serveId: '',\n      identity: '',\n      status: '',\n      showRevoke: false,\n      revokeReason: '',\n      showEvaluate: false,\n      serveEfficiency: null,\n      handlerList: [],\n      handlerRecordList: [],\n      serveSatisfaction: null,\n      evaluateContent: '',\n      dialogInputTitle: '撤销原因：',\n      dialogTitle: '撤销订单',\n      dialogType: '',\n      serveDetail: {},\n      roles: [],\n      serveStatusList: [],\n      userInfo: {},\n      showReplyId: '',\n      replyContent: '',\n      radioSelect: '',\n      radioList: [],\n      statusCurrent: 0,\n      revokeMax: 100,\n      evaluateTagList: [\n        {\n          name: '闪电接单',\n          selected: false\n        },\n        {\n          name: '热心服务',\n          selected: false\n        },\n        {\n          name: '沟通能手',\n          selected: false\n        },\n        {\n          name: '资源大佬',\n          selected: false\n        }\n      ],\n      serveEvaluateObj: {},\n      serveEvaluateTag: [],\n      dialogPlaceholder: '必填，请输入6-100字原因',\n      deleteRecordId: null,\n      disableBtn: false,\n      showIframe: false,\n      previewSrc: '',\n      fileList: []\n    };\n  },\n  created() {\n    const { params, query } = this.$route;\n    const userInfo = JSON.parse(localStorage.getItem('userInfo')) || {};\n    this.identity = query.identity;\n    if (params.id) {\n      this.serveId = params.id;\n      this.getServeDetail(this.serveId);\n    }\n    this.userInfo = userInfo;\n    this.roles = userInfo.roles || [];\n    this.getServeStatusList();\n  },\n  watch: {\n    radioSelect(newVal, oldVal) {\n      if (newVal != oldVal) {\n        this.revokeReason = '';\n      }\n    }\n  },\n  methods: {\n    downloadFile(fileId, fileName) {\n      const proxy = require('./../../../../../config/tools/proxy.js');\n      console.log('proxy', proxy);\n      const isLocalHost = window.location.host.indexOf('localhost') > -1;\n      const host = isLocalHost\n        ? 'http://172.17.15.130:8505'\n        : 'http://' + window.location.host;\n      window.open(host + `/serve/serve/file/download/${fileId}`);\n    },\n    revokeServe() {\n      if (\n        this.revokeReason.trim().length < 6 ||\n        this.revokeReason.trim().length > 100\n      ) {\n        this.warning(' 请输入 6-100 撤销原因');\n        return;\n      }\n      let params = {\n        serveId: this.serveId,\n        processType: 5,\n        content: this.revokeReason\n      };\n      this.disableBtn = true;\n      handleServe(params)\n        .then(res => {\n          this.disableBtn = false;\n          this.dialogCancel();\n          this.warning('撤销成功', 'success');\n          this.$router.push({\n            path: '/fill'\n          });\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    formatDate(date) {\n      return date.replace(/-/g, '/').split(' ');\n    },\n    showDialog(\n      type,\n      title,\n      inputTitle = '原因：',\n      placeholder = '必填，请输入6-100字原因',\n      options\n    ) {\n      this.showRevoke = true;\n      this.dialogType = type;\n      this.dialogTitle = title;\n      this.dialogInputTitle = inputTitle;\n      this.dialogPlaceholder = placeholder;\n      if (type == 'check') {\n        this.radioList = [\n          {\n            name: '通过',\n            value: 1\n          },\n          {\n            name: '不通过',\n            value: 2\n          },\n          {\n            name: '直接删除',\n            value: 3\n          }\n        ];\n      }\n      //添加记录字数限制 200，其余为 100\n      if (type === 'addRecord') {\n        this.revokeMax = 500;\n      } else {\n        this.revokeMax = 100;\n      }\n      if (type === 'deleteRecord' || type === 'deleteReply') {\n        this.deleteRecordId = options.deleteId;\n      }\n    },\n\n    dialogConfirm() {\n      switch (this.dialogType) {\n        case 'revoke':\n          this.revokeServe();\n          break;\n        case 'delete':\n          this.deleteServe();\n          break;\n        case 'addRecord':\n          this.addRecord(null);\n          break;\n        case 'check':\n          this.verifyServe();\n          break;\n        case 'quit':\n          this.finishServe(3);\n          break;\n        case 'back':\n          this.finishServe(2);\n          break;\n        case 'deleteRecord':\n          this.deleteRecord(1);\n          break;\n        case 'deleteReply':\n          this.deleteRecord(2);\n          break;\n      }\n    },\n    dialogCancel() {\n      this.showRevoke = false;\n      this.dialogType = '';\n      this.revokeReason = '';\n      this.radioList = [];\n      this.deleteRecordId = null;\n    },\n    sendReply(id) {\n      if (this.disableBtn) {\n        return;\n      }\n      if (this.replyContent.length < 6) {\n        this.warning('请输入 6-200 字回复');\n        return;\n      }\n      let params = {\n        serveId: this.serveId,\n        content: this.replyContent,\n        parentId: id\n      };\n      this.disableBtn = true;\n      addRecord(params)\n        .then(res => {\n          this.showReplyId = '';\n          this.replyContent = '';\n          this.getRecordList();\n          this.warning('回复服务记录成功', 'success');\n          this.disableBtn = false;\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    addRecord(parentId) {\n      if (this.revokeReason.length < 6) {\n        this.warning('请输入 6-200 字服务记录');\n        return;\n      }\n      let params = {\n        serveId: this.serveId,\n        content: this.revokeReason,\n        parentId: parentId\n      };\n      this.disableBtn = true;\n      addRecord(params).then(res => {\n        this.dialogCancel();\n        this.getRecordList();\n        this.warning('添加服务记录成功', 'success');\n        this.disableBtn = false;\n      });\n    },\n    getHandlerList() {\n      getHandlerList(this.serveId).then(res => {\n        this.handlerList = res.data || [];\n      });\n    },\n    getRecordList() {\n      getRecordList(this.serveId).then(res => {\n        const list = res.data || [];\n        this.handlerRecordList = this.handlerRecord(list);\n      });\n    },\n    handlerRecord(list) {\n      let result = [];\n      for (let i = 0; i < list.length; i++) {\n        const item = list[i];\n        let arr = [];\n        let children = this.getChildRecord(list[i].children);\n        children.sort((a, b) => {\n          return (\n            new Date(a.createTime.replace(/-/g, '/')).getTime() -\n            new Date(b.createTime.replace(/-/g, '/')).getTime()\n          );\n        });\n        item.children = children;\n        result.push(item);\n      }\n      return result;\n    },\n    getChildRecord(children, result = []) {\n      for (let i = 0; i < children.length; i++) {\n        result.push(children[i]);\n        if (children[i].children) {\n          this.getChildRecord(children[i].children, result);\n        }\n      }\n      return result;\n    },\n    getServeDetail(id) {\n      getServeDetail(id).then(res => {\n        console.log('detail:', res);\n        this.serveDetail = (res && res.data) || {};\n        this.fileList = this.serveDetail.attachments || [];\n        this.orderFile();\n        this.getServeStatus(this.serveDetail.serveStatus || '');\n        console.log('status', this.status);\n        if (this.serveDetail.userCount > 0) {\n          this.getHandlerList();\n        }\n        if (\n          this.serveDetail.serveStatus != 1 ||\n          this.serveDetail.serveStatus != 5\n        ) {\n          this.getRecordList();\n        }\n\n        if (this.serveDetail.serveStatus == 4) {\n          this.getEvaluateList();\n        }\n      });\n    },\n    getEvaluateList() {\n      getEvaluateList(this.serveId).then(res => {\n        const data = res.data || {};\n        this.serveEvaluateObj = data;\n        this.serveEvaluateTag =\n          data.evaluateLabel && data.evaluateLabel.split(',');\n      });\n    },\n    getServeStatus(code) {\n      switch (code) {\n        case 1:\n          this.status = 'uncheck';\n          break;\n        case 2:\n          this.status = 'handle';\n          break;\n        case 3:\n          this.status = 'unevaluate';\n          break;\n        case 4:\n          this.status = 'evaluate';\n          break;\n        case 5:\n          this.status = 'unpass';\n          break;\n        case 6:\n          this.status = 'revoke';\n          break;\n        default:\n          break;\n      }\n    },\n    getServeStatusList() {\n      getServeStatus(this.serveId).then(res => {\n        console.log('getServeStatusRes:', res);\n        this.serveStatusList = res.data || [];\n        let statusCurrent = this.serveStatusList.findIndex(\n          item => item.isFinish != 1\n        );\n\n        this.statusCurrent =\n          statusCurrent == -1\n            ? this.serveStatusList.length - 1\n            : statusCurrent - 1;\n      });\n    },\n    goEvaluate() {\n      this.showEvaluate = true;\n    },\n    selectTag(index) {\n      this.evaluateTagList[index].selected = !this.evaluateTagList[index]\n        .selected;\n    },\n    evaluateCancel() {\n      this.serveSatisfaction = null;\n      this.serveEfficiency = null;\n      this.evaluateContent = '';\n      this.evaluateTagList = this.evaluateTagList.map(item => {\n        item.selected = false;\n        return item;\n      });\n      this.showEvaluate = false;\n    },\n    evaluateServe() {\n      let label = '',\n        selectTagnameList = [];\n      for (let i = 0; i < this.evaluateTagList.length; i++) {\n        if (this.evaluateTagList[i].selected) {\n          selectTagnameList.push(this.evaluateTagList[i].name);\n        }\n      }\n      if (!this.serveSatisfaction || !this.serveEfficiency) {\n        this.warning('请对服务进行打星评价！');\n        return;\n      }\n      if (\n        this.evaluateContent.trim() &&\n        (this.evaluateContent.trim().length < 6 ||\n          this.evaluateContent.trim().length > 500)\n      ) {\n        this.warning('请输入 6-500 字服务评价');\n        return;\n      }\n      if (this.disableBtn) {\n        return;\n      }\n      //评价服务\n      let params = {\n        serveId: this.serveId,\n        processType: 4,\n        satisfiedScore: this.serveSatisfaction,\n        finishScore: this.serveEfficiency,\n        evaluateLabel: selectTagnameList.join(','),\n        content: this.evaluateContent.trim()\n      };\n      this.disableBtn = true;\n      handleServe(params)\n        .then(res => {\n          this.evaluateCancel();\n          this.disableBtn = false;\n          this.warning('评价成功', 'success');\n          this.$router.push({\n            path: '/fill'\n          });\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    modifyServe() {\n      //修改服务\n      this.$router.push({\n        path: '/fill/apply',\n        query: {\n          serveId: this.serveId\n        }\n      });\n    },\n    verifyServe() {\n      //审核服务\n      if (this.disableBtn) {\n        return;\n      }\n      if (this.radioSelect != '1') {\n        if (\n          this.revokeReason.trim().length < 6 ||\n          this.revokeReason.trim().length > 100\n        ) {\n          this.warning('请输入 6-100 字原因');\n          return;\n        }\n      }\n      let params = {\n        serveId: this.serveId,\n        processType: 1,\n        content: this.revokeReason,\n        approveType: this.radioSelect\n      };\n      this.disableBtn = true;\n      handleServe(params)\n        .then(res => {\n          this.disableBtn = false;\n          console.log('verifyServeRes:', res);\n          this.warning('审核成功', 'success');\n          this.dialogCancel();\n          this.$router.push({\n            path: '/check'\n          });\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    snagServe() {\n      if (this.disableBtn) {\n        return;\n      }\n      //抢单\n      let params = {\n        serveId: this.serveId,\n        processType: 2\n      };\n      this.disableBtn = true;\n      handleServe(params)\n        .then(res => {\n          this.disableBtn = false;\n          this.warning(\n            '恭喜抢单成功，您可以在【我的抢单】中找到已抢到的订单!',\n            'success'\n          );\n          this.$router.push({\n            path: '/supervise'\n          });\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    confirmFinish() {\n      this.$confirm('确认已经得到有效解决落实？', '完成订单', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        confirmButtonClass: 'confirm-btn',\n        cancelButtonClass: 'cancel-btn'\n        // center: true\n      })\n        .then(() => {\n          this.finishServe(1);\n        })\n        .catch(() => {});\n    },\n    finishServe(handleType) {\n      //处理类型(1提交完成服务2退出服务(其余处理人)3退回服务(唯一主处理人))\n      if (\n        handleType != 1 &&\n        (this.revokeReason.trim().length < 6 ||\n          this.revokeReason.trim().length > 100)\n      ) {\n        this.warning('请输入 6-100 字原因');\n        return;\n      }\n      if (this.disableBtn) {\n        return;\n      }\n      let params = {\n        serveId: this.serveId,\n        processType: 3,\n        handleType: handleType,\n        content: this.revokeReason\n      };\n      this.disableBtn = true;\n      handleServe(params)\n        .then(res => {\n          this.disableBtn = false;\n          console.log('res:', res);\n          if (handleServe != 1) {\n            this.dialogCancel();\n          }\n          if (handleType == 3) {\n            this.warning('退回成功', 'success');\n          } else if (handleType == 2) {\n            this.warning('退出成功', 'success');\n          } else if (handleType == 1) {\n            this.warning('订单完成', 'success');\n          }\n          this.$router.push({\n            path: '/handle'\n          });\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    deleteServe() {\n      if (\n        this.revokeReason.trim().length < 6 ||\n        this.revokeReason.trim().length > 100\n      ) {\n        this.warning('请输入 6-100 字删除原因');\n        return;\n      }\n      let params = {\n        serveId: this.serveId,\n        processType: 6,\n        content: this.revokeReason\n      };\n      this.disableBtn = true;\n      handleServe(params)\n        .then(res => {\n          console.log('res:', res);\n          this.disableBtn = false;\n          this.dialogCancel();\n          this.warning('删除成功', 'success');\n          this.$router.push({\n            path: '/supervise'\n          });\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    replyRecord(id) {\n      this.showReplyId = 'serveId' + id;\n    },\n    //删除处理记录 type：1处理记录 2：回复\n    deleteRecord(type) {\n      if (\n        this.revokeReason.trim().length < 6 ||\n        this.revokeReason.trim().length > 100\n      ) {\n        this.warning('请输入 6-100 字原因');\n        return;\n      }\n      this.disableBtn = true;\n      deleteRecord({\n        id: this.deleteRecordId,\n        content: this.revokeReason\n      })\n        .then(res => {\n          this.disableBtn = false;\n          if (type == 2) {\n            this.warning('删除回复成功', 'success');\n          } else {\n            this.warning('删除服务记录成功', 'success');\n          }\n\n          this.dialogCancel();\n          this.getRecordList();\n        })\n        .catch(e => {\n          this.disableBtn = false;\n        });\n    },\n    orderFile() {\n      this.fileList = this.fileList\n        .filter(item => this.getItemTypeImage(item))\n        .concat(this.fileList.filter(item => !this.getItemTypeImage(item)));\n    },\n    getItemTypeImage(item) {\n      const name = item.fileName || item.name;\n      const imageList = ['jpg', 'png', 'gif', 'jpeg'];\n      const type = this.getFileType(name);\n      console.log('type', type);\n      return imageList.includes(type.toLowerCase());\n    },\n    getFileType(name) {\n      if (!name) return 'png';\n      return name.slice(name.lastIndexOf('.') + 1);\n    },\n    previewFile(item) {\n      const name = item.fileName || item.name;\n      const type = this.getFileType(name);\n      if (item.percentage && item.percentage != 100) {\n        return;\n      }\n      let url = item.url || (item.response && item.response.data[0].url);\n      console.log('type', type);\n      if (type == 'pdf') {\n        window.open(url);\n        return;\n      } else {\n        // this.previewSrc =\n        // 'https://view.officeapps.live.com/op/view.aspx?' + url;\n      }\n      // this.showIframe = true;\n    },\n    closeIframe() {\n      this.previewSrc = '';\n      this.showIframe = false;\n    },\n    warning(msg, type = 'warning') {\n      this.$message({\n        message: msg,\n        type: type,\n        showClose: true\n      });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.fill-detail {\n  width: 1200px;\n}\n.fill-detail-content {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.65);\n}\n.fill-detail-top {\n  min-height: 100px;\n  background: #fff;\n  box-shadow: 0px 4px 16px 0px rgba(0, 0, 0, 0.04);\n  border-radius: 2px;\n  padding: 20px 140px 20px 20px;\n  box-sizing: border-box;\n  position: relative;\n  &-title {\n    font-size: 20px;\n    line-height: 28px;\n    font-weight: 500;\n    color: #ff9800;\n    letter-spacing: 1px;\n    margin-bottom: 10px;\n    opacity: 0.79;\n  }\n  &-apply {\n    line-height: 17px;\n    font-size: 12px;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.44);\n    &-item {\n      margin-right: 20px;\n      &-icon {\n        position: relative;\n        top: 4px;\n        width: 16px;\n        margin-right: 5px;\n      }\n    }\n  }\n  &-btn {\n    display: inline-block;\n    width: 104px;\n    height: 32px;\n    font-size: 14px;\n    text-align: center;\n    line-height: 32px;\n    background: #ffffff;\n    border-radius: 2px;\n    border: 1px solid #ff9800;\n    color: #ff9800;\n    position: absolute;\n    right: 20px;\n    cursor: pointer;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n}\n.fill-detail-bottom {\n  margin-top: 20px;\n  height: auto;\n  display: flex;\n  font-size: 14px;\n  line-height: 22px;\n  font-weight: 400;\n  padding: 0 0 100px 0;\n  color: #000;\n  &-left {\n    display: inline-block;\n    padding: 20px;\n    width: 980px;\n    background: #fff;\n    box-sizing: border-box;\n    &-item {\n      &-revoke {\n        padding: 0px 0 10px 0;\n        border-bottom: 1px solid #eee;\n      }\n    }\n    &-title {\n      margin: 20px 0 10px 0;\n      position: relative;\n      .add-record {\n        position: absolute;\n        font-size: 14px;\n        color: #2697ff;\n        right: 0px;\n        cursor: pointer;\n      }\n    }\n    &-evaluate {\n      padding-left: 84px;\n      position: relative;\n      line-height: 22px;\n      min-height: 22px;\n      margin: 5px 0;\n      &-title {\n        width: 84px;\n        position: absolute;\n        text-align: right;\n        left: 0px;\n      }\n      &-content {\n        &-tag {\n          display: inline-block;\n          padding: 2px 15px;\n          color: #ff9800;\n          background: rgba(255, 152, 0, 0.14);\n          border-radius: 58px;\n          margin-right: 10px;\n        }\n      }\n    }\n    &-content {\n      &-unpass {\n        &-status {\n          color: #ff9800;\n        }\n        &-name {\n          color: rgba(0, 0, 0, 0.45);\n        }\n        &-reason {\n          margin: 10px 0 0 0;\n        }\n      }\n      &-handler {\n        margin-right: 10px;\n        color: rgba(0, 0, 0, 0.45);\n        &-image {\n          width: 14px;\n          margin: 0 2px 0 0;\n          position: relative;\n          top: 2px;\n        }\n      }\n      &-record {\n        &-title {\n          position: relative;\n        }\n        &-handler {\n          color: #ff9800;\n        }\n        &-time {\n          color: rgba(0, 0, 0, 0.45);\n          position: absolute;\n          right: 0;\n        }\n        &-content {\n          padding: 0px 0 10px 0;\n          border-bottom: 1px solid #eee;\n          &-wrapper {\n            background: #fafafa;\n            padding: 0 20px 0 20px;\n          }\n        }\n        &-reply {\n          &-btn {\n            color: #2697ff;\n            text-align: right;\n          }\n        }\n      }\n    }\n    &-revoke,\n    &-delete {\n      color: rgba(0, 0, 0, 0.45);\n      &-btn {\n        color: #2697ff;\n        cursor: pointer;\n      }\n    }\n  }\n  &-right {\n    display: inline-block;\n    padding: 12px;\n    width: 200px;\n    background: #fff;\n    margin-left: 20px;\n    box-sizing: border-box;\n  }\n}\n.reply-wrapper {\n  padding: 10px 0 10px 0;\n}\n.status-list {\n  font-size: 12px;\n  margin-top: 20px;\n}\n.status-item {\n  position: relative;\n  // display: flex;\n  min-height: 100px;\n  padding-bottom: 40px;\n}\n.status-item:last-child {\n  // display: flex;\n  min-height: 0;\n  padding-bottom: 20px;\n}\n.status-item-left {\n  position: relative;\n  width: 68px;\n  float: left;\n}\n.status-item-left-time {\n  color: rgba(0, 0, 0, 0.45);\n  text-align: right;\n}\n.status-item-title {\n  display: flex;\n}\n.status-item-content {\n  display: flex;\n  margin-top: 10px;\n}\n// .status-item-content-wrapper {\n//   min-height: 60px;\n//   position: relative;\n//   box-sizing: border-box;\n//   // display: flex;\n//   padding: 10px 0 20px 0;\n//   .status-item-line {\n//     height: calc(100% + 4px);\n//     top: 0;\n//     left: 74px;\n//   }\n// }\n.status-item-middle {\n  position: relative;\n  width: 24px;\n  float: left;\n}\n.status-item-right {\n  position: relative;\n  width: 84px;\n  float: left;\n}\n.status-item-right-title {\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.64);\n}\n.status-item-right-item {\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.45);\n}\n.status-item-line {\n  width: 2px;\n  background: #d0d0d0;\n  position: absolute;\n  left: 79px;\n  top: 13px;\n  height: calc(100% - 10px);\n}\n.status-item-circle-small {\n  width: 6px;\n  height: 6px;\n  border-radius: 50%;\n  position: absolute;\n  box-sizing: border-box;\n  background: rgba(102, 153, 255, 1);\n  border: 1px solid #fff;\n  left: 50%;\n  transform: translateX(-50%);\n  top: 7px;\n}\n.line {\n  width: 2px;\n  background: #d0d0d0;\n  position: absolute;\n  left: 50%;\n  top: 13px;\n  height: calc(100% - 10px);\n  margin-left: -1px;\n}\n.evaluate-dialog,\n.revoke-dialog {\n  /deep/.el-dialog__footer {\n    text-align: center;\n  }\n  /deep/.el-dialog__body {\n    padding: 0 0 20px 0;\n  }\n}\n.evaluate-btn-cancal,\n.revoke-btn-cancal {\n  border: 1px solid #ff9800;\n  color: #ff9800;\n}\n.evaluate-btn-cancal:hover,\n.revoke-btn-cancal:hover {\n  background: #fff;\n}\n.evaluate-btn-confirm,\n.revoke-btn-confirm {\n  border: 1px solid #ff9800;\n  background: #ff9800;\n  color: #fff;\n}\n.evaluate-btn-confirm:hover,\n.revoke-btn-confirm:hover {\n  background: #ff9800;\n}\n.revoke-dialog-radio,\n.evaluate-dialog-content,\n.revoke-dialog-content {\n  padding: 0 113px 0 130px;\n  position: relative;\n  &-title {\n    position: absolute;\n    display: inline-block;\n    width: 100px;\n    text-align: right;\n    left: 30px;\n  }\n}\n.revoke-dialog-radio {\n  margin: 0 0 10px 0;\n}\n.evaluate-dialog-content-item {\n  min-height: 32px;\n}\n.evaluate-input {\n  /deep/textarea {\n    width: 271px;\n    height: 91px;\n  }\n}\n.revoke-input {\n  display: inline-block;\n  /deep/textarea {\n    width: 271px;\n    height: 142px;\n  }\n}\n.fill-detail-footer {\n  position: fixed;\n  width: 100%;\n  height: 80px;\n  left: 0;\n  bottom: 0px;\n  background-color: rgba(0, 0, 0, 0.65);\n  text-align: center;\n  line-height: 80px;\n  &-btn {\n    display: inline-block;\n    width: 156px;\n    height: 48px;\n    text-align: center;\n    line-height: 48px;\n    background: #ff9800;\n    border-radius: 3px;\n    color: #fff;\n    cursor: pointer;\n  }\n  &-btn-quit {\n    display: inline-block;\n    margin-left: 40px;\n    color: #ff9800;\n    width: 100px;\n    height: 48px;\n    background: rgba(255, 255, 255, 0.85);\n    border-radius: 3px;\n    border: 1px solid #ff9800;\n  }\n}\n.circle-outer {\n  display: inline-block;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  left: 50%;\n  transform: translateX(-50%);\n  position: relative;\n}\n.circle-inner {\n  display: inline-block;\n  width: 8px;\n  height: 8px;\n  border-radius: 50%;\n  position: absolute;\n  box-sizing: border-box;\n  left: 1px;\n  top: 1px;\n}\n.circle-default {\n  .circle-outer {\n    border: 1px solid #d0d0d0;\n  }\n  .circle-inner {\n    border: 1px solid #d0d0d0;\n    background: #d0d0d0;\n    box-sizing: border-box;\n  }\n}\n.circle-active {\n  .circle-outer {\n    border: 4px solid rgba(209, 224, 255, 1);\n  }\n  .circle-inner {\n    border: 1px solid rgba(102, 153, 255, 1);\n    background: rgba(102, 153, 255, 1);\n  }\n}\n.revoke-title {\n  margin-bottom: 10px;\n}\n.unpass-title {\n  margin: 10px 0;\n}\n.clearfix {\n  zoom: 1;\n}\n.clearfix:after {\n  display: block;\n  visibility: hidden;\n  content: '.';\n  clear: both;\n}\n/deep/.replyInput {\n  margin-top: 10px;\n  position: relative;\n}\n/deep/.replyInput::before {\n  content: '';\n  width: 0;\n  height: 0;\n  border: 10px solid;\n  position: absolute;\n  top: -18px;\n  left: 20px;\n  border-color: transparent transparent #dcdfe6;\n}\n/deep/.replyInput::after {\n  content: '';\n  width: 0;\n  height: 0;\n  border: 10px solid;\n  position: absolute;\n  top: -17px;\n  left: 20px;\n  border-color: transparent transparent #fff;\n}\n/deep/.replyInput {\n  textarea:focus {\n    border-color: #dcdfe6;\n  }\n  textarea:hover {\n    border-color: #dcdfe6;\n  }\n}\n.send-reply-wrapper {\n  .clearfix;\n  margin-top: 10px;\n}\n.send-reply-btn {\n  display: inline-block;\n  float: right;\n  width: 50px;\n  height: 32px;\n  background: #ff9800;\n  border-radius: 2px;\n  color: #fff;\n  text-align: center;\n  line-height: 32px;\n  cursor: pointer;\n}\n.reply-record {\n  cursor: pointer;\n}\n.evaluate-tag {\n  display: inline-block;\n  background: #f6f6f6;\n  border-radius: 58px;\n  padding: 5px 14px;\n  color: #757575;\n  margin: 0 10px 10px 0;\n  cursor: pointer;\n}\n.selectedTag {\n  background: rgba(255, 152, 0, 0.14);\n  color: #ff9800;\n}\n.tag-list {\n  margin-top: 10px;\n}\n.back-btn-wrapper {\n  margin-top: 20px;\n}\n.back-btn {\n  display: inline-block;\n  width: 80px;\n  height: 36px;\n  text-align: center;\n  line-height: 36px;\n  background: rgba(255, 255, 255, 0.85);\n  border-radius: 3px;\n  border: 1px solid #ff9800;\n  color: #ff9800;\n  font-size: 18px;\n  font-weight: 500;\n  cursor: pointer;\n}\n.file-image {\n  display: inline-block;\n  margin-right: 20px;\n}\n.fill-file {\n  color: rgba(0, 0, 0, 0.45);\n  margin: 0 0 10px 0;\n}\n.fill-file-box {\n  width: 300px;\n  position: relative;\n  margin: 10px 0 0 0;\n}\n.fill-file-name {\n  display: inline-block;\n  width: 250px;\n}\n.file-opera {\n  color: #2697ff;\n  font-size: 14px;\n  position: absolute;\n  right: 0;\n  cursor: pointer;\n}\n.pre-line {\n  white-space: pre-wrap;\n  text-indent: -4px;\n}\n.ellipsis {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n</style>\n"]}]}