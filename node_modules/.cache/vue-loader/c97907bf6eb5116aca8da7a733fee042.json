{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/views/layout/components/TagsView/ScrollPane.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/views/layout/components/TagsView/ScrollPane.vue","mtime":1645176309690},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IHRhZ0FuZFRhZ1NwYWNpbmcgPSA0OyAvLyB0YWdBbmRUYWdTcGFjaW5nCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Njcm9sbFBhbmUnLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsZWZ0OiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNjcm9sbFdyYXBwZXIoKSB7CiAgICAgIHJldHVybiB0aGlzLiRyZWZzLnNjcm9sbENvbnRhaW5lci4kcmVmcy53cmFwOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc2Nyb2xsV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmVtaXRTY3JvbGwsIHRydWUpOwogIH0sCiAgYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc2Nyb2xsV3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmVtaXRTY3JvbGwpOwogIH0sCiAgbWV0aG9kczogewogICAgb25TY3JvbGwoZSkgewogICAgICBjb25zdCBldmVudERlbHRhID0gZS53aGVlbERlbHRhIHx8IC1lLmRlbHRhWSAqIDQwOwogICAgICBjb25zdCAkc2Nyb2xsV3JhcHBlciA9IHRoaXMuc2Nyb2xsV3JhcHBlcjsKICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9ICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgKyBldmVudERlbHRhIC8gNDsKICAgIH0sCiAgICBlbWl0U2Nyb2xsKCkgewogICAgICB0aGlzLiRlbWl0KCdzY3JvbGwnKTsKICAgIH0sCiAgICBtb3ZlVG9UYXJnZXQoY3VycmVudFRhZykgewogICAgICBjb25zdCAkY29udGFpbmVyID0gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXIuJGVsOwogICAgICBjb25zdCAkY29udGFpbmVyV2lkdGggPSAkY29udGFpbmVyLm9mZnNldFdpZHRoOwogICAgICBjb25zdCAkc2Nyb2xsV3JhcHBlciA9IHRoaXMuc2Nyb2xsV3JhcHBlcjsKICAgICAgY29uc3QgdGFnTGlzdCA9IHRoaXMuJHBhcmVudC4kcmVmcy50YWc7CgogICAgICBsZXQgZmlyc3RUYWcgPSBudWxsOwogICAgICBsZXQgbGFzdFRhZyA9IG51bGw7CgogICAgICAvLyBmaW5kIGZpcnN0IHRhZyBhbmQgbGFzdCB0YWcKICAgICAgaWYgKHRhZ0xpc3QubGVuZ3RoID4gMCkgewogICAgICAgIGZpcnN0VGFnID0gdGFnTGlzdFswXTsKICAgICAgICBsYXN0VGFnID0gdGFnTGlzdFt0YWdMaXN0Lmxlbmd0aCAtIDFdOwogICAgICB9CgogICAgICBpZiAoZmlyc3RUYWcgPT09IGN1cnJlbnRUYWcpIHsKICAgICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxMZWZ0ID0gMDsKICAgICAgfSBlbHNlIGlmIChsYXN0VGFnID09PSBjdXJyZW50VGFnKSB7CiAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9CiAgICAgICAgICAkc2Nyb2xsV3JhcHBlci5zY3JvbGxXaWR0aCAtICRjb250YWluZXJXaWR0aDsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBmaW5kIHByZVRhZyBhbmQgbmV4dFRhZwogICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IHRhZ0xpc3QuZmluZEluZGV4KGl0ZW0gPT4gaXRlbSA9PT0gY3VycmVudFRhZyk7CiAgICAgICAgY29uc3QgcHJldlRhZyA9IHRhZ0xpc3RbY3VycmVudEluZGV4IC0gMV07CiAgICAgICAgY29uc3QgbmV4dFRhZyA9IHRhZ0xpc3RbY3VycmVudEluZGV4ICsgMV07CgogICAgICAgIC8vIHRoZSB0YWcncyBvZmZzZXRMZWZ0IGFmdGVyIG9mIG5leHRUYWcKICAgICAgICBjb25zdCBhZnRlck5leHRUYWdPZmZzZXRMZWZ0ID0KICAgICAgICAgIG5leHRUYWcuJGVsLm9mZnNldExlZnQgKyBuZXh0VGFnLiRlbC5vZmZzZXRXaWR0aCArIHRhZ0FuZFRhZ1NwYWNpbmc7CgogICAgICAgIC8vIHRoZSB0YWcncyBvZmZzZXRMZWZ0IGJlZm9yZSBvZiBwcmV2VGFnCiAgICAgICAgY29uc3QgYmVmb3JlUHJldlRhZ09mZnNldExlZnQgPQogICAgICAgICAgcHJldlRhZy4kZWwub2Zmc2V0TGVmdCAtIHRhZ0FuZFRhZ1NwYWNpbmc7CgogICAgICAgIGlmICgKICAgICAgICAgIGFmdGVyTmV4dFRhZ09mZnNldExlZnQgPgogICAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCArICRjb250YWluZXJXaWR0aAogICAgICAgICkgewogICAgICAgICAgJHNjcm9sbFdyYXBwZXIuc2Nyb2xsTGVmdCA9IGFmdGVyTmV4dFRhZ09mZnNldExlZnQgLSAkY29udGFpbmVyV2lkdGg7CiAgICAgICAgfSBlbHNlIGlmIChiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdCA8ICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQpIHsKICAgICAgICAgICRzY3JvbGxXcmFwcGVyLnNjcm9sbExlZnQgPSBiZWZvcmVQcmV2VGFnT2Zmc2V0TGVmdDsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["ScrollPane.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ScrollPane.vue","sourceRoot":"src/pages/bonus-tool-admin/views/layout/components/TagsView","sourcesContent":["<template>\n  <el-scrollbar\n    ref=\"scrollContainer\"\n    :vertical=\"false\"\n    class=\"scroll-container\"\n    @wheel.native.prevent=\"onScroll\"\n  >\n    <slot />\n  </el-scrollbar>\n</template>\n\n<script>\nconst tagAndTagSpacing = 4; // tagAndTagSpacing\n\nexport default {\n  name: 'ScrollPane',\n  data() {\n    return {\n      left: 0\n    };\n  },\n  computed: {\n    scrollWrapper() {\n      return this.$refs.scrollContainer.$refs.wrap;\n    }\n  },\n  mounted() {\n    this.scrollWrapper.addEventListener('scroll', this.emitScroll, true);\n  },\n  beforeDestroy() {\n    this.scrollWrapper.removeEventListener('scroll', this.emitScroll);\n  },\n  methods: {\n    onScroll(e) {\n      const eventDelta = e.wheelDelta || -e.deltaY * 40;\n      const $scrollWrapper = this.scrollWrapper;\n      $scrollWrapper.scrollLeft = $scrollWrapper.scrollLeft + eventDelta / 4;\n    },\n    emitScroll() {\n      this.$emit('scroll');\n    },\n    moveToTarget(currentTag) {\n      const $container = this.$refs.scrollContainer.$el;\n      const $containerWidth = $container.offsetWidth;\n      const $scrollWrapper = this.scrollWrapper;\n      const tagList = this.$parent.$refs.tag;\n\n      let firstTag = null;\n      let lastTag = null;\n\n      // find first tag and last tag\n      if (tagList.length > 0) {\n        firstTag = tagList[0];\n        lastTag = tagList[tagList.length - 1];\n      }\n\n      if (firstTag === currentTag) {\n        $scrollWrapper.scrollLeft = 0;\n      } else if (lastTag === currentTag) {\n        $scrollWrapper.scrollLeft =\n          $scrollWrapper.scrollWidth - $containerWidth;\n      } else {\n        // find preTag and nextTag\n        const currentIndex = tagList.findIndex(item => item === currentTag);\n        const prevTag = tagList[currentIndex - 1];\n        const nextTag = tagList[currentIndex + 1];\n\n        // the tag's offsetLeft after of nextTag\n        const afterNextTagOffsetLeft =\n          nextTag.$el.offsetLeft + nextTag.$el.offsetWidth + tagAndTagSpacing;\n\n        // the tag's offsetLeft before of prevTag\n        const beforePrevTagOffsetLeft =\n          prevTag.$el.offsetLeft - tagAndTagSpacing;\n\n        if (\n          afterNextTagOffsetLeft >\n          $scrollWrapper.scrollLeft + $containerWidth\n        ) {\n          $scrollWrapper.scrollLeft = afterNextTagOffsetLeft - $containerWidth;\n        } else if (beforePrevTagOffsetLeft < $scrollWrapper.scrollLeft) {\n          $scrollWrapper.scrollLeft = beforePrevTagOffsetLeft;\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.scroll-container {\n  white-space: nowrap;\n  position: relative;\n  overflow: hidden;\n  width: 100%;\n  ::v-deep {\n    .el-scrollbar__bar {\n      bottom: 0px;\n    }\n    .el-scrollbar__wrap {\n      height: 49px;\n    }\n  }\n}\n</style>\n"]}]}