{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/student/BasicInfo/index.vue?vue&type=style&index=0&id=0fd1d9a7&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/student/BasicInfo/index.vue","mtime":1627979214290},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLlBlcm1pc3Npb25Cb3ggewogIC50b3BiYXIgewogICAgd2lkdGg6IDEwMCU7CiAgICAuZm9ybSB7CiAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgIGZsZXgtd3JhcDogd3JhcDsKICAgICAgL2RlZXAvLmVsLWZvcm0taXRlbSB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgIG1hcmdpbi1yaWdodDogMjBweDsKICAgICAgICBtYXJnaW4tYm90dG9tOiAwOwogICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7CiAgICAgIH0KICAgICAgLmJ0biB7CiAgICAgICAgcGFkZGluZzogNnB4IDE1cHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czogNXB4OwogICAgICB9CiAgICB9CiAgfQogIC50YWJsZS1jYXJkIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgICAuTGlua1RkIHsKICAgICAgY29sb3I6ICM0MDllZmY7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgIH0KICAgIC5kaXNhYmxlZExpbmsgewogICAgICBjb2xvcjogI2MwYzRjYzsKICAgICAgY3Vyc29yOiBub3QtYWxsb3dlZDsKICAgIH0KICAgIC50YWJsZUJ0biB7CiAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/charity-foundation/views/student/BasicInfo","sourcesContent":["<template>\n  <div class=\"PermissionBox\" v-loading=\"loading\">\n    <el-card class=\"topbar\">\n      <el-form\n        ref=\"FormData\"\n        :rules=\"rules\"\n        :model=\"FormData\"\n        class=\"form\"\n        size=\"mini\"\n      >\n        <el-form-item label=\"姓名:\" prop=\"name\">\n          <el-input\n            v-model.trim=\"FormData.name\"\n            placeholder=\"请输入姓名\"\n            @keyup.enter.native=\"onSubmit\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"身份证号:\" prop=\"IDNum\">\n          <el-input\n            v-model.trim=\"FormData.IDNum\"\n            placeholder=\"请输入身份证号\"\n            @keyup.enter.native=\"onSubmit\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"工程类型:\" prop=\"type\">\n          <el-select\n            v-model=\"FormData.type\"\n            placeholder=\"请选择工程类型\"\n            @focus=\"getProjectList\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option\n              v-for=\"(project, projectIndex) in projectList\"\n              :key=\"projectIndex\"\n              :label=\"project.label\"\n              :value=\"project.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"性别:\" prop=\"sex\">\n          <el-select\n            v-model=\"FormData.sex\"\n            placeholder=\"请选择学员性别\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option label=\"男\" value=\"0\"></el-option>\n            <el-option label=\"女\" value=\"1\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"学员状态:\" prop=\"state\">\n          <el-select\n            v-model=\"FormData.state\"\n            placeholder=\"请选择学员状态\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option label=\"正常\" value=\"0\"></el-option>\n            <el-option label=\"归档\" value=\"1\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"学员阶段:\" prop=\"stage\">\n          <el-select\n            v-model=\"FormData.stage\"\n            placeholder=\"请选择学员阶段\"\n            @change=\"onSubmit\"\n          >\n            <el-option label=\"全部\" value=\"\"></el-option>\n            <el-option label=\"在读\" value=\"0\"></el-option>\n            <el-option label=\"就业\" value=\"1\"></el-option>\n            <el-option label=\"退回原籍\" value=\"2\"></el-option>\n            <el-option label=\"暂停资助\" value=\"3\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"进入时间段筛选:\" prop=\"timeStart\">\n          <!--  -->\n          <el-date-picker\n            v-model=\"FormData.timeStart\"\n            type=\"date\"\n            :picker-options=\"pickerOptionsStart\"\n            @focus=\"firstTime\"\n            placeholder=\"请选择开始时间范围\"\n            value-format=\"yyyy-MM-dd\"\n            @change=\"onSubmit\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <!-- :picker-options=\"pickerOptionsEnd\" \n        @focus=\"secondTime\"-->\n        <el-form-item label=\"离开时间段筛选:\" prop=\"timeEnd\">\n          <el-date-picker\n            v-model=\"FormData.timeEnd\"\n            type=\"date\"\n            :picker-options=\"pickerOptionsEnd\"\n            @focus=\"secondTime\"\n            placeholder=\"请选择结束时间范围\"\n            value-format=\"yyyy-MM-dd\"\n            @change=\"onSubmit\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item size=\"small\">\n          <el-button type=\"primary\" class=\"btn\" @click=\"onSubmit\"\n            >筛选</el-button\n          >\n          <el-button type=\"primary\" class=\"btn\" @click=\"resetForm('FormData')\"\n            >重置</el-button\n          >\n          <el-button type=\"primary\" class=\"btn\" @click=\"exportForm\"\n            >导出</el-button\n          >\n          <el-button type=\"primary\" class=\"btn\" @click=\"editRow(1, {})\"\n            >新增</el-button\n          >\n          <el-button type=\"danger\" class=\"btn\" @click=\"deleteRow('all')\"\n            >删除</el-button\n          >\n        </el-form-item>\n      </el-form>\n    </el-card>\n    <el-card class=\"table-card\">\n      <el-table\n        ref=\"multipleTable\"\n        :data=\"tableData\"\n        tooltip-effect=\"dark\"\n        border\n        style=\"width: 100%\"\n        @selection-change=\"handleSelectionChange\"\n        type=\"selection\"\n        :reserve-selection=\"true\"\n        :row-key=\"row => row.id\"\n        highlight-current-row\n      >\n        <el-table-column type=\"selection\" width=\"40\" :reserve-selection=\"true\">\n        </el-table-column>\n        <el-table-column label=\"序号\">\n          <template slot-scope=\"scope\">{{\n            scope.$index + (currentPage - 1) * pageSize + 1 > 9\n              ? scope.$index + (currentPage - 1) * pageSize + 1\n              : `0${scope.$index + (currentPage - 1) * pageSize + 1}`\n          }}</template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"姓名\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <p\n              :class=\"scope.row.isUse === '1' ? 'disabledLink' : 'LinkTd'\"\n              @click=\"ToStudentInfo(scope.row)\"\n            >\n              {{ scope.row.name }}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"身份证号\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.cardCode }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"工程类型\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.projectName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"状态\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.isUseName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"阶段\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.studentStatusName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"type\" label=\"性别\" show-overflow-tooltip>\n          <template slot-scope=\"scope\">\n            <span>{{ scope.row.sexName }}</span>\n          </template>\n        </el-table-column>\n        <el-table-column\n          prop=\"addressName\"\n          label=\"户籍\"\n          show-overflow-tooltip\n        />\n        <el-table-column\n          prop=\"guardianName\"\n          label=\"监护人\"\n          show-overflow-tooltip\n        />\n        <el-table-column\n          prop=\"guardianPhone\"\n          label=\"监护人联系方式\"\n          show-overflow-tooltip\n        />\n        <el-table-column\n          prop=\"name\"\n          label=\"体检报告\"\n          width=\"80\"\n          show-overflow-tooltip\n        >\n          <template slot-scope=\"scope\">\n            <p class=\"LinkTd\" @click=\"showReport(scope.row)\">\n              {{ scope.row.healthName || '报告文件' }}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"140\">\n          <template slot-scope=\"scope\">\n            <el-button\n              @click.native.prevent=\"editRow(2, scope.row)\"\n              type=\"text\"\n              size=\"small\"\n              class=\"tableBtn\"\n            >\n              编辑\n            </el-button>\n            <el-button\n              @click.native.prevent=\"deleteRow(scope.row)\"\n              type=\"text\"\n              size=\"small\"\n              class=\"tableBtn\"\n            >\n              删除\n            </el-button>\n            <el-button\n              @click.native.prevent=\"fileRow(scope.row, scope.$index)\"\n              :disabled=\"scope.row.isUse === '1'\"\n              type=\"text\"\n              size=\"small\"\n              class=\"tableBtn\"\n            >\n              归档\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <div class=\"block\">\n        <el-pagination\n          :current-page=\"currentPage\"\n          :page-size=\"pageSize\"\n          :total=\"total\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </el-card>\n    <student-edit ref=\"studentEdit\" @close=\"closed\"></student-edit>\n    <report-dialog ref=\"reportDialog\" @close=\"closed()\"></report-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  Card,\n  Form,\n  FormItem,\n  Input,\n  Select,\n  Option,\n  Button,\n  Table,\n  TableColumn,\n  DatePicker,\n  Pagination\n} from 'element-ui';\nimport StudentEdit from '../components/StudentEdit/index';\nimport ReportDialog from '../components/ReportDialog/index';\nimport {\n  getStudentList,\n  deletedStudentById,\n  updateStudentById,\n  exportStudentList\n} from '../../../api/sutdent/index';\nimport { getProjectList } from '../../../api/auth/index';\n// import utils from '@/plugins/common/utils';\nexport default {\n  name: 'BasicInfo',\n  components: {\n    [Card.name]: Card,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    [Input.name]: Input,\n    [Select.name]: Select,\n    [Option.name]: Option,\n    [Button.name]: Button,\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [DatePicker.name]: DatePicker,\n    [Pagination.name]: Pagination,\n    StudentEdit,\n    ReportDialog\n  },\n  data() {\n    // let passwordRules = (rule, value, callback) => {\n    //   console.log(this.passwordSuccess, 'success');\n    //   if (this.passwordSuccess) {\n    //     return callback();\n    //   } else {\n    //     return callback(new Error(this.passwordMessage));\n    //   }\n    // };\n    return {\n      FormData: {\n        name: '', // 姓名\n        IDNum: '', // 身份证号\n        type: '', // 类型 1 运营 2财务\n        sex: '', // 性别 0 女 1男\n        state: '', // 学员状态 0 归档 1正常\n        stage: '', // 学员阶段\n        timeStart: '', // 开始时间段筛选\n        timeEnd: '' //结束时间段筛选\n      },\n      pickerOptionsStart: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      pickerOptionsEnd: {\n        disabledDate(time) {\n          return time.getTime() > Date.now();\n        }\n      },\n      currentPage: 1,\n      pageSize: 10,\n      total: 0, // 总数量\n      passwordSuccess: true,\n      passwordMessage: '',\n      loading: false,\n      rules: {\n        // account: [\n        //   { required: true, message: '请输入用户名', trigger: 'blur' },\n        //   { required: true, message: '请输入用户名', trigger: 'change' }\n        // ]\n        //   password: [\n        //     { required: true, message: '请输入密码', trigger: 'blur' },\n        //     { required: true, message: '请输入密码', trigger: 'change' }\n        //   ]\n      },\n      tableData: [],\n      multipleSelection: [],\n      projectList: [] //工程类型列表\n    };\n  },\n  created() {\n    // 跳转到单点登录页面\n    console.log('aaa');\n  },\n  mounted() {\n    // this.firstTime();\n    // this.secondTime();\n    this.initData();\n  },\n  methods: {\n    /**\n     * 设置进入时间段不可用时间\n     */\n    firstTime() {\n      if (this.FormData.timeEnd) {\n        let data1 = new Date(this.FormData.timeEnd);\n        data1 =\n          data1.getFullYear() +\n          '-' +\n          (data1.getMonth() + 1) +\n          '-' +\n          data1.getDate() +\n          ' ' +\n          data1.getHours() +\n          ':' +\n          data1.getMinutes() +\n          ':' +\n          data1.getSeconds();\n        let data = new Date(data1).getTime();\n        this.pickerOptionsStart = {\n          disabledDate(time) {\n            console.log(time.getTime(), data);\n            if (time.getTime() >= data) return true;\n            return time.getTime() > Date.now();\n          }\n        };\n      } else {\n        this.pickerOptionsStart = {\n          disabledDate(time) {\n            return time.getTime() > Date.now();\n          }\n        };\n      }\n    },\n    /**\n     * 设置离开时间段不可用时间\n     */\n    secondTime() {\n      let _this = this;\n      if (this.FormData.timeStart) {\n        let data = new Date(`${this.FormData.timeStart} 00:00:00`).getTime();\n        this.pickerOptionsEnd = {\n          disabledDate(time) {\n            if (time.getTime() < data) {\n              return true;\n            } else if (time.getTime() == data) {\n              return false;\n            } else {\n              return time.getTime() > Date.now();\n            }\n          }\n        };\n      } else {\n        this.pickerOptionsEnd = {\n          disabledDate(time) {\n            return time.getTime() > Date.now();\n          }\n        };\n      }\n    },\n    // 初始化数据\n    initData() {\n      this.loading = true;\n      this.$refs.multipleTable.clearSelection();\n      let params = {\n        offset: this.currentPage,\n        limit: this.pageSize,\n        name: this.FormData.name,\n        cardCode: this.FormData.IDNum,\n        projectType: this.FormData.type,\n        sex: this.FormData.sex,\n        isUse: this.FormData.state,\n        useComeTime: this.FormData.timeStart,\n        useLevelTime: this.FormData.timeEnd,\n        studentStatus: this.FormData.stage\n      };\n      this.tableData = [];\n      getStudentList(params).then(res => {\n        this.total = res.data.total;\n        this.tableData = res.data.records;\n        this.$nextTick(() => {\n          this.$refs.multipleTable.doLayout(); //解决表格错位\n        });\n        this.loading = false;\n      });\n    },\n    // 换页\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.initData();\n    },\n    // 获取工程列表\n    getProjectList() {\n      this.projectList = [];\n      getProjectList().then(res => {\n        this.projectList = res.data;\n      });\n    },\n    /**\n     * 重置表单\n     */\n    async resetForm(formName) {\n      this.currentPage = 1;\n      this.$refs[formName].resetFields();\n      await this.initData();\n    },\n    /**\n     * 筛选\n     */\n    onSubmit() {\n      this.currentPage = 1;\n      this.total = 0;\n      this.initData();\n    },\n    /**\n     * 导出\n     */\n    exportForm() {\n      let params = {\n        name: this.FormData.name,\n        cardCode: this.FormData.IDNum,\n        projectType: this.FormData.type,\n        sex: this.FormData.sex,\n        isUse: this.FormData.state,\n        useComeTime: this.FormData.timeStart,\n        useLevelTime: this.FormData.timeEnd,\n        studentStatus: this.FormData.stage\n      };\n      let ids = '';\n      if (this.multipleSelection.length > 0) {\n        this.multipleSelection.forEach(item => {\n          ids += item.id ? `${item.id},` : '';\n        });\n        ids = ids.slice(0, ids.length - 1);\n        params.ids = ids;\n      }\n      exportStudentList(params).then(res => {\n        const blob = new Blob([res], {\n          type: 'application/vnd.ms-excel'\n        });\n        let link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.setAttribute('download', '学生列表.xls');\n        link.click();\n        link = null;\n        this.$message.success('导出成功');\n      });\n    },\n    /**\n     * 多选项改变\n     */\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    /**\n     * 删除\n     */\n    deleteRow(item) {\n      if (item === 'all' && this.multipleSelection.length <= 0) {\n        this.$message.error('请选择要删除的用户');\n        return false;\n      }\n      this.$confirm('删除后不可恢复，确定删除内容？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        closeOnClickModal: false,\n        closeOnPressEscape: false\n      })\n        .then(() => {\n          let userId = '';\n          if (item === 'all') {\n            this.multipleSelection.forEach(user => {\n              userId += user.id ? `${user.id},` : '';\n            });\n            userId = userId.slice(0, userId.length - 1);\n          } else {\n            userId = item.id;\n          }\n          console.log(userId);\n          deletedStudentById({ id: userId }).then(res => {\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n            this.initData();\n            this.$refs.multipleTable.clearSelection();\n          });\n        })\n        .catch(() => {\n          //取消\n        });\n    },\n    /**\n     * 归档\n     */\n    fileRow(item, index) {\n      this.$confirm(\n        '归档后此学员的数据不参与任何统计，确认要进行归档操作？',\n        '归档',\n        {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          closeOnClickModal: false,\n          closeOnPressEscape: false\n        }\n      )\n        .then(() => {\n          updateStudentById({ id: item.id, isUse: '1' }).then(res => {\n            this.$message({\n              type: 'success',\n              message: '学员归档成功!'\n            });\n            this.initData();\n          });\n        })\n        .catch(() => {\n          // 取消\n        });\n    },\n    /**\n     * 修改新增\n     * @param {Number}} type 1 新增 2修改\n     */\n    editRow(type, item) {\n      item['isedit'] = type === 1 ? false : true;\n      this.$refs.studentEdit.show(item);\n    },\n    /**\n     * 体检报告显示\n     */\n    showReport(item) {\n      this.$refs.reportDialog.show(item, 'healthReport', 'healthName');\n    },\n    /**\n     * 前往学生详情页面\n     */\n    ToStudentInfo(item) {\n      if (item.isUse === '1') {\n        return false;\n      }\n      this.$router.push({\n        path: '/student/student-info',\n        query: {\n          id: item.id\n        }\n      });\n    },\n    /**\n     * 关闭新增修改弹框\n     */\n    closed() {\n      this.initData();\n    },\n    /**\n     * 体检报告弹框修改保存\n     */\n    preservationHealth(item) {\n      let params = {};\n      params = {\n        id: item[0].id,\n        healthReport: item[1],\n        healthName: item[2]\n      };\n      updateStudentById(params).then(res => {\n        this.$message({\n          type: 'success',\n          message: '上传成功'\n        });\n        this.$refs.reportDialog.onClosed();\n        this.initData();\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.PermissionBox {\n  .topbar {\n    width: 100%;\n    .form {\n      display: flex;\n      flex-wrap: wrap;\n      /deep/.el-form-item {\n        display: flex;\n        align-items: center;\n        margin-right: 20px;\n        margin-bottom: 0;\n        margin-bottom: 20px;\n      }\n      .btn {\n        padding: 6px 15px;\n        border-radius: 5px;\n      }\n    }\n  }\n  .table-card {\n    margin-top: 20px;\n    .LinkTd {\n      color: #409eff;\n      cursor: pointer;\n    }\n    .disabledLink {\n      color: #c0c4cc;\n      cursor: not-allowed;\n    }\n    .tableBtn {\n      font-size: 14px;\n    }\n  }\n}\n</style>\n"]}]}