{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/components/common/wangEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/components/common/wangEdit.vue","mtime":1627979214409},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJzsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ2VkaXRvcml0ZW0nLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICAvLyB1cGxvYWRQYXRoLA0KICAgICAgYmFzZVVwbG9hZDoge30sDQogICAgICBlZGl0b3I6IG51bGwsDQogICAgICBpbmZvXzogbnVsbCwNCiAgICAgIGlzQ2hhbmdlOiBmYWxzZQ0KICAgIH07DQogIH0sDQogIG1vZGVsOiB7DQogICAgcHJvcDogJ3ZhbHVlJywNCiAgICBldmVudDogJ2NoYW5nZScNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICB2YWx1ZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9LA0KICAgIGlzQ2xlYXI6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBpc0NsZWFyKHZhbCkgew0KICAgICAgLy8g6Kem5Y+R5riF6Zmk5paH5pys5Z+f5YaF5a65DQogICAgICBpZiAodmFsKSB7DQogICAgICAgIHRoaXMuZWRpdG9yLnR4dC5jbGVhcigpOw0KICAgICAgICB0aGlzLmluZm9fID0gbnVsbDsNCiAgICAgIH0NCiAgICB9LA0KICAgIHZhbHVlOiBmdW5jdGlvbih2YWx1ZSkgew0KICAgICAgaWYgKCF0aGlzLmlzQ2hhbmdlKSB7DQogICAgICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKHRoaXMudmFsdWUpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHZhbHVlICE9PSB0aGlzLmVkaXRvci50eHQuaHRtbCgpKSB7DQogICAgICAgICAgdGhpcy5lZGl0b3IudHh0Lmh0bWwodGhpcy52YWx1ZSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHRoaXMuaXNDaGFuZ2UgPSBmYWxzZTsNCiAgICB9DQogICAgLy92YWx1ZeS4uue8lui+keahhui+k+WFpeeahOWGheWuue+8jOi/memHjOaIkeebkeWQrOS6huS4gOS4i+WAvO+8jOW9k+eItue7hOS7tuiwg+eUqOW+l+aXtuWAme+8jOWmguaenOe7mXZhbHVl6LWL5YC85LqG77yM5a2Q57uE5Lu25bCG5Lya5pi+56S654i257uE5Lu26LWL57uZ55qE5YC8DQogIH0sDQogIGFzeW5jIG1vdW50ZWQoKSB7DQogICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2dldFVwbG9hZEluZm8nKTsNCiAgICB0aGlzLmJhc2VVcGxvYWQgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzLmJhc2VVcGxvYWQ7DQogICAgdGhpcy5zZXRlZGl0b3IoKTsNCiAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh0aGlzLnZhbHVlKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHN0b3BFZGl0b3IoKSB7DQogICAgICBjb25zb2xlLmxvZygnc3MnKTsNCiAgICAgIHRoaXMuZWRpdG9yLiR0ZXh0RWxlbS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCBmYWxzZSk7DQogICAgfSwNCiAgICBzZXRlZGl0b3IoKSB7DQogICAgICAvLyBodHRwOi8vMTkyLjE2OC4yLjEyNTo4MDgwL2FkbWluL3N0b3JhZ2UvY3JlYXRlDQogICAgICB0aGlzLmVkaXRvciA9IG5ldyBFKHRoaXMuJHJlZnMudG9vbGJhciwgdGhpcy4kcmVmcy5lZGl0b3IpOw0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ1Nob3dCYXNlNjQgPSBmYWxzZTsgLy8gYmFzZSA2NCDlrZjlgqjlm77niYcNCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdTZXJ2ZXIgPSAnL2sxMi9vc3MvdXBsb2FkRmlsZSc7IC8vIOmFjee9ruacjeWKoeWZqOerr+WcsOWdgA0KICAgICAgLy8gdGhpcy5lZGl0b3IuY29uZmlnLnVwbG9hZEltZ0hlYWRlcnMgPSB7fS8vIOiHquWumuS5iSBoZWFkZXINCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRGaWxlTmFtZSA9ICdmaWxlJzsgLy8g5ZCO56uv5o6l5Y+X5LiK5Lyg5paH5Lu255qE5Y+C5pWw5ZCNDQogICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nTWF4U2l6ZSA9IDIgKiAxMDI0ICogMTAyNDsgLy8g5bCG5Zu+54mH5aSn5bCP6ZmQ5Yi25Li6IDJNDQogICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nTWF4TGVuZ3RoID0gMTsgLy8g6ZmQ5Yi25LiA5qyh5pyA5aSa5LiK5LygIDMg5byg5Zu+54mHDQogICAgICB0aGlzLmVkaXRvci5jb25maWcudXBsb2FkSW1nVGltZW91dCA9IDMgKiA2MCAqIDEwMDA7IC8vIOiuvue9rui2heaXtuaXtumXtA0KDQogICAgICBsZXQgdGhhdCA9IHRoaXM7DQogICAgICB0aGlzLmVkaXRvci5jb25maWcuY3VzdG9tVXBsb2FkSW1nID0gZnVuY3Rpb24ocmVzdWx0RmlsZXMsIGluc2VydEltZ0ZuKSB7DQogICAgICAgIC8vIHJlc3VsdEZpbGVzIOaYryBpbnB1dCDkuK3pgInkuK3nmoTmlofku7bliJfooagNCiAgICAgICAgLy8gaW5zZXJ0SW1nRm4g5piv6I635Y+W5Zu+54mHIHVybCDlkI7vvIzmj5LlhaXliLDnvJbovpHlmajnmoTmlrnms5UNCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Jlc3VsdEZpbGVzJywgcmVzdWx0RmlsZXMpOw0KICAgICAgICByZXN1bHRGaWxlcy5mb3JFYWNoKGl0ZW0gPT4gew0KICAgICAgICAgIGxldCBmZCA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgICAgIGZkLmFwcGVuZCgna2V5JywgdGhhdC5iYXNlVXBsb2FkLmRpciArIGl0ZW0ubmFtZSk7DQogICAgICAgICAgZmQuYXBwZW5kKCdvc3NBY2Nlc3NLZXlJZCcsIHRoYXQuYmFzZVVwbG9hZC5hY2Nlc3NpZCk7DQogICAgICAgICAgZmQuYXBwZW5kKCdwb2xpY3knLCB0aGF0LmJhc2VVcGxvYWQucG9saWN5KTsNCiAgICAgICAgICBmZC5hcHBlbmQoJ3NpZ25hdHVyZScsIHRoYXQuYmFzZVVwbG9hZC5zaWduYXR1cmUpOw0KICAgICAgICAgIGZkLmFwcGVuZCgnc3VjY2Vzc19hY3Rpb25fc3RhdHVzJywgJzIwMCcpOw0KICAgICAgICAgIGZkLmFwcGVuZCgnZGlyJywgdGhhdC5iYXNlVXBsb2FkLmRpcik7DQogICAgICAgICAgZmQuYXBwZW5kKCdjYWxsYmFjaycsIHRoYXQuYmFzZVVwbG9hZC5jYWxsYmFjayk7DQogICAgICAgICAgZmQuYXBwZW5kKCdmaWxlJywgaXRlbSk7DQogICAgICAgICAgdGhhdA0KICAgICAgICAgICAgLmF4aW9zKHsNCiAgICAgICAgICAgICAgdXJsOiB0aGF0LmJhc2VVcGxvYWQuaG9zdCwNCiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICAgIGRhdGE6IGZkDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsNCiAgICAgICAgICAgICAgLy8gZGF0YS51cmwgPSByZXMuZGF0YS5yZXNvdXJjZVVybDsNCiAgICAgICAgICAgICAgZGF0YS51cmwgPSByZXMuZGF0YS5yZXNvdXJjZVVybDsNCiAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtRGF0YS5maWxlTGlzdC5wdXNoKHJlcy5kYXRhKTsgLy/ov5nph4zkuIrkvKDliLDmjIflrprnmoTlm77niYfmnI3liqHlmajvvIzmiJDlip/lkI7kvJrov5Tlm57lm77niYfnmoR1cmwNCg0KICAgICAgICAgICAgICAvLyDkuIrkvKDlm77niYfvvIzov5Tlm57nu5PmnpzvvIzlsIblm77niYfmj5LlhaXliLDnvJbovpHlmajkuK0NCiAgICAgICAgICAgICAgaW5zZXJ0SW1nRm4oZGF0YS51cmwpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge30pOw0KICAgICAgICB9KTsNCiAgICAgIH07DQoNCiAgICAgIC8vIOmFjee9ruiPnOWNlQ0KICAgICAgdGhpcy5lZGl0b3IuY29uZmlnLm1lbnVzID0gWw0KICAgICAgICAnaGVhZCcsIC8vIOagh+mimA0KICAgICAgICAnYm9sZCcsIC8vIOeyl+S9kw0KICAgICAgICAnZm9udFNpemUnLCAvLyDlrZflj7cNCiAgICAgICAgLy8gJ2ZvbnROYW1lJywgLy8g5a2X5L2TDQogICAgICAgIC8vICdpdGFsaWMnLCAvLyDmlpzkvZMNCiAgICAgICAgLy8gJ3VuZGVybGluZScsIC8vIOS4i+WIkue6vw0KICAgICAgICAvLyAnc3RyaWtlVGhyb3VnaCcsIC8vIOWIoOmZpOe6vw0KICAgICAgICAnZm9yZUNvbG9yJywgLy8g5paH5a2X6aKc6ImyDQogICAgICAgIC8vICdiYWNrQ29sb3InLCAvLyDog4zmma/popzoibINCiAgICAgICAgLy8gJ2xpbmsnLCAvLyDmj5LlhaXpk77mjqUNCiAgICAgICAgLy8gJ2xpc3QnLCAvLyDliJfooagNCiAgICAgICAgLy8gJ2p1c3RpZnknLCAvLyDlr7npvZDmlrnlvI8NCiAgICAgICAgLy8gJ3F1b3RlJywgLy8g5byV55SoDQogICAgICAgIC8vICdlbW90aWNvbicsIC8vIOihqOaDhQ0KICAgICAgICAnaW1hZ2UnIC8vIOaPkuWFpeWbvueJhw0KICAgICAgICAvLyAndGFibGUnLCAvLyDooajmoLwNCiAgICAgICAgLy8gJ3ZpZGVvJywgLy8g5o+S5YWl6KeG6aKRDQogICAgICAgIC8vICdjb2RlJywgLy8g5o+S5YWl5Luj56CBDQogICAgICAgIC8vICd1bmRvJywgLy8g5pKk6ZSADQogICAgICAgIC8vICdyZWRvJywgLy8g6YeN5aSNDQogICAgICAgIC8vICdmdWxsc2NyZWVuJyAvLyDlhajlsY8NCiAgICAgIF07DQoNCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy51cGxvYWRJbWdIb29rcyA9IHsNCiAgICAgICAgZmFpbDogKHhociwgZWRpdG9yLCByZXN1bHQpID0+IHsNCiAgICAgICAgICAvLyDmj5LlhaXlm77niYflpLHotKXlm57osIMNCiAgICAgICAgfSwNCiAgICAgICAgc3VjY2VzczogKHhociwgZWRpdG9yLCByZXN1bHQpID0+IHsNCiAgICAgICAgICAvLyDlm77niYfkuIrkvKDmiJDlip/lm57osIMNCiAgICAgICAgfSwNCiAgICAgICAgdGltZW91dDogKHhociwgZWRpdG9yKSA9PiB7DQogICAgICAgICAgLy8g572R57uc6LaF5pe255qE5Zue6LCDDQogICAgICAgIH0sDQogICAgICAgIGVycm9yOiAoeGhyLCBlZGl0b3IpID0+IHsNCiAgICAgICAgICAvLyDlm77niYfkuIrkvKDplJnor6/nmoTlm57osIMNCiAgICAgICAgfSwNCiAgICAgICAgY3VzdG9tSW5zZXJ0OiAoaW5zZXJ0SW1nLCByZXN1bHQsIGVkaXRvcikgPT4gew0KICAgICAgICAgIC8vIOWbvueJh+S4iuS8oOaIkOWKn++8jOaPkuWFpeWbvueJh+eahOWbnuiwgw0KICAgICAgICAgIC8vcmVzdWx05Li65LiK5Lyg5Zu+54mH5oiQ5Yqf55qE5pe25YCZ6L+U5Zue55qE5pWw5o2u77yM6L+Z6YeM5oiR5omT5Y2w5LqG5LiA5LiL5Y+R546w5ZCO5Y+w6L+U5Zue55qE5pivZGF0Ye+8mlt7dXJsOiLot6/lvoTnmoTlvaLlvI8ifSwuLi5dDQogICAgICAgICAgLy8gaW5zZXJ0SW1nKCkNCiAgICAgICAgICAvL+W+queOr+aPkuWFpeWbvueJhw0KICAgICAgICAgIC8vIGZvciAobGV0IGkgPSAwOyBpIDwgMTsgaSsrKSB7DQogICAgICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXN1bHQpDQogICAgICAgICAgbGV0IHVybCA9IHJlc3VsdC5kYXRhLnJlc291cmNlVXJsOw0KICAgICAgICAgIGluc2VydEltZyh1cmwpOw0KICAgICAgICAgIC8vIH0NCiAgICAgICAgfQ0KICAgICAgfTsNCiAgICAgIHRoaXMuZWRpdG9yLmNvbmZpZy5vbmNoYW5nZSA9IGh0bWwgPT4gew0KICAgICAgICB0aGlzLmlzQ2hhbmdlID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5pbmZvXyA9IGh0bWw7IC8vIOe7keWumuW9k+WJjemAkOa4kOWcsOWAvA0KICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmluZm9fKTsgLy8g5bCG5YaF5a655ZCM5q2l5Yiw54i257uE5Lu25LitDQogICAgICB9Ow0KICAgICAgLy8g5Yib5bu65a+M5paH5pys57yW6L6R5ZmoDQogICAgICB0aGlzLmVkaXRvci5jcmVhdGUoKTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["wangEdit.vue"],"names":[],"mappings":";;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"wangEdit.vue","sourceRoot":"src/pages/teaching-points-h5/components/common","sourcesContent":["<template lang=\"html\">\r\n  <div class=\"editor\">\r\n    <div ref=\"toolbar\" class=\"toolbar\"></div>\r\n    <div ref=\"editor\" class=\"editor-text\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport E from 'wangeditor';\r\nexport default {\r\n  name: 'editoritem',\r\n  data() {\r\n    return {\r\n      // uploadPath,\r\n      baseUpload: {},\r\n      editor: null,\r\n      info_: null,\r\n      isChange: false\r\n    };\r\n  },\r\n  model: {\r\n    prop: 'value',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    isClear: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n  watch: {\r\n    isClear(val) {\r\n      // 触发清除文本域内容\r\n      if (val) {\r\n        this.editor.txt.clear();\r\n        this.info_ = null;\r\n      }\r\n    },\r\n    value: function(value) {\r\n      if (!this.isChange) {\r\n        this.editor.txt.html(this.value);\r\n      } else {\r\n        if (value !== this.editor.txt.html()) {\r\n          this.editor.txt.html(this.value);\r\n        }\r\n      }\r\n      this.isChange = false;\r\n    }\r\n    //value为编辑框输入的内容，这里我监听了一下值，当父组件调用得时候，如果给value赋值了，子组件将会显示父组件赋给的值\r\n  },\r\n  async mounted() {\r\n    await this.$store.dispatch('getUploadInfo');\r\n    this.baseUpload = this.$store.getters.baseUpload;\r\n    this.seteditor();\r\n    this.editor.txt.html(this.value);\r\n  },\r\n  methods: {\r\n    stopEditor() {\r\n      console.log('ss');\r\n      this.editor.$textElem.attr('contenteditable', false);\r\n    },\r\n    seteditor() {\r\n      // http://192.168.2.125:8080/admin/storage/create\r\n      this.editor = new E(this.$refs.toolbar, this.$refs.editor);\r\n      this.editor.config.uploadImgShowBase64 = false; // base 64 存储图片\r\n      this.editor.config.uploadImgServer = '/k12/oss/uploadFile'; // 配置服务器端地址\r\n      // this.editor.config.uploadImgHeaders = {}// 自定义 header\r\n      this.editor.config.uploadFileName = 'file'; // 后端接受上传文件的参数名\r\n      this.editor.config.uploadImgMaxSize = 2 * 1024 * 1024; // 将图片大小限制为 2M\r\n      this.editor.config.uploadImgMaxLength = 1; // 限制一次最多上传 3 张图片\r\n      this.editor.config.uploadImgTimeout = 3 * 60 * 1000; // 设置超时时间\r\n\r\n      let that = this;\r\n      this.editor.config.customUploadImg = function(resultFiles, insertImgFn) {\r\n        // resultFiles 是 input 中选中的文件列表\r\n        // insertImgFn 是获取图片 url 后，插入到编辑器的方法\r\n        // console.log('resultFiles', resultFiles);\r\n        resultFiles.forEach(item => {\r\n          let fd = new FormData();\r\n          fd.append('key', that.baseUpload.dir + item.name);\r\n          fd.append('ossAccessKeyId', that.baseUpload.accessid);\r\n          fd.append('policy', that.baseUpload.policy);\r\n          fd.append('signature', that.baseUpload.signature);\r\n          fd.append('success_action_status', '200');\r\n          fd.append('dir', that.baseUpload.dir);\r\n          fd.append('callback', that.baseUpload.callback);\r\n          fd.append('file', item);\r\n          that\r\n            .axios({\r\n              url: that.baseUpload.host,\r\n              method: 'POST',\r\n              data: fd\r\n            })\r\n            .then(res => {\r\n              let data = res.data;\r\n              // data.url = res.data.resourceUrl;\r\n              data.url = res.data.resourceUrl;\r\n              // this.formData.fileList.push(res.data); //这里上传到指定的图片服务器，成功后会返回图片的url\r\n\r\n              // 上传图片，返回结果，将图片插入到编辑器中\r\n              insertImgFn(data.url);\r\n            })\r\n            .catch(err => {});\r\n        });\r\n      };\r\n\r\n      // 配置菜单\r\n      this.editor.config.menus = [\r\n        'head', // 标题\r\n        'bold', // 粗体\r\n        'fontSize', // 字号\r\n        // 'fontName', // 字体\r\n        // 'italic', // 斜体\r\n        // 'underline', // 下划线\r\n        // 'strikeThrough', // 删除线\r\n        'foreColor', // 文字颜色\r\n        // 'backColor', // 背景颜色\r\n        // 'link', // 插入链接\r\n        // 'list', // 列表\r\n        // 'justify', // 对齐方式\r\n        // 'quote', // 引用\r\n        // 'emoticon', // 表情\r\n        'image' // 插入图片\r\n        // 'table', // 表格\r\n        // 'video', // 插入视频\r\n        // 'code', // 插入代码\r\n        // 'undo', // 撤销\r\n        // 'redo', // 重复\r\n        // 'fullscreen' // 全屏\r\n      ];\r\n\r\n      this.editor.config.uploadImgHooks = {\r\n        fail: (xhr, editor, result) => {\r\n          // 插入图片失败回调\r\n        },\r\n        success: (xhr, editor, result) => {\r\n          // 图片上传成功回调\r\n        },\r\n        timeout: (xhr, editor) => {\r\n          // 网络超时的回调\r\n        },\r\n        error: (xhr, editor) => {\r\n          // 图片上传错误的回调\r\n        },\r\n        customInsert: (insertImg, result, editor) => {\r\n          // 图片上传成功，插入图片的回调\r\n          //result为上传图片成功的时候返回的数据，这里我打印了一下发现后台返回的是data：[{url:\"路径的形式\"},...]\r\n          // insertImg()\r\n          //循环插入图片\r\n          // for (let i = 0; i < 1; i++) {\r\n          //   console.log(result)\r\n          let url = result.data.resourceUrl;\r\n          insertImg(url);\r\n          // }\r\n        }\r\n      };\r\n      this.editor.config.onchange = html => {\r\n        this.isChange = true;\r\n        this.info_ = html; // 绑定当前逐渐地值\r\n        this.$emit('change', this.info_); // 将内容同步到父组件中\r\n      };\r\n      // 创建富文本编辑器\r\n      this.editor.create();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.editor {\r\n  position: relative;\r\n  border-top: 1px solid #cdcdcd;\r\n  /deep/ .w-e-menu {\r\n    font-size: 0.28rem;\r\n    padding: 0.16rem 0.22rem;\r\n  }\r\n  .w-e-text-container {\r\n    height: 100%;\r\n    min-height: 5rem;\r\n    .placeholder {\r\n      top: 0;\r\n    }\r\n  }\r\n}\r\n.toolbar {\r\n  width: 100%;\r\n  height: 0.9rem;\r\n  border: 1px solid #cdcdcd;\r\n  background: #f1f1f1;\r\n  position: absolute;\r\n  bottom: 0;\r\n  box-sizing: border-box;\r\n  border-top: 0;\r\n  .w-e-toolbar {\r\n    height: 100%;\r\n    border-top: 1px solid #cdcdcd;\r\n    .w-e-menu {\r\n      position: initial;\r\n      width: 0.8rem;\r\n      height: 0.8rem;\r\n      .w-e-panel-container {\r\n        top: auto;\r\n        bottom: 0.9rem;\r\n        left: 0 !important;\r\n        margin-left: 0 !important;\r\n        width: 100% !important;\r\n        border: 0.02rem solid #cdcdcd;\r\n        border-bottom: 0;\r\n        border-left: 0;\r\n        border-right: 0;\r\n        .w-e-panel-tab-title {\r\n          display: none;\r\n        }\r\n      }\r\n    }\r\n    .w-e-droplist {\r\n      top: auto !important;\r\n      bottom: 0.9rem;\r\n      width: 100% !important;\r\n      border: 0.02rem solid #ccc;\r\n      border-right: 0;\r\n      border-left: 0;\r\n      border-bottom: 0;\r\n      .w-e-dp-title {\r\n        border-bottom: 0.02rem solid #ccc;\r\n      }\r\n      ul.w-e-list {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 0.1rem 0.3rem;\r\n        flex-wrap: wrap;\r\n        li.w-e-item {\r\n          padding-right: 0.2rem;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.editor-text {\r\n  border: 1px solid #cdcdcd;\r\n  border-top: 0;\r\n  text-align: left;\r\n  padding-bottom: 0.9rem;\r\n  p {\r\n    margin: 0 !important;\r\n  }\r\n}\r\n/deep/ .w-e-text-container {\r\n  z-index: 0 !important;\r\n}\r\n/deep/ .toolbar .w-e-menu {\r\n  z-index: 2 !important;\r\n}\r\n.w-e-text p,\r\n.w-e-text h1,\r\n.w-e-text h2,\r\n.w-e-text h3,\r\n.w-e-text h4,\r\n.w-e-text h5,\r\n.w-e-text table,\r\n.w-e-text pre {\r\n  margin: 0 !important;\r\n}\r\n</style>\r\n"]}]}