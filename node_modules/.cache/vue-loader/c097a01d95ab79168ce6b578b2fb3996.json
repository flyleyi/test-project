{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/views/components/ExamManage/PaperManage/ViewScore/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/views/components/ExamManage/PaperManage/ViewScore/index.vue","mtime":1645176309787},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGkgZnJvbSAnLi8uLi8uLi8uLi8uLi8uLi9hcGkvcGFwZXJNYW5hZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1ZpZXdTY29yZScsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIHRhYmxlQ29sOiBbXSwKICAgICAgcGFnZVBhcmFtczogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGltaXQ6IDEwLAogICAgICAgIG9mZnNldDogMCwKICAgICAgICBzdHVOYW1lOiAnJywKICAgICAgICBjbGFzc05hbWU6ICcnLAogICAgICAgIHNjaG9vbE5hbWU6ICcnCiAgICAgIH0sCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCgogIGNvbXBvbmVudHM6IHt9LAoKICBjb21wdXRlZDoge30sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0U2NvcmVMaXN0KCk7CiAgfSwKICBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgb25QZ1NpemVDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5vZmZzZXQgPSAwOwogICAgICB0aGlzLnBhZ2VQYXJhbXMucGFnZSA9IDE7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5saW1pdCA9IHZhbDsKICAgICAgdGhpcy5nZXRTY29yZUxpc3QoKTsKICAgIH0sCiAgICBvbkN1cnJlbnRjaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5wYWdlID0gdmFsOwogICAgICB0aGlzLnBhZ2VQYXJhbXMub2Zmc2V0ID0gcGFyc2VJbnQoKHZhbCAtIDEpICogdGhpcy5wYWdlUGFyYW1zLmxpbWl0KTsKICAgICAgdGhpcy5nZXRTY29yZUxpc3QoKTsKICAgIH0sCiAgICAvLyDph43nva4KICAgIHJlc2V0KCkgewogICAgICB0aGlzLnBhZ2VQYXJhbXMucGFnZSA9IDE7CiAgICAgIHRoaXMucGFnZVBhcmFtcy5saW1pdCA9IDEwOwogICAgICB0aGlzLnBhZ2VQYXJhbXMub2Zmc2V0ID0gMDsKICAgICAgdGhpcy5wYWdlUGFyYW1zLnN0dU5hbWUgPSAnJzsKICAgICAgdGhpcy5wYWdlUGFyYW1zLmNsYXNzTmFtZSA9ICcnOwogICAgICB0aGlzLnBhZ2VQYXJhbXMuc2Nob29sTmFtZSA9ICcnOwogICAgICB0aGlzLmdldFNjb3JlTGlzdCgpOwogICAgfSwKICAgIC8v5p+l6K+iCiAgICBxdWVyeSgpIHsKICAgICAgdGhpcy5wYWdlUGFyYW1zLnBhZ2UgPSAxOwogICAgICB0aGlzLnBhZ2VQYXJhbXMub2Zmc2V0ID0gMDsKICAgICAgdGhpcy5nZXRTY29yZUxpc3QoKTsKICAgIH0sCiAgICAvLyDmiJDnu6nliJfooagKICAgIGdldFNjb3JlTGlzdCgpIHsKICAgICAgYXBpCiAgICAgICAgLmdldFNjb3JlTGlzdCh0aGlzLiRyb3V0ZS5xdWVyeS5wYXBlcklkLCB0aGlzLnBhZ2VQYXJhbXMpCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS50b3RhbDsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gW107CiAgICAgICAgICBkYXRhLnJlY29yZHMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgICAgbGV0IHNjb3JlTGlzdCA9IHt9OwogICAgICAgICAgICBpZiAoaXRlbS5zY29yZUxpc3QpIHsKICAgICAgICAgICAgICB0aGlzLnRhYmxlQ29sID0gW107CiAgICAgICAgICAgICAgaXRlbS5zY29yZUxpc3QuZm9yRWFjaChzY29yZSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlQ29sLnB1c2goewogICAgICAgICAgICAgICAgICB2YWw6ICdzY29yZScgKyBzY29yZS5xdWVzdGlvbk51bWJlciwKICAgICAgICAgICAgICAgICAgbGFiZWw6ICflsI/popgnICsgc2NvcmUucXVlc3Rpb25OdW1iZXIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgc2NvcmVMaXN0WydzY29yZScgKyBzY29yZS5xdWVzdGlvbk51bWJlcl0gPQogICAgICAgICAgICAgICAgICBzY29yZS5zdHVRdWVzdGlvblNjb3JlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS5wdXNoKHsKICAgICAgICAgICAgICBzdHVTbm86IGl0ZW0uc3R1U25vLAogICAgICAgICAgICAgIHN0dU5hbWU6IGl0ZW0uc3R1TmFtZSwKICAgICAgICAgICAgICBzY2hvb2xOYW1lOiBpdGVtLnNjaG9vbE5hbWUsCiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBpdGVtLmNsYXNzTmFtZSwKICAgICAgICAgICAgICB3ZWlnaHRlZFNjb3JlOiBpdGVtLndlaWdodGVkU2NvcmUsCiAgICAgICAgICAgICAgcmF3U2NvcmU6IGl0ZW0ucmF3U2NvcmUsCiAgICAgICAgICAgICAgc3BlY2lhbENhc2VzOiBpdGVtLnNwZWNpYWxDYXNlcywKICAgICAgICAgICAgICAuLi5zY29yZUxpc3QKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/score-analysis-admin/views/components/ExamManage/PaperManage/ViewScore","sourcesContent":["<!-- ViewSubject -->\n<template>\n  <div class=\"content\">\n    <el-form :inline=\"true\" :model=\"pageParams\" size=\"small\">\n      <el-form-item label=\"学部名称\">\n        <el-input\n          v-model=\"pageParams.schoolName\"\n          placeholder=\"请输入学部名称\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"教学班名称\">\n        <el-input\n          v-model=\"pageParams.className\"\n          placeholder=\"请输入教学班名称\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"学生姓名\">\n        <el-input\n          v-model=\"pageParams.stuName\"\n          placeholder=\"请输入学生姓名\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item>\n        <el-button @click=\"reset\">重置</el-button>\n        <el-button type=\"primary\" @click=\"query\">查询</el-button>\n      </el-form-item>\n    </el-form>\n    <el-table\n      :data=\"tableData\"\n      border\n      style=\"width: 100%\"\n      :row-style=\"{ 'font-size': '14px', color: 'rgba(0, 0, 0, 0.65)' }\"\n      :header-cell-style=\"{\n        background: '#F3F4F7',\n        'text-align': 'cneter',\n        color: 'rgba(0, 0, 0, 0.85)',\n        'font-weight': 600\n      }\"\n    >\n      <el-table-column prop=\"stuSno\" label=\"学生学号\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"stuName\" label=\"学生姓名\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"schoolName\" label=\"学部名称\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"className\" label=\"教学班名称\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"weightedScore\" label=\"赋分\" align=\"center\">\n      </el-table-column>\n      <el-table-column prop=\"rawScore\" label=\"原始总分\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <div v-if=\"scope.row.specialCases === 0\">\n            {{ scope.row.rawScore }}\n          </div>\n          <div v-else-if=\"scope.row.specialCases === 1\">\n            缺考\n          </div>\n          <div v-else>\n            作弊\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"stu\" label=\"学生小题得分\" align=\"center\">\n        <template slot-scope>\n          <span v-if=\"tableCol.length === 0\">\n            {{ '-' }}\n          </span>\n        </template>\n        <el-table-column\n          align=\"center\"\n          v-for=\"(item, index) in tableCol\"\n          :key=\"index\"\n          :prop=\"item.val\"\n          :label=\"item.label\"\n        >\n          <template slot-scope=\"scope\">\n            <span v-if=\"scope.row[item.val] || scope.row[item.val] === 0\">\n              {{ scope.row[item.val] }}\n            </span>\n            <span v-else>-</span>\n          </template>\n        </el-table-column>\n      </el-table-column>\n    </el-table>\n    <el-pagination\n      background\n      layout=\"total, prev, pager, next, sizes, slot, jumper\"\n      :page-sizes=\"[10, 50, 100, 500, 1000]\"\n      :total=\"total\"\n      :current-page.sync=\"pageParams.page\"\n      :page-size=\"pageParams.limit\"\n      @current-change=\"onCurrentchange\"\n      :style=\"{ 'margin-top': '20px' }\"\n      @size-change=\"onPgSizeChange\"\n    >\n      <span class=\"el-pagination-slot\">跳至</span>\n    </el-pagination>\n  </div>\n</template>\n\n<script>\nimport api from './../../../../../api/paperManage';\nexport default {\n  name: 'ViewScore',\n  data() {\n    return {\n      tableData: [],\n      tableCol: [],\n      pageParams: {\n        page: 1,\n        limit: 10,\n        offset: 0,\n        stuName: '',\n        className: '',\n        schoolName: ''\n      },\n      total: 0\n    };\n  },\n\n  components: {},\n\n  computed: {},\n  created() {\n    this.getScoreList();\n  },\n  mounted() {},\n  methods: {\n    onPgSizeChange(val) {\n      this.pageParams.offset = 0;\n      this.pageParams.page = 1;\n      this.pageParams.limit = val;\n      this.getScoreList();\n    },\n    onCurrentchange(val) {\n      this.pageParams.page = val;\n      this.pageParams.offset = parseInt((val - 1) * this.pageParams.limit);\n      this.getScoreList();\n    },\n    // 重置\n    reset() {\n      this.pageParams.page = 1;\n      this.pageParams.limit = 10;\n      this.pageParams.offset = 0;\n      this.pageParams.stuName = '';\n      this.pageParams.className = '';\n      this.pageParams.schoolName = '';\n      this.getScoreList();\n    },\n    //查询\n    query() {\n      this.pageParams.page = 1;\n      this.pageParams.offset = 0;\n      this.getScoreList();\n    },\n    // 成绩列表\n    getScoreList() {\n      api\n        .getScoreList(this.$route.query.paperId, this.pageParams)\n        .then(({ data }) => {\n          this.total = data.total;\n          this.tableData = [];\n          data.records.forEach(item => {\n            let scoreList = {};\n            if (item.scoreList) {\n              this.tableCol = [];\n              item.scoreList.forEach(score => {\n                this.tableCol.push({\n                  val: 'score' + score.questionNumber,\n                  label: '小题' + score.questionNumber\n                });\n                scoreList['score' + score.questionNumber] =\n                  score.stuQuestionScore;\n              });\n            }\n\n            this.tableData.push({\n              stuSno: item.stuSno,\n              stuName: item.stuName,\n              schoolName: item.schoolName,\n              className: item.className,\n              weightedScore: item.weightedScore,\n              rawScore: item.rawScore,\n              specialCases: item.specialCases,\n              ...scoreList\n            });\n          });\n        });\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.el-form {\n  margin-bottom: 10px;\n}\n</style>\n"]}]}