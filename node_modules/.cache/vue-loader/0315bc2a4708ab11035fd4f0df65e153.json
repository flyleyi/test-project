{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/BUserManage/components/school-info.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/BUserManage/components/school-info.vue","mtime":1645176309784},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBhcGlQYXBlck1hbmFnZSBmcm9tICcuLy4uLy4uLy4uLy4uL2FwaS9wYXBlck1hbmFnZSc7CmltcG9ydCB7IGdldEdyYWRlQ2xhc3NUcmVlIH0gZnJvbSAnLi8uLi8uLi8uLi8uLi9hcGkvdXNlci9pbmRleCc7CmltcG9ydCByb2xlT25lIGZyb20gJy4vcm9sZS1vbmUnOwppbXBvcnQgcm9sZVR3byBmcm9tICcuL3JvbGUtdHdvJzsKaW1wb3J0IHJvbGVUaHJlZSBmcm9tICcuL3JvbGUtdGhyZWUnOwppbXBvcnQgcm9sZUZvdXIgZnJvbSAnLi9yb2xlLWZvdXInOwoKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBzY2hvb2w6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNjaG9vbEl0ZW06IHsKICAgICAgICBpZDogJycsCiAgICAgICAgc2Nob29sTmFtZTogJycsCiAgICAgICAgc2VsZlJvbGVMaXN0OiBbXSwgLy/lt7LpgInop5LoibIKICAgICAgICByb2xlTGlzdDE6IHsKICAgICAgICAgIHJvbGVJZDogMSwKICAgICAgICAgIHN1YmplY3RMaXN0OiBbXQogICAgICAgIH0sCiAgICAgICAgcm9sZUxpc3QyOiB7CiAgICAgICAgICByb2xlSWQ6IDIsCiAgICAgICAgICBncmFkZUNsYXNzTGlzdDogW10KICAgICAgICB9LAogICAgICAgIHJvbGVMaXN0MzogewogICAgICAgICAgcm9sZUlkOiAzLAogICAgICAgICAgc3ViamVjdExpc3Q6IFtdCiAgICAgICAgfSwKICAgICAgICByb2xlTGlzdDQ6IHsKICAgICAgICAgIHJvbGVJZDogNCwKICAgICAgICAgIGdyYWRlQ2xhc3NMaXN0OiBbXQogICAgICAgIH0KICAgICAgfSwKICAgICAgcm9sZUxpc3Q6IFsKICAgICAgICB7CiAgICAgICAgICByb2xlOiAn5Lu76K++5pWZ5biIJywKICAgICAgICAgIHJvbGVJZDogMQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcm9sZTogJ+ePreS4u+S7uycsCiAgICAgICAgICByb2xlSWQ6IDIKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHJvbGU6ICflrabnp5Hnu4Tplb8nLAogICAgICAgICAgcm9sZUlkOiAzCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICByb2xlOiAn5bm057qn57uE6ZW/JywKICAgICAgICAgIHJvbGVJZDogNAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgcm9sZTogJ+agoemVvycsCiAgICAgICAgICByb2xlSWQ6IDUKICAgICAgICB9CiAgICAgIF0sCiAgICAgIGdyYWRlQ2xhc3NUcmVlOiBbXSwgLy/lubTnuqfnj63nuqfliJfooaggMC3mjojor77ogIHluIgt5omA5pyJCiAgICAgIGdyYWRlQ2xhc3NUcmVlSXM6IFtdLCAvL+W5tOe6p+ePree6p+WIl+ihqCAxLeePreS4u+S7uwogICAgICBzdWJqZWN0TGlzdDogWwogICAgICAgIC8vIHsKICAgICAgICAvLyAgIGlkOiAnJywKICAgICAgICAvLyAgIG5hbWU6ICcnLAogICAgICAgIC8vICAgZ3JhZGVDbGFzc0xpc3Q6IFtdCiAgICAgICAgLy8gfQogICAgICBdIC8v56eR55uu5YiX6KGoCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgcm9sZU9uZSwKICAgIHJvbGVUd28sCiAgICByb2xlVGhyZWUsCiAgICByb2xlRm91cgogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuc2Nob29sSXRlbS5zY2hvb2xDb2RlID0gdGhpcy5zY2hvb2wuc2Nob29sQ29kZTsKICAgIHRoaXMuc2Nob29sSXRlbS5zY2hvb2xOYW1lID0gdGhpcy5zY2hvb2wuc2Nob29sTmFtZTsKICAgIHRoaXMuZ2V0U3ViamVjdExpc3QoKTsgLy/ojrflj5blrabnp5HliJfooagKICAgIHRoaXMuZ2V0R3JhZGVDbGFzc1RyZWUodGhpcy5zY2hvb2xJdGVtLnNjaG9vbENvZGUsIHsgaXNDbGFzc1RlYWNoZXI6IDEgfSk7IC8v6I635Y+W5bm057qn5ZKM54+t57qn5YiX6KGoLeePreS4u+S7uwogICAgdGhpcy5nZXRHcmFkZUNsYXNzVHJlZSh0aGlzLnNjaG9vbEl0ZW0uc2Nob29sQ29kZSwgeyBpc0NsYXNzVGVhY2hlcjogMCB9KTsgLy/ojrflj5blubTnuqflkoznj63nuqfliJfooagt5o6I6K++5pWZ5biICiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bnp5Hnm67liJfooagKICAgIGdldFN1YmplY3RMaXN0KCkgewogICAgICBhcGlQYXBlck1hbmFnZS5nZXRTdWJqZWN0TGlzdCgpLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgZGF0YS5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgdGhpcy5zdWJqZWN0TGlzdC5wdXNoKHsKICAgICAgICAgICAgaWQ6IGl0ZW0uc3ViamVjdElkLAogICAgICAgICAgICBuYW1lOiBpdGVtLnN1YmplY3ROYW1lLAogICAgICAgICAgICBncmFkZUNsYXNzTGlzdDogW10KICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5blubTnuqflkoznj63nuqfliJfooagKICAgIGdldEdyYWRlQ2xhc3NUcmVlKHNjaG9vbElkLCBwYXJhbXMpIHsKICAgICAgZ2V0R3JhZGVDbGFzc1RyZWUoc2Nob29sSWQsIHBhcmFtcykudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtcy5pc0NsYXNzVGVhY2hlciA9PSAwKSB7CiAgICAgICAgICB0aGlzLmdyYWRlQ2xhc3NUcmVlID0gZGF0YTsKICAgICAgICB9IGVsc2UgaWYgKHBhcmFtcyAmJiBwYXJhbXMuaXNDbGFzc1RlYWNoZXIgPT0gMSkgewogICAgICAgICAgdGhpcy5ncmFkZUNsYXNzVHJlZUlzID0gZGF0YTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5ncmFkZUNsYXNzVHJlZSA9IGRhdGE7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDmmK/lkKbmmL7npLoKICAgIGdldFNob3dDb2wobGlzdCwgaWQpIHsKICAgICAgbGV0IGxpc3RGaWx0ZXIgPSBsaXN0LmZpbHRlcihpdGVtID0+IGl0ZW0gPT09IGlkKTsKICAgICAgaWYgKGxpc3RGaWx0ZXIubGVuZ3RoID4gMCkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["school-info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"school-info.vue","sourceRoot":"src/pages/score-analysis-admin/components/business/BUserManage/components","sourcesContent":["<template>\n  <form class=\"col-list-item\" :model=\"schoolItem\" label-width=\"84px\">\n    <!-- 任职信息 -->\n    <div class=\"col-box\">\n      <div class=\"box-title\">\n        <span>{{ schoolItem.schoolName }}任职信息</span>\n      </div>\n      <el-form-item label=\"角色：\">\n        <el-checkbox-group v-model=\"schoolItem.selfRoleList\">\n          <el-checkbox\n            v-for=\"item in roleList\"\n            :label=\"item.roleId\"\n            :key=\"item.roleId\"\n            >{{ item.role }}</el-checkbox\n          >\n        </el-checkbox-group>\n      </el-form-item>\n    </div>\n    <!-- 任课教师信息 -->\n    <role-one\n      v-if=\"getShowCol(schoolItem.selfRoleList, 1)\"\n      :roleList1=\"schoolItem.roleList1\"\n      :gradeClassTree=\"gradeClassTree\"\n      :subjectList=\"subjectList\"\n      ref=\"roleOne\"\n    ></role-one>\n    <!-- 班主任信息 -->\n    <role-two\n      v-if=\"getShowCol(schoolItem.selfRoleList, 2)\"\n      :roleList2=\"schoolItem.roleList2\"\n      :gradeClassTree=\"gradeClassTreeIs\"\n    ></role-two>\n    <!-- 学科组长信息 -->\n    <role-three\n      v-if=\"getShowCol(schoolItem.selfRoleList, 3)\"\n      :roleList3=\"schoolItem.roleList3\"\n      :gradeClassTree=\"gradeClassTree\"\n      :subjectList=\"subjectList\"\n    ></role-three>\n    <!-- 年级组长信息 -->\n    <role-four\n      v-if=\"getShowCol(schoolItem.selfRoleList, 4)\"\n      :roleList4=\"schoolItem.roleList4\"\n      :gradeClassTree=\"gradeClassTree\"\n    ></role-four>\n  </form>\n</template>\n\n<script>\nimport apiPaperManage from './../../../../api/paperManage';\nimport { getGradeClassTree } from './../../../../api/user/index';\nimport roleOne from './role-one';\nimport roleTwo from './role-two';\nimport roleThree from './role-three';\nimport roleFour from './role-four';\n\nexport default {\n  props: {\n    school: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      schoolItem: {\n        id: '',\n        schoolName: '',\n        selfRoleList: [], //已选角色\n        roleList1: {\n          roleId: 1,\n          subjectList: []\n        },\n        roleList2: {\n          roleId: 2,\n          gradeClassList: []\n        },\n        roleList3: {\n          roleId: 3,\n          subjectList: []\n        },\n        roleList4: {\n          roleId: 4,\n          gradeClassList: []\n        }\n      },\n      roleList: [\n        {\n          role: '任课教师',\n          roleId: 1\n        },\n        {\n          role: '班主任',\n          roleId: 2\n        },\n        {\n          role: '学科组长',\n          roleId: 3\n        },\n        {\n          role: '年级组长',\n          roleId: 4\n        },\n        {\n          role: '校长',\n          roleId: 5\n        }\n      ],\n      gradeClassTree: [], //年级班级列表 0-授课老师-所有\n      gradeClassTreeIs: [], //年级班级列表 1-班主任\n      subjectList: [\n        // {\n        //   id: '',\n        //   name: '',\n        //   gradeClassList: []\n        // }\n      ] //科目列表\n    };\n  },\n  components: {\n    roleOne,\n    roleTwo,\n    roleThree,\n    roleFour\n  },\n  created() {\n    this.schoolItem.schoolCode = this.school.schoolCode;\n    this.schoolItem.schoolName = this.school.schoolName;\n    this.getSubjectList(); //获取学科列表\n    this.getGradeClassTree(this.schoolItem.schoolCode, { isClassTeacher: 1 }); //获取年级和班级列表-班主任\n    this.getGradeClassTree(this.schoolItem.schoolCode, { isClassTeacher: 0 }); //获取年级和班级列表-授课教师\n  },\n  methods: {\n    // 获取科目列表\n    getSubjectList() {\n      apiPaperManage.getSubjectList().then(({ data }) => {\n        data.forEach(item => {\n          this.subjectList.push({\n            id: item.subjectId,\n            name: item.subjectName,\n            gradeClassList: []\n          });\n        });\n      });\n    },\n    // 获取年级和班级列表\n    getGradeClassTree(schoolId, params) {\n      getGradeClassTree(schoolId, params).then(({ data }) => {\n        if (params && params.isClassTeacher == 0) {\n          this.gradeClassTree = data;\n        } else if (params && params.isClassTeacher == 1) {\n          this.gradeClassTreeIs = data;\n        } else {\n          this.gradeClassTree = data;\n        }\n      });\n    },\n    // 是否显示\n    getShowCol(list, id) {\n      let listFilter = list.filter(item => item === id);\n      if (listFilter.length > 0) return true;\n      return false;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.col-list {\n  &-item {\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n    &:first-child {\n      border: 0;\n    }\n  }\n}\n/deep/ .col-box {\n  margin-bottom: 20px;\n  &:first-child {\n    margin-top: 20px;\n  }\n}\n/deep/ .col-item {\n  margin-top: 20px;\n  &-left {\n    width: 92px;\n    display: inline-block;\n    text-align: right;\n    padding-right: 4px;\n  }\n}\n/deep/ .box-title {\n  height: 24px;\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.85);\n  line-height: 24px;\n  padding-left: 10px;\n  position: relative;\n  &::before {\n    content: '';\n    display: inline-block;\n    width: 4px;\n    height: 16px;\n    background: #5481e9;\n    box-shadow: 2px 0px 0px 0px rgba(213, 230, 255, 0.6);\n    border-radius: 3px;\n    position: absolute;\n    left: 0;\n    bottom: 4px;\n  }\n}\n/deep/ .el-select .el-input__inner {\n  width: 300px;\n  height: 32px;\n  background: #ffffff;\n  border-radius: 2px;\n  border: 1px solid #eaedf3;\n}\n/deep/ .el-tag {\n  height: 22px;\n  background: rgba(0, 0, 0, 0.04);\n  border-radius: 2px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 20px;\n  .el-tag__close.el-icon-close {\n    background: none !important;\n    color: rgba(0, 0, 0, 0.45);\n    font-size: 14px;\n  }\n}\n</style>\n"]}]}