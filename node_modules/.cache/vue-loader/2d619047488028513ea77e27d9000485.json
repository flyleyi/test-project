{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/test-login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/test-login.vue","mtime":1645176309876},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgKiBhcyBkZCBmcm9tICdkaW5ndGFsay1qc2FwaSc7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd0ZXN0LWxvZ2luJywNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgc3RhZmZDb2RlOiAnJw0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgZGQucmVhZHkoZnVuY3Rpb24oKSB7DQogICAgICBjb25zb2xlLndhcm4oJ2RkLXJlYWR5Jyk7DQogICAgfSk7DQogICAgZGQuZXJyb3IoZSA9PiB7DQogICAgICBjb25zb2xlLmVycm9yKGUpOw0KICAgIH0pOw0KICB9LA0KICBtZXRob2RzOiB7DQogICAgZ29UbygpIHsNCiAgICAgIGlmICh0aGlzLnN0YWZmQ29kZSA9PT0gJycpIHJldHVybiB0aGlzLiR0b2FzdCgn6K+35rGC6L6T5YWl5bel5Y+3Jyk7DQogICAgICAvLyDmmL7npLrnmbvlvZXkuK0NCiAgICAgIGNvbnN0IGxvYWRpbmcgPSB0aGlzLiR0b2FzdC5sb2FkaW5nKHsNCiAgICAgICAgbWVzc2FnZTogJ+eZu+W9leS4rS4uLicsDQogICAgICAgIGZvcmJpZENsaWNrOiB0cnVlLA0KICAgICAgICBsb2FkaW5nVHlwZTogJ3NwaW5uZXInDQogICAgICB9KTsNCiAgICAgIHRoaXMuJHN0b3JlDQogICAgICAgIC5kaXNwYXRjaCgndGVzdExvZ2luJywgdGhpcy5zdGFmZkNvZGUpDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCfnmbvlvZXmiJDlip8nKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnLycpOw0KICAgICAgICAgIGxvYWRpbmcuY2xlYXIoKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICBsb2FkaW5nLmNsZWFyKCk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog6YCA5Ye65b2T5YmN55m75b2VDQogICAgICovDQogICAgbG9nb3V0KCkgew0KICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvZ291dCcpLnRoZW4oKCkgPT4gew0KICAgICAgICB0aGlzLiR0b2FzdCgn5oiQ5Yqf5riF6Zmk5b2T5YmN55m75b2V54q25oCBJyk7DQogICAgICB9KTsNCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["test-login.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"test-login.vue","sourceRoot":"src/pages/teaching-points-h5/views","sourcesContent":["<template>\r\n  <div>\r\n    <input v-model=\"staffCode\" type=\"text\" placeholder=\"工号\" />\r\n    <button type=\"button\" @click=\"goTo\">登录</button>\r\n    <p>\r\n      <button v-if=\"$store.state.token\" type=\"button\" @click=\"logout\">\r\n        清除当前登录状态\r\n      </button>\r\n    </p>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as dd from 'dingtalk-jsapi';\r\nexport default {\r\n  name: 'test-login',\r\n  data() {\r\n    return {\r\n      staffCode: ''\r\n    };\r\n  },\r\n  mounted() {\r\n    dd.ready(function() {\r\n      console.warn('dd-ready');\r\n    });\r\n    dd.error(e => {\r\n      console.error(e);\r\n    });\r\n  },\r\n  methods: {\r\n    goTo() {\r\n      if (this.staffCode === '') return this.$toast('请求输入工号');\r\n      // 显示登录中\r\n      const loading = this.$toast.loading({\r\n        message: '登录中...',\r\n        forbidClick: true,\r\n        loadingType: 'spinner'\r\n      });\r\n      this.$store\r\n        .dispatch('testLogin', this.staffCode)\r\n        .then(() => {\r\n          this.$toast.success('登录成功');\r\n          this.$router.replace('/');\r\n          loading.clear();\r\n        })\r\n        .catch(() => {\r\n          loading.clear();\r\n        });\r\n    },\r\n    /**\r\n     * 退出当前登录\r\n     */\r\n    logout() {\r\n      this.$store.dispatch('logout').then(() => {\r\n        this.$toast('成功清除当前登录状态');\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}