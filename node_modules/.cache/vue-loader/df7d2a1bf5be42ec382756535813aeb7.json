{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-add/components/DateChoose.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-add/components/DateChoose.vue","mtime":1645178321141},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IFBpY2tlciB9IGZyb20gJ3ZhbnQnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RhdGVDaG9vc2UnLAogIGNvbXBvbmVudHM6IHsKICAgIFtQaWNrZXIubmFtZV06IFBpY2tlcgogIH0sCiAgcHJvcHM6IHsKICAgIGRhdGVMaXN0OiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiAoKSA9PiB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHsKICAgICAgICByZXR1cm4gJyc7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4ge307CiAgfSwKICBjb21wdXRlZDogewogICAgY29sdW1ucygpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0ZUZvcm1hdCgpOwogICAgfQogIH0sCiAgbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIC8vIOaXpeacn+aVsOaNruagvOW8j+WkhOeQhgogICAgZGF0ZUZvcm1hdCgpIHsKICAgICAgbGV0IGNvbHVtbnMgPSBbXTsKICAgICAgLy8g6I635Y+W5a6M5pW055qE5bm05pyI5pelIOaXtuWIhuenku+8jOS7peWPium7mOiupOaYvuekuueahOaVsOe7hAogICAgICB2YXIgbXlEYXRlID0gbmV3IERhdGUoKTsKICAgICAgdmFyIHllYXIgPSBteURhdGUuZ2V0RnVsbFllYXIoKSwKICAgICAgICBtb250aCA9IG15RGF0ZS5nZXRNb250aCgpICsgMSwKICAgICAgICBkYXkgPSBteURhdGUuZ2V0RGF0ZSgpLAogICAgICAgIGhvdXIgPQogICAgICAgICAgbXlEYXRlLmdldEhvdXJzKCkgPj0gMTAKICAgICAgICAgICAgPyAnJyArIG15RGF0ZS5nZXRIb3VycygpCiAgICAgICAgICAgIDogJzAnICsgbXlEYXRlLmdldEhvdXJzKCk7CiAgICAgIHZhciBkYXRlVGltZSA9IFtdLAogICAgICAgIGN1cnJlbnREYXRlID0geWVhciArICctJyArIG1vbnRoICsgJy0nICsgZGF5OwogICAgICAvLyDml6XmnJ/ml7bpl7TpgInmi6nojIPlm7QKICAgICAgdmFyIGRhdGVUaW1lQXJyYXkgPSBbCiAgICAgICAgW10sCiAgICAgICAgW10sCiAgICAgICAgWwogICAgICAgICAgeyBuYW1lOiAnMDDliIYnLCBrZXk6ICcwMCcgfSwKICAgICAgICAgIHsgbmFtZTogJzMw5YiGJywga2V5OiAnMzAnIH0KICAgICAgICBdCiAgICAgIF07CiAgICAgIHRoaXMuZGF0ZUxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICB2YXIgZGF0ZUFycmF5ID0gaXRlbS5zcGxpdCgnLScpOwogICAgICAgIHZhciBkYXRlRm9ybSA9CiAgICAgICAgICBkYXRlQXJyYXlbMV0gKyAn5pyIJyArIGRhdGVBcnJheVsyXSArICfml6UnICsgdGhpcy5nZXRXZWVrKGl0ZW0pOwogICAgICAgIGRhdGVUaW1lQXJyYXlbMF0ucHVzaCh7CiAgICAgICAgICBuYW1lOiBkYXRlRm9ybSwKICAgICAgICAgIGtleTogaXRlbQogICAgICAgIH0pOwogICAgICAgIC8vIOiOt+WPluW9k+WJjeaXpeacn+eahOS4i+aghwogICAgICAgIGlmIChpdGVtID09IGN1cnJlbnREYXRlKSB7CiAgICAgICAgICBkYXRlVGltZS5wdXNoKGluZGV4LCAraG91ciwgMCk7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gMjM7IGkrKykgewogICAgICAgIGlmIChpIDwgMTApIHsKICAgICAgICAgIGRhdGVUaW1lQXJyYXlbMV0ucHVzaCh7IG5hbWU6ICcwJyArIGkgKyAn5pe2Jywga2V5OiAnMCcgKyBpIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBkYXRlVGltZUFycmF5WzFdLnB1c2goeyBuYW1lOiAnJyArIGkgKyAn5pe2Jywga2V5OiAnJyArIGkgfSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGRhdGVUaW1lQXJyYXkuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBjb2x1bW5zLnB1c2goewogICAgICAgICAgdmFsdWVzOiBpdGVtLAogICAgICAgICAgZGVmYXVsdEluZGV4OiBkYXRlVGltZVtpbmRleF0KICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHJldHVybiBjb2x1bW5zOwogICAgfSwKICAgIC8vIOagueaNruaXpeacn+WIpOaWreaYn+acn+WHoAogICAgZ2V0V2VlayhkYXRlU3RyaW5nKSB7CiAgICAgIHZhciBkYXRlQXJyYXkgPSBkYXRlU3RyaW5nLnNwbGl0KCctJyksCiAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGVBcnJheVswXSwgcGFyc2VJbnQoZGF0ZUFycmF5WzFdIC0gMSksIGRhdGVBcnJheVsyXSk7CiAgICAgIHJldHVybiAn5pif5pyfJyArICfml6XkuIDkuozkuInlm5vkupTlha0nLmNoYXJBdChkYXRlLmdldERheSgpKTsKICAgIH0sCiAgICBvbkNvbmZpcm0odmFsdWUsIGluZGV4KSB7CiAgICAgIHRoaXMuJGVtaXQoJ2hhbmRsZUNob29zZURhdGUnLCB2YWx1ZSwgaW5kZXgpOwogICAgfSwKICAgIG9uQ2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCdjbG9zZVBvcHVwJyk7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["DateChoose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DateChoose.vue","sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-add/components","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <van-picker\n      :cancel-button-text=\"cancelText ? cancelText : '取消'\"\n      show-toolbar\n      :columns=\"columns\"\n      value-key=\"name\"\n      @confirm=\"onConfirm\"\n      @cancel=\"onCancel\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Picker } from 'vant';\nexport default {\n  name: 'DateChoose',\n  components: {\n    [Picker.name]: Picker\n  },\n  props: {\n    dateList: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    cancelText: {\n      type: String,\n      default: () => {\n        return '';\n      }\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    columns() {\n      return this.dateFormat();\n    }\n  },\n  mounted() {},\n  methods: {\n    // 日期数据格式处理\n    dateFormat() {\n      let columns = [];\n      // 获取完整的年月日 时分秒，以及默认显示的数组\n      var myDate = new Date();\n      var year = myDate.getFullYear(),\n        month = myDate.getMonth() + 1,\n        day = myDate.getDate(),\n        hour =\n          myDate.getHours() >= 10\n            ? '' + myDate.getHours()\n            : '0' + myDate.getHours();\n      var dateTime = [],\n        currentDate = year + '-' + month + '-' + day;\n      // 日期时间选择范围\n      var dateTimeArray = [\n        [],\n        [],\n        [\n          { name: '00分', key: '00' },\n          { name: '30分', key: '30' }\n        ]\n      ];\n      this.dateList.forEach((item, index) => {\n        var dateArray = item.split('-');\n        var dateForm =\n          dateArray[1] + '月' + dateArray[2] + '日' + this.getWeek(item);\n        dateTimeArray[0].push({\n          name: dateForm,\n          key: item\n        });\n        // 获取当前日期的下标\n        if (item == currentDate) {\n          dateTime.push(index, +hour, 0);\n        }\n      });\n      for (var i = 0; i <= 23; i++) {\n        if (i < 10) {\n          dateTimeArray[1].push({ name: '0' + i + '时', key: '0' + i });\n        } else {\n          dateTimeArray[1].push({ name: '' + i + '时', key: '' + i });\n        }\n      }\n      dateTimeArray.forEach((item, index) => {\n        columns.push({\n          values: item,\n          defaultIndex: dateTime[index]\n        });\n      });\n      return columns;\n    },\n    // 根据日期判断星期几\n    getWeek(dateString) {\n      var dateArray = dateString.split('-'),\n        date = new Date(dateArray[0], parseInt(dateArray[1] - 1), dateArray[2]);\n      return '星期' + '日一二三四五六'.charAt(date.getDay());\n    },\n    onConfirm(value, index) {\n      this.$emit('handleChooseDate', value, index);\n    },\n    onCancel() {\n      this.$emit('closePopup');\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n/deep/.van-picker__cancel {\n  color: rgba(0, 0, 0, 0.85);\n}\n/deep/.van-picker__confirm {\n  color: #5ecfa8;\n}\n</style>\n"]}]}