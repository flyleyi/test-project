{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-front/views/resourceTask/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-front/views/resourceTask/index.vue","mtime":1645176309828},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZ2V0VGFza3NQYWdlLAogIGdldFRhc2tzQnlTdGFmZkNvZGUsCiAgcG9zdFJlY2VpdmVUYXNrLAogIGdldFRhc2tMaXN0VG9kYXksCiAgZGVsZXRlVGFzaywKICBpbnNlcnRUYXNrLAogIHVwZGF0ZVRhc2ssCiAgcmVsZWFzZVRhc2sKfSBmcm9tICdAL3BhZ2VzL3NoYXJlLXBsYXRmb3JtLWZyb250L2FwaS9yZXNvdXJjZVRhc2snOwppbXBvcnQgewogIGdldExhYmVsQWRqdXN0ZWQsCiAgZ2V0UmVhZE1lc3NhZ2UsCiAgZ2V0QWxsTGFibGVMaXN0LAogIGdldFNlY29uZExhYmxlTGlzdAp9IGZyb20gJ0AvcGFnZXMvc2hhcmUtcGxhdGZvcm0tZnJvbnQvYXBpL3VzZXInOwppbXBvcnQgewogIFBhZ2luYXRpb24sCiAgQ29sbGFwc2UsCiAgQ29sbGFwc2VJdGVtLAogIEJhZGdlLAogIERpYWxvZywKICBJbnB1dCwKICBTZWxlY3QsCiAgT3B0aW9uCn0gZnJvbSAnZWxlbWVudC11aSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUmVzb3VyY2VUYXNrJywKICBjb21wb25lbnRzOiB7CiAgICBbUGFnaW5hdGlvbi5uYW1lXTogUGFnaW5hdGlvbiwKICAgIFtDb2xsYXBzZS5uYW1lXTogQ29sbGFwc2UsCiAgICBbQ29sbGFwc2VJdGVtLm5hbWVdOiBDb2xsYXBzZUl0ZW0sCiAgICBbQmFkZ2UubmFtZV06IEJhZGdlLAogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLAogICAgW0lucHV0Lm5hbWVdOiBJbnB1dCwKICAgIFtTZWxlY3QubmFtZV06IFNlbGVjdCwKICAgIFtPcHRpb24ubmFtZV06IE9wdGlvbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGltYWdlbG9nbzogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9uZXdsb2dvLnBuZycpLAogICAgICBpbWdTcmNIb21lOiByZXF1aXJlKCcuLi8uLi9hc3NldHMvaW1hZ2VzL2hvbWUud2VicCcpLAogICAgICBpbWdTcmNPbmU6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvbmVlZC53ZWJwJyksCiAgICAgIGltZ1NyY1R3bzogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9tZXNzYWdlLndlYnAnKSwKICAgICAgaW1nU3JjVGhyZWU6IHJlcXVpcmUoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvcGVyc29uYWwud2VicCcpLAogICAgICBub1Jlc3VsdEltZzogcmVxdWlyZSgnLi4vLi4vYXNzZXRzL2ltYWdlcy9ub1Jlc3VsdC53ZWJwJyksCiAgICAgIC8vIOS7u+WKoeWIl+ihqAogICAgICB0YXNrTGlzdDogW10sCiAgICAgIC8vIOS+p+i+ueagh+etvuWIl+ihqAogICAgICBmaXJzdExhYmxlTGlzdFJlczogW10sCiAgICAgIC8vIOaMiemSrueKtuaAgeagh+ivhgogICAgICBjdXJyZW50SWQ6ICcnLAogICAgICAvLyDku7vliqFpZAogICAgICB0YXNrSWQ6ICcnLAogICAgICAvLyDmiJHnmoTku7vliqHmir3lsYkKICAgICAgdGFza0RyYXdlcjogZmFsc2UsCiAgICAgIC8vIOS4gOWkqeWGheWPkeW4g+eahOS7u+WKoeasoeaVsAogICAgICBwdXNoZWRUYXNrQ291bnQ6ICcnLAogICAgICAvLyDnlKjmiLfop5LoibIKICAgICAgYWNjb3VudFR5cGU6ICcnLAogICAgICBpc1Nob3c6IHRydWUsCiAgICAgIC8vIOinkuagh+agh+ivhgogICAgICBpc0FjdGl2ZTogdHJ1ZSwKICAgICAgaXNEb3Q6IGZhbHNlLAogICAgICBpc21lc3NhZ2VEb3Q6IGZhbHNlLAogICAgICBjdXJyZW50UGFnZTogMSwgLy/lvZPliY3pobXnoIEKICAgICAgcGFnZVNpemU6IDEwLCAvL+avj+mhteeahOaVsOaNruaVsOmHjwogICAgICAvLyDmiJHnmoTku7vliqHliJfooagKICAgICAgbXl0YXNrTGlzdDogW10sCiAgICAgIGlzUmVjSW5zZXJ0OiBmYWxzZSwKICAgICAgZm9yYmlkZGVuRGlhbG9nOiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UsIC8v5by556qX5piv5ZCm5Y+v6KeBCiAgICAgICAgZGlhbG9nVGl0bGU6ICflj5HluIPku7vliqEnLAogICAgICAgIGxvYWRpbmc6IGZhbHNlLCAvL+aYr+WQpuWcqOivt+axguS4rQogICAgICAgIHJlYXNvbjogJycsCiAgICAgICAgZmlyc3RMYWJsZVZhbHVlOiAnJywKICAgICAgICBzZWNvbmRMYWJsZVZhbHVlOiAnJywKICAgICAgICBvdGhlckZpc3RMYWJsZTogJycsCiAgICAgICAgb3RoZXJTZWNvbmRMYWJsZTogJycsCiAgICAgICAgLy8g5LiA57qn5qCH562+5YiX6KGoCiAgICAgICAgZmlyc3RMYWJsZU9wdGlvbnM6IFtdLAogICAgICAgIC8vIOS6jOe6p+agh+etvuWIl+ihqAogICAgICAgIHNlY29uZExhYmxlT3B0aW9uczogW10sCiAgICAgICAgaXNPdGhlclNlY29uZExhYmxlOiB0cnVlLAogICAgICAgIGlzT3RoZXJGaXJzdExhYmxlOiBmYWxzZSwKICAgICAgICBpc090aGVyU2Vjb25kTGFibGVJbnB1dDogZmFsc2UsCiAgICAgICAgcnVsZXM6IHsKICAgICAgICAgIC8v5qCh6aqM5pWI5p6cCiAgICAgICAgICBmaXJzdExhYmxlVmFsdWU6IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgICAgLy9tZXNzYWdlOiAn6K+35aGr5YaZ5a6M5pW05qCH562+5YaF5a65JwogICAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA57qn6LWE5rqQ5qCH562+JwogICAgICAgICAgfSwKICAgICAgICAgIG90aGVyRmlzdExhYmxlOiB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnkuIDnuqfotYTmupDmoIfnrb4nCiAgICAgICAgICB9LAogICAgICAgICAgb3RoZXJTZWNvbmRMYWJsZTogewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ5LqM57qn6LWE5rqQ5qCH562+JwogICAgICAgICAgfSwKICAgICAgICAgIHNlY29uZExhYmxlVmFsdWU6IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgICAgbWVzc2FnZTogJ+ivt+mAieaLqeS6jOe6p+i1hOa6kOagh+etvicKICAgICAgICAgIH0sCiAgICAgICAgICByZWFzb246IHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgICAgbWVzc2FnZTogJ+S7u+WKoee7huiKguaPj+i/sOacquWhq+WGmScKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5hY2NvdW50VHlwZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdhY2NvdW50VHlwZScpOwogICAgdGhpcy5nZXRTaWduVGlwKCk7CiAgICB0aGlzLmdldFRhc2tzKCk7CiAgfSwKICBtb3VudGVkKCkgewogICAgY29uc3QgcGFyYW1zID0gewogICAgICBsaW1pdDogdGhpcy5wYWdlU2l6ZSwKICAgICAgb2Zmc2V0OiB0aGlzLmN1cnJlbnRQYWdlCiAgICB9OwogICAgY29uc29sZS5sb2coJ3RoaXMuJHJvdXRlLnBhcmFtcy5pZCcsIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgICBpZiAoIXRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICB0aGlzLmN1cnJlbnRJZCA9ICcnOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jdXJyZW50SWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9CgogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCA9PSAn5YW25LuWJykgewogICAgICBwYXJhbXMuc2VhcmNoTmFtZSA9ICflhbbku5YnOwogICAgfSBlbHNlIHsKICAgICAgcGFyYW1zLnJlc291cmNlSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICB9CiAgICBnZXRUYXNrc1BhZ2UocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgIGlmICghcmVzLmRhdGEudmFsdWUpIHsKICAgICAgICB0aGlzLnRhc2tMaXN0ID0gW107CiAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRhc2tMaXN0ID0gcmVzLmRhdGEudmFsdWU7CiAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8v54K55Ye75Zu+5qCH6Lez6L2s6aG16Z2iCiAgICBnb1BhZ2Uoa2V5KSB7CiAgICAgIHN3aXRjaCAoa2V5KSB7CiAgICAgICAgY2FzZSAnMSc6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL1NlYXJjaCcpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMic6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL0RlbWFuZCcpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAnMyc6CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnL01lc3NhZ2UnKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgJzQnOgogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9QZXJzb25hbCcpOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KICAgIH0sCiAgICAvL+iOt+WPluS4quS6uuS4reW/g+aYr+WQpuacieW+heWKnuS6i+mhuQogICAgZ2V0U2lnblRpcCgpIHsKICAgICAgZ2V0TGFiZWxBZGp1c3RlZCh0aGlzLmFjY291bnRUeXBlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhID09ICcwJykgewogICAgICAgICAgdGhpcy5pc0RvdCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmlzRG90ID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBnZXRSZWFkTWVzc2FnZSh0aGlzLmFjY291bnRUeXBlKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5pc21lc3NhZ2VEb3QgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/pgIDlh7rnmbvlvZUKICAgIGFzeW5jIGxvZ091dCgpIHsKICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTsKICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3VzZXIvbG9nb3V0Jyk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbG9naW4/cmVkaXJlY3Q9JHt0aGlzLiRyb3V0ZS5mdWxsUGF0aH1gKTsKICAgIH0sCiAgICAvL+WIhumhteWIh+aNouavj+mhteaAu+adoeaVsAogICAgaGFuZGxlU2l6ZUNoYW5nZShwYWdlc2l6ZSkgewogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZXNpemU7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOwogICAgICBjb25zdCBwYXJhbXMgPSB7CiAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsCiAgICAgICAgb2Zmc2V0OiB0aGlzLmN1cnJlbnRQYWdlCiAgICAgIH07CiAgICAgIGdldFRhc2tzUGFnZShwYXJhbXMpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnRhc2tMaXN0ID0gcmVzLmRhdGEudmFsdWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5YiG6aG15YiH5o2i6aG156CBCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKGN1cnJlbnRQYWdlKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBjdXJyZW50UGFnZTsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIG9mZnNldDogKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIHRoaXMucGFnZVNpemUKICAgICAgfTsKICAgICAgZ2V0VGFza3NQYWdlKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFza0xpc3QgPSByZXMuZGF0YS52YWx1ZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5Lu75Yqh5YiX6KGo5p+l6K+iCiAgICBnZXRUYXNrcygpIHsKICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgIG9mZnNldDogdGhpcy5jdXJyZW50UGFnZQogICAgICB9OwogICAgICBnZXRUYXNrc1BhZ2UocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgaWYgKCFyZXMuZGF0YS52YWx1ZSkgewogICAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICAgIH0KICAgICAgICB0aGlzLmZpcnN0TGFibGVMaXN0UmVzID0gcmVzLmRhdGEua2V5OwogICAgICAgIHRoaXMuZmlyc3RMYWJsZUxpc3RSZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGlmIChpdGVtLnJlc291cmNlTmFtZSA9PSAn5YW25LuWJykgewogICAgICAgICAgICBpdGVtLmlkID0gJ+WFtuS7lic7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy50YXNrTGlzdCA9IHJlcy5kYXRhLnZhbHVlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDmjInpkq7liIfmjaIKICAgIGNoYW5nZVRhYihpdGVtKSB7CiAgICAgIGlmIChpdGVtID09PSAn5YWo6YOoJykgewogICAgICAgIHRoaXMuZmlsdGVyTGlzdCA9IFtdOwogICAgICAgIHRoaXMuY3VycmVudElkID0gJyc7CiAgICAgICAgdGhpcy5jdXJyZW50VGFiID0ge307CiAgICAgICAgdGhpcy5nZXRUYXNrcygpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZmlsdGVyTGlzdCA9IGl0ZW0uY2hpbGQ7CiAgICAgICAgdGhpcy5jdXJyZW50SWQgPSBpdGVtLmlkOwogICAgICAgIHRoaXMuY3VycmVudFRhYiA9IGl0ZW07CiAgICAgICAgY29uc3QgcGFyYW1zID0gewogICAgICAgICAgbGltaXQ6IHRoaXMucGFnZVNpemUsCiAgICAgICAgICBvZmZzZXQ6IHRoaXMuY3VycmVudFBhZ2UKICAgICAgICB9OwogICAgICAgIGlmIChpdGVtLnJlc291cmNlTmFtZSA9PSAn5YW25LuWJykgewogICAgICAgICAgcGFyYW1zLnNlYXJjaE5hbWUgPSAn5YW25LuWJzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcGFyYW1zLnJlc291cmNlSWQgPSBpdGVtLmlkOwogICAgICAgIH0KICAgICAgICBnZXRUYXNrc1BhZ2UocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAoIXJlcy5kYXRhLnZhbHVlKSB7CiAgICAgICAgICAgIHRoaXMudGFza0xpc3QgPSBbXTsKICAgICAgICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudGFza0xpc3QgPSByZXMuZGF0YS52YWx1ZTsKICAgICAgICAgICAgdGhpcy5pc1Nob3cgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g5oiR55qE5Lu75Yqh5oq95bGJ5bGV5byACiAgICBteVRhc2tCdG4oKSB7CiAgICAgIGdldFRhc2tzQnlTdGFmZkNvZGUodGhpcy5hY2NvdW50VHlwZSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhID09ICcnIHx8IHJlcy5kYXRhID09IG51bGwpIHsKICAgICAgICAgICAgdGhpcy5teXRhc2tMaXN0ID0gW107CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5oKo5pqC5peg6Ieq5bex55qE5Lu75Yqh6LWE5rqQIScKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm15dGFza0xpc3QgPSByZXMuZGF0YTsKICAgICAgICAgICAgdGhpcy50YXNrRHJhd2VyID0gdHJ1ZTsKICAgICAgICAgICAgLy8g5LiA5aSp5YaF5Y+R5biD55qE5Lu75Yqh5qyh5pWwCiAgICAgICAgICAgIGdldFRhc2tMaXN0VG9kYXkodGhpcy5hY2NvdW50VHlwZSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgIHRoaXMucHVzaGVkVGFza0NvdW50ID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOmihuWPluS7u+WKoQogICAgcmVjZWl2ZVRhc2soZGF0YSkgewogICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHsKICAgICAgICBpZDogZGF0YSwKICAgICAgICBhY2NvdW50VHlwZTogdGhpcy5hY2NvdW50VHlwZQogICAgICB9OwogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrprpooblj5bor6Xku7vliqHlkJc/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgcG9zdFJlY2VpdmVUYXNrKHF1ZXJ5UGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn6aKG5Y+W5oiQ5YqfIScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuZ2V0VGFza3MoKTsKICAgICAgICAgICAgdGhpcy5jdXJyZW50SWQgPSAnJzsKICAgICAgICAgIH0pOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojmk43kvZwhJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5Lu75YqhCiAgICBkZWxldGVUYXNrKGRhdGEpIHsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a5Yig6Zmk6K+l5Lu75Yqh5ZCXPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIGRlbGV0ZVRhc2soZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0aGlzLmdldFRhc2tzKCk7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIGdldFRhc2tzQnlTdGFmZkNvZGUodGhpcy5hY2NvdW50VHlwZSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlcy5kYXRhID09ICcnIHx8IHJlcy5kYXRhID09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgdGhpcy5teXRhc2tMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgIHRoaXMudGFza0RyYXdlciA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgdGhpcy5teXRhc2tMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkIScKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIC8vIOmHjeaWsOWPkeW4gwogICAgcmVJbnNlcnRUYXNrKGl0ZW0pIHsKICAgICAgY29uc3QgcXVlcnkgPSB7CiAgICAgICAgaWQ6IGl0ZW0uaWQsCiAgICAgICAgYWNjb3VudFR5cGU6IHRoaXMuYWNjb3VudFR5cGUKICAgICAgfTsKICAgICAgdGhpcy4kY29uZmlybSgn56Gu5a6a6YeN5paw5Y+R5biD6K+l5Lu75Yqh5ZCXPycsICfmj5DnpLonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHJlbGVhc2VUYXNrKHF1ZXJ5KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5Y+R5biD5oiQ5YqfIScKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMubXlUYXNrQnRuKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5pON5L2c5bey5Y+W5raIIScKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5omA5pyJ5LiA57qn5qCH562+5YiX6KGoCiAgICBnZXRBbGxGaXJzdExhYmxlKCkgewogICAgICBjb25zdCBxdWVyeUZpcnN0ID0gJzEnOyAvL+WFpeWPgjox44CB5LiA57qn77yMMuOAgeS6jOe6pwogICAgICBnZXRBbGxMYWJsZUxpc3QocXVlcnlGaXJzdCkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmZpcnN0TGFibGVPcHRpb25zID0gcmVzLmRhdGE7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuZmlyc3RMYWJsZU9wdGlvbnMucHVzaCh7CiAgICAgICAgICBpZDogJy0xMDAnLAogICAgICAgICAgcmVzb3VyY2VzTmFtZTogJyvlhbbku5YnCiAgICAgICAgfSk7IC8v5ou85o6l5LiA57qn4oCY5YW25LuW4oCZ6YCJ6aG5CiAgICAgIH0pOwogICAgfSwKICAgIC8v6YCJ5oup5LiA57G75qCH562+6Kem5Y+R5LqL5Lu2CiAgICBsYWJsZUNoYW5nZShkYXRhKSB7CiAgICAgIGxldCBvYmogPSB7fTsKICAgICAgb2JqID0gdGhpcy5mb3JiaWRkZW5EaWFsb2cuZmlyc3RMYWJsZU9wdGlvbnMuZmluZChpdGVtID0+IHsKICAgICAgICAvL+mBjeWOhuaVsOaNrua6kAogICAgICAgIHJldHVybiBpdGVtLmlkID09PSBkYXRhOyAvL+etm+mAieWHuuWMuemFjeaVsOaNrgogICAgICB9KTsKICAgICAgLy90aGlzLmZpcnN0TGFibGUgPSBvYmoucmVzb3VyY2VzTmFtZTsgLy/lvpfliLB2YWx1ZeWvueW6lOeahGxhYmxl5YC8CiAgICAgIC8v5qC55o2u5LiA57qn5qCH562+6I635Y+W5LqM57qn5YiX6KGoCiAgICAgIGdldFNlY29uZExhYmxlTGlzdChkYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuc2Vjb25kTGFibGVPcHRpb25zID0gcmVzLmRhdGE7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuc2Vjb25kTGFibGVPcHRpb25zLnB1c2goewogICAgICAgICAgaWQ6ICctMjAwJywKICAgICAgICAgIHJlc291cmNlc05hbWU6ICcr5YW25LuWJwogICAgICAgIH0pOyAvL+aLvOaOpeS6jOe6p+KAmOWFtuS7luKAmemAiemhuQogICAgICB9KTsKICAgICAgLy/mjqfliLZpbnB1dOahhuWSjOS6jOe6p+mAieaLqeahhueahOaYvuekuumakOiXjwogICAgICBpZiAoZGF0YSA9PSAnLTEwMCcpIHsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5pc090aGVyRmlyc3RMYWJsZSA9IHRydWU7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlclNlY29uZExhYmxlID0gZmFsc2U7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlclNlY29uZExhYmxlSW5wdXQgPSBmYWxzZTsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5zZWNvbmRMYWJsZVZhbHVlID0gJyc7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cub3RoZXJTZWNvbmRMYWJsZSA9ICcnOwogICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyRmlzdExhYmxlID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlckZpcnN0TGFibGUgPSBmYWxzZTsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5pc090aGVyU2Vjb25kTGFibGUgPSB0cnVlOwogICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmlzT3RoZXJTZWNvbmRMYWJsZUlucHV0ID0gZmFsc2U7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuc2Vjb25kTGFibGVWYWx1ZSA9ICcnOwogICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyU2Vjb25kTGFibGUgPSAnJzsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlckZpc3RMYWJsZSA9ICcnOwogICAgICB9CiAgICB9LAogICAgLy/pgInmi6nkuoznuqfmoIfnrb7op6blj5Hkuovku7YKICAgIGxhYmxlU2Vjb25kQ2hhbmdlKGRhdGEpIHsKICAgICAgbGV0IG9iaiA9IHt9OwogICAgICBvYmogPSB0aGlzLmZvcmJpZGRlbkRpYWxvZy5zZWNvbmRMYWJsZU9wdGlvbnMuZmluZChpdGVtID0+IHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PT0gZGF0YTsKICAgICAgfSk7CiAgICAgIC8vdGhpcy5zZWNvbmRMYWJsZSA9IG9iai5yZXNvdXJjZXNOYW1lOwogICAgICAvL+aOp+WItuS6jOe6p0lucHV05qGG5pi+56S66ZqQ6JePCiAgICAgIGlmIChkYXRhID09ICctMjAwJykgewogICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmlzT3RoZXJTZWNvbmRMYWJsZUlucHV0ID0gdHJ1ZTsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlclNlY29uZExhYmxlID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlclNlY29uZExhYmxlSW5wdXQgPSBmYWxzZTsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlclNlY29uZExhYmxlID0gJyc7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnvJbovpHku7vliqEKICAgIGNoYW5nZVRhc2soaXRlbSkgewogICAgICB0aGlzLmdldEFsbEZpcnN0TGFibGUoKTsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuZGlhbG9nVGl0bGUgPSAn57yW6L6R5Lu75YqhJzsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cucmVhc29uID0gaXRlbS50YXNrRGV0YWlsOwogICAgICB0aGlzLnRhc2tJZCA9IGl0ZW0uaWQ7CiAgICAgIGlmIChpdGVtLnN0YXR1cyA9PT0gMikgewogICAgICAgIHRoaXMuaXNSZWNJbnNlcnQgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNSZWNJbnNlcnQgPSBmYWxzZTsKICAgICAgfQogICAgICBpZiAoIWl0ZW0uZmlyc3RSZUlkKSB7CiAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuZmlyc3RMYWJsZVZhbHVlID0gJy0xMDAnOwogICAgICAgIHRoaXMubGFibGVDaGFuZ2UodGhpcy5mb3JiaWRkZW5EaWFsb2cuZmlyc3RMYWJsZVZhbHVlKTsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlckZpc3RMYWJsZSA9IGl0ZW0uZmlyc3RPdGhlcjsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlclNlY29uZExhYmxlID0gaXRlbS5zZWNvbmRPdGhlcjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5maXJzdExhYmxlVmFsdWUgPSBpdGVtLmZpcnN0UmVJZDsKICAgICAgICB0aGlzLmxhYmxlQ2hhbmdlKGl0ZW0uZmlyc3RSZUlkKTsKCiAgICAgICAgaWYgKCFpdGVtLnNlY29uZFJlSWQpIHsKICAgICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLnNlY29uZExhYmxlVmFsdWUgPSAnLTIwMCc7CiAgICAgICAgICB0aGlzLmxhYmxlU2Vjb25kQ2hhbmdlKCctMjAwJyk7CiAgICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlclNlY29uZExhYmxlID0gaXRlbS5zZWNvbmRPdGhlcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuc2Vjb25kTGFibGVWYWx1ZSA9IGl0ZW0uc2Vjb25kUmVJZDsKICAgICAgICAgIHRoaXMubGFibGVTZWNvbmRDaGFuZ2UoaXRlbS5zZWNvbmRSZUlkKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5Y+R5biD5Lu75YqhCiAgICBwdWJsaXNoVGFzaygpIHsKICAgICAgdGhpcy5nZXRBbGxGaXJzdExhYmxlKCk7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmRpYWxvZ1RpdGxlID0gJ+WPkeW4g+S7u+WKoSc7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIC8vIOW8ueeql+WFs+mXreWJjeiwg+eUqAogICAgYmVmb3JlQ2xvc2VGYkRpYWxvZyhkb25lKSB7CiAgICAgIGlmICh0aGlzLmZvcmJpZGRlbkRpYWxvZy5sb2FkaW5nKSByZXR1cm47CiAgICAgIHRoaXMuJHJlZnNbJ2ZiRGlhbG9nRm9ybSddLnJlc2V0RmllbGRzKCk7CiAgICAgIC8v6YeN572u5pWw5o2uCiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLnNlY29uZExhYmxlT3B0aW9ucyA9IFtdOwogICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlckZpc3RMYWJsZSA9ICcnOwogICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5vdGhlclNlY29uZExhYmxlID0gJyc7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLnNlY29uZExhYmxlVmFsdWUgPSAnJzsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuZmlyc3RMYWJsZVZhbHVlID0gJyc7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmlzT3RoZXJGaXJzdExhYmxlID0gZmFsc2U7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmlzT3RoZXJTZWNvbmRMYWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmlzT3RoZXJTZWNvbmRMYWJsZUlucHV0ID0gZmFsc2U7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLnJlYXNvbiA9ICcnOwogICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5kaWFsb2dUaXRsZSA9ICcnOwogICAgICB0aGlzLmlzUmVjSW5zZXJ0ID0gZmFsc2U7CiAgICAgIGRvbmUoKTsKICAgIH0sCiAgICAvLyDlvLnnqpflj5bmtojmk43kvZwKICAgIG9uQ2xvc2VGYkRpYWxvZygpIHsKICAgICAgaWYgKHRoaXMuZm9yYmlkZGVuRGlhbG9nLmxvYWRpbmcpIHJldHVybjsKICAgICAgdGhpcy4kcmVmc1snZmJEaWFsb2dGb3JtJ10ucmVzZXRGaWVsZHMoKTsKICAgICAgLy/ph43nva7mlbDmja4KICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuc2Vjb25kTGFibGVPcHRpb25zID0gW107CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyRmlzdExhYmxlID0gJyc7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyU2Vjb25kTGFibGUgPSAnJzsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuc2Vjb25kTGFibGVWYWx1ZSA9ICcnOwogICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5maXJzdExhYmxlVmFsdWUgPSAnJzsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlckZpcnN0TGFibGUgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlclNlY29uZExhYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuaXNPdGhlclNlY29uZExhYmxlSW5wdXQgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cucmVhc29uID0gJyc7CiAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLnZpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cuZGlhbG9nVGl0bGUgPSAnJzsKICAgICAgdGhpcy5pc1JlY0luc2VydCA9IGZhbHNlOwogICAgfSwKICAgIC8vIOaPkOS6pOWPkeW4g+S7u+WKoQogICAgb25TdWJtaXRGYkRpYWxvZygpIHsKICAgICAgdGhpcy4kcmVmc1snZmJEaWFsb2dGb3JtJ10udmFsaWRhdGUoKHZhbGlkLCBvYmopID0+IHsKICAgICAgICBpZiAoIXZhbGlkKSByZXR1cm47IC8vIOmDqOWIhui+k+WFpeahhuagoemqjOacqumAmui/hwogICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLmZvcmJpZGRlbkRpYWxvZy5kaWFsb2dUaXRsZSA9PT0gJ+WPkeW4g+S7u+WKoScpIHsKICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gewogICAgICAgICAgICBhY2NvdW50VHlwZTogdGhpcy5hY2NvdW50VHlwZSwKICAgICAgICAgICAgdGFza0RldGFpbDogdGhpcy5mb3JiaWRkZW5EaWFsb2cucmVhc29uCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHRoaXMuZm9yYmlkZGVuRGlhbG9nLmZpcnN0TGFibGVWYWx1ZSA9PSAnLTEwMCcpIHsKICAgICAgICAgICAgcXVlcnkuZmlyc3RPdGhlciA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyRmlzdExhYmxlOwogICAgICAgICAgICBxdWVyeS5zZWNvbmRPdGhlciA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyU2Vjb25kTGFibGU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBxdWVyeS5maXJzdFJlSWQgPSB0aGlzLmZvcmJpZGRlbkRpYWxvZy5maXJzdExhYmxlVmFsdWU7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcmJpZGRlbkRpYWxvZy5zZWNvbmRMYWJsZVZhbHVlID09ICctMjAwJykKICAgICAgICAgICAgICBxdWVyeS5zZWNvbmRPdGhlciA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyU2Vjb25kTGFibGU7CiAgICAgICAgICAgIGVsc2UgcXVlcnkuc2Vjb25kUmVJZCA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLnNlY29uZExhYmxlVmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgICBpbnNlcnRUYXNrKHF1ZXJ5KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcyAmJiByZXMuZXJyVHlwZSA9PSAnMScpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfmlrDlop7miJDlip8hJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vYWpheCB0ZXN0CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmdldFRhc2tzKCk7IC8v5o+Q5Lqk5LiA5qyh5Y2z5Yi35paw5YiX6KGoCiAgICAgICAgICAgICAgICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLm9uQ2xvc2VGYkRpYWxvZygpOwogICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgLy8gLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICAvLyAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgLy8gICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAvLyAgICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UKICAgICAgICAgIC8vICAgfSk7CiAgICAgICAgICAvLyAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIC8vIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zdCBxdWVyeSA9IHsKICAgICAgICAgICAgYWNjb3VudFR5cGU6IHRoaXMuYWNjb3VudFR5cGUsCiAgICAgICAgICAgIGlkOiB0aGlzLnRhc2tJZCwKICAgICAgICAgICAgdGFza0RldGFpbDogdGhpcy5mb3JiaWRkZW5EaWFsb2cucmVhc29uCiAgICAgICAgICB9OwogICAgICAgICAgaWYgKHRoaXMuZm9yYmlkZGVuRGlhbG9nLmZpcnN0TGFibGVWYWx1ZSA9PSAnLTEwMCcpIHsKICAgICAgICAgICAgcXVlcnkuZmlyc3RPdGhlciA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyRmlzdExhYmxlOwogICAgICAgICAgICBxdWVyeS5zZWNvbmRPdGhlciA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyU2Vjb25kTGFibGU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBxdWVyeS5maXJzdFJlSWQgPSB0aGlzLmZvcmJpZGRlbkRpYWxvZy5maXJzdExhYmxlVmFsdWU7CiAgICAgICAgICAgIGlmICh0aGlzLmZvcmJpZGRlbkRpYWxvZy5zZWNvbmRMYWJsZVZhbHVlID09ICctMjAwJykKICAgICAgICAgICAgICBxdWVyeS5zZWNvbmRPdGhlciA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLm90aGVyU2Vjb25kTGFibGU7CiAgICAgICAgICAgIGVsc2UgcXVlcnkuc2Vjb25kUmVJZCA9IHRoaXMuZm9yYmlkZGVuRGlhbG9nLnNlY29uZExhYmxlVmFsdWU7CiAgICAgICAgICB9CiAgICAgICAgICB1cGRhdGVUYXNrKHF1ZXJ5KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcyAmJiByZXMuZXJyVHlwZSA9PSAnMScpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfkv67mlLnmiJDlip8hJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIC8vYWpheCB0ZXN0CiAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLm15VGFza0J0bigpOyAvL+aPkOS6pOS4gOasoeWNs+WIt+aWsOWIl+ihqAogICAgICAgICAgICAgICAgdGhpcy5mb3JiaWRkZW5EaWFsb2cubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlRmJEaWFsb2coKTsKICAgICAgICAgICAgICB9LCA1MDApOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIC8vIC5jYXRjaChyZXMgPT4gewogICAgICAgICAgLy8gICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIC8vICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgLy8gICAgIG1lc3NhZ2U6IHJlcy5tZXNzYWdlCiAgICAgICAgICAvLyAgIH0pOwogICAgICAgICAgLy8gICB0aGlzLmZvcmJpZGRlbkRpYWxvZy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAvLyB9KTsKICAgICAgICAgIHRoaXMuZm9yYmlkZGVuRGlhbG9nLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/share-platform-front/views/resourceTask","sourcesContent":["<template>\n  <div class=\"main-box\">\n    <div class=\"head-background\">\n      <div class=\"logo-img\">\n        <a href=\"#\">\n          <img :src=\"imagelogo\" alt=\"\" @click=\"goPage('1')\" />\n        </a>\n      </div>\n      <div class=\"nav\">\n        <a href=\"#\">\n          <img\n            :src=\"imgSrcHome\"\n            alt=\"返回首页\"\n            title=\"返回首页\"\n            @click=\"goPage('1')\"\n          />\n        </a>\n        <a href=\"#\">\n          <img\n            :src=\"imgSrcOne\"\n            alt=\"我的需求\"\n            title=\"我的需求\"\n            @click=\"goPage('2')\"\n          />\n        </a>\n        <el-badge :is-dot=\"ismessageDot\">\n          <a href=\"#\">\n            <img\n              :src=\"imgSrcTwo\"\n              alt=\"我的消息\"\n              title=\"我的消息\"\n              @click=\"goPage('3')\"\n            />\n          </a>\n        </el-badge>\n        <el-badge :is-dot=\"isDot\">\n          <a href=\"#\">\n            <img\n              :src=\"imgSrcThree\"\n              alt=\"个人中心\"\n              title=\"个人中心\"\n              @click=\"goPage('4')\"\n            />\n          </a>\n        </el-badge>\n        <el-button type=\"primary\" size=\"mini\" @click.native=\"logOut\"\n          >退出</el-button\n        >\n      </div>\n    </div>\n    <div class=\"task-main\">\n      <div class=\"task-side\">\n        <!-- <div class=\"left-top\">搜索结果筛选</div> -->\n        <div\n          :class=\"['left-item', { active: currentId === '' }]\"\n          @click=\"changeTab('全部')\"\n        >\n          全部内容\n        </div>\n        <div\n          :class=\"['left-item', { active: currentId === item.id }]\"\n          v-for=\"(item, index) in firstLableListRes\"\n          :key=\"index\"\n          @click=\"changeTab(item)\"\n        >\n          {{ item.resourceName }}({{ item.count >= 100 ? '99+' : item.count }})\n        </div>\n      </div>\n      <div class=\"task-list\">\n        <div class=\"top-class\">\n          <div class=\"top-left\" v-if=\"isShow\">\n            共有{{ taskList.total }}个资源互助任务\n          </div>\n          <div class=\"top-right\">\n            <el-button type=\"\" size=\"mini\" @click=\"myTaskBtn\"\n              >我的任务</el-button\n            >\n            <el-button type=\"primary\" size=\"mini\" @click=\"publishTask\"\n              >发布任务</el-button\n            >\n          </div>\n        </div>\n        <!-- 无资源时显示 -->\n        <div v-if=\"!isShow\" class=\"no-result\">\n          <img :src=\"noResultImg\" alt=\"\" />\n          <p class=\"tips-font\">暂无相关资源</p>\n        </div>\n        <div v-else>\n          <el-card\n            class=\"task-card\"\n            shadow=\"hover\"\n            v-for=\"item in taskList.records\"\n            :key=\"item.id\"\n          >\n            <p class=\"task-title\">\n              {{ item.taskName }}\n            </p>\n            <p class=\"task-publisher\">发布人： {{ item.creatorName }}</p>\n            <p class=\"task-content\">\n              {{ item.taskDetail }}\n            </p>\n            <p class=\"task-time\">\n              <span style=\"\">发布时间： {{ item.createTime }}</span\n              ><el-button\n                style=\"float:right;\"\n                type=\"\"\n                size=\"mini\"\n                @click=\"receiveTask(item.id)\"\n                >领取</el-button\n              >\n            </p>\n          </el-card>\n        </div>\n      </div>\n    </div>\n    <div class=\"task-page\" v-if=\"isShow\">\n      <el-pagination\n        style=\"text-align:center;\"\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-sizes=\"[10, 20, 50, 100]\"\n        :page-size=\"pageSize\"\n        background\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"taskList.total\"\n      >\n      </el-pagination>\n    </div>\n    <!--我的任务列表 -->\n    <div class=\"task-popup\">\n      <el-drawer\n        title=\"我的任务\"\n        :visible.sync=\"taskDrawer\"\n        direction=\"rtl\"\n        size=\"550px\"\n      >\n        <div class=\"drawer-content\">\n          <div v-if=\"!mytaskList\">\n            <p>无数据</p>\n          </div>\n          <div v-if=\"mytaskList\">\n            <div class=\"draw-top-class\">\n              <p class=\"top-left\">共有{{ mytaskList.length }}个资源互助任务</p>\n              <div class=\"top-right\">\n                <p>今日已发布({{ pushedTaskCount }}/3)</p>\n              </div>\n            </div>\n            <el-card\n              class=\"task-drawer-card\"\n              shadow=\"hover\"\n              v-for=\"item in mytaskList\"\n              :key=\"item.id\"\n            >\n              <div class=\"task-drawe-title\">\n                <p class=\"task-title-left\">\n                  {{ item.taskName }}\n                </p>\n                <p class=\"task-status\">\n                  {{\n                    item.status === 3\n                      ? '已过期'\n                      : item.status === 2\n                      ? '审核不通过，已下架'\n                      : ''\n                  }}\n                </p>\n              </div>\n              <p class=\"task-publisher\">发布人： {{ item.creatorName }}</p>\n              <p class=\"task-drawer-content\">\n                {{ item.taskDetail }}\n              </p>\n              <div class=\"task-time\">\n                <span style=\"\">发布时间： {{ item.createTime }}</span>\n                <div style=\"float:right;\">\n                  <el-button\n                    type=\"\"\n                    v-if=\"item.status === 3\"\n                    size=\"mini\"\n                    @click=\"reInsertTask(item)\"\n                    >重新发布</el-button\n                  >\n                  <el-button\n                    type=\"\"\n                    v-if=\"item.status != 4\"\n                    size=\"mini\"\n                    @click=\"changeTask(item)\"\n                    >编辑</el-button\n                  >\n                  <el-button type=\"\" size=\"mini\" @click=\"deleteTask(item.id)\"\n                    >删除</el-button\n                  >\n                </div>\n              </div>\n            </el-card>\n          </div>\n        </div>\n      </el-drawer>\n    </div>\n    <!-- 新增任务弹窗 -->\n    <el-dialog\n      width=\"650px\"\n      center\n      :visible.sync=\"forbiddenDialog.visible\"\n      :title=\"forbiddenDialog.dialogTitle\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :before-close=\"beforeCloseFbDialog\"\n    >\n      <el-form\n        ref=\"fbDialogForm\"\n        :model=\"forbiddenDialog\"\n        :rules=\"forbiddenDialog.rules\"\n      >\n        <el-form-item prop=\"firstLableValue\">\n          <el-select\n            v-model=\"forbiddenDialog.firstLableValue\"\n            placeholder=\"一级资源任务标签\"\n            @change=\"lableChange\"\n          >\n            <el-option\n              v-for=\"item in forbiddenDialog.firstLableOptions\"\n              :key=\"item.id\"\n              :label=\"item.resourcesName\"\n              :value=\"item.id\"\n            >\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <div v-if=\"forbiddenDialog.isOtherFirstLable\" style=\"width:300px;\">\n          <el-form-item prop=\"otherFistLable\">\n            <el-input\n              v-model.trim=\"forbiddenDialog.otherFistLable\"\n              placeholder=\"自定义一级资源任务标签名\"\n              maxlength=\"5\"\n              show-word-limit\n            ></el-input>\n          </el-form-item>\n          <el-form-item prop=\"otherSecondLable\">\n            <el-input\n              v-model.trim=\"forbiddenDialog.otherSecondLable\"\n              placeholder=\"自定义二级资源任务标签名\"\n              maxlength=\"15\"\n              show-word-limit\n            ></el-input>\n          </el-form-item>\n        </div>\n        <div v-if=\"forbiddenDialog.isOtherSecondLable\">\n          <el-form-item prop=\"secondLableValue\">\n            <el-select\n              v-model=\"forbiddenDialog.secondLableValue\"\n              placeholder=\"二级资源任务标签\"\n              @change=\"lableSecondChange\"\n            >\n              <el-option\n                v-for=\"item in forbiddenDialog.secondLableOptions\"\n                :key=\"item.id\"\n                :label=\"item.resourcesName\"\n                :value=\"item.id\"\n              >\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </div>\n        <div\n          v-if=\"forbiddenDialog.isOtherSecondLableInput\"\n          style=\"width:300px;\"\n        >\n          <el-form-item prop=\"otherSecondLable\">\n            <el-input\n              v-model.trim=\"forbiddenDialog.otherSecondLable\"\n              placeholder=\"自定义二级资源任务标签名\"\n              maxlength=\"15\"\n              show-word-limit\n              @click:change=\"isShelfLable('secondB')\"\n            ></el-input>\n          </el-form-item>\n        </div>\n        <el-form-item prop=\"reason\">\n          <el-input\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"请填写您想寻求的资源帮助内容，描述尽可能详细！着急请备注时间节点（50字以内）\"\n            v-model=\"forbiddenDialog.reason\"\n            maxlength=\"50\"\n            show-word-limit\n          >\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"onCloseFbDialog\">取消</el-button>\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          :loading=\"forbiddenDialog.loading\"\n          @click.stop.prevent=\"onSubmitFbDialog\"\n          v-if=\"!isRecInsert\"\n          >确定</el-button\n        >\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          :loading=\"forbiddenDialog.loading\"\n          @click.stop.prevent=\"onSubmitFbDialog\"\n          v-if=\"isRecInsert\"\n          >重新发布</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  getTasksPage,\n  getTasksByStaffCode,\n  postReceiveTask,\n  getTaskListToday,\n  deleteTask,\n  insertTask,\n  updateTask,\n  releaseTask\n} from '@/pages/share-platform-front/api/resourceTask';\nimport {\n  getLabelAdjusted,\n  getReadMessage,\n  getAllLableList,\n  getSecondLableList\n} from '@/pages/share-platform-front/api/user';\nimport {\n  Pagination,\n  Collapse,\n  CollapseItem,\n  Badge,\n  Dialog,\n  Input,\n  Select,\n  Option\n} from 'element-ui';\nexport default {\n  name: 'ResourceTask',\n  components: {\n    [Pagination.name]: Pagination,\n    [Collapse.name]: Collapse,\n    [CollapseItem.name]: CollapseItem,\n    [Badge.name]: Badge,\n    [Dialog.name]: Dialog,\n    [Input.name]: Input,\n    [Select.name]: Select,\n    [Option.name]: Option\n  },\n  data() {\n    return {\n      imagelogo: require('../../assets/images/newlogo.png'),\n      imgSrcHome: require('../../assets/images/home.webp'),\n      imgSrcOne: require('../../assets/images/need.webp'),\n      imgSrcTwo: require('../../assets/images/message.webp'),\n      imgSrcThree: require('../../assets/images/personal.webp'),\n      noResultImg: require('../../assets/images/noResult.webp'),\n      // 任务列表\n      taskList: [],\n      // 侧边标签列表\n      firstLableListRes: [],\n      // 按钮状态标识\n      currentId: '',\n      // 任务id\n      taskId: '',\n      // 我的任务抽屉\n      taskDrawer: false,\n      // 一天内发布的任务次数\n      pushedTaskCount: '',\n      // 用户角色\n      accountType: '',\n      isShow: true,\n      // 角标标识\n      isActive: true,\n      isDot: false,\n      ismessageDot: false,\n      currentPage: 1, //当前页码\n      pageSize: 10, //每页的数据数量\n      // 我的任务列表\n      mytaskList: [],\n      isRecInsert: false,\n      forbiddenDialog: {\n        visible: false, //弹窗是否可见\n        dialogTitle: '发布任务',\n        loading: false, //是否在请求中\n        reason: '',\n        firstLableValue: '',\n        secondLableValue: '',\n        otherFistLable: '',\n        otherSecondLable: '',\n        // 一级标签列表\n        firstLableOptions: [],\n        // 二级标签列表\n        secondLableOptions: [],\n        isOtherSecondLable: true,\n        isOtherFirstLable: false,\n        isOtherSecondLableInput: false,\n        rules: {\n          //校验效果\n          firstLableValue: {\n            required: true,\n            trigger: 'blur',\n            //message: '请填写完整标签内容'\n            message: '请选择一级资源标签'\n          },\n          otherFistLable: {\n            required: true,\n            trigger: 'blur',\n            message: '请填写一级资源标签'\n          },\n          otherSecondLable: {\n            required: true,\n            trigger: 'blur',\n            message: '请填写二级资源标签'\n          },\n          secondLableValue: {\n            required: true,\n            trigger: 'blur',\n            message: '请选择二级资源标签'\n          },\n          reason: {\n            required: true,\n            trigger: 'blur',\n            message: '任务细节描述未填写'\n          }\n        }\n      }\n    };\n  },\n  created() {\n    this.accountType = window.sessionStorage.getItem('accountType');\n    this.getSignTip();\n    this.getTasks();\n  },\n  mounted() {\n    const params = {\n      limit: this.pageSize,\n      offset: this.currentPage\n    };\n    console.log('this.$route.params.id', this.$route.params.id);\n    if (!this.$route.params.id) {\n      this.currentId = '';\n    } else {\n      this.currentId = this.$route.params.id;\n    }\n\n    if (this.$route.params.id == '其他') {\n      params.searchName = '其他';\n    } else {\n      params.resourceId = this.$route.params.id;\n    }\n    getTasksPage(params).then(res => {\n      if (!res.data.value) {\n        this.taskList = [];\n        this.isShow = false;\n      } else {\n        this.taskList = res.data.value;\n        this.isShow = true;\n      }\n    });\n  },\n  methods: {\n    //点击图标跳转页面\n    goPage(key) {\n      switch (key) {\n        case '1':\n          this.$router.push('/Search');\n          break;\n        case '2':\n          this.$router.push('/Demand');\n          break;\n        case '3':\n          this.$router.push('/Message');\n          break;\n        case '4':\n          this.$router.push('/Personal');\n          break;\n      }\n    },\n    //获取个人中心是否有待办事项\n    getSignTip() {\n      getLabelAdjusted(this.accountType).then(res => {\n        if (res.data == '0') {\n          this.isDot = false;\n        } else {\n          this.isDot = true;\n        }\n      });\n      getReadMessage(this.accountType).then(res => {\n        if (res.data.length) {\n          this.ismessageDot = true;\n        }\n      });\n    },\n    //退出登录\n    async logOut() {\n      window.localStorage.clear();\n      window.sessionStorage.clear();\n      await this.$store.dispatch('user/logout');\n      this.$router.push(`/login?redirect=${this.$route.fullPath}`);\n    },\n    //分页切换每页总条数\n    handleSizeChange(pagesize) {\n      this.pageSize = pagesize;\n      this.currentPage = 1;\n      const params = {\n        limit: this.pageSize,\n        offset: this.currentPage\n      };\n      getTasksPage(params).then(res => {\n        this.taskList = res.data.value;\n      });\n    },\n    //分页切换页码\n    handleCurrentChange(currentPage) {\n      this.currentPage = currentPage;\n      const params = {\n        limit: this.pageSize,\n        offset: (this.currentPage - 1) * this.pageSize\n      };\n      getTasksPage(params).then(res => {\n        this.taskList = res.data.value;\n      });\n    },\n    // 任务列表查询\n    getTasks() {\n      const params = {\n        limit: this.pageSize,\n        offset: this.currentPage\n      };\n      getTasksPage(params).then(res => {\n        if (!res.data.value) {\n          this.isShow = false;\n        } else {\n          this.isShow = true;\n        }\n        this.firstLableListRes = res.data.key;\n        this.firstLableListRes.forEach(item => {\n          if (item.resourceName == '其他') {\n            item.id = '其他';\n          }\n        });\n        this.taskList = res.data.value;\n      });\n    },\n    // 按钮切换\n    changeTab(item) {\n      if (item === '全部') {\n        this.filterList = [];\n        this.currentId = '';\n        this.currentTab = {};\n        this.getTasks();\n      } else {\n        this.filterList = item.child;\n        this.currentId = item.id;\n        this.currentTab = item;\n        const params = {\n          limit: this.pageSize,\n          offset: this.currentPage\n        };\n        if (item.resourceName == '其他') {\n          params.searchName = '其他';\n        } else {\n          params.resourceId = item.id;\n        }\n        getTasksPage(params).then(res => {\n          if (!res.data.value) {\n            this.taskList = [];\n            this.isShow = false;\n          } else {\n            this.taskList = res.data.value;\n            this.isShow = true;\n          }\n        });\n      }\n    },\n    // 我的任务抽屉展开\n    myTaskBtn() {\n      getTasksByStaffCode(this.accountType)\n        .then(res => {\n          if (res.data == '' || res.data == null) {\n            this.mytaskList = [];\n            this.$message({\n              type: 'info',\n              message: '您暂无自己的任务资源!'\n            });\n          } else {\n            this.mytaskList = res.data;\n            this.taskDrawer = true;\n            // 一天内发布的任务次数\n            getTaskListToday(this.accountType).then(res => {\n              this.pushedTaskCount = res.data;\n            });\n          }\n        })\n        .catch(res => {\n          this.$message({\n            type: 'error',\n            message: res.message\n          });\n        });\n    },\n    // 领取任务\n    receiveTask(data) {\n      const queryParams = {\n        id: data,\n        accountType: this.accountType\n      };\n      this.$confirm('确定领取该任务吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          postReceiveTask(queryParams).then(res => {\n            this.$message({\n              type: 'success',\n              message: '领取成功!'\n            });\n            this.getTasks();\n            this.currentId = '';\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消操作!'\n          });\n        });\n    },\n    // 删除任务\n    deleteTask(data) {\n      this.$confirm('确定删除该任务吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          deleteTask(data).then(res => {\n            this.$message({\n              type: 'success',\n              message: '删除成功!'\n            });\n            this.getTasks();\n            setTimeout(() => {\n              getTasksByStaffCode(this.accountType).then(res => {\n                if (res.data == '' || res.data == null) {\n                  this.mytaskList = [];\n                  this.taskDrawer = false;\n                } else {\n                  this.mytaskList = res.data;\n                }\n              });\n            }, 500);\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除!'\n          });\n        });\n    },\n    // 重新发布\n    reInsertTask(item) {\n      const query = {\n        id: item.id,\n        accountType: this.accountType\n      };\n      this.$confirm('确定重新发布该任务吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => {\n          releaseTask(query).then(res => {\n            this.$message({\n              type: 'success',\n              message: '发布成功!'\n            });\n            this.myTaskBtn();\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '操作已取消!'\n          });\n        });\n    },\n    //获取所有一级标签列表\n    getAllFirstLable() {\n      const queryFirst = '1'; //入参:1、一级，2、二级\n      getAllLableList(queryFirst).then(res => {\n        this.forbiddenDialog.firstLableOptions = res.data;\n        this.forbiddenDialog.firstLableOptions.push({\n          id: '-100',\n          resourcesName: '+其他'\n        }); //拼接一级‘其他’选项\n      });\n    },\n    //选择一类标签触发事件\n    lableChange(data) {\n      let obj = {};\n      obj = this.forbiddenDialog.firstLableOptions.find(item => {\n        //遍历数据源\n        return item.id === data; //筛选出匹配数据\n      });\n      //this.firstLable = obj.resourcesName; //得到value对应的lable值\n      //根据一级标签获取二级列表\n      getSecondLableList(data).then(res => {\n        this.forbiddenDialog.secondLableOptions = res.data;\n        this.forbiddenDialog.secondLableOptions.push({\n          id: '-200',\n          resourcesName: '+其他'\n        }); //拼接二级‘其他’选项\n      });\n      //控制input框和二级选择框的显示隐藏\n      if (data == '-100') {\n        this.forbiddenDialog.isOtherFirstLable = true;\n        this.forbiddenDialog.isOtherSecondLable = false;\n        this.forbiddenDialog.isOtherSecondLableInput = false;\n        this.forbiddenDialog.secondLableValue = '';\n        this.forbiddenDialog.otherSecondLable = '';\n        this.forbiddenDialog.otherFistLable = '';\n      } else {\n        this.forbiddenDialog.isOtherFirstLable = false;\n        this.forbiddenDialog.isOtherSecondLable = true;\n        this.forbiddenDialog.isOtherSecondLableInput = false;\n        this.forbiddenDialog.secondLableValue = '';\n        this.forbiddenDialog.otherSecondLable = '';\n        this.forbiddenDialog.otherFistLable = '';\n      }\n    },\n    //选择二级标签触发事件\n    lableSecondChange(data) {\n      let obj = {};\n      obj = this.forbiddenDialog.secondLableOptions.find(item => {\n        return item.id === data;\n      });\n      //this.secondLable = obj.resourcesName;\n      //控制二级Input框显示隐藏\n      if (data == '-200') {\n        this.forbiddenDialog.isOtherSecondLableInput = true;\n        this.forbiddenDialog.otherSecondLable = '';\n      } else {\n        this.forbiddenDialog.isOtherSecondLableInput = false;\n        this.forbiddenDialog.otherSecondLable = '';\n      }\n    },\n    // 编辑任务\n    changeTask(item) {\n      this.getAllFirstLable();\n      this.forbiddenDialog.dialogTitle = '编辑任务';\n      this.forbiddenDialog.reason = item.taskDetail;\n      this.taskId = item.id;\n      if (item.status === 2) {\n        this.isRecInsert = true;\n      } else {\n        this.isRecInsert = false;\n      }\n      if (!item.firstReId) {\n        this.forbiddenDialog.firstLableValue = '-100';\n        this.lableChange(this.forbiddenDialog.firstLableValue);\n        this.forbiddenDialog.otherFistLable = item.firstOther;\n        this.forbiddenDialog.otherSecondLable = item.secondOther;\n      } else {\n        this.forbiddenDialog.firstLableValue = item.firstReId;\n        this.lableChange(item.firstReId);\n\n        if (!item.secondReId) {\n          this.forbiddenDialog.secondLableValue = '-200';\n          this.lableSecondChange('-200');\n          this.forbiddenDialog.otherSecondLable = item.secondOther;\n        } else {\n          this.forbiddenDialog.secondLableValue = item.secondReId;\n          this.lableSecondChange(item.secondReId);\n        }\n      }\n      this.forbiddenDialog.visible = true;\n    },\n    // 发布任务\n    publishTask() {\n      this.getAllFirstLable();\n      this.forbiddenDialog.dialogTitle = '发布任务';\n      this.forbiddenDialog.visible = true;\n    },\n    // 弹窗关闭前调用\n    beforeCloseFbDialog(done) {\n      if (this.forbiddenDialog.loading) return;\n      this.$refs['fbDialogForm'].resetFields();\n      //重置数据\n      this.forbiddenDialog.secondLableOptions = [];\n      this.forbiddenDialog.otherFistLable = '';\n      this.forbiddenDialog.otherSecondLable = '';\n      this.forbiddenDialog.secondLableValue = '';\n      this.forbiddenDialog.firstLableValue = '';\n      this.forbiddenDialog.isOtherFirstLable = false;\n      this.forbiddenDialog.isOtherSecondLable = true;\n      this.forbiddenDialog.isOtherSecondLableInput = false;\n      this.forbiddenDialog.reason = '';\n      this.forbiddenDialog.dialogTitle = '';\n      this.isRecInsert = false;\n      done();\n    },\n    // 弹窗取消操作\n    onCloseFbDialog() {\n      if (this.forbiddenDialog.loading) return;\n      this.$refs['fbDialogForm'].resetFields();\n      //重置数据\n      this.forbiddenDialog.secondLableOptions = [];\n      this.forbiddenDialog.otherFistLable = '';\n      this.forbiddenDialog.otherSecondLable = '';\n      this.forbiddenDialog.secondLableValue = '';\n      this.forbiddenDialog.firstLableValue = '';\n      this.forbiddenDialog.isOtherFirstLable = false;\n      this.forbiddenDialog.isOtherSecondLable = true;\n      this.forbiddenDialog.isOtherSecondLableInput = false;\n      this.forbiddenDialog.reason = '';\n      this.forbiddenDialog.visible = false;\n      this.forbiddenDialog.dialogTitle = '';\n      this.isRecInsert = false;\n    },\n    // 提交发布任务\n    onSubmitFbDialog() {\n      this.$refs['fbDialogForm'].validate((valid, obj) => {\n        if (!valid) return; // 部分输入框校验未通过\n        this.forbiddenDialog.loading = true;\n        if (this.forbiddenDialog.dialogTitle === '发布任务') {\n          const query = {\n            accountType: this.accountType,\n            taskDetail: this.forbiddenDialog.reason\n          };\n          if (this.forbiddenDialog.firstLableValue == '-100') {\n            query.firstOther = this.forbiddenDialog.otherFistLable;\n            query.secondOther = this.forbiddenDialog.otherSecondLable;\n          } else {\n            query.firstReId = this.forbiddenDialog.firstLableValue;\n            if (this.forbiddenDialog.secondLableValue == '-200')\n              query.secondOther = this.forbiddenDialog.otherSecondLable;\n            else query.secondReId = this.forbiddenDialog.secondLableValue;\n          }\n          insertTask(query).then(res => {\n            if (res.success && res.errType == '1') {\n              this.$message({\n                type: 'success',\n                message: '新增成功!'\n              });\n              //ajax test\n              setTimeout(() => {\n                this.getTasks(); //提交一次即刷新列表\n                this.forbiddenDialog.loading = false;\n                this.onCloseFbDialog();\n              }, 500);\n            }\n          });\n          this.forbiddenDialog.loading = false;\n          // .catch(res => {\n          //   this.$message({\n          //     type: 'error',\n          //     message: res.message\n          //   });\n          //   this.forbiddenDialog.loading = false;\n          // });\n        } else {\n          const query = {\n            accountType: this.accountType,\n            id: this.taskId,\n            taskDetail: this.forbiddenDialog.reason\n          };\n          if (this.forbiddenDialog.firstLableValue == '-100') {\n            query.firstOther = this.forbiddenDialog.otherFistLable;\n            query.secondOther = this.forbiddenDialog.otherSecondLable;\n          } else {\n            query.firstReId = this.forbiddenDialog.firstLableValue;\n            if (this.forbiddenDialog.secondLableValue == '-200')\n              query.secondOther = this.forbiddenDialog.otherSecondLable;\n            else query.secondReId = this.forbiddenDialog.secondLableValue;\n          }\n          updateTask(query).then(res => {\n            if (res.success && res.errType == '1') {\n              this.$message({\n                type: 'success',\n                message: '修改成功!'\n              });\n              //ajax test\n              setTimeout(() => {\n                this.myTaskBtn(); //提交一次即刷新列表\n                this.forbiddenDialog.loading = false;\n                this.onCloseFbDialog();\n              }, 500);\n            }\n          });\n          // .catch(res => {\n          //   this.$message({\n          //     type: 'error',\n          //     message: res.message\n          //   });\n          //   this.forbiddenDialog.loading = false;\n          // });\n          this.forbiddenDialog.loading = false;\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.main-box {\n  margin: 0;\n  padding: 0;\n}\n.head-background {\n  min-width: 800px;\n  background: url('../../assets/images/navbg.webp') no-repeat;\n  background-size: cover;\n}\n.logo-img {\n  display: inline-block;\n  margin-left: 20px;\n  padding: 10px 0;\n}\n.nav {\n  width: 350px;\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: 15px;\n  float: right;\n}\n.nav img {\n  width: 25px;\n  height: 25px;\n}\n.task-main {\n  padding-top: 20px;\n  padding-bottom: 50px;\n  width: 80vw;\n  min-width: 800px;\n  margin: auto;\n  display: flex;\n  //height: 80vh;\n}\n.tips-font {\n  margin-top: 10px;\n  font-size: 14px;\n  font-weight: bold;\n  color: rgba(17, 17, 17, 0.4);\n}\n.task-side {\n  width: 95px;\n  padding: 50px 5px 0;\n  text-align: center;\n  .left-top {\n    color: rgba(0, 0, 0, 0.45);\n    height: 50px;\n    line-height: 50px;\n    text-align: center;\n  }\n  .left-item {\n    background: #ffffff;\n    border-radius: 6px;\n    color: rgba(0, 0, 0, 0.65);\n    text-align: center;\n    height: 30px;\n    line-height: 30px;\n    font-size: 14px;\n    margin-bottom: 10px;\n    cursor: pointer;\n    border: 1px solid #fff;\n    box-shadow: 1px 1px 2px 2px #afc9ec1c;\n    &:hover {\n      box-shadow: 1px 1px 2px 2px #b7bfca77;\n      //color: #fff;\n    }\n  }\n  .active {\n    border: 1px solid #4393fd;\n    background: #4393fd;\n    color: #fff;\n  }\n}\n.task-list {\n  flex: 1;\n}\n.task-card {\n  display: inline-block;\n  width: 330px;\n  height: 190px;\n  margin: 10px;\n  font-size: 14px;\n}\n.task-drawer-card {\n  height: 170px;\n  margin: 10px;\n  font-size: 13px;\n}\n.task-publisher {\n  line-height: 28px;\n}\n.task-title {\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 35px;\n}\n.task-content {\n  height: 60px;\n  overflow: auto;\n}\n.task-drawe-title {\n  height: 28px;\n  line-height: 28px;\n  .task-title-left {\n    float: left;\n    font-size: 16px;\n    font-weight: 600;\n  }\n  .task-status {\n    float: right;\n    color: red;\n  }\n}\n.task-drawer-content {\n  height: 40px;\n  overflow: auto;\n}\n.task-time {\n  padding-top: 5px;\n  color: gray;\n  line-height: 30px;\n}\n.top-class {\n  height: 40px;\n  line-height: 40px;\n  padding-left: 12px;\n}\n.top-left {\n  float: left;\n}\n.top-right {\n  float: right;\n}\n.draw-top-class {\n  height: 20px;\n  line-height: 20px;\n  padding: 5px 12px 0;\n  color: gray;\n  min-width: 230px;\n}\n.task-page {\n  height: 50px;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  background: #fff;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.no-result {\n  margin-top: 100px;\n  margin-left: 40%;\n}\n/deep/.el-drawer__header {\n  margin-bottom: 10px;\n  text-align: center;\n  font-size: 14px;\n  font-weight: bold;\n  color: #000;\n}\n/deep/.el-drawer__body {\n  overflow: auto;\n  background-color: rgb(243, 242, 242);\n}\n</style>\n"]}]}