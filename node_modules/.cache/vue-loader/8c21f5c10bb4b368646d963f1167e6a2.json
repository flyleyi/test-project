{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/catering/views/system/User/components/PermissionAssign.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/catering/views/system/User/components/PermissionAssign.vue","mtime":1645178321130},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBub3JtYWxDaGVja2JveEljb24gZnJvbSAnQC9hc3NldHMvaW1hZ2VzL2ljb24vY2hlY2tib3gtbm9ybWFsLnBuZyc7CmltcG9ydCBzZWxlY3RlZENoZWNrYm94SWNvbiBmcm9tICdAL2Fzc2V0cy9pbWFnZXMvaWNvbi9jaGVja2JveC1zZWxlY3RlZC5wbmcnOwppbXBvcnQgeyBDaGVja2JveEdyb3VwIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7CiAgYmFzZVRyZWVXaXRoU2Nob29sLAogIHNhdmVCYXNlVHJlZVdpdGhTY2hvb2wsCiAgZ2V0VXNlclJvbGVzLAogIHVwZGF0ZVVzZXJSb2xlCn0gZnJvbSAnLi8uLi8uLi8uLi8uLi9hcGkvc3lzdGVtL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1Blcm1pc3Npb25Bc3NpZ24nLAogIGNvbXBvbmVudHM6IHsKICAgIFtDaGVja2JveEdyb3VwLm5hbWVdOiBDaGVja2JveEdyb3VwCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbm9ybWFsQ2hlY2tib3hJY29uOiBub3JtYWxDaGVja2JveEljb24sCiAgICAgIHNlbGVjdGVkQ2hlY2tib3hJY29uOiBzZWxlY3RlZENoZWNrYm94SWNvbiwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgcm9sZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dCh2bSA9PiB7CiAgICAgIHZtLmdldFRhYmxlRGF0YSgpOwogICAgICB2bS5nZXRVc2VyUm9sZXMoKTsKICAgIH0pOwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIC8vIHRoaXMudHJhbnNmb3JtRGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0VGFibGVEYXRhKCkgewogICAgICBpZiAoIXRoaXMuJHJvdXRlLnF1ZXJ5LnN0YWZmQ29kZSkgcmV0dXJuOwogICAgICBiYXNlVHJlZVdpdGhTY2hvb2woeyBzdGFmZkNvZGU6IHRoaXMuJHJvdXRlLnF1ZXJ5LnN0YWZmQ29kZSB9KS50aGVuKAogICAgICAgIHJlcyA9PiB7CiAgICAgICAgICBjb25zdCByZXNEYXRhID0gcmVzLmRhdGEgfHwgW107CiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEocmVzRGF0YSk7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIHRyYW5zZm9ybURhdGEocmVzRGF0YSkgewogICAgICBsZXQgdGFibGVEYXRhID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVzRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVzRGF0YVtpXS5jaGlsZExpc3QubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcmVzRGF0YVtpXS5jaGlsZExpc3Rbal0uY2hpbGRMaXN0Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgIGZvciAoCiAgICAgICAgICAgICAgbGV0IGwgPSAwOwogICAgICAgICAgICAgIGwgPCByZXNEYXRhW2ldLmNoaWxkTGlzdFtqXS5jaGlsZExpc3Rba10uc2Nob29sTGlzdC5sZW5ndGg7CiAgICAgICAgICAgICAgbCsrCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIGxldCBzY2hvb2xCcmFuY2hMaXN0ID0gW107CiAgICAgICAgICAgICAgZm9yICgKICAgICAgICAgICAgICAgIGxldCBtID0gMDsKICAgICAgICAgICAgICAgIG0gPAogICAgICAgICAgICAgICAgcmVzRGF0YVtpXS5jaGlsZExpc3Rbal0uY2hpbGRMaXN0W2tdLnNjaG9vbExpc3RbbF0KICAgICAgICAgICAgICAgICAgLnNjaG9vbEJyYW5jaFJlc3BEdG9MaXN0Lmxlbmd0aDsKICAgICAgICAgICAgICAgIG0rKwogICAgICAgICAgICAgICkgewogICAgICAgICAgICAgICAgc2Nob29sQnJhbmNoTGlzdC5wdXNoKHsKICAgICAgICAgICAgICAgICAgc2Nob29sQnJhbmNoTmFtZToKICAgICAgICAgICAgICAgICAgICByZXNEYXRhW2ldLmNoaWxkTGlzdFtqXS5jaGlsZExpc3Rba10uc2Nob29sTGlzdFtsXQogICAgICAgICAgICAgICAgICAgICAgLnNjaG9vbEJyYW5jaFJlc3BEdG9MaXN0W21dLm5hbWUsCiAgICAgICAgICAgICAgICAgIHNjaG9vbEJyYW5jaElkOgogICAgICAgICAgICAgICAgICAgIHJlc0RhdGFbaV0uY2hpbGRMaXN0W2pdLmNoaWxkTGlzdFtrXS5zY2hvb2xMaXN0W2xdCiAgICAgICAgICAgICAgICAgICAgICAuc2Nob29sQnJhbmNoUmVzcER0b0xpc3RbbV0uaWQsCiAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOgogICAgICAgICAgICAgICAgICAgIHJlc0RhdGFbaV0uY2hpbGRMaXN0W2pdLmNoaWxkTGlzdFtrXS5zY2hvb2xMaXN0W2xdCiAgICAgICAgICAgICAgICAgICAgICAuc2Nob29sQnJhbmNoUmVzcER0b0xpc3RbbV0uaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHRhYmxlRGF0YS5wdXNoKHsKICAgICAgICAgICAgICAgIHByb3ZpbmNlOiByZXNEYXRhW2ldLm5hbWUsCiAgICAgICAgICAgICAgICBwcm92aW5jZUlkOiByZXNEYXRhW2ldLmlkLAogICAgICAgICAgICAgICAgcHJvdmluY2VTZWxlY3RlZDoKICAgICAgICAgICAgICAgICAgcmVzRGF0YVtpXS5jaGlsZExpc3Rbal0uY2hpbGRMaXN0W2tdLnNjaG9vbExpc3RbbF0uaXNTZWxlY3RlZCwKICAgICAgICAgICAgICAgIHByb3ZpbmNlSGlkZGVuOiBqICE9PSAwIHx8IGsgIT09IDAgfHwgbCAhPSAwLAogICAgICAgICAgICAgICAgY2l0eTogcmVzRGF0YVtpXS5jaGlsZExpc3Rbal0ubmFtZSwKICAgICAgICAgICAgICAgIGNpdHlJZDogcmVzRGF0YVtpXS5jaGlsZExpc3Rbal0uaWQsCiAgICAgICAgICAgICAgICBjaXR5SGlkZGVuOiBrICE9PSAwIHx8IGwgIT0gMCwKICAgICAgICAgICAgICAgIGNpdHlTZWxlY3RlZDoKICAgICAgICAgICAgICAgICAgcmVzRGF0YVtpXS5jaGlsZExpc3Rbal0uY2hpbGRMaXN0W2tdLnNjaG9vbExpc3RbbF0uaXNTZWxlY3RlZCwKICAgICAgICAgICAgICAgIGRpc3RyaWN0OiByZXNEYXRhW2ldLmNoaWxkTGlzdFtqXS5jaGlsZExpc3Rba10ubmFtZSwKICAgICAgICAgICAgICAgIGRpc3RyaWN0SWQ6IHJlc0RhdGFbaV0uY2hpbGRMaXN0W2pdLmNoaWxkTGlzdFtrXS5pZCwKICAgICAgICAgICAgICAgIGRpc3RyaWN0SGlkZGVuOiBsICE9IDAsCiAgICAgICAgICAgICAgICBkaXN0cmljdFNlbGVjdGVkOgogICAgICAgICAgICAgICAgICByZXNEYXRhW2ldLmNoaWxkTGlzdFtqXS5jaGlsZExpc3Rba10uc2Nob29sTGlzdFtsXS5pc1NlbGVjdGVkLAogICAgICAgICAgICAgICAgc2Nob29sOiByZXNEYXRhW2ldLmNoaWxkTGlzdFtqXS5jaGlsZExpc3Rba10uc2Nob29sTGlzdFtsXS5uYW1lLAogICAgICAgICAgICAgICAgc2Nob29sSWQ6IHJlc0RhdGFbaV0uY2hpbGRMaXN0W2pdLmNoaWxkTGlzdFtrXS5zY2hvb2xMaXN0W2xdLmlkLAogICAgICAgICAgICAgICAgc2Nob29sU2VsZWN0ZWQ6CiAgICAgICAgICAgICAgICAgIHJlc0RhdGFbaV0uY2hpbGRMaXN0W2pdLmNoaWxkTGlzdFtrXS5zY2hvb2xMaXN0W2xdLmlzU2VsZWN0ZWQsCiAgICAgICAgICAgICAgICBzY2hvb2xCcmFuY2hMaXN0OiBzY2hvb2xCcmFuY2hMaXN0CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgdGFibGVEYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgaXRlbS5wcm92aW5jZVNlbGVjdGVkID0gdGFibGVEYXRhCiAgICAgICAgICAuZmlsdGVyKGl0ID0+IGl0ZW0ucHJvdmluY2VJZCA9PT0gaXQucHJvdmluY2VJZCkKICAgICAgICAgIC5zb21lKHByb3ZpbmNlID0+IHByb3ZpbmNlLnByb3ZpbmNlU2VsZWN0ZWQpOwogICAgICAgIGl0ZW0uY2l0eVNlbGVjdGVkID0gdGFibGVEYXRhCiAgICAgICAgICAuZmlsdGVyKGl0ID0+IGl0ZW0uY2l0eUlkID09PSBpdC5jaXR5SWQpCiAgICAgICAgICAuc29tZShjaXR5ID0+IGNpdHkuY2l0eVNlbGVjdGVkKTsKICAgICAgICBpdGVtLmRpc3RyaWN0U2VsZWN0ZWQgPSB0YWJsZURhdGEKICAgICAgICAgIC5maWx0ZXIoaXQgPT4gaXRlbS5kaXN0cmljdElkID09PSBpdC5kaXN0cmljdElkKQogICAgICAgICAgLnNvbWUoZGlzdHJpY3QgPT4gZGlzdHJpY3QuZGlzdHJpY3RTZWxlY3RlZCk7CiAgICAgIH0pOwogICAgICB0aGlzLnRhYmxlRGF0YSA9IHRhYmxlRGF0YTsKICAgIH0sCiAgICBjaGVja1Byb3ZpbmNlKGluZGV4LCBuZWVkQ2hpbGQgPSB0cnVlKSB7CiAgICAgIGxldCBzdGF0dXMgPSAhdGhpcy50YWJsZURhdGFbaW5kZXhdLnByb3ZpbmNlU2VsZWN0ZWQ7CiAgICAgIGxldCBwcm92aW5jZSA9IHRoaXMudGFibGVEYXRhW2luZGV4XS5wcm92aW5jZTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhYmxlRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5wcm92aW5jZSA9PT0gcHJvdmluY2UpIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLnByb3ZpbmNlU2VsZWN0ZWQgPSBzdGF0dXM7CiAgICAgICAgICBpZiAobmVlZENoaWxkKSB7CiAgICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLmNpdHlTZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uZGlzdHJpY3RTZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uc2Nob29sU2VsZWN0ZWQgPSBzdGF0dXM7CiAgICAgICAgICAgIGZvciAoCiAgICAgICAgICAgICAgbGV0IGogPSAwOwogICAgICAgICAgICAgIGogPCB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0Lmxlbmd0aDsKICAgICAgICAgICAgICBqKysKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uc2Nob29sQnJhbmNoTGlzdFtqXS5zZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrQ2l0eShpbmRleCwgbmVlZENoaWxkID0gdHJ1ZSkgewogICAgICBsZXQgc3RhdHVzID0gIXRoaXMudGFibGVEYXRhW2luZGV4XS5jaXR5U2VsZWN0ZWQ7CiAgICAgIGxldCBwcm92aW5jZUlkID0gdGhpcy50YWJsZURhdGFbaW5kZXhdLnByb3ZpbmNlSWQ7CiAgICAgIGxldCBjaXR5SWQgPSB0aGlzLnRhYmxlRGF0YVtpbmRleF0uY2l0eUlkOwogICAgICBsZXQgcHJvdmluY2VJbmRleCA9IHRoaXMudGFibGVEYXRhLmZpbmRJbmRleCgKICAgICAgICBpdGVtID0+IGl0ZW0ucHJvdmluY2VJZCA9PT0gcHJvdmluY2VJZAogICAgICApOwogICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGFibGVEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKAogICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0ucHJvdmluY2VJZCA9PT0gcHJvdmluY2VJZCAmJgogICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uY2l0eUlkID09PSBjaXR5SWQKICAgICAgICApIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLmNpdHlTZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgIGlmIChuZWVkQ2hpbGQpIHsKICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uZGlzdHJpY3RTZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uc2Nob29sU2VsZWN0ZWQgPSBzdGF0dXM7CiAgICAgICAgICAgIGZvciAoCiAgICAgICAgICAgICAgbGV0IGogPSAwOwogICAgICAgICAgICAgIGogPCB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0Lmxlbmd0aDsKICAgICAgICAgICAgICBqKysKICAgICAgICAgICAgKSB7CiAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGFbaV0uc2Nob29sQnJhbmNoTGlzdFtqXS5zZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoc3RhdHVzKSB7CiAgICAgICAgaWYgKCF0aGlzLnRhYmxlRGF0YVtwcm92aW5jZUluZGV4XS5wcm92aW5jZVNlbGVjdGVkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrUHJvdmluY2UocHJvdmluY2VJbmRleCwgZmFsc2UpOwogICAgICAgICAgLy8gdGhpcy50YWJsZURhdGFbY2l0eUluZGV4XS5jaXR5U2VsZWN0ZWQgPSBzdGF0dXM7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBjaXR5TGlzdCA9IHRoaXMudGFibGVEYXRhLmZpbHRlcigKICAgICAgICAgIGl0ZW0gPT4gaXRlbS5wcm92aW5jZUlkID09PSBwcm92aW5jZUlkCiAgICAgICAgKTsKICAgICAgICBsZXQgYWxsQ2l0eVNlbGVjdCA9IGNpdHlMaXN0LmV2ZXJ5KGl0ZW0gPT4gIWl0ZW0uY2l0eVNlbGVjdGVkKTsKICAgICAgICBpZiAoYWxsQ2l0eVNlbGVjdCkgewogICAgICAgICAgdGhpcy5jaGVja1Byb3ZpbmNlKHByb3ZpbmNlSW5kZXgsIGZhbHNlKTsKICAgICAgICAgIC8vIHRoaXMudGFibGVEYXRhW2NpdHlJbmRleF0uY2l0eVNlbGVjdGVkID0gc3RhdHVzOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrRGlzdHJpY3QoaW5kZXgsIG5lZWRDaGlsZCA9IHRydWUpIHsKICAgICAgbGV0IHN0YXR1cyA9ICF0aGlzLnRhYmxlRGF0YVtpbmRleF0uZGlzdHJpY3RTZWxlY3RlZDsKICAgICAgbGV0IHByb3ZpbmNlSWQgPSB0aGlzLnRhYmxlRGF0YVtpbmRleF0ucHJvdmluY2VJZDsKICAgICAgbGV0IGNpdHlJZCA9IHRoaXMudGFibGVEYXRhW2luZGV4XS5jaXR5SWQ7CiAgICAgIGxldCBkaXN0cmljdElkID0gdGhpcy50YWJsZURhdGFbaW5kZXhdLmRpc3RyaWN0SWQ7CiAgICAgIGxldCBjaXR5SW5kZXggPSB0aGlzLnRhYmxlRGF0YS5maW5kSW5kZXgoaXRlbSA9PiBpdGVtLmNpdHlJZCA9PT0gY2l0eUlkKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhYmxlRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICgKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLnByb3ZpbmNlSWQgPT09IHByb3ZpbmNlSWQgJiYKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLmNpdHlJZCA9PT0gY2l0eUlkICYmCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5kaXN0cmljdElkID09PSBkaXN0cmljdElkCiAgICAgICAgKSB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5kaXN0cmljdFNlbGVjdGVkID0gc3RhdHVzOwogICAgICAgICAgaWYgKG5lZWRDaGlsZCkgewogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xTZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICAgICAgZm9yICgKICAgICAgICAgICAgICBsZXQgaiA9IDA7CiAgICAgICAgICAgICAgaiA8IHRoaXMudGFibGVEYXRhW2ldLnNjaG9vbEJyYW5jaExpc3QubGVuZ3RoOwogICAgICAgICAgICAgIGorKwogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0W2pdLnNlbGVjdGVkID0gc3RhdHVzOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICBpZiAoIXRoaXMudGFibGVEYXRhW2NpdHlJbmRleF0uY2l0eVNlbGVjdGVkKSB7CiAgICAgICAgICB0aGlzLmNoZWNrQ2l0eShjaXR5SW5kZXgsIGZhbHNlKTsKICAgICAgICAgIC8vIHRoaXMudGFibGVEYXRhW2NpdHlJbmRleF0uY2l0eVNlbGVjdGVkID0gc3RhdHVzOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBsZXQgZGlzdHJpY3RMaXN0ID0gdGhpcy50YWJsZURhdGEuZmlsdGVyKAogICAgICAgICAgaXRlbSA9PiBpdGVtLmNpdHlJZCA9PT0gY2l0eUlkCiAgICAgICAgKTsKICAgICAgICBsZXQgYWxsRGlzdHJpY3RTZWxlY3QgPSBkaXN0cmljdExpc3QuZXZlcnkoCiAgICAgICAgICBpdGVtID0+ICFpdGVtLmRpc3RyaWN0U2VsZWN0ZWQKICAgICAgICApOwogICAgICAgIGlmIChhbGxEaXN0cmljdFNlbGVjdCkgewogICAgICAgICAgdGhpcy5jaGVja0NpdHkoY2l0eUluZGV4LCBmYWxzZSk7CiAgICAgICAgICAvLyB0aGlzLnRhYmxlRGF0YVtjaXR5SW5kZXhdLmNpdHlTZWxlY3RlZCA9IHN0YXR1czsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjaGVja1NjaG9vbChpbmRleCwgbmVlZENoaWxkID0gdHJ1ZSkgewogICAgICBsZXQgc3RhdHVzID0gIXRoaXMudGFibGVEYXRhW2luZGV4XS5zY2hvb2xTZWxlY3RlZDsKICAgICAgbGV0IHByb3ZpbmNlSWQgPSB0aGlzLnRhYmxlRGF0YVtpbmRleF0ucHJvdmluY2VJZDsKICAgICAgbGV0IGNpdHlJZCA9IHRoaXMudGFibGVEYXRhW2luZGV4XS5jaXR5SWQ7CiAgICAgIGxldCBkaXN0cmljdElkID0gdGhpcy50YWJsZURhdGFbaW5kZXhdLmRpc3RyaWN0SWQ7CiAgICAgIGxldCBzY2hvb2xJZCA9IHRoaXMudGFibGVEYXRhW2luZGV4XS5zY2hvb2xJZDsKICAgICAgbGV0IGRpc3RyaWN0SW5kZXggPSB0aGlzLnRhYmxlRGF0YS5maW5kSW5kZXgoCiAgICAgICAgaXRlbSA9PiBpdGVtLmRpc3RyaWN0SWQgPT09IGRpc3RyaWN0SWQKICAgICAgKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRhYmxlRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICgKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLnByb3ZpbmNlSWQgPT09IHByb3ZpbmNlSWQgJiYKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldLmNpdHlJZCA9PT0gY2l0eUlkICYmCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5kaXN0cmljdElkID09PSBkaXN0cmljdElkICYmCiAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xJZCA9PT0gc2Nob29sSWQKICAgICAgICApIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhW2ldID0gT2JqZWN0LmFzc2lnbih0aGlzLnRhYmxlRGF0YVtpXSwgewogICAgICAgICAgICBzY2hvb2xTZWxlY3RlZDogc3RhdHVzCiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChuZWVkQ2hpbGQpIHsKICAgICAgICAgICAgZm9yICgKICAgICAgICAgICAgICBsZXQgaiA9IDA7CiAgICAgICAgICAgICAgaiA8IHRoaXMudGFibGVEYXRhW2ldLnNjaG9vbEJyYW5jaExpc3QubGVuZ3RoOwogICAgICAgICAgICAgIGorKwogICAgICAgICAgICApIHsKICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0W2pdLnNlbGVjdGVkID0gc3RhdHVzOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChzdGF0dXMpIHsKICAgICAgICBpZiAoIXRoaXMudGFibGVEYXRhW2Rpc3RyaWN0SW5kZXhdLmRpc3RyaWN0U2VsZWN0ZWQpIHsKICAgICAgICAgIHRoaXMuY2hlY2tEaXN0cmljdChkaXN0cmljdEluZGV4LCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGxldCBzY2hvb2xMaXN0ID0gdGhpcy50YWJsZURhdGEuZmlsdGVyKAogICAgICAgICAgaXRlbSA9PiBpdGVtLmRpc3RyaWN0SWQgPT09IGRpc3RyaWN0SWQKICAgICAgICApOwogICAgICAgIGxldCBhbGxTY2hvb2xOb1NlbGVjdCA9IHNjaG9vbExpc3QuZXZlcnkoaXRlbSA9PiAhaXRlbS5zY2hvb2xTZWxlY3RlZCk7CiAgICAgICAgaWYgKGFsbFNjaG9vbE5vU2VsZWN0KSB7CiAgICAgICAgICB0aGlzLmNoZWNrRGlzdHJpY3QoZGlzdHJpY3RJbmRleCwgZmFsc2UpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGNoZWNrU2Nob29sQnJhbmNoKHBhcnRlbnRJbmRleCwgaW5kZXgpIHsKICAgICAgY29uc3Qgc3RhdHVzID0gIXRoaXMudGFibGVEYXRhW3BhcnRlbnRJbmRleF0uc2Nob29sQnJhbmNoTGlzdFtpbmRleF0KICAgICAgICAuc2VsZWN0ZWQ7CiAgICAgIGxldCBkaXN0cmljdElkID0gdGhpcy50YWJsZURhdGFbcGFydGVudEluZGV4XS5kaXN0cmljdElkOwogICAgICBsZXQgY2l0eUlkID0gdGhpcy50YWJsZURhdGFbcGFydGVudEluZGV4XS5jaXR5SWQ7CiAgICAgIGxldCBwcm92aW5jZUlkID0gdGhpcy50YWJsZURhdGFbcGFydGVudEluZGV4XS5wcm92aW5jZUlkOwoKICAgICAgdGhpcy50YWJsZURhdGFbcGFydGVudEluZGV4XS5zY2hvb2xCcmFuY2hMaXN0W2luZGV4XS5zZWxlY3RlZCA9IHN0YXR1czsKICAgICAgaWYgKHN0YXR1cykgewogICAgICAgIGlmICghdGhpcy50YWJsZURhdGFbcGFydGVudEluZGV4XS5zY2hvb2xTZWxlY3RlZCkgewogICAgICAgICAgdGhpcy5jaGVja1NjaG9vbChwYXJ0ZW50SW5kZXgsIGZhbHNlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGV0IGFsbFNjaG9vbEJyYW5jaExpc3ROb1NlbGVjdCA9IHRoaXMudGFibGVEYXRhWwogICAgICAgICAgcGFydGVudEluZGV4CiAgICAgICAgXS5zY2hvb2xCcmFuY2hMaXN0LmV2ZXJ5KGl0ZW0gPT4gIWl0ZW0uc2VsZWN0ZWQpOwogICAgICAgIGlmIChhbGxTY2hvb2xCcmFuY2hMaXN0Tm9TZWxlY3QpIHsKICAgICAgICAgIHRoaXMuY2hlY2tTY2hvb2wocGFydGVudEluZGV4LCBmYWxzZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgc2F2ZVJvbGUoKSB7CiAgICAgIGxldCBhcnIgPSB0aGlzLnJvbGVMaXN0OwogICAgICBsZXQgbGlzdCA9IGFyci5tYXAoaXRlbSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHJvbGVJZDogaXRlbS5yb2xlSWQsCiAgICAgICAgICBzdGFmZklkOiB0aGlzLiRyb3V0ZS5xdWVyeS5zdGFmZklkLAogICAgICAgICAgZGVsZXRlZDogaXRlbS5lbmFibGUgPyBmYWxzZSA6IHRydWUKICAgICAgICB9OwogICAgICB9KTsKICAgICAgdXBkYXRlVXNlclJvbGUobGlzdCkudGhlbihyZXMgPT4gewogICAgICAgIC8vIHRoaXMuJG1lc3NhZ2UoewogICAgICAgIC8vICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgIC8vICAgbWVzc2FnZTogcmVzLm1lc3NhZ2UKICAgICAgICAvLyB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVBlcm1pc3Npb24oKSB7CiAgICAgIGxldCBzdWJMaXN0ID0gW107CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50YWJsZURhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMudGFibGVEYXRhW2ldLnNjaG9vbEJyYW5jaExpc3QubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIGxldCBhcnIgPSB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0LmZpbHRlcigKICAgICAgICAgICAgaXRlbSA9PiAhaXRlbS5zZWxlY3RlZAogICAgICAgICAgKTsKICAgICAgICAgIGlmICh0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0W2pdLnNlbGVjdGVkKSB7CiAgICAgICAgICAgIHN1Ykxpc3QucHVzaCh7CiAgICAgICAgICAgICAgc2Nob29sSWQ6IHRoaXMudGFibGVEYXRhW2ldLnNjaG9vbElkLAogICAgICAgICAgICAgIHNjaG9vbEJyYW5jaElkOiB0aGlzLnRhYmxlRGF0YVtpXS5zY2hvb2xCcmFuY2hMaXN0W2pdCiAgICAgICAgICAgICAgICAuc2Nob29sQnJhbmNoSWQsCiAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQ6IGFyci5sZW5ndGggPyAwIDogMSAvL+WIpOaWreWtpumDqOaYr+WQpuWFqOmAiQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgc2F2ZUJhc2VUcmVlV2l0aFNjaG9vbCh7CiAgICAgICAgc3RhZmZDb2RlOiB0aGlzLiRyb3V0ZS5xdWVyeS5zdGFmZkNvZGUsCiAgICAgICAgc3ViTGlzdAogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICBtZXNzYWdlOiAn5L+d5a2Y5oiQ5YqfIScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAoKICAgIGhhbmRsZVNhdmUoKSB7CiAgICAgIFByb21pc2UuYWxsKFt0aGlzLnNhdmVSb2xlKCksIHRoaXMuc2F2ZVBlcm1pc3Npb24oKV0pOwogICAgfSwKICAgIGNoZWNrUm9sZShpdGVtKSB7CiAgICAgIGl0ZW0uZW5hYmxlID0gaXRlbS5lbmFibGUgPT09IDEgPyAwIDogMTsKICAgIH0sCiAgICBnZXRVc2VyUm9sZXMoKSB7CiAgICAgIGdldFVzZXJSb2xlcyh7IHN0YWZmQ29kZTogdGhpcy4kcm91dGUucXVlcnkuc3RhZmZDb2RlIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLnJvbGVMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},null]}