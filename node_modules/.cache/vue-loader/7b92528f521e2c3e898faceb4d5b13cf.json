{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/normal-examine/components/tableSelector.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/teaching-points-h5/views/normal-examine/components/tableSelector.vue","mtime":1645176309876},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7DQppbXBvcnQgeyBnZXRUZWFjaGVyTGlzdCB9IGZyb20gJy4uLy4uLy4uL2FwaS9iYXNlL3R5cGVzLWFsbCc7DQppbXBvcnQgew0KICBSYWRpb0dyb3VwLA0KICBSYWRpbywNCiAgU2VhcmNoLA0KICBMaXN0LA0KICBQdWxsUmVmcmVzaCwNCiAgQnV0dG9uLA0KICBOb3RpZnkNCn0gZnJvbSAndmFudCc7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd0YWJsZVNlbGVjdG9yJywNCiAgY29tcG9uZW50czogew0KICAgIFtSYWRpb0dyb3VwLm5hbWVdOiBSYWRpb0dyb3VwLA0KICAgIFtSYWRpby5uYW1lXTogUmFkaW8sDQogICAgW1NlYXJjaC5uYW1lXTogU2VhcmNoLA0KICAgIFtMaXN0Lm5hbWVdOiBMaXN0LA0KICAgIFtQdWxsUmVmcmVzaC5uYW1lXTogUHVsbFJlZnJlc2gsDQogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCwNCiAgICAgIGtleXdvcmRzOiAnJywNCiAgICAgIHJlc3VsdDogJycsDQogICAgICB0YWJsZURhdGE6IFtdLA0KICAgICAgZm9ybURhdGE6IHt9LA0KICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICBmaW5pc2hlZDogZmFsc2UsDQogICAgICByZWZyZXNoaW5nOiBmYWxzZSwNCiAgICAgIGVycm9yOiBmYWxzZSwNCiAgICAgIHBhZ2VJbmZvOiB7DQogICAgICAgIHRvdGFsOiAwDQogICAgICB9LA0KICAgICAgcGFnaW5nUGFyYW1zOiB7DQogICAgICAgIGxpbWl0OiAxNSwNCiAgICAgICAgb2Zmc2V0OiAwDQogICAgICB9DQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmluaXQoKTsNCiAgICB0aGlzLmZvcm1EYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZm9ybURhdGEnKSk7DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbJ2dldFNjaG9vbE9wdGlvbnMnLCAnZ2V0U3ViamVjdE9wdGlvbnMnLCAnZ2V0R3JhZGVPcHRpb25zJ10pLA0KICAgIGZpbmlzaGVkVGV4dCgpIHsNCiAgICAgIGlmICh0aGlzLnBhZ2VJbmZvLnRvdGFsID09PSAwKSB7DQogICAgICAgIHJldHVybiAn5pqC5peg5pWw5o2uJzsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAn5rKh5pyJ5pu05aSa5LqGJzsNCiAgICAgIH0NCiAgICB9DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0KCkgew0KICAgICAgdGhpcy4kZGQuYml6Lm5hdmlnYXRpb24uc2V0UmlnaHQoew0KICAgICAgICBzaG93OiBmYWxzZSAvL+aOp+WItuaMiemSruaYvuekuu+8jCB0cnVlIOaYvuekuu+8jCBmYWxzZSDpmpDol4/vvIwg6buY6K6kdHJ1ZQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBhc3luYyBjb2Zpcm1UZWFjaGVyKCkgew0KICAgICAgaWYgKCF0aGlzLnJlc3VsdCkgew0KICAgICAgICAvLyBUb2FzdC5mYWlsKCfor7flhYjpgInmi6knKTsNCiAgICAgICAgTm90aWZ5KHsgdHlwZTogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K+35YWI6YCJ5oupJyB9KTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5mb3JtRGF0YS50ZWFjaGVyQ29kZSA9IHRoaXMucmVzdWx0Ow0KICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvYWRTY2hvb2xPcHRpb25zJywgew0KICAgICAgICBzdGFmZkNvZGU6IHRoaXMuZm9ybURhdGEudGVhY2hlckNvZGUNCiAgICAgIH0pOw0KICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ2xvYWRTdWJqZWN0T3B0aW9ucycsIHsNCiAgICAgICAgc3RhZmZDb2RlOiB0aGlzLmZvcm1EYXRhLnRlYWNoZXJDb2RlDQogICAgICB9KTsNCiAgICAgIGlmICgNCiAgICAgICAgQXJyYXkuaXNBcnJheSh0aGlzLmdldFNjaG9vbE9wdGlvbnMpICYmDQogICAgICAgIHRoaXMuZ2V0U2Nob29sT3B0aW9ucy5sZW5ndGggPiAwDQogICAgICApIHsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5zY2hvb2xOYW1lID0gdGhpcy5nZXRTY2hvb2xPcHRpb25zWzBdLkRJQ1RJT05BUllfVEVYVDsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5zY2hvb2xDb2RlID0gdGhpcy5nZXRTY2hvb2xPcHRpb25zWzBdLkRJQ1RJT05BUllfS0VZOw0KICAgICAgICBhd2FpdCB0aGlzLmdldFR5cGVPcHRpb25zKA0KICAgICAgICAgIHRoaXMuZm9ybURhdGEuc2Nob29sQ29kZSwNCiAgICAgICAgICAnU0VUX0dSQURFX09QVElPTlMnDQogICAgICAgICk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLmZvcm1EYXRhLnNjaG9vbE5hbWUgPSB0aGlzLmZvcm1EYXRhLnNjaG9vbENvZGUgPSB0aGlzLmZvcm1EYXRhLmdyYWRlID0gdGhpcy5mb3JtRGF0YS5ncmFkZU5hbWUgPQ0KICAgICAgICAgICcnOw0KICAgICAgfQ0KICAgICAgaWYgKA0KICAgICAgICBBcnJheS5pc0FycmF5KHRoaXMuZ2V0U3ViamVjdE9wdGlvbnMpICYmDQogICAgICAgIHRoaXMuZ2V0U3ViamVjdE9wdGlvbnMubGVuZ3RoID4gMA0KICAgICAgKSB7DQogICAgICAgIHRoaXMuZm9ybURhdGEuc3ViamVjdCA9IHRoaXMuZ2V0U3ViamVjdE9wdGlvbnNbMF0uRElDVElPTkFSWV9LRVk7DQogICAgICAgIHRoaXMuZm9ybURhdGEuc3ViamVjdE5hbWUgPSB0aGlzLmdldFN1YmplY3RPcHRpb25zWzBdLkRJQ1RJT05BUllfVEVYVDsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuZm9ybURhdGEuc3ViamVjdCA9IHRoaXMuZm9ybURhdGEuc3ViamVjdE5hbWUgPSAnJzsNCiAgICAgIH0NCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdmb3JtRGF0YScsIEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybURhdGEpKTsNCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7DQogICAgfSwNCiAgICBhc3luYyBnZXRUeXBlT3B0aW9ucyhjb2RlLCB0eXBlKSB7DQogICAgICBsZXQgcGF5bG9hZCA9IHsNCiAgICAgICAgcGFyYW1zOiB7IHBhcmVudEtleTogY29kZSB9LA0KICAgICAgICB0eXBlczogdHlwZQ0KICAgICAgfTsNCiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2FkQ2hpbGRyZW5PcHRpb25zJywgcGF5bG9hZCk7DQogICAgICBpZiAoDQogICAgICAgIEFycmF5LmlzQXJyYXkodGhpcy5nZXRHcmFkZU9wdGlvbnMpICYmDQogICAgICAgIHRoaXMuZ2V0R3JhZGVPcHRpb25zLmxlbmd0aCA+IDANCiAgICAgICkgew0KICAgICAgICB0aGlzLmZvcm1EYXRhLmdyYWRlID0gdGhpcy5nZXRHcmFkZU9wdGlvbnNbMF0uZGljdGlvbmFyeUtleTsNCiAgICAgICAgdGhpcy5mb3JtRGF0YS5ncmFkZU5hbWUgPSB0aGlzLmdldEdyYWRlT3B0aW9uc1swXS5kaWN0aW9uYXJ5VGV4dDsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOiOt+WPluaVmeW4iOWnk+WQjQ0KICAgICAqLw0KICAgIGdldFJhZGlvTmFtZShuYW1lKSB7DQogICAgICB0aGlzLmZvcm1EYXRhLnRlYWNoZXJOYW1lID0gbmFtZTsNCiAgICB9LA0KICAgIG9uUmVmcmVzaCgpIHsNCiAgICAgIHRoaXMudGFibGVEYXRhID0gW107DQogICAgICB0aGlzLnJlc3VsdCA9ICcnOw0KICAgICAgdGhpcy5maW5pc2hlZCA9IGZhbHNlOw0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMucGFnZUluZm8udG90YWwgPSAwOw0KICAgICAgdGhpcy5wYWdpbmdQYXJhbXMub2Zmc2V0ID0gMDsNCiAgICAgIHRoaXMub25Mb2FkKCk7DQogICAgfSwNCiAgICBvbkxvYWQoKSB7DQogICAgICBpZiAodGhpcy5yZWZyZXNoaW5nKSB7DQogICAgICAgIHRoaXMudGFibGVEYXRhID0gW107DQogICAgICAgIHRoaXMucmVmcmVzaGluZyA9IGZhbHNlOw0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuZ2V0VGVhY2hlckRhdGEoKTsNCiAgICB9LA0KICAgIGdldFRlYWNoZXJEYXRhKCkgew0KICAgICAgaWYgKHRoaXMucGFnaW5nUGFyYW1zLm9mZnNldCA+IHRoaXMucGFnZUluZm8udG90YWwpIHJldHVybjsNCiAgICAgIGdldFRlYWNoZXJMaXN0KHsgc2VhY2hXb3JkOiB0aGlzLmtleXdvcmRzLCAuLi50aGlzLnBhZ2luZ1BhcmFtcyB9KS50aGVuKA0KICAgICAgICAoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICBpZiAoZGF0YS5jdXJyZW50ID09IDEgJiYgZGF0YS5yZWNvcmRzLmxlbmd0aCA9PSAwKSB7DQogICAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IFtdOw0KICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7DQogICAgICAgICAgfQ0KICAgICAgICAgIGxldCB0YWJsZURhdGEgPSBkYXRhLnJlY29yZHM7DQogICAgICAgICAgdGFibGVEYXRhLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICBpZiAodGhpcy5mb3JtRGF0YS50ZWFjaGVyQ29kZSA9PSBpdGVtLnN0YWZmQ29kZSkgew0KICAgICAgICAgICAgICB0aGlzLnJlc3VsdCA9IGl0ZW0uc3RhZmZDb2RlOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgaXRlbS5jaGVja2VkID0gZmFsc2U7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSB0aGlzLnRhYmxlRGF0YS5jb25jYXQodGFibGVEYXRhKTsNCiAgICAgICAgICB0aGlzLnBhZ2VJbmZvLnRvdGFsID0gZGF0YS50b3RhbCB8fCAwOw0KICAgICAgICAgIGlmICh0aGlzLnBhZ2VJbmZvLnRvdGFsIDw9IGRhdGEuY3VycmVudCAqIGRhdGEuc2l6ZSkgew0KICAgICAgICAgICAgdGhpcy5maW5pc2hlZCA9IHRydWU7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMucGFnaW5nUGFyYW1zLm9mZnNldCA9DQogICAgICAgICAgICAgIChNYXRoLmZsb29yKHRoaXMucGFnaW5nUGFyYW1zLm9mZnNldCAvIHRoaXMucGFnaW5nUGFyYW1zLmxpbWl0KSArDQogICAgICAgICAgICAgICAgMSkgKg0KICAgICAgICAgICAgICB0aGlzLnBhZ2luZ1BhcmFtcy5saW1pdDsNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["tableSelector.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"tableSelector.vue","sourceRoot":"src/pages/teaching-points-h5/views/normal-examine/components","sourcesContent":["<template>\r\n  <div class=\"table-selector\">\r\n    <p>\r\n      <van-search\r\n        v-model=\"keywords\"\r\n        @search=\"onRefresh\"\r\n        shape=\"round\"\r\n        background=\"#F6F6F6\"\r\n        placeholder=\"请输入教师工号、姓名\"\r\n      />\r\n    </p>\r\n    <div class=\"table\">\r\n      <tr class=\"title\">\r\n        <th style=\"width: 1.14rem;\"></th>\r\n        <th class=\"t-title\">工号</th>\r\n        <th class=\"t-title\">教师姓名</th>\r\n      </tr>\r\n      <div class=\"list-table-teacher\">\r\n        <van-pull-refresh v-model=\"refreshing\" @refresh=\"onRefresh\">\r\n          <van-list\r\n            v-model=\"loading\"\r\n            :finished=\"finished\"\r\n            :offset=\"20\"\r\n            :error.sync=\"error\"\r\n            error-text=\"请求失败，点击重新加载\"\r\n            :finished-text=\"finishedText\"\r\n            @load=\"onLoad\"\r\n          >\r\n            <van-radio-group\r\n              class=\"content\"\r\n              v-model=\"result\"\r\n              ref=\"checkboxGroup\"\r\n            >\r\n              <van-radio\r\n                v-for=\"item in tableData\"\r\n                :key=\"item.staffCode\"\r\n                :name=\"item.staffCode\"\r\n                @click=\"getRadioName(item.staffName)\"\r\n              >\r\n                <span>{{ item.staffCode }}</span>\r\n                <span>{{ item.staffName }}</span>\r\n              </van-radio>\r\n            </van-radio-group>\r\n          </van-list>\r\n        </van-pull-refresh>\r\n      </div>\r\n      <div class=\"confirm-btn\">\r\n        <van-button @click=\"cofirmTeacher\" type=\"info\">确定</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nimport { getTeacherList } from '../../../api/base/types-all';\r\nimport {\r\n  RadioGroup,\r\n  Radio,\r\n  Search,\r\n  List,\r\n  PullRefresh,\r\n  Button,\r\n  Notify\r\n} from 'vant';\r\nexport default {\r\n  name: 'tableSelector',\r\n  components: {\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Radio.name]: Radio,\r\n    [Search.name]: Search,\r\n    [List.name]: List,\r\n    [PullRefresh.name]: PullRefresh,\r\n    [Button.name]: Button\r\n  },\r\n  data() {\r\n    return {\r\n      id: this.$route.query.id,\r\n      keywords: '',\r\n      result: '',\r\n      tableData: [],\r\n      formData: {},\r\n      loading: false,\r\n      finished: false,\r\n      refreshing: false,\r\n      error: false,\r\n      pageInfo: {\r\n        total: 0\r\n      },\r\n      pagingParams: {\r\n        limit: 15,\r\n        offset: 0\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.init();\r\n    this.formData = JSON.parse(localStorage.getItem('formData'));\r\n  },\r\n  computed: {\r\n    ...mapGetters(['getSchoolOptions', 'getSubjectOptions', 'getGradeOptions']),\r\n    finishedText() {\r\n      if (this.pageInfo.total === 0) {\r\n        return '暂无数据';\r\n      } else {\r\n        return '没有更多了';\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    init() {\r\n      this.$dd.biz.navigation.setRight({\r\n        show: false //控制按钮显示， true 显示， false 隐藏， 默认true\r\n      });\r\n    },\r\n    async cofirmTeacher() {\r\n      if (!this.result) {\r\n        // Toast.fail('请先选择');\r\n        Notify({ type: 'warning', message: '请先选择' });\r\n        return;\r\n      }\r\n      this.formData.teacherCode = this.result;\r\n      await this.$store.dispatch('loadSchoolOptions', {\r\n        staffCode: this.formData.teacherCode\r\n      });\r\n      await this.$store.dispatch('loadSubjectOptions', {\r\n        staffCode: this.formData.teacherCode\r\n      });\r\n      if (\r\n        Array.isArray(this.getSchoolOptions) &&\r\n        this.getSchoolOptions.length > 0\r\n      ) {\r\n        this.formData.schoolName = this.getSchoolOptions[0].DICTIONARY_TEXT;\r\n        this.formData.schoolCode = this.getSchoolOptions[0].DICTIONARY_KEY;\r\n        await this.getTypeOptions(\r\n          this.formData.schoolCode,\r\n          'SET_GRADE_OPTIONS'\r\n        );\r\n      } else {\r\n        this.formData.schoolName = this.formData.schoolCode = this.formData.grade = this.formData.gradeName =\r\n          '';\r\n      }\r\n      if (\r\n        Array.isArray(this.getSubjectOptions) &&\r\n        this.getSubjectOptions.length > 0\r\n      ) {\r\n        this.formData.subject = this.getSubjectOptions[0].DICTIONARY_KEY;\r\n        this.formData.subjectName = this.getSubjectOptions[0].DICTIONARY_TEXT;\r\n      } else {\r\n        this.formData.subject = this.formData.subjectName = '';\r\n      }\r\n      localStorage.setItem('formData', JSON.stringify(this.formData));\r\n      this.$router.go(-1);\r\n    },\r\n    async getTypeOptions(code, type) {\r\n      let payload = {\r\n        params: { parentKey: code },\r\n        types: type\r\n      };\r\n      await this.$store.dispatch('loadChildrenOptions', payload);\r\n      if (\r\n        Array.isArray(this.getGradeOptions) &&\r\n        this.getGradeOptions.length > 0\r\n      ) {\r\n        this.formData.grade = this.getGradeOptions[0].dictionaryKey;\r\n        this.formData.gradeName = this.getGradeOptions[0].dictionaryText;\r\n      }\r\n    },\r\n    /**\r\n     * 获取教师姓名\r\n     */\r\n    getRadioName(name) {\r\n      this.formData.teacherName = name;\r\n    },\r\n    onRefresh() {\r\n      this.tableData = [];\r\n      this.result = '';\r\n      this.finished = false;\r\n      this.loading = true;\r\n      this.pageInfo.total = 0;\r\n      this.pagingParams.offset = 0;\r\n      this.onLoad();\r\n    },\r\n    onLoad() {\r\n      if (this.refreshing) {\r\n        this.tableData = [];\r\n        this.refreshing = false;\r\n      }\r\n      this.loading = true;\r\n      this.getTeacherData();\r\n    },\r\n    getTeacherData() {\r\n      if (this.pagingParams.offset > this.pageInfo.total) return;\r\n      getTeacherList({ seachWord: this.keywords, ...this.pagingParams }).then(\r\n        ({ data }) => {\r\n          if (data.current == 1 && data.records.length == 0) {\r\n            this.tableData = [];\r\n            this.finished = true;\r\n          }\r\n          let tableData = data.records;\r\n          tableData.forEach(item => {\r\n            if (this.formData.teacherCode == item.staffCode) {\r\n              this.result = item.staffCode;\r\n            } else {\r\n              item.checked = false;\r\n            }\r\n          });\r\n          this.tableData = this.tableData.concat(tableData);\r\n          this.pageInfo.total = data.total || 0;\r\n          if (this.pageInfo.total <= data.current * data.size) {\r\n            this.finished = true;\r\n          } else {\r\n            this.pagingParams.offset =\r\n              (Math.floor(this.pagingParams.offset / this.pagingParams.limit) +\r\n                1) *\r\n              this.pagingParams.limit;\r\n          }\r\n          this.loading = false;\r\n        }\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.table-selector {\r\n  background: #f6f6f6;\r\n  width: 100%;\r\n  height: 100%;\r\n  /deep/ .van-search__content {\r\n    background-color: #fff;\r\n  }\r\n  .table {\r\n    .title {\r\n      display: flex;\r\n      font-size: 0.32rem;\r\n      color: rgba(0, 0, 0, 0.65);\r\n      margin: 0.2rem 0;\r\n      .t-title {\r\n        width: calc(50% - 0.55rem);\r\n        text-align: start;\r\n        padding-left: 0.4rem;\r\n      }\r\n    }\r\n    .content {\r\n      font-size: 0.28rem;\r\n      background: #fff;\r\n      /deep/ .van-radio {\r\n        width: 100%;\r\n        height: 1rem;\r\n        padding: 0 0.3rem;\r\n        border-bottom: 0.02rem solid rgba(25, 31, 37, 0.085);\r\n        .van-radio__icon {\r\n          display: flex;\r\n          width: 0.32rem;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 0.3rem;\r\n          border-right: 0.02rem solid rgba(25, 31, 37, 0.085);\r\n          .van-icon {\r\n            width: 0.32rem;\r\n            height: 0.32rem;\r\n            line-height: 1;\r\n            font-size: 0.24rem;\r\n          }\r\n        }\r\n        .van-radio__icon--checked .van-icon {\r\n          background-color: #489ef3;\r\n          border-color: #489ef3;\r\n        }\r\n        .van-radio__label {\r\n          display: flex;\r\n          width: calc(100% - 1.14rem);\r\n          height: 1rem;\r\n          line-height: 0.4rem;\r\n          color: rgba(0, 0, 0, 0.85);\r\n          margin-left: 0;\r\n          > span {\r\n            display: flex;\r\n            width: 100%;\r\n            height: 100%;\r\n            align-items: center;\r\n            justify-content: flex-start;\r\n            padding-left: 0.24rem;\r\n            border-right: 0.02rem solid rgba(25, 31, 37, 0.085);\r\n            word-break: break-all;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .list-table-teacher {\r\n      width: 100%;\r\n      height: calc(100% - 3.8rem);\r\n      position: absolute;\r\n      overflow-y: auto;\r\n    }\r\n    .confirm-btn {\r\n      width: 100%;\r\n      position: fixed;\r\n      bottom: 0.58rem;\r\n      padding: 0 0.32rem;\r\n      box-sizing: border-box;\r\n      button {\r\n        width: 100%;\r\n        height: 0.96rem;\r\n        font-size: 0.28rem;\r\n        border-radius: 0.08rem;\r\n        background: linear-gradient(#40adf6, #528bee);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}