{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-front/views/search/index.vue?vue&type=style&index=1&lang=less&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-front/views/search/index.vue","mtime":1645176309829},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnRvb2x0aXAuZWwtdG9vbHRpcF9fcG9wcGVyIHsKICBtYXgtd2lkdGg6IDMwJTsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAw6BA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/share-platform-front/views/search","sourcesContent":["<template>\n  <div class=\"loginRole\">\n    <div class=\"background\">\n      <div class=\"main-content\">\n        <el-container>\n          <el-header>\n            <div class=\"nav-left\">\n              <a href=\"#\"><img :src=\"imgSrcLogoLeft\" alt=\"\" /> </a>\n            </div>\n            <div class=\"nav\">\n              <a href=\"#\">\n                <img :src=\"imgSrcHome\" alt=\"返回首页\" title=\"返回首页\" />\n              </a>\n              <a href=\"#\">\n                <img\n                  :src=\"imgSrcOne\"\n                  alt=\"我的需求\"\n                  title=\"我的需求\"\n                  @click=\"goPage('2')\"\n                />\n              </a>\n              <el-badge :is-dot=\"ismessageDot\">\n                <a href=\"#\">\n                  <img\n                    :src=\"imgSrcTwo\"\n                    alt=\"我的消息\"\n                    title=\"我的消息\"\n                    @click=\"goPage('3')\"\n                  />\n                </a>\n              </el-badge>\n              <el-badge id=\"tour-4\" :is-dot=\"isDot\">\n                <a href=\"#\">\n                  <img\n                    :src=\"imgSrcThree\"\n                    alt=\"个人中心\"\n                    title=\"个人中心\"\n                    @click=\"goPage('4')\"\n                  />\n                </a>\n              </el-badge>\n              <el-button type=\"primary\" size=\"mini\" @click.native=\"logOut\"\n                >退出</el-button\n              >\n            </div>\n          </el-header>\n          <el-main>\n            <img :src=\"imgSrcLogo\" alt=\"\" />\n            <div>\n              <el-autocomplete\n                id=\"tour-1\"\n                class=\"input-search\"\n                popper-class=\"my-autocomplete\"\n                v-model.trim=\"searchKey\"\n                :fetch-suggestions=\"querySearchAsync\"\n                placeholder=\"请输入您需要的资源内容\"\n                @select=\"handleSelect\"\n                @keyup.enter.native=\"Search\"\n                @input=\"imageSelect\"\n              >\n                <template slot-scope=\"{ item }\">\n                  <div class=\"hostory-item\" v-if=\"itemFlag\">\n                    <p style=\"flex: 1; max-width:50vw; overflow:hidden;\">\n                      <i class=\"el-icon-time\" style=\"margin-right:5px;\"></i>\n                      <el-tooltip\n                        effect=\"dark\"\n                        :content=\"item.name\"\n                        placement=\"top\"\n                        popper-class=\"tooltip\"\n                      >\n                        <span>{{ item.name }}</span>\n                      </el-tooltip>\n                    </p>\n                    <p style=\"width:50px; text-align:right;\">\n                      <i\n                        class=\"el-icon-delete\"\n                        @click.stop=\"deleteHistory(item.name)\"\n                      ></i>\n                    </p>\n                  </div>\n                  <span v-else>\n                    <el-tooltip\n                      class=\"item\"\n                      effect=\"dark\"\n                      :content=\"item.resourcesName\"\n                      placement=\"top\"\n                      popper-class=\"tooltip\"\n                    >\n                      <span\n                        style=\"display:inline-block;\"\n                        v-html=\"item.resourcesNameHtml\"\n                      ></span>\n                    </el-tooltip>\n                  </span>\n                </template>\n              </el-autocomplete>\n              <el-button\n                type=\"primary\"\n                style=\"border-radius: 0 5px 5px 0;height: 40px;\"\n                @click=\"Search\"\n                >{{ searchKey === '' ? '查看全部' : '搜索' }}</el-button\n              >\n              <div class=\"history-tag\">\n                <el-button\n                  type=\"text\"\n                  v-for=\"item in searcHistory\"\n                  :key=\"item.id\"\n                  size=\"mini\"\n                  style=\"color:#fff;\"\n                  @click=\"keySearch(item)\"\n                  >{{ item.resourcesName }}</el-button\n                >\n                <el-button\n                  type=\"text\"\n                  size=\"mini\"\n                  style=\"color:#fff;\"\n                  @click=\"searchAll\"\n                  >更多>></el-button\n                >\n              </div>\n            </div>\n          </el-main>\n        </el-container>\n        <div class=\"content-box\">\n          <div class=\"item-main\" id=\"tour-2\">\n            <div class=\"chil-item\">\n              <img src=\"../../assets/images/remensousuo.png\" alt=\"热门搜索\" />\n              <div class=\"item-content\">\n                <el-button\n                  type=\"text\"\n                  class=\"el-button-self\"\n                  v-for=\"item in hotSearch\"\n                  :key=\"item.id\"\n                  plain\n                  size=\"mini\"\n                  @click=\"searchHot(item)\"\n                  >{{ item.resourcesName }}</el-button\n                >\n              </div>\n            </div>\n            <div class=\"chil-item\">\n              <img\n                src=\"../../assets/images/ziyuangaikuang.png\"\n                alt=\"热门搜索\"\n              />\n              <div class=\"item-content\">\n                <el-button\n                  class=\"el-button-self\"\n                  style=\"min-width:90px;\"\n                  type=\"text\"\n                  v-for=\"item in sourceInfo\"\n                  :key=\"item.id\"\n                  plain\n                  size=\"small\"\n                  @click=\"searchHot(item)\"\n                  >{{ item.resourcesName }}</el-button\n                >\n              </div>\n            </div>\n          </div>\n          <div class=\"item-aside\" id=\"tour-3\">\n            <div class=\"item-tittle-aside\">\n              <div class=\"item-tittle-aside-top\">\n                <img\n                  src=\"../../assets/images/ziyuanhudong.png\"\n                  alt=\"资源互助\"\n                />\n                <div class=\"top-right\" @click=\"goTaskList\">\n                  <span>查看全部</span><i class=\"el-icon-arrow-right\"></i>\n                </div>\n              </div>\n              <el-carousel\n                height=\"250px\"\n                indicator-position=\"none\"\n                arrow=\"never\"\n                :interval=\"5000\"\n              >\n                <el-carousel-item\n                  v-for=\"(item, index) in resourceList\"\n                  :key=\"index\"\n                >\n                  <h3\n                    class=\"carousel-item\"\n                    v-for=\"(val, key) in item\"\n                    :key=\"key\"\n                    @click=\"onGoResourceTask(val)\"\n                  >\n                    {{ val.publisher }} : {{ val.taskDetail }}\n                  </h3>\n                </el-carousel-item>\n              </el-carousel>\n            </div>\n          </div>\n          <div class=\"item-aside\">\n            <div class=\"item-tittle-aside\">\n              <img src=\"../../assets/images/jifenpaihang.png\" alt=\"积分排行\" />\n              <div class=\"item-list\">\n                <ul>\n                  <li v-for=\"(item, index) in scoreList\" :key=\"item.id\">\n                    <span\n                      class=\"score-index\"\n                      v-bind:class=\"{\n                        fontNumColor_1: index == '0',\n                        fontNumColor_2: index == '1',\n                        fontNumColor_3: index == '2'\n                      }\"\n                      >{{ index + 1 }}</span\n                    >\n                    {{ item.userName }}\n                  </li>\n                </ul>\n                <div style=\"text-align:right;\">\n                  <ul>\n                    <li v-for=\"item in scoreList\" :key=\"item.id\">\n                      {{ item.score }}分\n                    </li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"footer-class\">\n        <span\n          >Copyright © 2021 海亮教育管理集团有限公司 保留所有版权\n          浙ICP备09052756号-1</span\n        >\n      </div>\n    </div>\n    <!-- 新手引导 -->\n    <div\n      v-if=\"(isFirst == 1 || isFirstLogin === 0) && currentTour <= 6\"\n      :class=\"['tour-page', `tour-${currentTour}`]\"\n    >\n      <div class=\"btn-box\">\n        <div class=\"btn-prev\" v-if=\"currentTour > 1\" @click=\"funPrev()\">\n          上一步\n        </div>\n        <div class=\"btn-next\" v-if=\"currentTour > 1\" @click=\"funNext()\">\n          {{ currentTour === 6 ? '完成' : '下一步' }}\n        </div>\n        <div class=\"btn-next-1\" v-if=\"currentTour === 1\" @click=\"funNext()\">\n          下一步\n        </div>\n      </div>\n      <div class=\"btn-jump\" @click=\"funJump()\">\n        <span>跳过</span><i class=\"el-icon-arrow-right\"></i>\n      </div>\n    </div>\n    <el-dialog\n      :visible.sync=\"finishDialog\"\n      :modal-append-to-body=\"false\"\n      width=\"30%\"\n      center\n    >\n      <div class=\"finish-dialog\">\n        <img src=\"../../assets/images/tourFinish.png\" alt=\"\" />\n        <p>恭喜你，已完成新手引导！快去首页搜索资源吧~</p>\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"funBackHome()\">返回首页</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  Container,\n  Header,\n  Main,\n  Input,\n  Autocomplete,\n  Badge,\n  Carousel,\n  CarouselItem,\n  Dialog\n} from 'element-ui';\nimport axios from 'axios';\nimport {\n  getkeySelectList,\n  getSelectHistoryList,\n  deleteHistory,\n  gethotSearch,\n  getsourceInfo,\n  getscoreList,\n  getTaskInfo\n} from '@/pages/share-platform-front/api/search';\nimport {\n  getLabelAdjusted,\n  getReadMessage\n} from '@/pages/share-platform-front/api/user';\nimport { postloginLog } from '@/pages/share-platform-front/api/user';\n\nexport default {\n  name: 'Search',\n  components: {\n    [Container.name]: Container,\n    [Header.name]: Header,\n    [Main.name]: Main,\n    [Input.name]: Input,\n    [Autocomplete.name]: Autocomplete,\n    [Badge.name]: Badge,\n    [Carousel.name]: Carousel,\n    [CarouselItem.name]: CarouselItem,\n    [Dialog.name]: Dialog\n  },\n  data() {\n    return {\n      restaurants: [],\n      restaurantChange: [],\n      searchKey: '',\n      itemFlag: true,\n      timeout: null,\n      isDot: false,\n      ismessageDot: false,\n      imgSrcLogoLeft: require('../../assets/images/newlogo.png'),\n      imgSrcHome: require('../../assets/images/home.webp'),\n      imgSrcOne: require('../../assets/images/need.webp'),\n      imgSrcTwo: require('../../assets/images/message.webp'),\n      imgSrcThree: require('../../assets/images/personal.webp'),\n      imgSrcLogo: require('../../assets/images/hi_Share.png'),\n      searcHistory: [],\n      hotSearch: [],\n      sourceInfo: [],\n      scoreList: [],\n      loadList: [],\n      loadListChange: [],\n      resourceList: [],\n      domId: 'tour-1',\n      activeTour: 1,\n      currentTour: 1,\n      isFirst: 2,\n      isFirstLogin: '',\n      finishDialog: false\n    };\n  },\n  computed: {},\n  created() {\n    this.isFirstLogin = this.$store.getters.isFirstLogin;\n    this.isFirst = window.sessionStorage.getItem('isFirstNext');\n    console.log(this.isFirst);\n    console.log(this.isFirstLogin);\n    this.accountType = window.sessionStorage.getItem('accountType');\n    this.getAllList();\n    this.historySelect();\n    this.getSignTip();\n    getTaskInfo().then(res => {\n      let num = Math.ceil(res.data.length / 5);\n      let list = res.data;\n      for (let index = 0; index < num; index++) {\n        this.resourceList[index] = list.splice(0, 5);\n      }\n    });\n  },\n  mounted() {\n    this.currentTour = window.sessionStorage.getItem('currentTour') * 1;\n    if (this.$route.params.postloginLog) {\n      postloginLog('1').then(res => {\n        console.log('无企业号登录成功记录日志:', '1');\n        window.sessionStorage.setItem('isSetLog', 100);\n      });\n    }\n    this.restaurants = this.loadAll();\n    this.restaurantChange = this.loadNewAll();\n  },\n  updated() {\n    this.restaurants = this.loadList;\n    this.restaurantChange = this.loadListChange;\n  },\n  watch: {\n    loadList: {\n      handler(newVal, oldVal) {\n        this.restaurants = this.loadList;\n      },\n      deep: true\n    },\n    loadListChange: {\n      handler(newVal, oldVal) {\n        this.restaurantChange = this.loadListChange;\n      },\n      deep: true\n    },\n    searchKey: function(newVal, oldVal) {\n      this.restaurantChange = this.loadListChange;\n    }\n  },\n  methods: {\n    onGoResourceTask(val) {\n      this.$router.push({\n        name: 'ResourceTask',\n        params: { id: val.firstReId || '其他' }\n      });\n    },\n    funBackHome() {\n      this.finishDialog = false;\n      this.currentTour += 1;\n      window.sessionStorage.setItem('currentTour', this.currentTour);\n    },\n    funNext() {\n      if (this.currentTour < 6) {\n        this.currentTour += 1;\n        window.sessionStorage.setItem('currentTour', this.currentTour);\n      } else {\n        this.finishDialog = true;\n        window.sessionStorage.setItem('isFirstNext', 2);\n      }\n    },\n    funPrev() {\n      this.currentTour -= 1;\n      window.sessionStorage.setItem('currentTour', this.currentTour);\n    },\n    funJump() {\n      this.currentTour = 7;\n      window.sessionStorage.setItem('currentTour', this.currentTour);\n      window.sessionStorage.setItem('isFirstNext', 2);\n    },\n\n    getBase64Image(img) {\n      let canvas = document.createElement('canvas');\n      canvas.width = img.width;\n      canvas.height = img.height;\n      let ctx = canvas.getContext('2d');\n      ctx.drawImage(img, 0, 0, img.width, img.height);\n      let ext = img.src.substring(img.src.lastIndexOf('.') + 1).toLowerCase();\n      let dataURL = canvas.toDataURL('image/' + ext);\n      return dataURL;\n    },\n    //退出登录\n    async logOut() {\n      window.localStorage.clear();\n      window.sessionStorage.clear();\n      await this.$store.dispatch('user/logout');\n      this.$router.push(`/login?redirect=${this.$route.fullPath}`);\n    },\n    goTaskList() {\n      this.$router.push('/resourceTask');\n    },\n    //获取个人中心是否有待办事项\n    getSignTip() {\n      getLabelAdjusted(this.accountType)\n        .then(res => {\n          if (res.data == '0') {\n            this.isDot = false;\n          } else {\n            this.isDot = true;\n          }\n        })\n        .catch(res => {\n          this.isDot = false;\n        });\n      getReadMessage(this.accountType)\n        .then(res => {\n          if (res.data.length) {\n            this.ismessageDot = true;\n          } else {\n            this.ismessageDot = false;\n          }\n        })\n        .catch(res => {\n          this.ismessageDot = false;\n        });\n    },\n    //点击图标跳转页面\n    goPage(key) {\n      switch (key) {\n        case '2':\n          this.$router.push('/Demand');\n          break;\n        case '3':\n          this.$router.push('/Message');\n          break;\n        case '4':\n          this.$router.push('/Personal');\n          break;\n      }\n    },\n    //获取资源概括等列表gethotSearch, getsourceInfo, getscoreList\n    getAllList() {\n      axios.all([gethotSearch, getsourceInfo, getscoreList]).then(res => {\n        gethotSearch().then(res => {\n          this.hotSearch = res.data.slice(0, 10);\n          this.searcHistory = res.data.slice(10);\n        });\n        getsourceInfo().then(res => {\n          this.sourceInfo = res.data;\n        });\n        getscoreList().then(res => {\n          this.scoreList = res.data;\n        });\n      });\n    },\n    /* fetch-suggestions 是一个返回输入建议的方法属性，\n    在输入建议数据准备好时通过 cb(data) 返回到 autocomplete 组件中. */\n    querySearchAsync(queryString, cb) {\n      let results;\n      if (this.searchKey == '') {\n        results = this.restaurants;\n        this.itemFlag = true;\n      } else {\n        results = this.restaurantChange;\n        // queryString\n        //   ? restaurantChange.filter(this.createFilter(queryString))/*联想搜索首字匹配*/\n        //   : restaurantChange;\n        this.itemFlag = false;\n\n        // clearTimeout(this.timeout);\n        // this.timeout = setTimeout(() => {\n        //   cb(result);\n        //   this.changeStyle('block', '.el-autocomplete-suggestion');\n        // }, 500 * Math.random());\n\n        if (\n          !/[`~!@#$%^&*()_\\-+=<>?:\"{}|,.;'\\\\[\\]·~！@#￥%……&*（）——\\-+={}|《》？：“”【】、；‘'，。、]/im.test(\n            this.searchKey\n          )\n        ) {\n          let reg = new RegExp(this.searchKey, 'i', 'g');\n          for (let item of results) {\n            if (\n              item.resourcesName.includes(this.searchKey) ||\n              item.resourcesName.includes(this.searchKey.toLowerCase()) ||\n              item.resourcesName.includes(this.searchKey.toUpperCase())\n            ) {\n              let str = item.resourcesName.match(reg);\n              item.resourcesNameHtml = item.resourcesName.replace(\n                reg,\n                `<span style=\"color:#D50201\">${str}</span>`\n              );\n            }\n          }\n        }\n      }\n\n      cb(results);\n    },\n    createFilter(queryString) {\n      return restaurantChange => {\n        return (\n          restaurantChange.resourcesName\n            .toLowerCase()\n            .indexOf(queryString.toLowerCase()) === 0 /*首字匹配过滤器 */\n        );\n      };\n    },\n    //根据传进来的状态改变建议输入框的状态（展开|隐藏）\n    changeStyle(status, className) {\n      let dom = document.querySelectorAll(className);\n      dom[0].style.display = status;\n    },\n    //select事件\n    handleSelect(item) {\n      if (this.itemFlag) {\n        this.searchKey = item.name;\n      } else {\n        this.searchKey = item.resourcesName;\n      }\n      this.Search();\n    },\n    loadAll() {\n      return this.loadList;\n    },\n    loadNewAll() {\n      return this.loadListChange;\n    },\n    //关键字联想搜索\n    imageSelect() {\n      if (this.searchKey) {\n        getkeySelectList(encodeURIComponent(this.searchKey))\n          .then(res => {\n            this.loadListChange = res.data;\n          })\n          .catch(res => {\n            this.loadListChange = [];\n          });\n      } else {\n        this.loadListChange = [];\n      }\n    },\n    //获取历史记录\n    historySelect() {\n      getSelectHistoryList(this.accountType).then(res => {\n        this.loadList = res.data;\n      });\n    },\n    //删除历史记录\n    deleteHistory(value) {\n      deleteHistory({ name: value, accountType: this.accountType }).then(\n        res => {\n          this.searchKey = '';\n          this.$message({\n            type: 'info',\n            message: res.data\n          });\n          this.changeStyle('none', '.el-autocomplete-suggestion');\n          setTimeout(() => {\n            this.historySelect();\n          }, 500);\n        }\n      );\n    },\n    //主搜索按钮\n    Search() {\n      // if (this.searchKey) {\n      if (!window.localStorage) {\n        this.$message({\n          type: 'success',\n          message: '浏览器版本太低，请升级浏览器!'\n        });\n      } else {\n        window.localStorage.setItem('searchKey', this.searchKey);\n        window.localStorage.setItem('searchType', 1);\n      }\n      this.$router.push('/searchResult');\n      // } else {\n      //   return false;\n      // }\n    },\n    //搜索框下的热门搜索点击事件\n    keySearch(value) {\n      if (!window.localStorage) {\n        this.$message({\n          type: 'success',\n          message: '浏览器版本太低，请升级浏览器!'\n        });\n      } else {\n        window.localStorage.setItem('searchHisKey', value.resourcesName);\n        window.localStorage.setItem('searchType', 2);\n      }\n      this.$router.push('/searchResult');\n    },\n    //点击更多搜索全部\n    searchAll() {\n      this.$router.push('/searchResult');\n    },\n    //热门搜索、热门资源点击事件\n    searchHot(data) {\n      if (!window.localStorage) {\n        this.$message({\n          type: 'success',\n          message: '浏览器版本太低，请升级浏览器!'\n        });\n      } else {\n        window.localStorage.setItem('searchHotKey', data.resourcesName);\n        window.localStorage.setItem('searchType', 3);\n      }\n      this.$router.push('/searchResult');\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.loginRole {\n  padding: 0;\n  margin: 0;\n}\n.background {\n  min-width: 1200px;\n  min-height: 100vh;\n  overflow: hidden;\n  background: url('../../assets/images/bg.webp') no-repeat,\n    url('../../assets/images/bg.jpg') no-repeat;\n  background-size: cover;\n}\n.el-main {\n  text-align: center;\n  line-height: 40%;\n  background-color: rgba(0, 0, 0, 0);\n  color: azure;\n  overflow: hidden;\n}\n.nav-left {\n  display: inline-block;\n  padding: 10px 0;\n  //margin-left: 1vw;\n}\n.nav {\n  width: 350px;\n  display: flex;\n  justify-content: space-evenly;\n  margin-top: 15px;\n  margin-right: -20px;\n  float: right;\n}\n.nav img {\n  width: 25px;\n  height: 25px;\n}\n.input-search {\n  border-radius: 0;\n  margin-top: 30px;\n  width: 450px;\n}\n/deep/.el-input__inner {\n  border-radius: 5px 0 0 5px;\n}\n//自定义搜索历史框样式\n.my-autocomplete {\n  li {\n    line-height: normal;\n    padding: 7px;\n    .name {\n      position: absolute;\n      text-overflow: ellipsis;\n      overflow: hidden;\n    }\n  }\n  .hostory-item {\n    display: flex;\n    justify-content: flex-start;\n  }\n}\n.history-tag {\n  width: 50%;\n  max-width: 750px;\n  margin: auto;\n}\n.content-box {\n  display: flex;\n  justify-content: center;\n  margin-top: 40px;\n  overflow: hidden;\n}\n.item-main {\n  height: 300px;\n  width: 550px;\n  min-width: 450px;\n}\n.item-aside {\n  height: 330px;\n  width: 330px;\n  margin-left: 20px;\n  min-width: 330px;\n}\n.chil-item,\n.item-aside {\n  background-color: rgba(240, 236, 236, 0.1);\n  border-radius: 5px;\n  color: azure;\n}\n.chil-item {\n  height: 117px;\n  font-size: 1rem;\n  margin-bottom: 15px;\n  padding: 20px;\n  overflow: hidden;\n  img {\n    width: 70px;\n    height: 17px;\n  }\n}\n.item-tittle-aside {\n  font-size: 1rem;\n  margin: 20px;\n  .item-tittle-aside-top {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 27px;\n    .top-right {\n      font-size: 14px;\n      cursor: pointer;\n    }\n  }\n  img {\n    width: 70px;\n    height: 17px;\n  }\n}\n.item-content {\n  margin-top: 10px;\n}\n.el-button-self {\n  background-color: rgba(236, 238, 240, 0.2);\n  font-size: 0.9rem;\n  margin-bottom: 5px;\n  margin-left: 10px;\n  padding: 5px;\n  color: azure;\n\n  &:hover {\n    background-color: rgba(236, 238, 240, 0.2);\n    border-color: rgba(236, 238, 240, 0.2);\n  }\n}\n.item-list {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 10px;\n  font-size: 0.9rem;\n}\n.score-index {\n  display: inline-block;\n  width: 20px;\n  padding-left: 5px;\n}\nli {\n  padding-bottom: 7px;\n}\n//积分排行序号渐变色\n.fontNumColor_1 {\n  color: rgba(236, 61, 61, 0.979);\n}\n.fontNumColor_2 {\n  color: rgb(236, 102, 61);\n}\n.fontNumColor_3 {\n  color: rgb(236, 154, 61);\n}\n.footer-class {\n  position: fixed;\n  width: 100%;\n  height: 50px;\n  left: 0;\n  bottom: 0;\n  line-height: 50px;\n  text-align: center;\n  background-color: rgba(0, 0, 0, 0);\n  color: azure;\n  //padding-top: 20px;\n}\n.carousel-item {\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  margin-bottom: 15px;\n  cursor: pointer;\n}\n\n.tour-page {\n  position: fixed;\n  z-index: 1000;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  .btn-box {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: absolute;\n    left: 0;\n    bottom: 50px;\n    width: 100%;\n    .btn-prev,\n    .btn-next {\n      width: 156px;\n      height: 54px;\n      cursor: pointer;\n      text-align: center;\n      line-height: 54px;\n      color: #fff;\n      font-size: 18px;\n    }\n    .btn-prev {\n      background: url('../../assets/images/btn-prev.png') 0 0 no-repeat;\n      background-size: cover;\n      &:hover {\n        background: url('../../assets/images/btn-prev-active.png') 0 0 no-repeat;\n        background-size: cover;\n      }\n    }\n    .btn-next {\n      background: url('../../assets/images/btn-next.png') 0 0 no-repeat;\n      background-size: cover;\n      &:hover {\n        background: url('../../assets/images/btn-next-active.png') 0 0 no-repeat;\n        background-size: cover;\n      }\n    }\n    .btn-next-1 {\n      width: 301px;\n      height: 54px;\n      text-align: center;\n      line-height: 54px;\n      color: #fff;\n      font-size: 18px;\n      background: url('../../assets/images/next.png') 0 0 no-repeat;\n      background-size: cover;\n      cursor: pointer;\n      &:hover {\n        background: url('../../assets/images/next-active.png') 0 0 no-repeat;\n        background-size: cover;\n      }\n    }\n  }\n  .btn-jump {\n    position: absolute;\n    bottom: 50px;\n    right: 50px;\n    color: #fff;\n    font-size: 14px;\n    cursor: pointer;\n  }\n}\n.tour-1 {\n  background: url('../../assets/images/tour_1.webp') 0 0 no-repeat;\n  background-size: 100% 100%;\n}\n.tour-2 {\n  background: url('../../assets/images/tour_2.webp') 0 0 no-repeat;\n  background-size: 100% 100%;\n}\n.tour-3 {\n  background: url('../../assets/images/tour_3.webp') 0 0 no-repeat;\n  background-size: 100% 100%;\n}\n.tour-4 {\n  background: url('../../assets/images/tour_4.webp') 0 0 no-repeat;\n  background-size: 100% 100%;\n}\n.tour-5 {\n  background: url('../../assets/images/tour_5.webp') 0 0 no-repeat;\n  background-size: 100% 100%;\n}\n.tour-6 {\n  background: url('../../assets/images/tour_6.webp') 0 0 no-repeat;\n  background-size: 100% 100%;\n}\n.finish-dialog {\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  img {\n    width: 100px;\n    height: 100px;\n    margin: 0 auto 20px;\n  }\n  p {\n    text-align: center;\n  }\n}\n</style>\n<style lang=\"less\">\n.tooltip.el-tooltip__popper {\n  max-width: 30%;\n}\n</style>\n"]}]}