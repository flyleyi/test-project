{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/BUserManage/components/school-info.vue?vue&type=style&index=0&id=0cedb3a3&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/BUserManage/components/school-info.vue","mtime":1645176309784},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbC1saXN0IHsKICAmLWl0ZW0gewogICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTsKICAgICY6Zmlyc3QtY2hpbGQgewogICAgICBib3JkZXI6IDA7CiAgICB9CiAgfQp9Ci9kZWVwLyAuY29sLWJveCB7CiAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAmOmZpcnN0LWNoaWxkIHsKICAgIG1hcmdpbi10b3A6IDIwcHg7CiAgfQp9Ci9kZWVwLyAuY29sLWl0ZW0gewogIG1hcmdpbi10b3A6IDIwcHg7CiAgJi1sZWZ0IHsKICAgIHdpZHRoOiA5MnB4OwogICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgdGV4dC1hbGlnbjogcmlnaHQ7CiAgICBwYWRkaW5nLXJpZ2h0OiA0cHg7CiAgfQp9Ci9kZWVwLyAuYm94LXRpdGxlIHsKICBoZWlnaHQ6IDI0cHg7CiAgZm9udC1zaXplOiAxNnB4OwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7CiAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgcGFkZGluZy1sZWZ0OiAxMHB4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAmOjpiZWZvcmUgewogICAgY29udGVudDogJyc7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB3aWR0aDogNHB4OwogICAgaGVpZ2h0OiAxNnB4OwogICAgYmFja2dyb3VuZDogIzU0ODFlOTsKICAgIGJveC1zaGFkb3c6IDJweCAwcHggMHB4IDBweCByZ2JhKDIxMywgMjMwLCAyNTUsIDAuNik7CiAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiAwOwogICAgYm90dG9tOiA0cHg7CiAgfQp9Ci9kZWVwLyAuZWwtc2VsZWN0IC5lbC1pbnB1dF9faW5uZXIgewogIHdpZHRoOiAzMDBweDsKICBoZWlnaHQ6IDMycHg7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBib3JkZXItcmFkaXVzOiAycHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2VhZWRmMzsKfQovZGVlcC8gLmVsLXRhZyB7CiAgaGVpZ2h0OiAyMnB4OwogIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wNCk7CiAgYm9yZGVyLXJhZGl1czogMnB4OwogIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xNSk7CiAgZm9udC1zaXplOiAxMnB4OwogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpOwogIGxpbmUtaGVpZ2h0OiAyMHB4OwogIC5lbC10YWdfX2Nsb3NlLmVsLWljb24tY2xvc2UgewogICAgYmFja2dyb3VuZDogbm9uZSAhaW1wb3J0YW50OwogICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC40NSk7CiAgICBmb250LXNpemU6IDE0cHg7CiAgfQp9Cg=="},{"version":3,"sources":["school-info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"school-info.vue","sourceRoot":"src/pages/score-analysis-admin/components/business/BUserManage/components","sourcesContent":["<template>\n  <form class=\"col-list-item\" :model=\"schoolItem\" label-width=\"84px\">\n    <!-- 任职信息 -->\n    <div class=\"col-box\">\n      <div class=\"box-title\">\n        <span>{{ schoolItem.schoolName }}任职信息</span>\n      </div>\n      <el-form-item label=\"角色：\">\n        <el-checkbox-group v-model=\"schoolItem.selfRoleList\">\n          <el-checkbox\n            v-for=\"item in roleList\"\n            :label=\"item.roleId\"\n            :key=\"item.roleId\"\n            >{{ item.role }}</el-checkbox\n          >\n        </el-checkbox-group>\n      </el-form-item>\n    </div>\n    <!-- 任课教师信息 -->\n    <role-one\n      v-if=\"getShowCol(schoolItem.selfRoleList, 1)\"\n      :roleList1=\"schoolItem.roleList1\"\n      :gradeClassTree=\"gradeClassTree\"\n      :subjectList=\"subjectList\"\n      ref=\"roleOne\"\n    ></role-one>\n    <!-- 班主任信息 -->\n    <role-two\n      v-if=\"getShowCol(schoolItem.selfRoleList, 2)\"\n      :roleList2=\"schoolItem.roleList2\"\n      :gradeClassTree=\"gradeClassTreeIs\"\n    ></role-two>\n    <!-- 学科组长信息 -->\n    <role-three\n      v-if=\"getShowCol(schoolItem.selfRoleList, 3)\"\n      :roleList3=\"schoolItem.roleList3\"\n      :gradeClassTree=\"gradeClassTree\"\n      :subjectList=\"subjectList\"\n    ></role-three>\n    <!-- 年级组长信息 -->\n    <role-four\n      v-if=\"getShowCol(schoolItem.selfRoleList, 4)\"\n      :roleList4=\"schoolItem.roleList4\"\n      :gradeClassTree=\"gradeClassTree\"\n    ></role-four>\n  </form>\n</template>\n\n<script>\nimport apiPaperManage from './../../../../api/paperManage';\nimport { getGradeClassTree } from './../../../../api/user/index';\nimport roleOne from './role-one';\nimport roleTwo from './role-two';\nimport roleThree from './role-three';\nimport roleFour from './role-four';\n\nexport default {\n  props: {\n    school: {\n      type: Object,\n      default: () => {}\n    }\n  },\n  data() {\n    return {\n      schoolItem: {\n        id: '',\n        schoolName: '',\n        selfRoleList: [], //已选角色\n        roleList1: {\n          roleId: 1,\n          subjectList: []\n        },\n        roleList2: {\n          roleId: 2,\n          gradeClassList: []\n        },\n        roleList3: {\n          roleId: 3,\n          subjectList: []\n        },\n        roleList4: {\n          roleId: 4,\n          gradeClassList: []\n        }\n      },\n      roleList: [\n        {\n          role: '任课教师',\n          roleId: 1\n        },\n        {\n          role: '班主任',\n          roleId: 2\n        },\n        {\n          role: '学科组长',\n          roleId: 3\n        },\n        {\n          role: '年级组长',\n          roleId: 4\n        },\n        {\n          role: '校长',\n          roleId: 5\n        }\n      ],\n      gradeClassTree: [], //年级班级列表 0-授课老师-所有\n      gradeClassTreeIs: [], //年级班级列表 1-班主任\n      subjectList: [\n        // {\n        //   id: '',\n        //   name: '',\n        //   gradeClassList: []\n        // }\n      ] //科目列表\n    };\n  },\n  components: {\n    roleOne,\n    roleTwo,\n    roleThree,\n    roleFour\n  },\n  created() {\n    this.schoolItem.schoolCode = this.school.schoolCode;\n    this.schoolItem.schoolName = this.school.schoolName;\n    this.getSubjectList(); //获取学科列表\n    this.getGradeClassTree(this.schoolItem.schoolCode, { isClassTeacher: 1 }); //获取年级和班级列表-班主任\n    this.getGradeClassTree(this.schoolItem.schoolCode, { isClassTeacher: 0 }); //获取年级和班级列表-授课教师\n  },\n  methods: {\n    // 获取科目列表\n    getSubjectList() {\n      apiPaperManage.getSubjectList().then(({ data }) => {\n        data.forEach(item => {\n          this.subjectList.push({\n            id: item.subjectId,\n            name: item.subjectName,\n            gradeClassList: []\n          });\n        });\n      });\n    },\n    // 获取年级和班级列表\n    getGradeClassTree(schoolId, params) {\n      getGradeClassTree(schoolId, params).then(({ data }) => {\n        if (params && params.isClassTeacher == 0) {\n          this.gradeClassTree = data;\n        } else if (params && params.isClassTeacher == 1) {\n          this.gradeClassTreeIs = data;\n        } else {\n          this.gradeClassTree = data;\n        }\n      });\n    },\n    // 是否显示\n    getShowCol(list, id) {\n      let listFilter = list.filter(item => item === id);\n      if (listFilter.length > 0) return true;\n      return false;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.col-list {\n  &-item {\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\n    &:first-child {\n      border: 0;\n    }\n  }\n}\n/deep/ .col-box {\n  margin-bottom: 20px;\n  &:first-child {\n    margin-top: 20px;\n  }\n}\n/deep/ .col-item {\n  margin-top: 20px;\n  &-left {\n    width: 92px;\n    display: inline-block;\n    text-align: right;\n    padding-right: 4px;\n  }\n}\n/deep/ .box-title {\n  height: 24px;\n  font-size: 16px;\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.85);\n  line-height: 24px;\n  padding-left: 10px;\n  position: relative;\n  &::before {\n    content: '';\n    display: inline-block;\n    width: 4px;\n    height: 16px;\n    background: #5481e9;\n    box-shadow: 2px 0px 0px 0px rgba(213, 230, 255, 0.6);\n    border-radius: 3px;\n    position: absolute;\n    left: 0;\n    bottom: 4px;\n  }\n}\n/deep/ .el-select .el-input__inner {\n  width: 300px;\n  height: 32px;\n  background: #ffffff;\n  border-radius: 2px;\n  border: 1px solid #eaedf3;\n}\n/deep/ .el-tag {\n  height: 22px;\n  background: rgba(0, 0, 0, 0.04);\n  border-radius: 2px;\n  border: 1px solid rgba(0, 0, 0, 0.15);\n  font-size: 12px;\n  color: rgba(0, 0, 0, 0.65);\n  line-height: 20px;\n  .el-tag__close.el-icon-close {\n    background: none !important;\n    color: rgba(0, 0, 0, 0.45);\n    font-size: 14px;\n  }\n}\n</style>\n"]}]}