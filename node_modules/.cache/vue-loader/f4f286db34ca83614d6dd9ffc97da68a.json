{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/BRoleManage/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/BRoleManage/index.vue","mtime":1627979214341},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgRGlhbG9nLAogIEJ1dHRvbiwKICBTZWxlY3QsCiAgT3B0aW9uLAogIElucHV0LAogIEZvcm0sCiAgRm9ybUl0ZW0KfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IEJUYWJsZSBmcm9tICcuLi9CVGFibGUnOwppbXBvcnQgYXhpb3MgZnJvbSAnQC9wbHVnaW5zL2F4aW9zJzsKZnVuY3Rpb24gbWVyZ2VEZWZhdWx0KCkgewogIHZhciBmID0ge30sCiAgICBtID0gYXJndW1lbnRzLmxlbmd0aCwKICAgIG8gPSBhcmd1bWVudHNbbSAtIDFdLAogICAgYiA9IDAsCiAgICBrLAogICAgaCwKICAgIGQsCiAgICBnOwogIGlmICh0eXBlb2YgbyA9PSAnYm9vbGVhbicpIHsKICAgIGIrKzsKICAgIGggPSBvOwogIH0KICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50c1swXSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHsKICAgIGQgPSB0cnVlOwogICAgZyA9IGFyZ3VtZW50c1swXTsKICAgIGsgPSBhcmd1bWVudHNbMV07CiAgfSBlbHNlIHsKICAgIGsgPSBhcmd1bWVudHNbMF0gfHwge307CiAgfQogIGZvciAodmFyIGMgPSAwOyBjIDwgbSAtIGI7IGMrKykgewogICAgdmFyIGEgPSBhcmd1bWVudHNbY107CiAgICBmb3IgKHZhciBlIGluIGQgPyBnIDogaykgewogICAgICB2YXIgbiA9IGQgPyBnW2VdIDogZTsKICAgICAgaWYgKGEgJiYgYVtuXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgaCA/IChmW25dID0gYVtuXSkgOiAoa1tuXSA9IGFbbl0pOwogICAgICB9IGVsc2UgewogICAgICAgIGggJiYgYyA9PSAwICYmIChmW25dID0ga1tuXSk7CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIGggPyBmIDogazsKfQoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCUm9sZU1hbmFnZScsCiAgLy8g5rOo5YaM57uE5Lu2CiAgY29tcG9uZW50czogewogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLAogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLAogICAgW1NlbGVjdC5uYW1lXTogU2VsZWN0LAogICAgW09wdGlvbi5uYW1lXTogT3B0aW9uLAogICAgW0lucHV0Lm5hbWVdOiBJbnB1dCwKICAgIFtGb3JtLm5hbWVdOiBGb3JtLAogICAgW0Zvcm1JdGVtLm5hbWVdOiBGb3JtSXRlbSwKICAgIEJUYWJsZQogIH0sCiAgcHJvcHM6IHsKICAgIC8qKgogICAgICog5pyN5Yqh5Zmo57G75Z6LCiAgICAgKi8KICAgIHNlcnZlclR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgLy8g5a6a5LmJ5pWw5o2uCiAgZGF0YSgpIHsKICAgIC8vIOadg+mZkOagoemqjOaWueazlQogICAgbGV0ICRoYXMgPSB0aGlzLiRoYXM7CiAgICB0eXBlb2YgJGhhcyAhPT0gJ2Z1bmN0aW9uJyAmJiAoJGhhcyA9ICgpID0+IHRydWUpOwogICAgcmV0dXJuIHsKICAgICAgJGhhcywKICAgICAgZGlhbG9nOiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgaXNlZGl0OiBmYWxzZQogICAgICB9LAogICAgICBydWxlRm9ybTogewogICAgICAgIC8vIHJvbGVJZDogJycsLy/op5LoibLnvJbnoIEKICAgICAgICByb2xlTmFtZTogJycsIC8v6KeS6Imy5aeT5ZCNCiAgICAgICAgcm9sZURlc2M6ICcnLCAvL+inkuiJsuaPj+i/sAogICAgICAgIGlzU2hvdzogJycgLy/op5LoibLnirbmgIEgMOWQr+eUqCAx56aB55SoCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcm9sZU5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgbWVzc2FnZTogJ+inkuiJsuWQjeensOacquWhq+WGmScgfQogICAgICAgIF0sCiAgICAgICAgaXNTaG93OiBbeyByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogJ2JsdXInLCBtZXNzYWdlOiAn6KeS6Imy54q25oCB5pyq5aGr5YaZJyB9XQogICAgICB9CiAgICB9OwogIH0sCiAgLy8g6K6h566X5bGe5oCnCiAgY29tcHV0ZWQ6IHsKICAgIC8qKgogICAgICog6KGo5Y2V5YiXCiAgICAgKi8KICAgIGNvbHVtbnMoKSB7CiAgICAgIGxldCBidG5zID0gWwogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn57yW6L6RJywKICAgICAgICAgIGNsaWNrOiB0aGlzLmVkaXRUYWJsZVJvbGUsCiAgICAgICAgICBoaWRkZW46ICgpID0+ICF0aGlzLiRoYXMoWydyb2xlLWVkaXQnXSksCiAgICAgICAgICBzaXplOiAnbWluaScsCiAgICAgICAgICB0eXBlOiAndGV4dCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5Yig6ZmkJywKICAgICAgICAgIGNsaWNrOiByb3cgPT4gdGhpcy5kZWwocm93LnJvbGVJZCksCiAgICAgICAgICBoaWRkZW46ICgpID0+ICF0aGlzLiRoYXMoWydyb2xlLWRlbGV0ZSddKSwKICAgICAgICAgIHNpemU6ICdtaW5pJywKICAgICAgICAgIHR5cGU6ICd0ZXh0JwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfoj5zljZXmjojmnYMnLAogICAgICAgICAgY2xpY2s6IHJvdyA9PiB0aGlzLm1lbnVQZXJtaXNzaW9uKHJvdy5yb2xlSWQpLAogICAgICAgICAgaGlkZGVuOiAoKSA9PiAhdGhpcy4kaGFzKFsncm9sZS1wZXJtaXNzaW9uJ10pLAogICAgICAgICAgc2l6ZTogJ21pbmknLAogICAgICAgICAgdHlwZTogJ3RleHQnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+WIhumFjeeUqOaItycsCiAgICAgICAgICBjbGljazogcm93ID0+IHRoaXMuYWxsb3RVc2VyKHJvdy5yb2xlSWQpLAogICAgICAgICAgaGlkZGVuOiAoKSA9PiAhdGhpcy4kaGFzKFsncm9sZS1hbGxvdFVzZXInXSksCiAgICAgICAgICBzaXplOiAnbWluaScsCiAgICAgICAgICB0eXBlOiAndGV4dCcKICAgICAgICB9CiAgICAgIF07CiAgICAgIHJldHVybiBbCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfop5LoibLnvJbnoIEnLAogICAgICAgICAgcHJvcDogJ3JvbGVJZCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn6KeS6Imy5ZCN56ewJywKICAgICAgICAgIHByb3A6ICdyb2xlTmFtZScsCiAgICAgICAgICAnc2hvdy1vdmVyZmxvdy10b29sdGlwJzogdHJ1ZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfop5LoibLmj4/ov7AnLAogICAgICAgICAgcHJvcDogJ3JvbGVEZXNjJywKICAgICAgICAgICdzaG93LW92ZXJmbG93LXRvb2x0aXAnOiB0cnVlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+inkuiJsueKtuaAgScsCiAgICAgICAgICBwcm9wOiAnaXNTaG93JywKICAgICAgICAgIGZvcm1hdHRlcihyb3csIGNvbHVtbiwgY2VsbFZhbHVlKSB7CiAgICAgICAgICAgIHJldHVybiBjZWxsVmFsdWUgPT0gJzAnID8gJ+WQr+eUqCcgOiAn56aB55SoJzsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5pON5L2cJywKICAgICAgICAgIGNvbFR5cGU6ICdidG5zJywKICAgICAgICAgIGJ0bnM6IGJ0bnMuZmlsdGVyKGl0ZW0gPT4gdGhpcy4kaGFzKGl0ZW0uYXV0aCkpLAogICAgICAgICAgd2lkdGg6ICczNDBweCcKICAgICAgICB9CiAgICAgIF07CiAgICB9LAogICAgLyoqCiAgICAgKiDooajljZXpobkKICAgICAqLwogICAgZm9ybUl0ZW1zKCkgewogICAgICByZXR1cm4gWwogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBwcm9wOiAncm9sZU5hbWUnLAogICAgICAgICAgbGFiZWw6ICfop5LoibLlkI3np7DvvJonCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0eXBlOiAnaW5wdXQnLAogICAgICAgICAgcHJvcDogJ3JvbGVJZCcsCiAgICAgICAgICBsYWJlbDogJ+inkuiJsue8luegge+8micKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgb3B0aW9uczogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdmFsdWU6ICcwJywKICAgICAgICAgICAgICBsYWJlbDogJ+WQr+eUqCcKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIHZhbHVlOiAnMScsCiAgICAgICAgICAgICAgbGFiZWw6ICfnpoHnlKgnCiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBwcm9wOiAnaXNTaG93JywKICAgICAgICAgIGxhYmVsOiAn54q25oCB77yaJwogICAgICAgIH0KICAgICAgXTsKICAgIH0sCiAgICAvKioKICAgICAqIOW3peWFt+agjwogICAgICovCiAgICB0b29sYmFycygpIHsKICAgICAgbGV0IHRvb2xiYXJzID0gWwogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5paw5aKeJywKICAgICAgICAgIGNsaWNrOiB0aGlzLmFkZHRhYmxlUm9sZSwKICAgICAgICAgIGF1dGg6IFsncm9sZS1hZGQnXQogICAgICAgIH0KICAgICAgXTsKICAgICAgcmV0dXJuIHRvb2xiYXJzLmZpbHRlcihpdGVtID0+IHRoaXMuJGhhcyhpdGVtLmF1dGgpKTsKICAgIH0KICB9LAogIC8vIOS+puWQrOWZqAogIHdhdGNoOiB7fSwKICAvLyDliJvlu7rlrozmiJDpkqnlrZAKICBjcmVhdGVkKCkge30sCiAgLy8g5oyC5Zyo5a6M5oiQ6ZKp5a2QCiAgbW91bnRlZCgpIHt9LAogIC8vIOaWueazleWumuS5iQogIG1ldGhvZHM6IHsKICAgIGFqYXhHZXRSb2xlRGF0YShwYXJhbXMpIHsKICAgICAgcmV0dXJuIGF4aW9zKAogICAgICAgIHsKICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICB1cmw6ICcvdXNlcmd3L2FkbWluL2NvbW1vbi9wYWdlTGlzdC8zMDEnLAogICAgICAgICAgcGFyYW1zCiAgICAgICAgfSwKICAgICAgICB0aGlzLnNlcnZlclR5cGUKICAgICAgKTsKICAgIH0sCiAgICAvKioKICAgICAqIOihqOWNlemHjee9rgogICAgICovCiAgICByZXNldEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2JUYWJsZSddLm9uUXVlcnlGb3JtKCk7CiAgICB9LAogICAgbWVudVBlcm1pc3Npb24oaWQpIHsKICAgICAgLy/oj5zljZXmjojmnYMKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvc3lzdGVtL3JvbGUvbWVudS1hdXRoJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgaWQ6IGlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBkZWwoaWQpIHsKICAgICAgLy/liKDpmaQKICAgICAgdGhpcy4kY29uZmlybSgn5Yig6Zmk5ZCO5LiN5Y+v5oGi5aSN77yM56Gu5a6a5Yig6Zmk77yfJywgJ+WIoOmZpOehruiupCcsIHsKICAgICAgICBjdXN0b21DbGFzczogJ2JveC1kYW5nZXInLAogICAgICAgIGNlbnRlcjogdHJ1ZQogICAgICB9KQogICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgYXhpb3MoCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgICAgIHVybDogYC91c2VyZ3cvYWRtaW4vcm9sZUF1dGgvZGVsZXRlUm9sZS8ke2lkfWAKICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlCiAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy4kcmVmcy5iVGFibGUuYWpheEdldFRhYmxlRGF0YUJ5UGFnZSgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgfSwKICAgIGFsbG90VXNlcihpZCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogJy9zeXN0ZW0vcm9sZS9hbGxvdC11c2VyJywKICAgICAgICBxdWVyeTogewogICAgICAgICAgcm9sZUlkOiBpZAogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgYWRkdGFibGVSb2xlKCkgewogICAgICB0aGlzLmRpYWxvZy52aXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5kaWFsb2cuaXNlZGl0ID0gZmFsc2U7CiAgICAgIGZvciAodmFyIGkgaW4gdGhpcy5ydWxlRm9ybSkgewogICAgICAgIHRoaXMucnVsZUZvcm1baV0gPSAnJzsKICAgICAgfQogICAgICBkZWxldGUgdGhpcy5ydWxlRm9ybS5yb2xlSWQ7CiAgICB9LAogICAgZWRpdFRhYmxlUm9sZShyb3cpIHsKICAgICAgdGhpcy5kaWFsb2cudmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nLmlzZWRpdCA9IHRydWU7CiAgICAgIG1lcmdlRGVmYXVsdCh0aGlzLnJ1bGVGb3JtLCByb3cpOwogICAgICB0aGlzLnJ1bGVGb3JtLnJvbGVJZCA9IHJvdy5yb2xlSWQ7CiAgICB9LAogICAgYXN5bmMgc3VyZURpYWxvZygpIHsKICAgICAgLy/mlrDlop7nvJbovpHlvLnnqpcKICAgICAgaWYgKCF0aGlzLmRpYWxvZy5pc2VkaXQpIHsKICAgICAgICB0aGlzLnJ1bGVGb3JtLmlzU2hvdyA9ICcwJzsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMuJHJlZnMuZWxGb3JtLnZhbGlkYXRlKCk7CgogICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSB0cnVlOwogICAgICAgIGlmICh0aGlzLmRpYWxvZy5pc2VkaXQpIHsKICAgICAgICAgIGF4aW9zKAogICAgICAgICAgICB7CiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgdXJsOiAnL3VzZXJndy9hZG1pbi9jb21tb24vc2F2ZS8zMDEvMDInLAogICAgICAgICAgICAgIGRhdGE6IHRoaXMucnVsZUZvcm0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlCiAgICAgICAgICApCiAgICAgICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnZpc2libGUgPSBmYWxzZTsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnvJbovpHmiJDlip8hJwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHRoaXMuJHJlZnMuYlRhYmxlLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBheGlvcygKICAgICAgICAgICAgewogICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgIHVybDogJy91c2VyZ3cvYWRtaW4vY29tbW9uL3NhdmUvMzAxLzAxJywKICAgICAgICAgICAgICBkYXRhOiB0aGlzLnJ1bGVGb3JtCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICAgICAgKQogICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsKICAgICAgICAgICAgICB0aGlzLmRpYWxvZy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5paw5aKe5oiQ5YqfIScKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB0aGlzLiRyZWZzLmJUYWJsZS5hamF4R2V0VGFibGVEYXRhQnlQYWdlKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyDooajljZXmoKHpqozlpLHotKUKICAgICAgICBjb25zb2xlLmVycm9yKCfooajljZXmoKHpqozlpLHotKUnLCBlKTsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/score-analysis-admin/components/business/BRoleManage","sourcesContent":["<template>\n  <!-- 角色管理 -->\n  <div class=\"app-container\">\n    <b-table\n      ref=\"bTable\"\n      @reset-form=\"resetForm\"\n      loading\n      :headers=\"columns\"\n      :form-items=\"formItems\"\n      :ajax-get-data=\"ajaxGetRoleData\"\n      :toolbars=\"toolbars\"\n      :show-column=\"false\"\n    ></b-table>\n    <!-- 新增编辑弹窗 -->\n    <el-dialog\n      :title=\"dialog.isedit ? '编辑' : '新增'\"\n      width=\"540px\"\n      center\n      class=\"dialog\"\n      :visible.sync=\"dialog.visible\"\n    >\n      <el-form ref=\"elForm\" label-width=\"80px\" :model=\"ruleForm\" :rules=\"rules\">\n        <el-form-item label=\"角色名称\" prop=\"roleName\">\n          <el-input type=\"input\" v-model.trim=\"ruleForm.roleName\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"角色描述\" prop=\"roleDesc\">\n          <el-input type=\"input\" v-model.trim=\"ruleForm.roleDesc\"></el-input>\n        </el-form-item>\n        <el-form-item v-if=\"dialog.isedit\" label=\"角色状态\" prop=\"roleDesc\">\n          <el-select v-model=\"ruleForm.isShow\">\n            <el-option\n              v-for=\"(item, index) in formItems[2].options\"\n              :key=\"index\"\n              :value=\"item.value\"\n              :label=\"item.label\"\n            />\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"dialog.visible = false\">取消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"sureDialog\"\n          >确定</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  Dialog,\n  Button,\n  Select,\n  Option,\n  Input,\n  Form,\n  FormItem\n} from 'element-ui';\nimport BTable from '../BTable';\nimport axios from '@/plugins/axios';\nfunction mergeDefault() {\n  var f = {},\n    m = arguments.length,\n    o = arguments[m - 1],\n    b = 0,\n    k,\n    h,\n    d,\n    g;\n  if (typeof o == 'boolean') {\n    b++;\n    h = o;\n  }\n  if (Object.prototype.toString.call(arguments[0]) === '[object Array]') {\n    d = true;\n    g = arguments[0];\n    k = arguments[1];\n  } else {\n    k = arguments[0] || {};\n  }\n  for (var c = 0; c < m - b; c++) {\n    var a = arguments[c];\n    for (var e in d ? g : k) {\n      var n = d ? g[e] : e;\n      if (a && a[n] !== undefined) {\n        h ? (f[n] = a[n]) : (k[n] = a[n]);\n      } else {\n        h && c == 0 && (f[n] = k[n]);\n      }\n    }\n  }\n  return h ? f : k;\n}\n\nexport default {\n  name: 'BRoleManage',\n  // 注册组件\n  components: {\n    [Dialog.name]: Dialog,\n    [Button.name]: Button,\n    [Select.name]: Select,\n    [Option.name]: Option,\n    [Input.name]: Input,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    BTable\n  },\n  props: {\n    /**\n     * 服务器类型\n     */\n    serverType: {\n      type: String,\n      default: ''\n    }\n  },\n  // 定义数据\n  data() {\n    // 权限校验方法\n    let $has = this.$has;\n    typeof $has !== 'function' && ($has = () => true);\n    return {\n      $has,\n      dialog: {\n        visible: false,\n        isedit: false\n      },\n      ruleForm: {\n        // roleId: '',//角色编码\n        roleName: '', //角色姓名\n        roleDesc: '', //角色描述\n        isShow: '' //角色状态 0启用 1禁用\n      },\n      rules: {\n        roleName: [\n          { required: true, trigger: 'blur', message: '角色名称未填写' }\n        ],\n        isShow: [{ required: true, trigger: 'blur', message: '角色状态未填写' }]\n      }\n    };\n  },\n  // 计算属性\n  computed: {\n    /**\n     * 表单列\n     */\n    columns() {\n      let btns = [\n        {\n          label: '编辑',\n          click: this.editTableRole,\n          hidden: () => !this.$has(['role-edit']),\n          size: 'mini',\n          type: 'text'\n        },\n        {\n          label: '删除',\n          click: row => this.del(row.roleId),\n          hidden: () => !this.$has(['role-delete']),\n          size: 'mini',\n          type: 'text'\n        },\n        {\n          label: '菜单授权',\n          click: row => this.menuPermission(row.roleId),\n          hidden: () => !this.$has(['role-permission']),\n          size: 'mini',\n          type: 'text'\n        },\n        {\n          label: '分配用户',\n          click: row => this.allotUser(row.roleId),\n          hidden: () => !this.$has(['role-allotUser']),\n          size: 'mini',\n          type: 'text'\n        }\n      ];\n      return [\n        {\n          label: '角色编码',\n          prop: 'roleId'\n        },\n        {\n          label: '角色名称',\n          prop: 'roleName',\n          'show-overflow-tooltip': true\n        },\n        {\n          label: '角色描述',\n          prop: 'roleDesc',\n          'show-overflow-tooltip': true\n        },\n        {\n          label: '角色状态',\n          prop: 'isShow',\n          formatter(row, column, cellValue) {\n            return cellValue == '0' ? '启用' : '禁用';\n          }\n        },\n        {\n          label: '操作',\n          colType: 'btns',\n          btns: btns.filter(item => this.$has(item.auth)),\n          width: '340px'\n        }\n      ];\n    },\n    /**\n     * 表单项\n     */\n    formItems() {\n      return [\n        {\n          type: 'input',\n          prop: 'roleName',\n          label: '角色名称：'\n        },\n        {\n          type: 'input',\n          prop: 'roleId',\n          label: '角色编码：'\n        },\n        {\n          type: 'select',\n          options: [\n            {\n              value: '0',\n              label: '启用'\n            },\n            {\n              value: '1',\n              label: '禁用'\n            }\n          ],\n          prop: 'isShow',\n          label: '状态：'\n        }\n      ];\n    },\n    /**\n     * 工具栏\n     */\n    toolbars() {\n      let toolbars = [\n        {\n          label: '新增',\n          click: this.addtableRole,\n          auth: ['role-add']\n        }\n      ];\n      return toolbars.filter(item => this.$has(item.auth));\n    }\n  },\n  // 侦听器\n  watch: {},\n  // 创建完成钩子\n  created() {},\n  // 挂在完成钩子\n  mounted() {},\n  // 方法定义\n  methods: {\n    ajaxGetRoleData(params) {\n      return axios(\n        {\n          method: 'GET',\n          url: '/usergw/admin/common/pageList/301',\n          params\n        },\n        this.serverType\n      );\n    },\n    /**\n     * 表单重置\n     */\n    resetForm() {\n      this.$refs['bTable'].onQueryForm();\n    },\n    menuPermission(id) {\n      //菜单授权\n      this.$router.push({\n        path: '/system/role/menu-auth',\n        query: {\n          id: id\n        }\n      });\n    },\n    del(id) {\n      //删除\n      this.$confirm('删除后不可恢复，确定删除？', '删除确认', {\n        customClass: 'box-danger',\n        center: true\n      })\n        .then(() => {\n          this.confirmLoading = true;\n          axios(\n            {\n              method: 'GET',\n              url: `/usergw/admin/roleAuth/deleteRole/${id}`\n            },\n            this.serverType\n          )\n            .then(({ data }) => {\n              this.$message({\n                type: 'success',\n                message: '删除成功!'\n              });\n              this.$refs.bTable.ajaxGetTableDataByPage();\n            })\n            .catch(() => {\n              this.confirmLoading = false;\n            });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });\n        });\n    },\n    allotUser(id) {\n      this.$router.push({\n        path: '/system/role/allot-user',\n        query: {\n          roleId: id\n        }\n      });\n    },\n    addtableRole() {\n      this.dialog.visible = true;\n      this.dialog.isedit = false;\n      for (var i in this.ruleForm) {\n        this.ruleForm[i] = '';\n      }\n      delete this.ruleForm.roleId;\n    },\n    editTableRole(row) {\n      this.dialog.visible = true;\n      this.dialog.isedit = true;\n      mergeDefault(this.ruleForm, row);\n      this.ruleForm.roleId = row.roleId;\n    },\n    async sureDialog() {\n      //新增编辑弹窗\n      if (!this.dialog.isedit) {\n        this.ruleForm.isShow = '0';\n      }\n      try {\n        await this.$refs.elForm.validate();\n\n        this.confirmLoading = true;\n        if (this.dialog.isedit) {\n          axios(\n            {\n              method: 'POST',\n              url: '/usergw/admin/common/save/301/02',\n              data: this.ruleForm\n            },\n            this.serverType\n          )\n            .then(({ data }) => {\n              this.dialog.visible = false;\n              this.$message({\n                type: 'success',\n                message: '编辑成功!'\n              });\n              this.$refs.bTable.ajaxGetTableDataByPage();\n            })\n            .catch(() => {\n              this.confirmLoading = false;\n            });\n        } else {\n          axios(\n            {\n              method: 'POST',\n              url: '/usergw/admin/common/save/301/01',\n              data: this.ruleForm\n            },\n            this.serverType\n          )\n            .then(({ data }) => {\n              this.dialog.visible = false;\n              this.$message({\n                type: 'success',\n                message: '新增成功!'\n              });\n              this.$refs.bTable.ajaxGetTableDataByPage();\n            })\n            .catch(() => {\n              this.confirmLoading = false;\n            });\n        }\n      } catch (e) {\n        // 表单校验失败\n        console.error('表单校验失败', e);\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.role {\n  background: #fff;\n  padding: 0 25px 0;\n  &-main {\n    padding-top: 23px;\n  }\n  .dialog {\n    &-content {\n      &-item {\n        margin-bottom: 29px;\n        margin-left: 8px;\n        &-label {\n          float: left;\n          min-width: 90px;\n        }\n        &-red {\n          color: #f5222d;\n        }\n        &-text {\n          text-align: left;\n        }\n      }\n      &-btns {\n        text-align: center;\n        padding-bottom: 27px;\n        button {\n          margin: 0 20px;\n          width: 86px;\n          height: 36px;\n          font-size: 14px;\n          // font-family: PingFangSC-Regular, PingFang SC;\n          font-weight: 400;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}