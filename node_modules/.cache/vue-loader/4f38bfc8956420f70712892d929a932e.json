{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/components/ContactList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/components/ContactList.vue","mtime":1645178321201},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFZpc2l0b3JIaXN0b3J5TGlzdCB9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9hcGkvbXlWaXNpdG9yJzsKaW1wb3J0IGV2ZW50QnVzIGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9wbHVnaW5zL2NvbW1vbi9ldmVudEJ1cy5qcyc7CmltcG9ydCBjb21wYW55Q29udGFjdCBmcm9tICcuL0NvbXBhbnlDb250YWN0LnZ1ZSc7CmltcG9ydCBub0RhdGEgZnJvbSAnLi9Ob0RhdGEudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgbm9EYXRhLCBjb21wYW55Q29udGFjdCB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmU6ICdoaXN0b3J5JywKICAgICAgdmlzaXRvck5hbWU6ICcnLAogICAgICBoaXN0b3J5TGlzdDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3RDb250YWN0KGl0ZW0pIHsKICAgICAgZXZlbnRCdXMuJGVtaXQoJ3NlbGVjdFZpc2l0b3InLCBpdGVtKTsKICAgICAgZXZlbnRCdXMuJGVtaXQoJ3NldGN1clR5cGUnLCB0aGlzLiRyb3V0ZS5xdWVyeS50eXBlKTsKICAgICAgdGhpcy4kcm91dGVyLmdvKC0xKTsKICAgIH0sCiAgICBvblNlYXJjaCgpIHsKICAgICAgZ2V0VmlzaXRvckhpc3RvcnlMaXN0KHsgdmlzaXRvck5hbWU6IHRoaXMudmlzaXRvck5hbWUgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuaGlzdG9yeUxpc3QgPSByZXMuZGF0YTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgZ2V0VmlzaXRvckhpc3RvcnlMaXN0KCkudGhlbihyZXMgPT4gewogICAgICB0aGlzLmhpc3RvcnlMaXN0ID0gcmVzLmRhdGE7CiAgICB9KTsKICB9Cn07Cg=="},{"version":3,"sources":["ContactList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ContactList.vue","sourceRoot":"src/pages/visitor-h5/views/my-visitor/components","sourcesContent":["<template>\n  <div>\n    <van-tabs v-model=\"active\" color=\"#3388FF\">\n      <van-tab title=\"历史访客\" name=\"history\">\n        <div v-if=\"active == 'history'\">\n          <van-search\n            v-model=\"visitorName\"\n            @search=\"onSearch\"\n            placeholder=\"搜索访客姓名\"\n          />\n          <div class=\"history-wrapper\">\n            <no-data\n              title=\"暂无历史访客\"\n              v-if=\"historyList.length == 0\"\n            ></no-data>\n            <ul class=\"history-list\" v-else>\n              <li\n                v-for=\"item in historyList\"\n                :key=\"item.id\"\n                @click=\"selectContact(item)\"\n              >\n                <span class=\"name\">{{ item.visitorName }}</span>\n                <span class=\"phone\">{{ item.visitorTel }}</span>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </van-tab>\n      <van-tab title=\"集团人员\" name=\"company\">\n        <company-contact v-if=\"active == 'company'\"></company-contact>\n      </van-tab>\n    </van-tabs>\n  </div>\n</template>\n\n<script>\nimport { getVisitorHistoryList } from '@/pages/visitor-h5/api/myVisitor';\nimport eventBus from '@/pages/visitor-h5/plugins/common/eventBus.js';\nimport companyContact from './CompanyContact.vue';\nimport noData from './NoData.vue';\nexport default {\n  components: { noData, companyContact },\n  data() {\n    return {\n      active: 'history',\n      visitorName: '',\n      historyList: []\n    };\n  },\n  methods: {\n    selectContact(item) {\n      eventBus.$emit('selectVisitor', item);\n      eventBus.$emit('setcurType', this.$route.query.type);\n      this.$router.go(-1);\n    },\n    onSearch() {\n      getVisitorHistoryList({ visitorName: this.visitorName }).then(res => {\n        this.historyList = res.data;\n      });\n    }\n  },\n  created() {\n    getVisitorHistoryList().then(res => {\n      this.historyList = res.data;\n    });\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .van-tab--active {\n  color: #3388ff;\n}\n.history-wrapper {\n  height: calc(100vh - 100px);\n  overflow-x: hidden;\n  .history-list {\n    background: #fff;\n    width: 100vw;\n    li {\n      display: flex;\n      width: 100%;\n      // height: 45px;\n      line-height: 45px;\n      background: #ffffff;\n      font-size: 15px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.85);\n      padding-left: 18px;\n      .name {\n        display: inline-block;\n        width: calc(100% - 130px);\n        overflow: hidden;\n        text-overflow: ellipsis;\n        word-wrap: break-word;\n      }\n      .phone {\n        width: 100px;\n        display: inline-block;\n      }\n    }\n  }\n}\n</style>\n"]}]}