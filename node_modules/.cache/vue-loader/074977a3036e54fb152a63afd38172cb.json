{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/BaseData/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/BaseData/index.vue","mtime":1627979214318},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBEaWFsb2csDQogIEJ1dHRvbiwNCiAgU2VsZWN0LA0KICBPcHRpb24sDQogIElucHV0LA0KICBGb3JtLA0KICBGb3JtSXRlbQ0KfSBmcm9tICdlbGVtZW50LXVpJzsNCmltcG9ydCBCVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2J1c2luZXNzL0JUYWJsZSc7DQppbXBvcnQgYXhpb3MgZnJvbSAnQC9wbHVnaW5zL2F4aW9zJzsNCmltcG9ydCBEZkNhc2NhZGVyIGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vQ0R5bmFtaWNGb3JtL2NvbXBvbmVudHMvRGZDYXNjYWRlcic7DQppbXBvcnQgVXRpbHMgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DRHluYW1pY0Zvcm0vY29tcG9uZW50cy91dGlscyc7DQpmdW5jdGlvbiBtZXJnZURlZmF1bHQoKSB7DQogIHZhciBmID0ge30sDQogICAgbSA9IGFyZ3VtZW50cy5sZW5ndGgsDQogICAgbyA9IGFyZ3VtZW50c1ttIC0gMV0sDQogICAgYiA9IDAsDQogICAgaywNCiAgICBoLA0KICAgIGQsDQogICAgZzsNCiAgaWYgKHR5cGVvZiBvID09ICdib29sZWFuJykgew0KICAgIGIrKzsNCiAgICBoID0gbzsNCiAgfQ0KICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZ3VtZW50c1swXSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHsNCiAgICBkID0gdHJ1ZTsNCiAgICBnID0gYXJndW1lbnRzWzBdOw0KICAgIGsgPSBhcmd1bWVudHNbMV07DQogIH0gZWxzZSB7DQogICAgayA9IGFyZ3VtZW50c1swXSB8fCB7fTsNCiAgfQ0KICBmb3IgKHZhciBjID0gMDsgYyA8IG0gLSBiOyBjKyspIHsNCiAgICB2YXIgYSA9IGFyZ3VtZW50c1tjXTsNCiAgICBmb3IgKHZhciBlIGluIGQgPyBnIDogaykgew0KICAgICAgdmFyIG4gPSBkID8gZ1tlXSA6IGU7DQogICAgICBpZiAoYSAmJiBhW25dICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgaCA/IChmW25dID0gYVtuXSkgOiAoa1tuXSA9IGFbbl0pOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaCAmJiBjID09IDAgJiYgKGZbbl0gPSBrW25dKTsNCiAgICAgIH0NCiAgICB9DQogIH0NCiAgcmV0dXJuIGggPyBmIDogazsNCn0NCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0Jhc2VEYXRhJywNCiAgLy8g5rOo5YaM57uE5Lu2DQogIGNvbXBvbmVudHM6IHsNCiAgICBbRGlhbG9nLm5hbWVdOiBEaWFsb2csDQogICAgW0J1dHRvbi5uYW1lXTogQnV0dG9uLA0KICAgIFtTZWxlY3QubmFtZV06IFNlbGVjdCwNCiAgICBbT3B0aW9uLm5hbWVdOiBPcHRpb24sDQogICAgW0lucHV0Lm5hbWVdOiBJbnB1dCwNCiAgICBbRm9ybS5uYW1lXTogRm9ybSwNCiAgICBbRm9ybUl0ZW0ubmFtZV06IEZvcm1JdGVtLA0KICAgIEJUYWJsZSwNCiAgICBEZkNhc2NhZGVyDQogIH0sDQogIHByb3BzOiB7DQogICAgLyoqDQogICAgICog5pyN5Yqh5Zmo57G75Z6LDQogICAgICovDQogICAgc2VydmVyVHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9DQogIH0sDQogIC8vIOWumuS5ieaVsOaNrg0KICBkYXRhKCkgew0KICAgIC8vIOadg+mZkOagoemqjOaWueazlQ0KICAgIGxldCAkaGFzID0gdGhpcy4kaGFzOw0KICAgIHR5cGVvZiAkaGFzICE9PSAnZnVuY3Rpb24nICYmICgkaGFzID0gKCkgPT4gdHJ1ZSk7DQogICAgcmV0dXJuIHsNCiAgICAgIGNvbmZpcm1Mb2FkaW5nOiBmYWxzZSwgLy8g5o+Q5Lqk5LitDQogICAgICAkaGFzLA0KICAgICAgZGlhbG9nOiB7DQogICAgICAgIHZpc2libGU6IGZhbHNlLA0KICAgICAgICBpc2VkaXQ6IGZhbHNlDQogICAgICB9LA0KICAgICAgcnVsZUZvcm06IHsNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIG51bWJlcjogJycsDQogICAgICAgIGNhdGVnb3J5OiAnJywNCiAgICAgICAgdW5pdHM6ICcnLA0KICAgICAgICB1bml0c05hbWU6ICcnDQogICAgICB9LA0KICAgICAgcnVsZXM6IHsNCiAgICAgICAgbmFtZTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgbWVzc2FnZTogJ+WfuuehgOaVsOaNruWQjeensOacquWhq+WGmScgfSwNCiAgICAgICAgICB7IG1heDogMjAsIHRyaWdnZXI6ICcnLCBtZXNzYWdlOiAn5pyA5aSn6ZW/5bqmMjDkuKrlrZfnrKYnIH0NCiAgICAgICAgXSwNCiAgICAgICAgbnVtYmVyOiBbDQogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgdHJpZ2dlcjogJ2JsdXInLCBtZXNzYWdlOiAn57yW5Y+35pyq5aGr5YaZJyB9LA0KICAgICAgICAgIHsgbWF4OiA0MCwgdHJpZ2dlcjogJycsIG1lc3NhZ2U6ICfmnIDlpKfplb/luqY0MOS4quWtl+espicgfQ0KICAgICAgICBdLA0KICAgICAgICBjYXRlZ29yeTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdjaGFuZ2UnLCBtZXNzYWdlOiAn5omA5bGe5YiG57G75pyq5aGr5YaZJyB9DQogICAgICAgIF0sDQogICAgICAgIHVuaXRzOiBbDQogICAgICAgICAgew0KICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmiYDlsZ7ljZXkvY3mnKrloavlhpknLA0KICAgICAgICAgICAgdHlwZTogJ2FycmF5Jw0KICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgICAgfSwNCiAgICAgIHRyZWU6IFtdLCAvL+WNleS9jeagkQ0KICAgICAgY2F0ZWdvcnlzOiBbXSAvL+aJgOWxnuWIhuexu3RyZWUNCiAgICB9Ow0KICB9LA0KICAvLyDorqHnrpflsZ7mgKcNCiAgY29tcHV0ZWQ6IHsNCiAgICBhdHRycygpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIGNhc2NhZGVyOiB0cnVlLA0KICAgICAgICB0cmVlOiB0aGlzLnRyZWUNCiAgICAgICAgLy8gZ2V0RGF0YTooKSA9PiB7DQogICAgICAgIC8vICAgcmV0dXJuIHRoaXMuZ2V0VHJlZURhdGEoKTsNCiAgICAgICAgLy8gfQ0KICAgICAgfTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOihqOWNleWIlw0KICAgICAqLw0KICAgIGNvbHVtbnMoKSB7DQogICAgICBsZXQgYnRucyA9IFsNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn57yW6L6RJywNCiAgICAgICAgICBjbGljazogdGhpcy5lZGl0VGFibGVSb2xlLA0KICAgICAgICAgIGF1dGg6IFsnYmFzZURhdGEtZWRpdCddLA0KICAgICAgICAgIHNpemU6ICdtaW5pJywNCiAgICAgICAgICB0eXBlOiAncHJpbWFyeScNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5Yig6ZmkJywNCiAgICAgICAgICBjbGljazogcm93ID0+IHRoaXMuZGVsKHJvdy5pZCksDQogICAgICAgICAgYXV0aDogWydiYXNlRGF0YS1kZWxldGUnXSwNCiAgICAgICAgICBzaXplOiAnbWluaScsDQogICAgICAgICAgdHlwZTogJ3ByaW1hcnknDQogICAgICAgIH0NCiAgICAgIF07DQogICAgICByZXR1cm4gWw0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfln7rnoYDmlbDmja4nLA0KICAgICAgICAgIHByb3A6ICduYW1lJw0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfmiYDlsZ7liIbnsbsnLA0KICAgICAgICAgIHByb3A6ICdjYXRlZ29yeU5hbWVzJywNCiAgICAgICAgICAnc2hvdy1vdmVyZmxvdy10b29sdGlwJzogdHJ1ZQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfmiYDlsZ7ljZXkvY0nLA0KICAgICAgICAgIHByb3A6ICdkZXB0TmFtZScsDQogICAgICAgICAgJ3Nob3ctb3ZlcmZsb3ctdG9vbHRpcCc6IHRydWUNCiAgICAgICAgfSwNCiAgICAgICAgLy8gew0KICAgICAgICAvLyAgIGxhYmVsOiAn6KeS6Imy54q25oCBJywNCiAgICAgICAgLy8gICBwcm9wOiAnaXNTaG93JywNCiAgICAgICAgLy8gICBmb3JtYXR0ZXIocm93LCBjb2x1bW4sIGNlbGxWYWx1ZSkgew0KICAgICAgICAvLyAgICAgcmV0dXJuIGNlbGxWYWx1ZSA9PSAnMCcgPyAn5ZCv55SoJyA6ICfnpoHnlKgnOw0KICAgICAgICAvLyAgIH0NCiAgICAgICAgLy8gfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiAn5pON5L2cJywNCiAgICAgICAgICBjb2xUeXBlOiAnYnRucycsDQogICAgICAgICAgYnRuczogYnRucy5maWx0ZXIoaXRlbSA9PiB0aGlzLiRoYXMoaXRlbS5hdXRoKSksDQogICAgICAgICAgd2lkdGg6ICcxNTJweCcNCiAgICAgICAgfQ0KICAgICAgXTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOihqOWNlemhuQ0KICAgICAqLw0KICAgIGZvcm1JdGVtcygpIHsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2F0ZWdvcnlzKTsNCiAgICAgIHJldHVybiBbDQogICAgICAgIHsNCiAgICAgICAgICB0eXBlOiAnaW5wdXQnLA0KICAgICAgICAgIHByb3A6ICduYW1lJywNCiAgICAgICAgICBsYWJlbDogJ+WfuuehgOaVsOaNru+8micNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLA0KICAgICAgICAgIHByb3A6ICdjYXRlZ29yeUlkcycsDQogICAgICAgICAgbGFiZWw6ICfmiYDlsZ7liIbnsbvvvJonLA0KICAgICAgICAgIG9wdGlvbnM6IHRoaXMuY2F0ZWdvcnlzLA0KICAgICAgICAgIGF0dHJzOiB7DQogICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHByb3A6ICdkZXB0SWQnLA0KICAgICAgICAgIGxhYmVsOiAn5omA5bGe5Y2V5L2N77yaJywNCiAgICAgICAgICB0eXBlOiAnY2FzY2FkZXInLA0KICAgICAgICAgIGluaXRDb3VudDogJ2luaXRDb3VudCcsDQogICAgICAgICAgYXR0cnM6IHRoaXMuYXR0cnMNCiAgICAgICAgfQ0KICAgICAgXTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOW3peWFt+agjw0KICAgICAqLw0KICAgIHRvb2xiYXJzKCkgew0KICAgICAgbGV0IHRvb2xiYXJzID0gWw0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfmlrDlop4nLA0KICAgICAgICAgIGNsaWNrOiB0aGlzLmFkZHRhYmxlUm9sZSwNCiAgICAgICAgICBhdXRoOiBbJ2Jhc2VEYXRhLWFkZCddDQogICAgICAgIH0NCiAgICAgIF07DQogICAgICByZXR1cm4gdG9vbGJhcnMuZmlsdGVyKGl0ZW0gPT4gdGhpcy4kaGFzKGl0ZW0uYXV0aCkpOw0KICAgIH0NCiAgfSwNCiAgLy8g5L6m5ZCs5ZmoDQogIHdhdGNoOiB7DQogICAgJ3J1bGVGb3JtLnVuaXRzJygpIHsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucnVsZUZvcm0udW5pdHMpOw0KICAgIH0NCiAgfSwNCiAgLy8g5Yib5bu65a6M5oiQ6ZKp5a2QDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRUcmVlRGF0YSgpOw0KICAgIGF4aW9zKA0KICAgICAgew0KICAgICAgICAvL+iOt+WPluaJgOWxnuWIhuexuw0KICAgICAgICAvL21ldGhvZDogJ1BPU1QnLA0KICAgICAgICAvL3VybDogJy9kaWN0aW9uYXJ5L3NlbGVjdERpY3Rpb25hcnknLA0KICAgICAgICB1cmw6ICcvZGljdGlvbmFyeS9zZWxlY3REaWN0aW9uYXJ5QnlLZXkvV0pGTCcNCiAgICAgIH0sDQogICAgICB0aGlzLnNlcnZlclR5cGUNCiAgICApLnRoZW4ocmVzID0+IHsNCiAgICAgIHRoaXMuY2F0ZWdvcnlzID0gVXRpbHMudHJlZURhdGFDaGFuZ2VGaWVsZChyZXMuZGF0YSB8fCBbXSwgew0KICAgICAgICBkYXRhOiB7DQogICAgICAgICAgZGljdGlvbmFyeVRleHQ6ICdsYWJlbCcsDQogICAgICAgICAgZGljdGlvbmFyeUtleTogJ3ZhbHVlJw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9KTsNCiAgfSwNCiAgLy8g5oyC5Zyo5a6M5oiQ6ZKp5a2QDQogIG1vdW50ZWQoKSB7fSwNCiAgLy8g5pa55rOV5a6a5LmJDQogIG1ldGhvZHM6IHsNCiAgICBmb3JtRGF0YUhhbmRsZXIoZm9ybURhdGEpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIC4uLmZvcm1EYXRhLA0KICAgICAgICAvL+aJgOWxnuWIhuexuw0KICAgICAgICBjYXRlZ29yeUlkczogQXJyYXkuaXNBcnJheShmb3JtRGF0YS5jYXRlZ29yeUlkcykNCiAgICAgICAgICA/IGZvcm1EYXRhLmNhdGVnb3J5SWRzLmpvaW4oJywnKQ0KICAgICAgICAgIDogZm9ybURhdGEuY2F0ZWdvcnlJZHMsDQogICAgICAgIC8v5omA5bGe5Y2V5L2NDQogICAgICAgIGRlcHRJZDogZm9ybURhdGEuZGVwdElkDQogICAgICAgICAgPyBmb3JtRGF0YS5kZXB0SWRbZm9ybURhdGEuZGVwdElkLmxlbmd0aCAtIDFdDQogICAgICAgICAgOiAnJw0KICAgICAgfTsNCiAgICB9LA0KICAgIGdldFRyZWVEYXRhKCkgew0KICAgICAgcmV0dXJuIGF4aW9zKA0KICAgICAgICB7DQogICAgICAgICAgdXJsOiAnL2RlcGFydG1lbnQvdHJlZTRTY2hvb2wnDQogICAgICAgIH0sDQogICAgICAgIHRoaXMuc2VydmVyVHlwZQ0KICAgICAgKS50aGVuKHJlcyA9PiB7DQogICAgICAgIHRoaXMudHJlZSA9IFV0aWxzLmRlbGV0ZUVtcHR5KHJlcy5kYXRhIHx8IFtdKTsNCiAgICAgICAgcmV0dXJuIHRoaXMudHJlZTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgYWpheEdldFJvbGVEYXRhKHBhcmFtcykgew0KICAgICAgcGFyYW1zID0gdGhpcy5mb3JtRGF0YUhhbmRsZXIocGFyYW1zKTsNCiAgICAgIHJldHVybiBheGlvcygNCiAgICAgICAgew0KICAgICAgICAgIG1ldGhvZDogJ0dFVCcsDQogICAgICAgICAgdXJsOiAnL2Jhc2VEYXRhJywNCiAgICAgICAgICBwYXJhbXMNCiAgICAgICAgfSwNCiAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICApOw0KICAgIH0sDQogICAgbWVudVBlcm1pc3Npb24oaWQpIHsNCiAgICAgIC8v6I+c5Y2V5o6I5p2DDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgIHBhdGg6ICcvc3lzdGVtL3JvbGUvbWVudS1hdXRoJywNCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICBpZDogaWQNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgfSwNCiAgICBkZWwoaWQpIHsNCiAgICAgIC8v5Yig6ZmkDQogICAgICB0aGlzLiRjb25maXJtKCfliKDpmaTlkI7kuI3lj6/mgaLlpI3vvIznoa7lrprliKDpmaTvvJ8nLCAn5Yig6Zmk56Gu6K6kJywgew0KICAgICAgICBjdXN0b21DbGFzczogJ2JveC1kYW5nZXInLA0KICAgICAgICBjZW50ZXI6IHRydWUNCiAgICAgIH0pDQogICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICBheGlvcygNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICAgIHVybDogYC9iYXNlRGF0YS9kZWxldGUvJHtpZH1gDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICAgICAgKQ0KICAgICAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuYlRhYmxlLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgdHlwZTogJ2luZm8nLA0KICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCcNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBhbGxvdFVzZXIoaWQpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsNCiAgICAgICAgcGF0aDogJy9zeXN0ZW0vcm9sZS9hbGxvdC11c2VyJywNCiAgICAgICAgcXVlcnk6IHsNCiAgICAgICAgICByb2xlSWQ6IGlkDQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgYWRkdGFibGVSb2xlKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcyk7DQoNCiAgICAgIHRoaXMuZGlhbG9nLnZpc2libGUgPSB0cnVlOw0KICAgICAgdGhpcy5kaWFsb2cuaXNlZGl0ID0gZmFsc2U7DQogICAgICB0aGlzLnJ1bGVGb3JtID0gdGhpcy4kb3B0aW9ucy5kYXRhKCkucnVsZUZvcm07DQogICAgICB0aGlzLmNsZWFyRGlhbG9nRm9ybSgpOw0KICAgIH0sDQogICAgZWRpdFRhYmxlUm9sZShyb3cpIHsNCiAgICAgIHRoaXMuZGlhbG9nLnZpc2libGUgPSB0cnVlOw0KICAgICAgdGhpcy5kaWFsb2cuaXNlZGl0ID0gdHJ1ZTsNCiAgICAgIG1lcmdlRGVmYXVsdCh0aGlzLnJ1bGVGb3JtLCByb3cpOw0KICAgICAgdGhpcy5ydWxlRm9ybS5pZCA9IHJvdy5pZDsNCiAgICAgIHRoaXMucnVsZUZvcm0ubnVtYmVyID0gcm93LmNvZGU7DQogICAgICB0aGlzLnJ1bGVGb3JtLmNhdGVnb3J5ID0gcm93LmNhdGVnb3J5SWRzLnNwbGl0KCcsJyk7IC8v5omA5bGe5YiG57G7DQogICAgICAvLyB0aGlzLnJ1bGVGb3JtLnVuaXRzID0gdGhpcy50cmVlLmZpbHRlcih2ID0+IHsNCiAgICAgIC8vICAgLy/miYDlsZ7ljZXkvY0NCiAgICAgIC8vICAgcmV0dXJuIHY7DQogICAgICAvLyB9KTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMucnVsZUZvcm0sIHJvdyk7DQogICAgICB0aGlzLmNsZWFyRGlhbG9nRm9ybSgpOw0KICAgIH0sDQogICAgY2xlYXJEaWFsb2dGb3JtKCkgew0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWydlbEZvcm0nXS5jbGVhclZhbGlkYXRlKCk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIGFzeW5jIHN1cmVEaWFsb2coKSB7DQogICAgICAvL+aWsOWinue8lui+keW8ueeqlw0KICAgICAgaWYgKCF0aGlzLmRpYWxvZy5pc2VkaXQpIHsNCiAgICAgICAgdGhpcy5ydWxlRm9ybS5pc1Nob3cgPSAnMCc7DQogICAgICB9DQogICAgICB0cnkgew0KICAgICAgICBhd2FpdCB0aGlzLiRyZWZzLmVsRm9ybS52YWxpZGF0ZSgpOw0KDQogICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSB0cnVlOw0KICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnJ1bGVGb3JtKTsNCiAgICAgICAgdmFyIHNlbmREYXRhID0gew0KICAgICAgICAgIG5hbWU6IHRoaXMucnVsZUZvcm0ubmFtZSwNCiAgICAgICAgICBjb2RlOiB0aGlzLnJ1bGVGb3JtLm51bWJlciwNCiAgICAgICAgICBjYXRlZ29yeUlkczogdGhpcy5ydWxlRm9ybS5jYXRlZ29yeS5qb2luKCcsJykgLy/miYDlsZ7liIbnsbsNCiAgICAgICAgfTsNCiAgICAgICAgaWYgKHRoaXMuZGlhbG9nLmlzZWRpdCkgew0KICAgICAgICAgIHNlbmREYXRhLmlkID0gdGhpcy5ydWxlRm9ybS5pZDsNCiAgICAgICAgICBheGlvcygNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICAgIHVybDogYC9iYXNlRGF0YS8ke3NlbmREYXRhLmlkfWAsDQogICAgICAgICAgICAgIGRhdGE6IHNlbmREYXRhDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICAgICAgKQ0KICAgICAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAgICAgICAgIHRoaXMuZGlhbG9nLnZpc2libGUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsDQogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+e8lui+keaIkOWKnyEnDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICB0aGlzLiRyZWZzLmJUYWJsZS5hamF4R2V0VGFibGVEYXRhQnlQYWdlKCk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgc2VuZERhdGEuZGVwdElkID0gdGhpcy5ydWxlRm9ybS51bml0c1t0aGlzLnJ1bGVGb3JtLnVuaXRzLmxlbmd0aCAtIDFdOyAvL+aJgOWxnuWNleS9jQ0KICAgICAgICAgIGF4aW9zKA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgdXJsOiAnL2Jhc2VEYXRhJywNCiAgICAgICAgICAgICAgZGF0YTogc2VuZERhdGENCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0aGlzLnNlcnZlclR5cGUNCiAgICAgICAgICApDQogICAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICAgICAgdGhpcy5kaWFsb2cudmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5paw5aKe5oiQ5YqfIScNCiAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgIHRoaXMuJHJlZnMuYlRhYmxlLmFqYXhHZXRUYWJsZURhdGFCeVBhZ2UoKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSBjYXRjaCAoZSkgew0KICAgICAgICAvLyDooajljZXmoKHpqozlpLHotKUNCiAgICAgICAgY29uc29sZS5lcnJvcign6KGo5Y2V5qCh6aqM5aSx6LSlJywgZSk7DQogICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/logistics-data/views/BaseData","sourcesContent":["<template>\r\n  <!-- 角色管理 -->\r\n  <div class=\"app-container\">\r\n    <b-table\r\n      class=\"b-table\"\r\n      ref=\"bTable\"\r\n      loading\r\n      :headers=\"columns\"\r\n      :form-items=\"formItems\"\r\n      :ajax-get-data=\"ajaxGetRoleData\"\r\n      :toolbars=\"toolbars\"\r\n    ></b-table>\r\n    <!-- 新增编辑弹窗 -->\r\n    <el-dialog\r\n      :title=\"dialog.isedit ? '编辑' : '新增'\"\r\n      width=\"540px\"\r\n      center\r\n      class=\"dialog\"\r\n      :visible.sync=\"dialog.visible\"\r\n    >\r\n      <el-form\r\n        ref=\"elForm\"\r\n        label-width=\"110px\"\r\n        :model=\"ruleForm\"\r\n        :rules=\"rules\"\r\n      >\r\n        <el-form-item label=\"基础数据名称\" prop=\"name\">\r\n          <el-input type=\"input\" v-model.trim=\"ruleForm.name\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"编号\" prop=\"number\">\r\n          <el-input type=\"input\" v-model.trim=\"ruleForm.number\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属分类\" prop=\"category\">\r\n          <el-select v-model=\"ruleForm.category\" style=\"width:100%\" multiple>\r\n            <el-option\r\n              v-for=\"(item, index) in categorys\"\r\n              :key=\"index\"\r\n              :value=\"item.value\"\r\n              :label=\"item.label\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"所属单位\" prop=\"units\" v-if=\"!dialog.isedit\">\r\n          <DfCascader\r\n            :config=\"{ attrs }\"\r\n            v-model=\"ruleForm.units\"\r\n            @input=\"\r\n              v => {\r\n                $refs.elForm.validateField('units');\r\n              }\r\n            \"\r\n          />\r\n        </el-form-item>\r\n      </el-form>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          @click=\"sureDialog\"\r\n          :loading=\"confirmLoading\"\r\n          >确认</el-button\r\n        >\r\n        <el-button size=\"small\" @click=\"dialog.visible = false\">取消</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Dialog,\r\n  Button,\r\n  Select,\r\n  Option,\r\n  Input,\r\n  Form,\r\n  FormItem\r\n} from 'element-ui';\r\nimport BTable from '@/components/business/BTable';\r\nimport axios from '@/plugins/axios';\r\nimport DfCascader from '@/components/common/CDynamicForm/components/DfCascader';\r\nimport Utils from '@/components/common/CDynamicForm/components/utils';\r\nfunction mergeDefault() {\r\n  var f = {},\r\n    m = arguments.length,\r\n    o = arguments[m - 1],\r\n    b = 0,\r\n    k,\r\n    h,\r\n    d,\r\n    g;\r\n  if (typeof o == 'boolean') {\r\n    b++;\r\n    h = o;\r\n  }\r\n  if (Object.prototype.toString.call(arguments[0]) === '[object Array]') {\r\n    d = true;\r\n    g = arguments[0];\r\n    k = arguments[1];\r\n  } else {\r\n    k = arguments[0] || {};\r\n  }\r\n  for (var c = 0; c < m - b; c++) {\r\n    var a = arguments[c];\r\n    for (var e in d ? g : k) {\r\n      var n = d ? g[e] : e;\r\n      if (a && a[n] !== undefined) {\r\n        h ? (f[n] = a[n]) : (k[n] = a[n]);\r\n      } else {\r\n        h && c == 0 && (f[n] = k[n]);\r\n      }\r\n    }\r\n  }\r\n  return h ? f : k;\r\n}\r\nexport default {\r\n  name: 'BaseData',\r\n  // 注册组件\r\n  components: {\r\n    [Dialog.name]: Dialog,\r\n    [Button.name]: Button,\r\n    [Select.name]: Select,\r\n    [Option.name]: Option,\r\n    [Input.name]: Input,\r\n    [Form.name]: Form,\r\n    [FormItem.name]: FormItem,\r\n    BTable,\r\n    DfCascader\r\n  },\r\n  props: {\r\n    /**\r\n     * 服务器类型\r\n     */\r\n    serverType: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  // 定义数据\r\n  data() {\r\n    // 权限校验方法\r\n    let $has = this.$has;\r\n    typeof $has !== 'function' && ($has = () => true);\r\n    return {\r\n      confirmLoading: false, // 提交中\r\n      $has,\r\n      dialog: {\r\n        visible: false,\r\n        isedit: false\r\n      },\r\n      ruleForm: {\r\n        name: '',\r\n        number: '',\r\n        category: '',\r\n        units: '',\r\n        unitsName: ''\r\n      },\r\n      rules: {\r\n        name: [\r\n          { required: true, trigger: 'blur', message: '基础数据名称未填写' },\r\n          { max: 20, trigger: '', message: '最大长度20个字符' }\r\n        ],\r\n        number: [\r\n          { required: true, trigger: 'blur', message: '编号未填写' },\r\n          { max: 40, trigger: '', message: '最大长度40个字符' }\r\n        ],\r\n        category: [\r\n          { required: true, trigger: 'change', message: '所属分类未填写' }\r\n        ],\r\n        units: [\r\n          {\r\n            required: true,\r\n            trigger: 'change',\r\n            message: '所属单位未填写',\r\n            type: 'array'\r\n          }\r\n        ]\r\n      },\r\n      tree: [], //单位树\r\n      categorys: [] //所属分类tree\r\n    };\r\n  },\r\n  // 计算属性\r\n  computed: {\r\n    attrs() {\r\n      return {\r\n        cascader: true,\r\n        tree: this.tree\r\n        // getData:() => {\r\n        //   return this.getTreeData();\r\n        // }\r\n      };\r\n    },\r\n    /**\r\n     * 表单列\r\n     */\r\n    columns() {\r\n      let btns = [\r\n        {\r\n          label: '编辑',\r\n          click: this.editTableRole,\r\n          auth: ['baseData-edit'],\r\n          size: 'mini',\r\n          type: 'primary'\r\n        },\r\n        {\r\n          label: '删除',\r\n          click: row => this.del(row.id),\r\n          auth: ['baseData-delete'],\r\n          size: 'mini',\r\n          type: 'primary'\r\n        }\r\n      ];\r\n      return [\r\n        {\r\n          label: '基础数据',\r\n          prop: 'name'\r\n        },\r\n        {\r\n          label: '所属分类',\r\n          prop: 'categoryNames',\r\n          'show-overflow-tooltip': true\r\n        },\r\n        {\r\n          label: '所属单位',\r\n          prop: 'deptName',\r\n          'show-overflow-tooltip': true\r\n        },\r\n        // {\r\n        //   label: '角色状态',\r\n        //   prop: 'isShow',\r\n        //   formatter(row, column, cellValue) {\r\n        //     return cellValue == '0' ? '启用' : '禁用';\r\n        //   }\r\n        // },\r\n        {\r\n          label: '操作',\r\n          colType: 'btns',\r\n          btns: btns.filter(item => this.$has(item.auth)),\r\n          width: '152px'\r\n        }\r\n      ];\r\n    },\r\n    /**\r\n     * 表单项\r\n     */\r\n    formItems() {\r\n      console.log(this.categorys);\r\n      return [\r\n        {\r\n          type: 'input',\r\n          prop: 'name',\r\n          label: '基础数据：'\r\n        },\r\n        {\r\n          type: 'select',\r\n          prop: 'categoryIds',\r\n          label: '所属分类：',\r\n          options: this.categorys,\r\n          attrs: {\r\n            multiple: true\r\n          }\r\n        },\r\n        {\r\n          prop: 'deptId',\r\n          label: '所属单位：',\r\n          type: 'cascader',\r\n          initCount: 'initCount',\r\n          attrs: this.attrs\r\n        }\r\n      ];\r\n    },\r\n    /**\r\n     * 工具栏\r\n     */\r\n    toolbars() {\r\n      let toolbars = [\r\n        {\r\n          label: '新增',\r\n          click: this.addtableRole,\r\n          auth: ['baseData-add']\r\n        }\r\n      ];\r\n      return toolbars.filter(item => this.$has(item.auth));\r\n    }\r\n  },\r\n  // 侦听器\r\n  watch: {\r\n    'ruleForm.units'() {\r\n      console.log(this.ruleForm.units);\r\n    }\r\n  },\r\n  // 创建完成钩子\r\n  created() {\r\n    this.getTreeData();\r\n    axios(\r\n      {\r\n        //获取所属分类\r\n        //method: 'POST',\r\n        //url: '/dictionary/selectDictionary',\r\n        url: '/dictionary/selectDictionaryByKey/WJFL'\r\n      },\r\n      this.serverType\r\n    ).then(res => {\r\n      this.categorys = Utils.treeDataChangeField(res.data || [], {\r\n        data: {\r\n          dictionaryText: 'label',\r\n          dictionaryKey: 'value'\r\n        }\r\n      });\r\n    });\r\n  },\r\n  // 挂在完成钩子\r\n  mounted() {},\r\n  // 方法定义\r\n  methods: {\r\n    formDataHandler(formData) {\r\n      return {\r\n        ...formData,\r\n        //所属分类\r\n        categoryIds: Array.isArray(formData.categoryIds)\r\n          ? formData.categoryIds.join(',')\r\n          : formData.categoryIds,\r\n        //所属单位\r\n        deptId: formData.deptId\r\n          ? formData.deptId[formData.deptId.length - 1]\r\n          : ''\r\n      };\r\n    },\r\n    getTreeData() {\r\n      return axios(\r\n        {\r\n          url: '/department/tree4School'\r\n        },\r\n        this.serverType\r\n      ).then(res => {\r\n        this.tree = Utils.deleteEmpty(res.data || []);\r\n        return this.tree;\r\n      });\r\n    },\r\n    ajaxGetRoleData(params) {\r\n      params = this.formDataHandler(params);\r\n      return axios(\r\n        {\r\n          method: 'GET',\r\n          url: '/baseData',\r\n          params\r\n        },\r\n        this.serverType\r\n      );\r\n    },\r\n    menuPermission(id) {\r\n      //菜单授权\r\n      this.$router.push({\r\n        path: '/system/role/menu-auth',\r\n        query: {\r\n          id: id\r\n        }\r\n      });\r\n    },\r\n    del(id) {\r\n      //删除\r\n      this.$confirm('删除后不可恢复，确定删除？', '删除确认', {\r\n        customClass: 'box-danger',\r\n        center: true\r\n      })\r\n        .then(() => {\r\n          axios(\r\n            {\r\n              method: 'POST',\r\n              url: `/baseData/delete/${id}`\r\n            },\r\n            this.serverType\r\n          )\r\n            .then(({ data }) => {\r\n              this.$message({\r\n                type: 'success',\r\n                message: '删除成功!'\r\n              });\r\n              this.$refs.bTable.ajaxGetTableDataByPage();\r\n            })\r\n            .catch(() => {});\r\n        })\r\n        .catch(() => {\r\n          this.$message({\r\n            type: 'info',\r\n            message: '已取消删除'\r\n          });\r\n        });\r\n    },\r\n    allotUser(id) {\r\n      this.$router.push({\r\n        path: '/system/role/allot-user',\r\n        query: {\r\n          roleId: id\r\n        }\r\n      });\r\n    },\r\n    addtableRole() {\r\n      console.log(this);\r\n\r\n      this.dialog.visible = true;\r\n      this.dialog.isedit = false;\r\n      this.ruleForm = this.$options.data().ruleForm;\r\n      this.clearDialogForm();\r\n    },\r\n    editTableRole(row) {\r\n      this.dialog.visible = true;\r\n      this.dialog.isedit = true;\r\n      mergeDefault(this.ruleForm, row);\r\n      this.ruleForm.id = row.id;\r\n      this.ruleForm.number = row.code;\r\n      this.ruleForm.category = row.categoryIds.split(','); //所属分类\r\n      // this.ruleForm.units = this.tree.filter(v => {\r\n      //   //所属单位\r\n      //   return v;\r\n      // });\r\n      console.log(this.ruleForm, row);\r\n      this.clearDialogForm();\r\n    },\r\n    clearDialogForm() {\r\n      this.$nextTick(() => {\r\n        this.$refs['elForm'].clearValidate();\r\n      });\r\n    },\r\n    async sureDialog() {\r\n      //新增编辑弹窗\r\n      if (!this.dialog.isedit) {\r\n        this.ruleForm.isShow = '0';\r\n      }\r\n      try {\r\n        await this.$refs.elForm.validate();\r\n\r\n        this.confirmLoading = true;\r\n        console.log(this.ruleForm);\r\n        var sendData = {\r\n          name: this.ruleForm.name,\r\n          code: this.ruleForm.number,\r\n          categoryIds: this.ruleForm.category.join(',') //所属分类\r\n        };\r\n        if (this.dialog.isedit) {\r\n          sendData.id = this.ruleForm.id;\r\n          axios(\r\n            {\r\n              method: 'POST',\r\n              url: `/baseData/${sendData.id}`,\r\n              data: sendData\r\n            },\r\n            this.serverType\r\n          )\r\n            .then(({ data }) => {\r\n              this.dialog.visible = false;\r\n              this.confirmLoading = false;\r\n              this.$message({\r\n                type: 'success',\r\n                message: '编辑成功!'\r\n              });\r\n              this.$refs.bTable.ajaxGetTableDataByPage();\r\n            })\r\n            .catch(() => {\r\n              this.confirmLoading = false;\r\n            });\r\n        } else {\r\n          sendData.deptId = this.ruleForm.units[this.ruleForm.units.length - 1]; //所属单位\r\n          axios(\r\n            {\r\n              method: 'POST',\r\n              url: '/baseData',\r\n              data: sendData\r\n            },\r\n            this.serverType\r\n          )\r\n            .then(({ data }) => {\r\n              this.dialog.visible = false;\r\n              this.confirmLoading = false;\r\n              this.$message({\r\n                type: 'success',\r\n                message: '新增成功!'\r\n              });\r\n              this.$refs.bTable.ajaxGetTableDataByPage();\r\n            })\r\n            .catch(() => {\r\n              this.confirmLoading = false;\r\n            });\r\n        }\r\n      } catch (e) {\r\n        // 表单校验失败\r\n        console.error('表单校验失败', e);\r\n        this.confirmLoading = false;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.b-table /deep/ .dynamic-form input {\r\n  width: 200px;\r\n}\r\n.role {\r\n  background: #fff;\r\n  padding: 0 25px 0;\r\n  &-main {\r\n    padding-top: 23px;\r\n  }\r\n  .dialog {\r\n    &-content {\r\n      &-item {\r\n        margin-bottom: 29px;\r\n        margin-left: 8px;\r\n        &-label {\r\n          float: left;\r\n          min-width: 90px;\r\n        }\r\n        &-red {\r\n          color: #f5222d;\r\n        }\r\n        &-text {\r\n          text-align: left;\r\n        }\r\n      }\r\n      &-btns {\r\n        text-align: center;\r\n        padding-bottom: 27px;\r\n        button {\r\n          margin: 0 20px;\r\n          width: 86px;\r\n          height: 36px;\r\n          font-size: 14px;\r\n          // font-family: PingFangSC-Regular, PingFang SC;\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}