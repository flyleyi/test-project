{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/DataDict/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/DataDict/index.vue","mtime":1627979214319},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgew0KICBSb3csDQogIENvbCwNCiAgRm9ybSwNCiAgRm9ybUl0ZW0sDQogIERpYWxvZywNCiAgSW5wdXQsDQogIFRyZWUsDQogIFNlbGVjdCwNCiAgT3B0aW9uLA0KICBSYWRpbywNCiAgUmFkaW9Hcm91cA0KfSBmcm9tICdlbGVtZW50LXVpJzsNCmltcG9ydCBDU2hvcnRjdXRNZW51IGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vQ1Nob3J0Y3V0TWVudSc7DQppbXBvcnQgdXRpbHMgZnJvbSAnQC9wbHVnaW5zL2NvbW1vbi91dGlscyc7DQppbXBvcnQgYXhpb3MgZnJvbSAnQC9wbHVnaW5zL2F4aW9zJzsNCg0KZnVuY3Rpb24gdHJlZURhdGFDaGFuZ2VGaWVsZChhcnJEYXRhLCBzZXR0aW5ncykgew0KICAvL+WvueixoeaVsOe7hOaIluWvueixoeWtl+autWtleeS/ruaUuQ0KICBzZXR0aW5ncyA9IHNldHRpbmdzIHx8IHt9Ow0KICBzZXR0aW5ncy5yZWZlciA9IHNldHRpbmdzLnJlZmVyID09PSB1bmRlZmluZWQgPyAxIDogc2V0dGluZ3MucmVmZXI7DQogIHZhciBkYXRhOw0KICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyckRhdGEpID09PSAnW29iamVjdCBBcnJheV0nKSB7DQogICAgLy/mlbDnu4QNCiAgICBkYXRhID0gW107DQogICAgZm9yICh2YXIgaSBpbiBhcnJEYXRhKSB7DQogICAgICBkYXRhLnB1c2godHJlZURhdGFDaGFuZ2VGaWVsZChhcnJEYXRhW2ldLCBzZXR0aW5ncykpOw0KICAgIH0NCiAgfSBlbHNlIGlmIChhcnJEYXRhICYmIHR5cGVvZiBhcnJEYXRhID09PSAnb2JqZWN0Jykgew0KICAgIC8v5a+56LGhDQogICAgdmFyIG9wdCA9IHNldHRpbmdzLmRhdGE7DQogICAgZGF0YSA9IHt9Ow0KICAgIGZvciAobGV0IGkgaW4gc2V0dGluZ3MucmVmZXIgPyBhcnJEYXRhIDogb3B0KSB7DQogICAgICBpZiAoYXJyRGF0YVtpXSAhPT0gdW5kZWZpbmVkKSB7DQogICAgICAgIHNldHRpbmdzLmNvbnRhaW4gJiYgKGRhdGFbaV0gPSBhcnJEYXRhW2ldKTsgLy/ljIXlkKvljp/mlbDmja7miYDmnInlrZfmrrXvvIzlj6/og73kvJrooqvopobnm5YNCiAgICAgICAgaWYgKHR5cGVvZiBvcHRbaV0gPT0gJ2Z1bmN0aW9uJykgew0KICAgICAgICAgIHZhciBvYmogPSBvcHRbaV0oaSwgYXJyRGF0YVtpXSwgYXJyRGF0YSk7DQogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKSB7DQogICAgICAgICAgICBkYXRhW29ialswXV0gPSBvYmpbMV07DQogICAgICAgICAgfSBlbHNlIGlmIChvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcpIHsNCiAgICAgICAgICAgIGZvciAodmFyIGogaW4gb2JqKSB7DQogICAgICAgICAgICAgIGRhdGFbal0gPSBvYmpbal07DQogICAgICAgICAgICB9DQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHZhciBpc0FyciA9DQogICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc2V0dGluZ3MudHJlZU5vZGVzKSA9PT0NCiAgICAgICAgICAgICdbb2JqZWN0IEFycmF5XSc7DQogICAgICAgICAgbGV0IGtleSA9IG9wdFtpXSA/IG9wdFtpXSA6IGk7DQogICAgICAgICAgaWYgKGlzQXJyKSB7DQogICAgICAgICAgICBkYXRhW2tleV0gPSBzZXR0aW5ncy50cmVlTm9kZXMuaW5kZXhPZihpKSA+PSAwOw0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBkYXRhW2tleV0gPQ0KICAgICAgICAgICAgICAhc2V0dGluZ3MudHJlZU5vZGVzIHx8IHNldHRpbmdzLnRyZWVOb2RlcyA9PT0gaQ0KICAgICAgICAgICAgICAgID8gdHJlZURhdGFDaGFuZ2VGaWVsZChhcnJEYXRhW2ldLCBzZXR0aW5ncykNCiAgICAgICAgICAgICAgICA6IGFyckRhdGFbaV07DQogICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICB9DQogICAgfQ0KICB9IGVsc2Ugew0KICAgIGRhdGEgPSBhcnJEYXRhOw0KICB9DQogIHJldHVybiBkYXRhOw0KfQ0KDQpjb25zdCBjb21tYW5kcyA9IHsNCiAgTkVXOiAnbmV3JywNCiAgRURJVE9SOiAnZWRpdG9yJywNCiAgREVMRVRFOiAnZGVsZXRlJw0KfTsNCmZ1bmN0aW9uIGdldE9ialh5KG9iaikgew0KICB2YXIgeHkgPSBvYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIHZhciB0b3AgPQ0KICAgICAgeHkudG9wIC0NCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AgKw0KICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgLy9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wIOWcqElFNjfkuK3lp4vnu4jkuLoy77yM5YW25LuW6auY57qn54K555qE5rWP6KeI5Zmo5Li6MA0KICAgIGJvdHRvbSA9IHh5LmJvdHRvbSwNCiAgICBsZWZ0ID0NCiAgICAgIHh5LmxlZnQgLQ0KICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQgKw0KICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIC8vZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQg5ZyoSUU2N+S4reWni+e7iOS4ujLvvIzlhbbku5bpq5jnuqfngrnnmoTmtY/op4jlmajkuLowDQogICAgcmlnaHQgPSB4eS5yaWdodCwNCiAgICB3aWR0aCA9IHh5LndpZHRoIHx8IHJpZ2h0IC0gbGVmdCwgLy9JRTY35LiN5a2Y5Zyod2lkdGgg5L2/55SocmlnaHQgLSBsZWZ06I635b6XDQogICAgaGVpZ2h0ID0geHkuaGVpZ2h0IHx8IGJvdHRvbSAtIHRvcDsNCg0KICByZXR1cm4gew0KICAgIHRvcDogdG9wLA0KICAgIHJpZ2h0OiByaWdodCwNCiAgICBib3R0b206IGJvdHRvbSwNCiAgICBsZWZ0OiBsZWZ0LA0KICAgIHdpZHRoOiB3aWR0aCwNCiAgICBoZWlnaHQ6IGhlaWdodA0KICB9Ow0KfQ0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdCRGF0YURpY3QnLA0KICAvLyDms6jlhoznu4Tku7YNCiAgY29tcG9uZW50czogew0KICAgIFtDU2hvcnRjdXRNZW51Lm5hbWVdOiBDU2hvcnRjdXRNZW51LCAvLyDlv6vmjbfoj5zljZUNCiAgICBbUm93Lm5hbWVdOiBSb3csDQogICAgW0NvbC5uYW1lXTogQ29sLA0KICAgIFtGb3JtLm5hbWVdOiBGb3JtLA0KICAgIFtGb3JtSXRlbS5uYW1lXTogRm9ybUl0ZW0sDQogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLA0KICAgIFtJbnB1dC5uYW1lXTogSW5wdXQsDQogICAgW1RyZWUubmFtZV06IFRyZWUsDQogICAgW1NlbGVjdC5uYW1lXTogU2VsZWN0LA0KICAgIFtPcHRpb24ubmFtZV06IE9wdGlvbiwNCiAgICBbUmFkaW9Hcm91cC5uYW1lXTogUmFkaW9Hcm91cCwNCiAgICBbUmFkaW8ubmFtZV06IFJhZGlvDQogIH0sDQogIHByb3BzOiB7DQogICAgLyoqDQogICAgICog5pyN5Yqh5Zmo57G75Z6LDQogICAgICovDQogICAgc2VydmVyVHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9DQogIH0sDQogIC8vIOWumuS5ieaVsOaNrg0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBsb2FkaW5nOiBmYWxzZSwgLy8g5pWw5o2u5Yqg6L295LitDQogICAgICBxdWVyeVBhcmFtczogew0KICAgICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgICAgZGljdGlvbmFyeUtleTogJycsIC8vIOWtl+WFuOmUrg0KICAgICAgICBkaWN0aW9uYXJ5VmFsdWVaaDogJycsIC8vIOWtl+WFuOWAvA0KICAgICAgICBzdGF0dXM6ICcnIC8vIOeKtuaAgQ0KICAgICAgfSwNCiAgICAgIHRyZWVEYXRhOiBbDQogICAgICAgIC8vIOagkeaVsOaNrg0KICAgICAgXSwNCiAgICAgIG5vd0RpY3REYXRhOiB7fSwgLy8g5b2T5YmN5a2X5YW45pWw5o2uDQogICAgICBub3dEaWN0Tm9kZToge30sIC8vIOW9k+WJjeWtl+WFuOiKgueCuQ0KICAgICAgcHJvcHNPcHRpb25zOiB7DQogICAgICAgIC8vIOagkee7hOS7tumFjee9rg0KICAgICAgICBsYWJlbDogJ2RpY3Rpb25hcnlWYWx1ZVpoJw0KICAgICAgICAvLyBpc0xlYWY6IGZ1bmN0aW9uIChkYXRhLCBub2RlKSB7DQogICAgICAgIC8vICAgcmV0dXJuIGRhdGEuaXNMZWFmID09PSAnMScNCiAgICAgICAgLy8gfQ0KICAgICAgfSwNCiAgICAgIHNob3dNZW51OiBmYWxzZSwgLy8g5piv5ZCm5pi+56S66I+c5Y2VDQogICAgICBtZW51VG9wOiAwLCAvLyDoj5zljZXot53nprvpobbpg6jot53nprsNCiAgICAgIG1lbnVMZWZ0OiAwLCAvLyDoj5zljZXot53nprvlj7Pkvqfot53nprsNCiAgICAgIG1lbnVMb2NhdGlvbjogew0KICAgICAgICAvLyDoj5zljZXkvY3nva4NCiAgICAgICAgcGFnZVg6IDAsDQogICAgICAgIHBhZ2VZOiAwLA0KICAgICAgICByZWxhdGl2ZVg6IDAsDQogICAgICAgIHJlbGF0aXZlWTogMA0KICAgICAgfSwNCiAgICAgIC8vIG9mZnNldFk6IDAsICAgICAgICAgICAgIC8vIOS/neWtmOS4iuasoeWPs+mUruS9jee9rg0KICAgICAgLy8gb2Zmc2V0WDogMCwgICAgICAgICAgICAgLy8g5L+d5a2Y5LiK5qyh5Y+z6ZSu5L2N572uDQogICAgICBzY3JlZW5XaWR0aDogZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCwgLy8g6aG16Z2i5a695bqm55uR5ZCsDQogICAgICBzaG93RGlhbG9nOiBmYWxzZSwgLy8g5piv5ZCm5pi+56S65qih5oCB5qGGDQogICAgICBlZGl0Rm9ybTogew0KICAgICAgICAvLyDoj5zljZXnvJbovpHooajljZUNCiAgICAgICAgcGFyZW50S2V5OiAnJywgLy8g54i25Lia5YqhSWQNCiAgICAgICAgcGFyZW50VGV4dDogJycsIC8vIOeItuS4muWKoeWQjeensA0KICAgICAgICBwYXJlbnRJZDogJycsIC8vIOeItuiKgueCuWlkDQogICAgICAgIGRpY3Rpb25hcnlLZXk6ICcnLCAvLyDlrZflhbjplK4NCiAgICAgICAgZGljdGlvbmFyeVZhbHVlWmg6ICcnLCAvLyDlrZflhbjlgLwNCiAgICAgICAgc3RhdHVzOiAwIC8vIOeKtuaAgQ0KICAgICAgfSwNCiAgICAgIGZvcm1SdWxlczogew0KICAgICAgICAvLyDooajljZXpqozor4ENCiAgICAgICAgZGljdGlvbmFyeUtleTogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgbWVzc2FnZTogJ+S4muWKoUlE5pyq5aGr5YaZJyB9LA0KICAgICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24ocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSB7DQogICAgICAgICAgICAgIGlmICgvLC8udGVzdCh2YWx1ZSkpDQogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfpnZ7ms5XlrZfnrKbvvIzkuI3lhYHorrjlrZjlnKjigJwgLCDigJ3jgIInKSk7DQogICAgICAgICAgICAgIGVsc2UgY2FsbGJhY2soKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIHsgbWF4OiA2NCwgdHJpZ2dlcjogJycsIG1lc3NhZ2U6ICfmnIDlpKfplb/luqY2NOS4quWtl+espicgfQ0KICAgICAgICBdLA0KICAgICAgICBkaWN0aW9uYXJ5VmFsdWVaaDogWw0KICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgbWVzc2FnZTogJ+S4muWKoeWQjeensOacquWhq+WGmScgfSwNCiAgICAgICAgICB7IG1heDogMTI4LCB0cmlnZ2VyOiAnJywgbWVzc2FnZTogJ+acgOWkp+mVv+W6pjEyOOS4quWtl+espicgfQ0KICAgICAgICBdLA0KICAgICAgICBzdGF0dXM6IFsNCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAnY2xpY2snLCBtZXNzYWdlOiAn5Lia5Yqh5ZCN56ew5pyq5aGr5YaZJyB9DQogICAgICAgIF0NCiAgICAgIH0sDQogICAgICBlZGl0U3RhdHVzOiAnJywgLy8g57yW6L6R54q25oCBDQogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsIC8vIOaPkOS6pOS4rQ0KICAgICAgZGVmYXVsdEV4cGFuZGVkS2V5czogWyctMSddDQogICAgfTsNCiAgfSwNCiAgLy8g6K6h566X5bGe5oCnDQogIGNvbXB1dGVkOiB7DQogICAgLyoqDQogICAgICog5b+r5o236I+c5Y2V6aG5DQogICAgICovDQogICAgbWVudUl0ZW1zKCkgew0KICAgICAgaWYgKHRoaXMubm93RGljdE5vZGUubGV2ZWwgPT09IDEpIHsNCiAgICAgICAgLy8g5qC56IqC54K55Y+q6IO95paw5aKeDQogICAgICAgIHJldHVybiBbDQogICAgICAgICAgeyBsYWJlbDogJ+aWsOWinicsIGNvbW1hbmQ6IGNvbW1hbmRzLk5FVywgYXV0aDogWydkYXRhZGljdC1hZGQnXSB9DQogICAgICAgIF07DQogICAgICB9IGVsc2UgaWYgKCF0aGlzLm5vd0RpY3ROb2RlLmlzTGVhZikgew0KICAgICAgICAvLyDmnInlrZDoioLngrnkuI3lhYHorrjliKDpmaQNCiAgICAgICAgcmV0dXJuIFsNCiAgICAgICAgICB7IGxhYmVsOiAn5paw5aKeJywgY29tbWFuZDogY29tbWFuZHMuTkVXLCBhdXRoOiBbJ2RhdGFkaWN0LWFkZCddIH0sDQogICAgICAgICAgeyBsYWJlbDogJ+e8lui+kScsIGNvbW1hbmQ6IGNvbW1hbmRzLkVESVRPUiwgYXV0aDogWydkYXRhZGljdC1lZGl0J10gfQ0KICAgICAgICBdOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgLy8g5Y+25a2Q6IqC54K5DQogICAgICAgIHJldHVybiBbDQogICAgICAgICAgeyBsYWJlbDogJ+aWsOWinicsIGNvbW1hbmQ6IGNvbW1hbmRzLk5FVywgYXV0aDogWydkYXRhZGljdC1hZGQnXSB9LA0KICAgICAgICAgIHsgbGFiZWw6ICfnvJbovpEnLCBjb21tYW5kOiBjb21tYW5kcy5FRElUT1IsIGF1dGg6IFsnZGF0YWRpY3QtZWRpdCddIH0sDQogICAgICAgICAgeyBsYWJlbDogJ+WIoOmZpCcsIGNvbW1hbmQ6IGNvbW1hbmRzLkRFTEVURSwgYXV0aDogWydkYXRhZGljdC1kZWxldGUnXSB9DQogICAgICAgIF07DQogICAgICB9DQogICAgfSwNCiAgICAvKioNCiAgICAgKiDlv6vmjbfoj5zljZXmoLflvI8NCiAgICAgKi8NCiAgICBtZW51U3R5bGUoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICB0b3A6IHRoaXMubWVudVRvcCArICdweCcsDQogICAgICAgIGxlZnQ6IHRoaXMubWVudUxlZnQgKyAncHgnDQogICAgICB9Ow0KICAgIH0sDQogICAgLyoqDQogICAgICog5qih5oCB5qGG5qCH6aKYDQogICAgICovDQogICAgZGlhbG9nVGl0bGUoKSB7DQogICAgICByZXR1cm4gKA0KICAgICAgICB7DQogICAgICAgICAgbmV3OiAn5paw5aKeJywNCiAgICAgICAgICBlZGl0b3I6ICfnvJbovpEnDQogICAgICAgIH1bdGhpcy5lZGl0U3RhdHVzXSB8fCAnJw0KICAgICAgKTsNCiAgICB9DQogIH0sDQogIC8vIOS+puWQrOWZqA0KICB3YXRjaDogew0KICAgIHNjcmVlbldpZHRoKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICB0aGlzLmNhbGNNZW51UG9zaXRpb24oKTsNCiAgICB9DQogIH0sDQogIC8vIOWIm+W7uuWujOaIkOmSqeWtkA0KICBjcmVhdGVkKCkge30sDQogIC8vIOaMguWcqOWujOaIkOmSqeWtkA0KICBtb3VudGVkKCkgew0KICAgIC8qKg0KICAgICAqIOebkeWQrOmhtemdouWPmOWMluS6i+S7tg0KICAgICAqLw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTsNCiAgfSwNCiAgZGVzdHJveWVkKCkgew0KICAgIC8qKg0KICAgICAqIOenu+mZpOebkeWQrOmhtemdouWPmOWMluS6i+S7tg0KICAgICAqLw0KICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTsNCiAgfSwNCiAgLy8g5pa55rOV5a6a5LmJDQogIG1ldGhvZHM6IHsNCiAgICAvKioNCiAgICAgKiDooajljZXmn6Xor6INCiAgICAgKi8NCiAgICBxdWVyeSgpIHsNCiAgICAgIHRoaXMudHJlZURhdGEgPSBbDQogICAgICAgIHsNCiAgICAgICAgICBpZDogJy0xJywNCiAgICAgICAgICBkaWN0aW9uYXJ5S2V5OiAnLTEnLA0KICAgICAgICAgIGRpY3Rpb25hcnlWYWx1ZVpoOiAn5pWw5o2u5a2X5YW4JywNCiAgICAgICAgICBzdGF0dXM6IDANCiAgICAgICAgfQ0KICAgICAgXTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWKoOi9veiKgueCuQ0KICAgICAqLw0KICAgIGxvYWROb2RlKG5vZGUsIHJlc29sdmUpIHsNCiAgICAgIGNvbnNvbGUubG9nKG5vZGUpOw0KICAgICAgaWYgKG5vZGUubGV2ZWwgPT09IDApDQogICAgICAgIHJldHVybiByZXNvbHZlKFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBpZDogJy0xJywNCiAgICAgICAgICAgIGRpY3Rpb25hcnlLZXk6ICctMScsDQogICAgICAgICAgICBkaWN0aW9uYXJ5VmFsdWVaaDogJ+aVsOaNruWtl+WFuCcsDQogICAgICAgICAgICBzdGF0dXM6IDANCiAgICAgICAgICB9DQogICAgICAgIF0pOw0KICAgICAgaWYgKHRoaXMubG9hZGluZykgcmV0dXJuOw0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGF4aW9zKA0KICAgICAgICB7DQogICAgICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgICAgICAvL3VybDogJy9jb21tb25EYXRhL2RpY3Rpb25hcnlBcGkvc2VsZWN0L2RpYy9jaGlsZHJlbicsDQogICAgICAgICAgdXJsOiBgL2RpY3Rpb25hcnkvc2VsZWN0RGljdGlvbmFyeUJ5SWQvJHtub2RlLmRhdGEuaWR9YCwNCiAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgIC8vZ2V055SoIHBhcmFtcyAgcG9zdOeUqCBkYXRhDQogICAgICAgICAgICAuLi50aGlzLnF1ZXJ5UGFyYW1zLA0KICAgICAgICAgICAgZGljdGlvbmFyeVRleHQ6IHRoaXMucXVlcnlQYXJhbXMuZGljdGlvbmFyeVZhbHVlWmgsDQogICAgICAgICAgICBrZXlMaXN0OiBbbm9kZS5kYXRhLmRpY3Rpb25hcnlLZXldDQogICAgICAgICAgICAvL2RpY3Rpb25hcnlWYWx1ZVpoOiB0aGlzLnF1ZXJ5UGFyYW1zLmRpY3Rpb25hcnlWYWx1ZVpoLA0KICAgICAgICAgICAgLy9zdGF0dXM6IHRoaXMucXVlcnlQYXJhbXMuc3RhdHVzLA0KICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICApDQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgIHJlc29sdmUoDQogICAgICAgICAgICB0cmVlRGF0YUNoYW5nZUZpZWxkKGRhdGEgfHwgW10sIHsNCiAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlUZXh0OiAnZGljdGlvbmFyeVZhbHVlWmgnLA0KICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlJZDogJ2lkJywNCiAgICAgICAgICAgICAgICBpc0xlYWY6IGZ1bmN0aW9uKGksIHYsIGFycikgew0KICAgICAgICAgICAgICAgICAgcmV0dXJuIHYuaXNMZWFmID09IDEgPyB0cnVlIDogZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICB0cmVlTm9kZXM6ICdjaGlsZHJlbicNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgKTsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICByZXNvbHZlKFtdKTsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfSk7DQogICAgICAvLyB2YXIgc2VuZERhdGEgPSB7fTsNCiAgICAgIC8vIHZhciByZXMgPSBmYWxzZTsNCiAgICAgIC8vIHZhciBrZXlzID0gWydkaWN0aW9uYXJ5S2V5JywgJ2RpY3Rpb25hcnlWYWx1ZVpoJywgJ3N0YXR1cyddOw0KICAgICAgLy8gZm9yIChsZXQga2V5IG9mIGtleXMpIHsNCiAgICAgIC8vICAgaWYgKHRoaXMucXVlcnlQYXJhbXNba2V5XSAhPT0gJycpIHsNCiAgICAgIC8vICAgICByZXMgPSB0cnVlOw0KICAgICAgLy8gICAgIGJyZWFrOw0KICAgICAgLy8gICB9DQogICAgICAvLyB9DQogICAgICAvLyBpZiAocmVzICYmIG5vZGUubGV2ZWwgPT09IDEpIHsNCiAgICAgIC8vICAgc2VuZERhdGEgPSB0aGlzLnF1ZXJ5UGFyYW1zOw0KICAgICAgLy8gICBheGlvcygNCiAgICAgIC8vICAgICB7DQogICAgICAvLyAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgLy8gICAgICAgdXJsOiAnL2RpY3Rpb25hcnkvc2VsZWN0RGljdGlvbmFyeVdpdGhDaGlsZHJlbicsDQogICAgICAvLyAgICAgICBwYXJhbXM6IHNlbmREYXRhDQogICAgICAvLyAgICAgfSwNCiAgICAgIC8vICAgICB0aGlzLnNlcnZlclR5cGUNCiAgICAgIC8vICAgKQ0KICAgICAgLy8gICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgLy8gICAgICAgcmVzb2x2ZShkYXRhIHx8IFtdKTsNCiAgICAgIC8vICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgLy8gICAgIH0pDQogICAgICAvLyAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgIC8vICAgICAgIHJlc29sdmUoW10pOw0KICAgICAgLy8gICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAvLyAgICAgfSk7DQogICAgICAvLyB9IGVsc2Ugew0KICAgICAgLy8gICBheGlvcygNCiAgICAgIC8vICAgICB7DQogICAgICAvLyAgICAgICB1cmw6IGAvZGljdGlvbmFyeS9zZWxlY3REaWN0aW9uYXJ5V2l0aENoaWxkcmVuLyR7bm9kZS5kYXRhLmRpY3Rpb25hcnlJZH1gLA0KICAgICAgLy8gICAgICAgbWV0aG9kOiAnR0VUJywNCiAgICAgIC8vICAgICAgIHBhcmFtczogc2VuZERhdGENCiAgICAgIC8vICAgICB9LA0KICAgICAgLy8gICAgIHRoaXMuc2VydmVyVHlwZQ0KICAgICAgLy8gICApDQogICAgICAvLyAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7DQogICAgICAvLyAgICAgICByZXNvbHZlKGRhdGEgfHwgW10pOw0KICAgICAgLy8gICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAvLyAgICAgfSkNCiAgICAgIC8vICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgLy8gICAgICAgcmVzb2x2ZShbXSk7DQogICAgICAvLyAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIC8vICAgICB9KTsNCiAgICAgIC8vIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOmHjee9ruihqOWNlQ0KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBmb3JtIOihqOWNleeahHJlZg0KICAgICAqLw0KICAgIHJlc2V0Rm9ybShmb3JtKSB7DQogICAgICB0aGlzLnF1ZXJ5UGFyYW1zID0gew0KICAgICAgICAvLyDmn6Xor6Llj4LmlbANCiAgICAgICAgZGljdGlvbmFyeUtleTogJycsIC8vIOWtl+WFuOmUrg0KICAgICAgICBkaWN0aW9uYXJ5VmFsdWVaaDogJycsIC8vIOWtl+WFuOWAvA0KICAgICAgICBzdGF0dXM6ICcnIC8vIOeKtuaAgQ0KICAgICAgfTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWPs+mUruW/q+aNt+iPnOWNlQ0KICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IOS6i+S7tuWvueixoQ0KICAgICAqIEBwYXJhbSB7Kn0gZGF0YSDoioLngrnmlbDmja4NCiAgICAgKiBAcGFyYW0geyp9IG5vZGUg6IqC54K5DQogICAgICogQHBhcmFtIHsqfSByZWYg6IqC54K557uE5Lu25pys6LqrDQogICAgICovDQogICAgb25Db250ZXh0TWVudShldmVudCwgZGF0YSwgbm9kZSwgcmVmKSB7DQogICAgICBjb25zb2xlLmxvZyhldmVudCwgZGF0YSwgbm9kZSwgcmVmKTsNCiAgICAgIC8vIOS/neWtmA0KICAgICAgdGhpcy5ub3dEaWN0RGF0YSA9IGRhdGE7DQogICAgICB0aGlzLm5vd0RpY3ROb2RlID0gbm9kZTsNCiAgICAgIHRoaXMubm93RGljdERhdGEucGFyZW50VGV4dCA9DQogICAgICAgIHRoaXMubm93RGljdERhdGEucGFyZW50VGV4dCB8fCAobm9kZS5wYXJlbnQgJiYgbm9kZS5wYXJlbnQubGFiZWwpOw0KICAgICAgLy8g5pi+56S66I+c5Y2VDQogICAgICB0aGlzLnNob3dNZW51ID0gdHJ1ZTsNCiAgICAgIE9iamVjdC5rZXlzKHRoaXMubWVudUxvY2F0aW9uKS5mb3JFYWNoKGtleSA9PiB7DQogICAgICAgIHRoaXMubWVudUxvY2F0aW9uW2tleV0gPSBldmVudFtrZXldOw0KICAgICAgfSk7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIHZhciB4eSA9IGdldE9ialh5KHRoaXMuJHJlZnNbJ3RyZWVEaWN0J10uJGVsKTsNCiAgICAgICAgdGhpcy5tZW51TG9jYXRpb24ucmVsYXRpdmVYID0gdGhpcy5tZW51TG9jYXRpb24ucGFnZVggLSB4eS5sZWZ0Ow0KICAgICAgICB0aGlzLm1lbnVMb2NhdGlvbi5yZWxhdGl2ZVkgPSB0aGlzLm1lbnVMb2NhdGlvbi5wYWdlWSAtIHh5LnRvcDsNCiAgICAgICAgdGhpcy5jYWxjTWVudVBvc2l0aW9uKCk7DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOWFs+mXreiPnOWNleaYvuekug0KICAgICAqLw0KICAgIGNsb3NlTWVudSgpIHsNCiAgICAgIHRoaXMuc2hvd01lbnUgPSBmYWxzZTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOiuoeeul+iuvue9ruiPnOWNleS9jee9rg0KICAgICAqLw0KICAgIGNhbGNNZW51UG9zaXRpb24oKSB7DQogICAgICBpZiAoIXRoaXMuc2hvd01lbnUpIHJldHVybjsNCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsNCiAgICAgICAgLy8g5b+r5o236I+c5Y2V5a695bqmDQogICAgICAgIHZhciBzaG9ydGN1dE1lbnUgPSB0aGlzLiRyZWZzWydzaG9ydGN1dE1lbnUnXTsNCiAgICAgICAgdmFyIHRyZWVEaWN0ID0gdGhpcy4kcmVmc1sndHJlZURpY3QnXTsNCiAgICAgICAgdmFyIHNob3J0Y3V0TWVudVdpZHRoID0gc2hvcnRjdXRNZW51LiRlbC5vZmZzZXRXaWR0aDsNCiAgICAgICAgdmFyIHRyZWVEaWN0V2lkdGggPSB0cmVlRGljdC4kZWwub2Zmc2V0V2lkdGg7DQogICAgICAgIHZhciByZWxhdGl2ZVggPSB0aGlzLm1lbnVMb2NhdGlvbi5yZWxhdGl2ZVg7DQogICAgICAgIHZhciByZWxhdGl2ZVkgPSB0aGlzLm1lbnVMb2NhdGlvbi5yZWxhdGl2ZVk7DQogICAgICAgIHRoaXMubWVudVRvcCA9IHJlbGF0aXZlWTsNCiAgICAgICAgLy8g5Yik5pat5b+r5o236I+c5Y2V5piv5ZCm6LaF5Ye66IyD5Zu0DQogICAgICAgIGlmIChyZWxhdGl2ZVggKyBzaG9ydGN1dE1lbnVXaWR0aCA+IHRyZWVEaWN0V2lkdGgpIHsNCiAgICAgICAgICB0aGlzLm1lbnVMZWZ0ID0gdHJlZURpY3RXaWR0aCAtIHNob3J0Y3V0TWVudVdpZHRoOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMubWVudUxlZnQgPSByZWxhdGl2ZVg7DQogICAgICAgIH0NCiAgICAgICAgLy/kv67lpI3lnKhZ6L206LaF5Ye66IyD5Zu055qE5oOF5Ya1DQogICAgICAgIHZhciBzaG9ydGN1dE1lbnVIZWlnaHQgPSBzaG9ydGN1dE1lbnUuJGVsLm9mZnNldEhlaWdodDsNCiAgICAgICAgdmFyIHRyZWVEaWN0SGVpZ2h0ID0gdHJlZURpY3QuJGVsLm9mZnNldEhlaWdodDsNCiAgICAgICAgaWYgKHJlbGF0aXZlWSArIHNob3J0Y3V0TWVudUhlaWdodCA+IHRyZWVEaWN0SGVpZ2h0KSB7DQogICAgICAgICAgdGhpcy5tZW51VG9wID0gdHJlZURpY3RIZWlnaHQgLSBzaG9ydGN1dE1lbnVIZWlnaHQ7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5tZW51VG9wID0gcmVsYXRpdmVZOw0KICAgICAgICB9DQogICAgICB9KTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOabtOaWsOmhtemdouWuveW6pg0KICAgICAqLw0KICAgIG9uUmVzaXplOiB1dGlscy5kZWJvdW5jZShmdW5jdGlvbigpIHsNCiAgICAgIHdpbmRvdy5zY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7DQogICAgICB0aGlzLnNjcmVlbldpZHRoID0gd2luZG93LnNjcmVlbldpZHRoOw0KICAgIH0sIDIwMCksDQogICAgLyoqDQogICAgICog5oyH5Luk5omn6KGMDQogICAgICovDQogICAgY29tbWFuZChldmVudCwgY29tbWFuZCwgZGF0YSkgew0KICAgICAgc3dpdGNoIChjb21tYW5kKSB7DQogICAgICAgIGNhc2UgY29tbWFuZHMuTkVXOg0KICAgICAgICAgIHRoaXMuZWRpdFN0YXR1cyA9IGNvbW1hbmQ7DQogICAgICAgICAgLy8g5paw5aKeDQogICAgICAgICAgdGhpcy5lZGl0Rm9ybSA9IHsNCiAgICAgICAgICAgIGlzTGVhZjogJzEnLA0KICAgICAgICAgICAgcGFyZW50SWQ6IHRoaXMubm93RGljdERhdGEuZGljdGlvbmFyeUlkLA0KICAgICAgICAgICAgcGFyZW50VGV4dDogdGhpcy5ub3dEaWN0RGF0YS5kaWN0aW9uYXJ5VmFsdWVaaCwNCiAgICAgICAgICAgIHBhcmVudEtleTogdGhpcy5ub3dEaWN0RGF0YS5kaWN0aW9uYXJ5S2V5LA0KICAgICAgICAgICAgZGljdGlvbmFyeUtleTogJycsIC8vIOWtl+WFuOmUrg0KICAgICAgICAgICAgZGljdGlvbmFyeVZhbHVlWmg6ICcnLCAvLyDlrZflhbjlgLwNCiAgICAgICAgICAgIHN0YXR1czogMCwgLy8g54q25oCBDQogICAgICAgICAgICBkaWNPcmRlcjoNCiAgICAgICAgICAgICAgKCh0aGlzLm5vd0RpY3ROb2RlLmNoaWxkTm9kZXMgJiYNCiAgICAgICAgICAgICAgICB0aGlzLm5vd0RpY3ROb2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB8fA0KICAgICAgICAgICAgICAgIDApICsgMQ0KICAgICAgICAgIH07DQogICAgICAgICAgdGhpcy5pbml0U2hvd0RpYWxvZygpOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlIGNvbW1hbmRzLkVESVRPUjoNCiAgICAgICAgICAvLyDnvJbovpENCiAgICAgICAgICB0aGlzLmVkaXRTdGF0dXMgPSBjb21tYW5kOw0KICAgICAgICAgIHZhciBlZGl0RGF0YSA9IG5ldyBPYmplY3QoKTsNCiAgICAgICAgICBbDQogICAgICAgICAgICAnaXNMZWFmJywNCiAgICAgICAgICAgICdwYXJlbnRLZXknLA0KICAgICAgICAgICAgJ3BhcmVudElkJywNCiAgICAgICAgICAgICdkaWN0aW9uYXJ5SWQnLA0KICAgICAgICAgICAgJ2RpY3Rpb25hcnlLZXknLA0KICAgICAgICAgICAgJ2RpY3Rpb25hcnlWYWx1ZVpoJywNCiAgICAgICAgICAgICdzdGF0dXMnLA0KICAgICAgICAgICAgJ2RpY09yZGVyJw0KICAgICAgICAgIF0uZm9yRWFjaChrZXkgPT4gew0KICAgICAgICAgICAgZWRpdERhdGFba2V5XSA9IHRoaXMubm93RGljdERhdGFba2V5XTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgICBlZGl0RGF0YS5wYXJlbnRUZXh0ID0NCiAgICAgICAgICAgICh0aGlzLm5vd0RpY3ROb2RlLnBhcmVudCAmJg0KICAgICAgICAgICAgICB0aGlzLm5vd0RpY3ROb2RlLnBhcmVudC5kYXRhICYmDQogICAgICAgICAgICAgIHRoaXMubm93RGljdE5vZGUucGFyZW50LmRhdGEuZGljdGlvbmFyeVZhbHVlWmgpIHx8DQogICAgICAgICAgICAnJzsNCiAgICAgICAgICB0aGlzLmVkaXRGb3JtID0gZWRpdERhdGE7DQogICAgICAgICAgdGhpcy5pbml0U2hvd0RpYWxvZygpOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgICBjYXNlIGNvbW1hbmRzLkRFTEVURToNCiAgICAgICAgICAvLyDliKDpmaQNCiAgICAgICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7lrprliKDpmaQ/JywgJ+aPkOekuicsIHsNCiAgICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywNCiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLA0KICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnDQogICAgICAgICAgfSkNCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5ub3dEaWN0RGF0YSk7DQogICAgICAgICAgICAgIHJldHVybiBheGlvcygNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdHRVQnLA0KICAgICAgICAgICAgICAgICAgdXJsOiAnL2RpY3Rpb25hcnkvZGVsZXRlRGljdGlvbmFyeScsDQogICAgICAgICAgICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICAgICAgICAgICAgaWRzOiB0aGlzLm5vd0RpY3REYXRhLmRpY3Rpb25hcnlJZCB8fCB0aGlzLm5vd0RpY3REYXRhLmlkDQogICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclR5cGUNCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgIHJldHVybiB0aGlzLiRuZXh0VGljaygpOw0KICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsNCiAgICAgICAgICAgICAgdGhpcy4kcmVmc1sndHJlZURpY3QnXS5yZW1vdmUodGhpcy5ub3dEaWN0Tm9kZSk7DQogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJyk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsNCiAgICAgICAgICBicmVhazsNCiAgICAgIH0NCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaPkOS6pOihqOWNlQ0KICAgICAqLw0KICAgIGNvbmZpcm0oKSB7DQogICAgICBpZiAodGhpcy5jb25maXJtTG9hZGluZykgcmV0dXJuOw0KICAgICAgdGhpcy4kcmVmc1snZWRpdEZvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7DQogICAgICAgIHZhciBzZW5kRGF0YSA9IHt9Ow0KICAgICAgICBpZiAodmFsaWQpIHsNCiAgICAgICAgICBzd2l0Y2ggKHRoaXMuZWRpdFN0YXR1cykgew0KICAgICAgICAgICAgY2FzZSAnbmV3JzoNCiAgICAgICAgICAgICAgLy8g5paw5aKeDQogICAgICAgICAgICAgIHNlbmREYXRhID0gew0KICAgICAgICAgICAgICAgIC4uLnRoaXMuZWRpdEZvcm0sDQogICAgICAgICAgICAgICAgcGFyZW50SWQ6ICcnLA0KICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlUZXh0OiB0aGlzLmVkaXRGb3JtLmRpY3Rpb25hcnlWYWx1ZVpoDQogICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgIGRlbGV0ZSBzZW5kRGF0YVsnaXNMZWFmJ107DQogICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgICAgICBheGlvcygNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgICAgIHVybDogJy9kaWN0aW9uYXJ5L3NhdmVEaWN0aW9uYXJ5JywNCiAgICAgICAgICAgICAgICAgIGRhdGE6IHNlbmREYXRhDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclR5cGUNCiAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gew0KICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubm93RGljdERhdGEuY2hpbGRyZW4pIHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQodGhpcy5ub3dEaWN0RGF0YSwgJ2NoaWxkcmVuJywgW10pOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIHRoaXMubm93RGljdERhdGEuY2hpbGRyZW4ucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgLi4uZGF0YSwNCiAgICAgICAgICAgICAgICAgICAgICBkaWN0aW9uYXJ5VmFsdWVaaDogZGF0YS5kaWN0aW9uYXJ5VGV4dCwNCiAgICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5kaWN0aW9uYXJ5SWQNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmlrDlop7miJDlip8nKTsNCiAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBjYXNlICdlZGl0b3InOg0KICAgICAgICAgICAgICAvLyDnvJbovpENCiAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubm93RGljdERhdGEsIHRoaXMubm93RGljdE5vZGUpOw0KICAgICAgICAgICAgICBheGlvcygNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywNCiAgICAgICAgICAgICAgICAgIHVybDogJy9kaWN0aW9uYXJ5L3NhdmVEaWN0aW9uYXJ5JywNCiAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5lZGl0Rm9ybSwNCiAgICAgICAgICAgICAgICAgICAgZGljdGlvbmFyeVRleHQ6IHRoaXMuZWRpdEZvcm0uZGljdGlvbmFyeVZhbHVlWmgsDQogICAgICAgICAgICAgICAgICAgIGRpY3Rpb25hcnlJZDogdGhpcy5ub3dEaWN0RGF0YS5pZA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMubm93RGljdERhdGEsIHRoaXMuZWRpdEZvcm0pOw0KICAgICAgICAgICAgICAgICAgdGhpcy5zaG93RGlhbG9nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpcm1Mb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aPkOS6pOW8guW4uO+8jOaXoOWkhOeQhuaWueazlScpOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5Yid5aeL5YyW5pi+56S65qih5oCB5qGGDQogICAgICovDQogICAgaW5pdFNob3dEaWFsb2coKSB7DQogICAgICB0aGlzLnNob3dEaWFsb2cgPSB0cnVlOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWydlZGl0Rm9ybSddLmNsZWFyVmFsaWRhdGUoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog54K55Ye76IqC54K55LqL5Lu2DQogICAgICogQHBhcmFtIHsqfSBkYXRhIOiKgueCueaVsOaNrg0KICAgICAqIEBwYXJhbSB7Kn0gbm9kZSDoioLngrnlr7nosaENCiAgICAgKiBAcGFyYW0geyp9IHJlZiDoioLngrnnu4Tku7bmnKzouqsNCiAgICAgKi8NCiAgICBvbk5vZGVDbGljayhkYXRhLCBub2RlLCByZWYpIHsNCiAgICAgIGNvbnNvbGUubG9nKG5vZGUsIGRhdGEsIHJlZik7DQogICAgICB0aGlzLnNob3dNZW51ID0gZmFsc2U7DQogICAgICB0aGlzLm5vd0RpY3REYXRhID0gZGF0YTsNCiAgICAgIHRoaXMubm93RGljdE5vZGUgPSBub2RlOw0KICAgICAgdGhpcy5ub3dEaWN0RGF0YS5wYXJlbnRUZXh0ID0NCiAgICAgICAgKHRoaXMubm93RGljdE5vZGUucGFyZW50ICYmDQogICAgICAgICAgdGhpcy5ub3dEaWN0Tm9kZS5wYXJlbnQuZGF0YSAmJg0KICAgICAgICAgIHRoaXMubm93RGljdE5vZGUucGFyZW50LmRhdGEuZGljdGlvbmFyeVZhbHVlWmgpIHx8DQogICAgICAgICcnOw0KICAgIH0NCiAgfSwNCiAgLy8g6L+H5ruk5ZmoDQogIGZpbHRlcnM6IHsNCiAgICBmaWx0ZXJzU3RhdHVzKHZhbHVlKSB7DQogICAgICByZXR1cm4gKA0KICAgICAgICB7DQogICAgICAgICAgMDogJ+WQr+eUqCcsDQogICAgICAgICAgMTogJ+emgeeUqCcNCiAgICAgICAgfVt2YWx1ZV0gfHwgJycNCiAgICAgICk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/logistics-data/views/DataDict","sourcesContent":["<template>\r\n  <!-- 数据字典 -->\r\n  <div class=\"app-container\" @click=\"closeMenu\">\r\n    <div class=\"header\">\r\n      <el-form\r\n        inline\r\n        class=\"search-form\"\r\n        size=\"small\"\r\n        @keyup.enter.native=\"query\"\r\n      >\r\n        <el-form-item label=\"业务ID：\">\r\n          <el-input\r\n            v-model.trim=\"queryParams.dictionaryKey\"\r\n            style=\"width: 160px\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"业务名称：\">\r\n          <el-input\r\n            v-model.trim=\"queryParams.dictionaryValueZh\"\r\n            style=\"width: 160px\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态：\">\r\n          <el-select\r\n            v-model=\"queryParams.status\"\r\n            clearable\r\n            style=\"width: 160px\"\r\n          >\r\n            <el-option :value=\"0\" label=\"启用\" />\r\n            <el-option :value=\"1\" label=\"禁用\" />\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button :loading=\"loading\" @click=\"query\">\r\n            查询\r\n          </el-button>\r\n          <el-button :loading=\"loading\" type=\"primary\" @click=\"resetForm\">\r\n            重置\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <el-row class=\"plate-group\">\r\n      <el-col :md=\"12\">\r\n        <div class=\"plate plate-tree shortcut-menu-box\">\r\n          <el-tree\r\n            ref=\"treeDict\"\r\n            :data=\"treeData\"\r\n            :props=\"propsOptions\"\r\n            :lazy=\"true\"\r\n            :load=\"loadNode\"\r\n            :default-expanded-keys=\"defaultExpandedKeys\"\r\n            :expand-on-click-node=\"false\"\r\n            node-key=\"id\"\r\n            highlight-current\r\n            class=\"tree-dict\"\r\n            @node-contextmenu=\"onContextMenu\"\r\n            @node-click=\"onNodeClick\"\r\n          />\r\n          <c-shortcut-menu\r\n            v-show=\"showMenu\"\r\n            ref=\"shortcutMenu\"\r\n            :style=\"menuStyle\"\r\n            :menu-items=\"menuItems\"\r\n            class=\"shortcut-menu\"\r\n            @command=\"command\"\r\n          />\r\n        </div>\r\n      </el-col>\r\n      <el-col :md=\"12\">\r\n        <div class=\"plate plate-info\">\r\n          <el-form>\r\n            <el-form-item label=\"父业务ID：\">\r\n              {{ nowDictData.parentKey }}\r\n            </el-form-item>\r\n            <el-form-item label=\"父业务名称：\">\r\n              {{ nowDictData.parentText }}\r\n            </el-form-item>\r\n            <el-form-item label=\"业务ID：\">\r\n              {{ nowDictData.dictionaryKey }}\r\n            </el-form-item>\r\n            <el-form-item label=\"业务名称：\">\r\n              {{ nowDictData.dictionaryValueZh }}\r\n            </el-form-item>\r\n            <el-form-item label=\"状态：\">\r\n              {{ nowDictData.status | filtersStatus }}\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 字典编辑模态框 start -->\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"showDialog\"\r\n      :title=\"dialogTitle\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n    >\r\n      <el-form\r\n        ref=\"editForm\"\r\n        :model=\"editForm\"\r\n        :rules=\"formRules\"\r\n        size=\"1\"\r\n        label-position=\"left\"\r\n        label-width=\"105px\"\r\n        class=\"edit-form\"\r\n      >\r\n        <el-form-item label=\"父业务ID\">\r\n          {{ editForm.parentKey }}\r\n        </el-form-item>\r\n        <el-form-item label=\"父业务名称\">\r\n          {{ editForm.parentText }}\r\n        </el-form-item>\r\n        <el-form-item label=\"业务ID\" prop=\"dictionaryKey\">\r\n          <el-input\r\n            v-model.trim=\"editForm.dictionaryKey\"\r\n            :disabled=\"editStatus === 'editor'\"\r\n          />\r\n        </el-form-item>\r\n        <el-form-item label=\"业务名称\" prop=\"dictionaryValueZh\">\r\n          <el-input v-model.trim=\"editForm.dictionaryValueZh\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"状态\" prop=\"status\">\r\n          <el-radio-group v-model=\"editForm.status\">\r\n            <el-radio :label=\"0\">启用</el-radio>\r\n            <el-radio :label=\"1\">禁用</el-radio>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button\r\n          :loading=\"confirmLoading\"\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          @click=\"confirm\"\r\n          >确定</el-button\r\n        >\r\n        <el-button\r\n          :loading=\"confirmLoading\"\r\n          size=\"small\"\r\n          @click=\"showDialog = false\"\r\n          >取消</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 字典编辑模态框 end -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  Row,\r\n  Col,\r\n  Form,\r\n  FormItem,\r\n  Dialog,\r\n  Input,\r\n  Tree,\r\n  Select,\r\n  Option,\r\n  Radio,\r\n  RadioGroup\r\n} from 'element-ui';\r\nimport CShortcutMenu from '@/components/common/CShortcutMenu';\r\nimport utils from '@/plugins/common/utils';\r\nimport axios from '@/plugins/axios';\r\n\r\nfunction treeDataChangeField(arrData, settings) {\r\n  //对象数组或对象字段key修改\r\n  settings = settings || {};\r\n  settings.refer = settings.refer === undefined ? 1 : settings.refer;\r\n  var data;\r\n  if (Object.prototype.toString.call(arrData) === '[object Array]') {\r\n    //数组\r\n    data = [];\r\n    for (var i in arrData) {\r\n      data.push(treeDataChangeField(arrData[i], settings));\r\n    }\r\n  } else if (arrData && typeof arrData === 'object') {\r\n    //对象\r\n    var opt = settings.data;\r\n    data = {};\r\n    for (let i in settings.refer ? arrData : opt) {\r\n      if (arrData[i] !== undefined) {\r\n        settings.contain && (data[i] = arrData[i]); //包含原数据所有字段，可能会被覆盖\r\n        if (typeof opt[i] == 'function') {\r\n          var obj = opt[i](i, arrData[i], arrData);\r\n          if (Object.prototype.toString.call(obj) === '[object Array]') {\r\n            data[obj[0]] = obj[1];\r\n          } else if (obj && typeof obj === 'object') {\r\n            for (var j in obj) {\r\n              data[j] = obj[j];\r\n            }\r\n          }\r\n        } else {\r\n          var isArr =\r\n            Object.prototype.toString.call(settings.treeNodes) ===\r\n            '[object Array]';\r\n          let key = opt[i] ? opt[i] : i;\r\n          if (isArr) {\r\n            data[key] = settings.treeNodes.indexOf(i) >= 0;\r\n          } else {\r\n            data[key] =\r\n              !settings.treeNodes || settings.treeNodes === i\r\n                ? treeDataChangeField(arrData[i], settings)\r\n                : arrData[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    data = arrData;\r\n  }\r\n  return data;\r\n}\r\n\r\nconst commands = {\r\n  NEW: 'new',\r\n  EDITOR: 'editor',\r\n  DELETE: 'delete'\r\n};\r\nfunction getObjXy(obj) {\r\n  var xy = obj.getBoundingClientRect();\r\n  var top =\r\n      xy.top -\r\n      document.documentElement.clientTop +\r\n      document.documentElement.scrollTop, //document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\r\n    bottom = xy.bottom,\r\n    left =\r\n      xy.left -\r\n      document.documentElement.clientLeft +\r\n      document.documentElement.scrollLeft, //document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\r\n    right = xy.right,\r\n    width = xy.width || right - left, //IE67不存在width 使用right - left获得\r\n    height = xy.height || bottom - top;\r\n\r\n  return {\r\n    top: top,\r\n    right: right,\r\n    bottom: bottom,\r\n    left: left,\r\n    width: width,\r\n    height: height\r\n  };\r\n}\r\n\r\nexport default {\r\n  name: 'BDataDict',\r\n  // 注册组件\r\n  components: {\r\n    [CShortcutMenu.name]: CShortcutMenu, // 快捷菜单\r\n    [Row.name]: Row,\r\n    [Col.name]: Col,\r\n    [Form.name]: Form,\r\n    [FormItem.name]: FormItem,\r\n    [Dialog.name]: Dialog,\r\n    [Input.name]: Input,\r\n    [Tree.name]: Tree,\r\n    [Select.name]: Select,\r\n    [Option.name]: Option,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Radio.name]: Radio\r\n  },\r\n  props: {\r\n    /**\r\n     * 服务器类型\r\n     */\r\n    serverType: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  // 定义数据\r\n  data() {\r\n    return {\r\n      loading: false, // 数据加载中\r\n      queryParams: {\r\n        // 查询参数\r\n        dictionaryKey: '', // 字典键\r\n        dictionaryValueZh: '', // 字典值\r\n        status: '' // 状态\r\n      },\r\n      treeData: [\r\n        // 树数据\r\n      ],\r\n      nowDictData: {}, // 当前字典数据\r\n      nowDictNode: {}, // 当前字典节点\r\n      propsOptions: {\r\n        // 树组件配置\r\n        label: 'dictionaryValueZh'\r\n        // isLeaf: function (data, node) {\r\n        //   return data.isLeaf === '1'\r\n        // }\r\n      },\r\n      showMenu: false, // 是否显示菜单\r\n      menuTop: 0, // 菜单距离顶部距离\r\n      menuLeft: 0, // 菜单距离右侧距离\r\n      menuLocation: {\r\n        // 菜单位置\r\n        pageX: 0,\r\n        pageY: 0,\r\n        relativeX: 0,\r\n        relativeY: 0\r\n      },\r\n      // offsetY: 0,             // 保存上次右键位置\r\n      // offsetX: 0,             // 保存上次右键位置\r\n      screenWidth: document.body.clientWidth, // 页面宽度监听\r\n      showDialog: false, // 是否显示模态框\r\n      editForm: {\r\n        // 菜单编辑表单\r\n        parentKey: '', // 父业务Id\r\n        parentText: '', // 父业务名称\r\n        parentId: '', // 父节点id\r\n        dictionaryKey: '', // 字典键\r\n        dictionaryValueZh: '', // 字典值\r\n        status: 0 // 状态\r\n      },\r\n      formRules: {\r\n        // 表单验证\r\n        dictionaryKey: [\r\n          { required: true, trigger: 'blur', message: '业务ID未填写' },\r\n          {\r\n            validator: function(rule, value, callback) {\r\n              if (/,/.test(value))\r\n                callback(new Error('非法字符，不允许存在“ , ”。'));\r\n              else callback();\r\n            }\r\n          },\r\n          { max: 64, trigger: '', message: '最大长度64个字符' }\r\n        ],\r\n        dictionaryValueZh: [\r\n          { required: true, trigger: 'blur', message: '业务名称未填写' },\r\n          { max: 128, trigger: '', message: '最大长度128个字符' }\r\n        ],\r\n        status: [\r\n          { required: true, trigger: 'click', message: '业务名称未填写' }\r\n        ]\r\n      },\r\n      editStatus: '', // 编辑状态\r\n      confirmLoading: false, // 提交中\r\n      defaultExpandedKeys: ['-1']\r\n    };\r\n  },\r\n  // 计算属性\r\n  computed: {\r\n    /**\r\n     * 快捷菜单项\r\n     */\r\n    menuItems() {\r\n      if (this.nowDictNode.level === 1) {\r\n        // 根节点只能新增\r\n        return [\r\n          { label: '新增', command: commands.NEW, auth: ['datadict-add'] }\r\n        ];\r\n      } else if (!this.nowDictNode.isLeaf) {\r\n        // 有子节点不允许删除\r\n        return [\r\n          { label: '新增', command: commands.NEW, auth: ['datadict-add'] },\r\n          { label: '编辑', command: commands.EDITOR, auth: ['datadict-edit'] }\r\n        ];\r\n      } else {\r\n        // 叶子节点\r\n        return [\r\n          { label: '新增', command: commands.NEW, auth: ['datadict-add'] },\r\n          { label: '编辑', command: commands.EDITOR, auth: ['datadict-edit'] },\r\n          { label: '删除', command: commands.DELETE, auth: ['datadict-delete'] }\r\n        ];\r\n      }\r\n    },\r\n    /**\r\n     * 快捷菜单样式\r\n     */\r\n    menuStyle() {\r\n      return {\r\n        top: this.menuTop + 'px',\r\n        left: this.menuLeft + 'px'\r\n      };\r\n    },\r\n    /**\r\n     * 模态框标题\r\n     */\r\n    dialogTitle() {\r\n      return (\r\n        {\r\n          new: '新增',\r\n          editor: '编辑'\r\n        }[this.editStatus] || ''\r\n      );\r\n    }\r\n  },\r\n  // 侦听器\r\n  watch: {\r\n    screenWidth(newVal, oldVal) {\r\n      this.calcMenuPosition();\r\n    }\r\n  },\r\n  // 创建完成钩子\r\n  created() {},\r\n  // 挂在完成钩子\r\n  mounted() {\r\n    /**\r\n     * 监听页面变化事件\r\n     */\r\n    window.addEventListener('resize', this.onResize);\r\n  },\r\n  destroyed() {\r\n    /**\r\n     * 移除监听页面变化事件\r\n     */\r\n    window.removeEventListener('resize', this.onResize);\r\n  },\r\n  // 方法定义\r\n  methods: {\r\n    /**\r\n     * 表单查询\r\n     */\r\n    query() {\r\n      this.treeData = [\r\n        {\r\n          id: '-1',\r\n          dictionaryKey: '-1',\r\n          dictionaryValueZh: '数据字典',\r\n          status: 0\r\n        }\r\n      ];\r\n    },\r\n    /**\r\n     * 加载节点\r\n     */\r\n    loadNode(node, resolve) {\r\n      console.log(node);\r\n      if (node.level === 0)\r\n        return resolve([\r\n          {\r\n            id: '-1',\r\n            dictionaryKey: '-1',\r\n            dictionaryValueZh: '数据字典',\r\n            status: 0\r\n          }\r\n        ]);\r\n      if (this.loading) return;\r\n      this.loading = true;\r\n      axios(\r\n        {\r\n          method: 'GET',\r\n          //url: '/commonData/dictionaryApi/select/dic/children',\r\n          url: `/dictionary/selectDictionaryById/${node.data.id}`,\r\n          params: {\r\n            //get用 params  post用 data\r\n            ...this.queryParams,\r\n            dictionaryText: this.queryParams.dictionaryValueZh,\r\n            keyList: [node.data.dictionaryKey]\r\n            //dictionaryValueZh: this.queryParams.dictionaryValueZh,\r\n            //status: this.queryParams.status,\r\n          }\r\n        },\r\n        this.serverType\r\n      )\r\n        .then(({ data }) => {\r\n          resolve(\r\n            treeDataChangeField(data || [], {\r\n              data: {\r\n                dictionaryText: 'dictionaryValueZh',\r\n                dictionaryId: 'id',\r\n                isLeaf: function(i, v, arr) {\r\n                  return v.isLeaf == 1 ? true : false;\r\n                }\r\n              },\r\n              treeNodes: 'children'\r\n            })\r\n          );\r\n          this.loading = false;\r\n        })\r\n        .catch(() => {\r\n          resolve([]);\r\n          this.loading = false;\r\n        });\r\n      // var sendData = {};\r\n      // var res = false;\r\n      // var keys = ['dictionaryKey', 'dictionaryValueZh', 'status'];\r\n      // for (let key of keys) {\r\n      //   if (this.queryParams[key] !== '') {\r\n      //     res = true;\r\n      //     break;\r\n      //   }\r\n      // }\r\n      // if (res && node.level === 1) {\r\n      //   sendData = this.queryParams;\r\n      //   axios(\r\n      //     {\r\n      //       method: 'GET',\r\n      //       url: '/dictionary/selectDictionaryWithChildren',\r\n      //       params: sendData\r\n      //     },\r\n      //     this.serverType\r\n      //   )\r\n      //     .then(({ data }) => {\r\n      //       resolve(data || []);\r\n      //       this.loading = false;\r\n      //     })\r\n      //     .catch(() => {\r\n      //       resolve([]);\r\n      //       this.loading = false;\r\n      //     });\r\n      // } else {\r\n      //   axios(\r\n      //     {\r\n      //       url: `/dictionary/selectDictionaryWithChildren/${node.data.dictionaryId}`,\r\n      //       method: 'GET',\r\n      //       params: sendData\r\n      //     },\r\n      //     this.serverType\r\n      //   )\r\n      //     .then(({ data }) => {\r\n      //       resolve(data || []);\r\n      //       this.loading = false;\r\n      //     })\r\n      //     .catch(() => {\r\n      //       resolve([]);\r\n      //       this.loading = false;\r\n      //     });\r\n      // }\r\n    },\r\n    /**\r\n     * 重置表单\r\n     * @param {String} form 表单的ref\r\n     */\r\n    resetForm(form) {\r\n      this.queryParams = {\r\n        // 查询参数\r\n        dictionaryKey: '', // 字典键\r\n        dictionaryValueZh: '', // 字典值\r\n        status: '' // 状态\r\n      };\r\n    },\r\n    /**\r\n     * 右键快捷菜单\r\n     * @param {Event} event 事件对象\r\n     * @param {*} data 节点数据\r\n     * @param {*} node 节点\r\n     * @param {*} ref 节点组件本身\r\n     */\r\n    onContextMenu(event, data, node, ref) {\r\n      console.log(event, data, node, ref);\r\n      // 保存\r\n      this.nowDictData = data;\r\n      this.nowDictNode = node;\r\n      this.nowDictData.parentText =\r\n        this.nowDictData.parentText || (node.parent && node.parent.label);\r\n      // 显示菜单\r\n      this.showMenu = true;\r\n      Object.keys(this.menuLocation).forEach(key => {\r\n        this.menuLocation[key] = event[key];\r\n      });\r\n      this.$nextTick(() => {\r\n        var xy = getObjXy(this.$refs['treeDict'].$el);\r\n        this.menuLocation.relativeX = this.menuLocation.pageX - xy.left;\r\n        this.menuLocation.relativeY = this.menuLocation.pageY - xy.top;\r\n        this.calcMenuPosition();\r\n      });\r\n    },\r\n    /**\r\n     * 关闭菜单显示\r\n     */\r\n    closeMenu() {\r\n      this.showMenu = false;\r\n    },\r\n    /**\r\n     * 计算设置菜单位置\r\n     */\r\n    calcMenuPosition() {\r\n      if (!this.showMenu) return;\r\n      this.$nextTick(() => {\r\n        // 快捷菜单宽度\r\n        var shortcutMenu = this.$refs['shortcutMenu'];\r\n        var treeDict = this.$refs['treeDict'];\r\n        var shortcutMenuWidth = shortcutMenu.$el.offsetWidth;\r\n        var treeDictWidth = treeDict.$el.offsetWidth;\r\n        var relativeX = this.menuLocation.relativeX;\r\n        var relativeY = this.menuLocation.relativeY;\r\n        this.menuTop = relativeY;\r\n        // 判断快捷菜单是否超出范围\r\n        if (relativeX + shortcutMenuWidth > treeDictWidth) {\r\n          this.menuLeft = treeDictWidth - shortcutMenuWidth;\r\n        } else {\r\n          this.menuLeft = relativeX;\r\n        }\r\n        //修复在Y轴超出范围的情况\r\n        var shortcutMenuHeight = shortcutMenu.$el.offsetHeight;\r\n        var treeDictHeight = treeDict.$el.offsetHeight;\r\n        if (relativeY + shortcutMenuHeight > treeDictHeight) {\r\n          this.menuTop = treeDictHeight - shortcutMenuHeight;\r\n        } else {\r\n          this.menuTop = relativeY;\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 更新页面宽度\r\n     */\r\n    onResize: utils.debounce(function() {\r\n      window.screenWidth = document.body.clientWidth;\r\n      this.screenWidth = window.screenWidth;\r\n    }, 200),\r\n    /**\r\n     * 指令执行\r\n     */\r\n    command(event, command, data) {\r\n      switch (command) {\r\n        case commands.NEW:\r\n          this.editStatus = command;\r\n          // 新增\r\n          this.editForm = {\r\n            isLeaf: '1',\r\n            parentId: this.nowDictData.dictionaryId,\r\n            parentText: this.nowDictData.dictionaryValueZh,\r\n            parentKey: this.nowDictData.dictionaryKey,\r\n            dictionaryKey: '', // 字典键\r\n            dictionaryValueZh: '', // 字典值\r\n            status: 0, // 状态\r\n            dicOrder:\r\n              ((this.nowDictNode.childNodes &&\r\n                this.nowDictNode.childNodes.length) ||\r\n                0) + 1\r\n          };\r\n          this.initShowDialog();\r\n          break;\r\n        case commands.EDITOR:\r\n          // 编辑\r\n          this.editStatus = command;\r\n          var editData = new Object();\r\n          [\r\n            'isLeaf',\r\n            'parentKey',\r\n            'parentId',\r\n            'dictionaryId',\r\n            'dictionaryKey',\r\n            'dictionaryValueZh',\r\n            'status',\r\n            'dicOrder'\r\n          ].forEach(key => {\r\n            editData[key] = this.nowDictData[key];\r\n          });\r\n          editData.parentText =\r\n            (this.nowDictNode.parent &&\r\n              this.nowDictNode.parent.data &&\r\n              this.nowDictNode.parent.data.dictionaryValueZh) ||\r\n            '';\r\n          this.editForm = editData;\r\n          this.initShowDialog();\r\n          break;\r\n        case commands.DELETE:\r\n          // 删除\r\n          this.$confirm('是否确定删除?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n            .then(() => {\r\n              console.log(this.nowDictData);\r\n              return axios(\r\n                {\r\n                  method: 'GET',\r\n                  url: '/dictionary/deleteDictionary',\r\n                  params: {\r\n                    ids: this.nowDictData.dictionaryId || this.nowDictData.id\r\n                  }\r\n                },\r\n                this.serverType\r\n              );\r\n            })\r\n            .then(() => {\r\n              return this.$nextTick();\r\n            })\r\n            .then(() => {\r\n              this.$refs['treeDict'].remove(this.nowDictNode);\r\n              this.$message.success('删除成功');\r\n            })\r\n            .catch(() => {});\r\n          break;\r\n      }\r\n    },\r\n    /**\r\n     * 提交表单\r\n     */\r\n    confirm() {\r\n      if (this.confirmLoading) return;\r\n      this.$refs['editForm'].validate(valid => {\r\n        var sendData = {};\r\n        if (valid) {\r\n          switch (this.editStatus) {\r\n            case 'new':\r\n              // 新增\r\n              sendData = {\r\n                ...this.editForm,\r\n                parentId: '',\r\n                dictionaryText: this.editForm.dictionaryValueZh\r\n              };\r\n              delete sendData['isLeaf'];\r\n              this.confirmLoading = true;\r\n              axios(\r\n                {\r\n                  method: 'POST',\r\n                  url: '/dictionary/saveDictionary',\r\n                  data: sendData\r\n                },\r\n                this.serverType\r\n              )\r\n                .then(({ data }) => {\r\n                  this.$nextTick(() => {\r\n                    if (!this.nowDictData.children) {\r\n                      this.$set(this.nowDictData, 'children', []);\r\n                    }\r\n                    this.nowDictData.children.push({\r\n                      ...data,\r\n                      dictionaryValueZh: data.dictionaryText,\r\n                      id: data.dictionaryId\r\n                    });\r\n\r\n                    this.showDialog = false;\r\n                    this.confirmLoading = false;\r\n                    this.$message.success('新增成功');\r\n                  });\r\n                })\r\n                .catch(() => {\r\n                  this.confirmLoading = false;\r\n                });\r\n              break;\r\n            case 'editor':\r\n              // 编辑\r\n              this.confirmLoading = true;\r\n              console.log(this.nowDictData, this.nowDictNode);\r\n              axios(\r\n                {\r\n                  method: 'POST',\r\n                  url: '/dictionary/saveDictionary',\r\n                  data: {\r\n                    ...this.editForm,\r\n                    dictionaryText: this.editForm.dictionaryValueZh,\r\n                    dictionaryId: this.nowDictData.id\r\n                  }\r\n                },\r\n                this.serverType\r\n              )\r\n                .then(() => {\r\n                  Object.assign(this.nowDictData, this.editForm);\r\n                  this.showDialog = false;\r\n                  this.confirmLoading = false;\r\n                  this.$message.success('修改成功');\r\n                })\r\n                .catch(() => {\r\n                  this.confirmLoading = false;\r\n                });\r\n              break;\r\n            default:\r\n              this.$message.warning('提交异常，无处理方法');\r\n              break;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 初始化显示模态框\r\n     */\r\n    initShowDialog() {\r\n      this.showDialog = true;\r\n      this.$nextTick(() => {\r\n        this.$refs['editForm'].clearValidate();\r\n      });\r\n    },\r\n    /**\r\n     * 点击节点事件\r\n     * @param {*} data 节点数据\r\n     * @param {*} node 节点对象\r\n     * @param {*} ref 节点组件本身\r\n     */\r\n    onNodeClick(data, node, ref) {\r\n      console.log(node, data, ref);\r\n      this.showMenu = false;\r\n      this.nowDictData = data;\r\n      this.nowDictNode = node;\r\n      this.nowDictData.parentText =\r\n        (this.nowDictNode.parent &&\r\n          this.nowDictNode.parent.data &&\r\n          this.nowDictNode.parent.data.dictionaryValueZh) ||\r\n        '';\r\n    }\r\n  },\r\n  // 过滤器\r\n  filters: {\r\n    filtersStatus(value) {\r\n      return (\r\n        {\r\n          0: '启用',\r\n          1: '禁用'\r\n        }[value] || ''\r\n      );\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.app-container {\r\n  padding: 15px 20px;\r\n}\r\n.plate {\r\n  min-height: 300px;\r\n  background: rgba(254, 255, 255, 1);\r\n  box-shadow: 0px 3px 6px 0px rgba(219, 219, 219, 0.5);\r\n  border-radius: 6px;\r\n  border: 1px solid rgba(235, 235, 235, 1);\r\n  box-sizing: border-box;\r\n  &-info {\r\n    padding: 15px 28px;\r\n    margin: 15px;\r\n    .el-form-item--small.el-form-item {\r\n      margin-bottom: 23px;\r\n    }\r\n    /deep/ .el-form-item__label {\r\n      font-weight: 400;\r\n    }\r\n  }\r\n  &-tree {\r\n    padding: 15px 10px;\r\n    margin: 15px;\r\n    .el-tree {\r\n      background: transparent;\r\n    }\r\n  }\r\n}\r\n\r\n// 快捷菜单\r\n.shortcut-menu-box {\r\n  position: relative;\r\n  min-height: 300px;\r\n  overflow-y: auto;\r\n}\r\n.shortcut-menu {\r\n  position: absolute;\r\n  z-index: 2000;\r\n}\r\n// .edit-form {\r\n//   /deep/ .el-form-item__label {\r\n//     font-size: 16px;\r\n//   }\r\n//   /deep/ .el-input__inner {\r\n//     width: 400px;\r\n//   }\r\n//   /deep/ .el-form-item {\r\n//     margin-bottom: 20px;\r\n//   }\r\n// }\r\n</style>\r\n"]}]}