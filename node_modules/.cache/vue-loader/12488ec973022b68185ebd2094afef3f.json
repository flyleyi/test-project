{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/VisitorList.vue?vue&type=style&index=0&id=5c9f39da&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/VisitorList.vue","mtime":1645178321201},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKL2RlZXAvIC52YW4tdGFic19fbmF2LS1saW5lIHsKICB3aWR0aDogNzAlOwp9Ci9kZWVwLyAudmFuLXRhYi0tYWN0aXZlIHsKICBjb2xvcjogIzMzODhmZjsKfQoudmlzaXRvci1oZWFkZXIgewogIC8vIHdpZHRoOiBjYWxjKDEwMHZ3IC0gMjAwcHgpOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBoZWlnaHQ6IDQ1cHg7CiAgcmlnaHQ6IDA7CiAgYmFja2dyb3VuZDogI2ZmZjsKICAuc2VsZWN0LXdyYXBwZXIgewogICAgZGlzcGxheTogZmxleDsKICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgd2lkdGg6IDk1JTsKICAgIC5oZWFkZXItc2VsZWN0IHsKICAgICAgbWFyZ2luLXRvcDogNy41cHg7CiAgICAgIGJhY2tncm91bmQ6ICNmZmY7CiAgICAgIHdpZHRoOiAxMTVweDsKICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7CiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNjUpOwogICAgICBvcHRpb24gewogICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgfQogICAgfQogIH0KfQoKLnZpc2l0b3ItbWFpbiB7CiAgd2lkdGg6IDEwMHZ3Owp9Ci5idG4tYXBwb2ludG1lbnQgewogIHBvc2l0aW9uOiBmaXhlZDsKICBib3R0b206IDA7CiAgbGVmdDogMTJweDsKICAvLyB3aWR0aDogMzUxcHg7CiAgd2lkdGg6IDkzLjY1MzN2dzsKICBwYWRkaW5nLWJvdHRvbTogY29uc3RhbnQoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSk7CiAgcGFkZGluZy1ib3R0b206IGVudihzYWZlLWFyZWEtaW5zZXQtYm90dG9tKTsKfQo="},{"version":3,"sources":["VisitorList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VisitorList.vue","sourceRoot":"src/pages/visitor-h5/views/my-visitor","sourcesContent":["<template>\n  <div>\n    <div class=\"visitor-header\">\n      <div class=\"select-wrapper\">\n        <div class=\"header-select\">\n          <visitor-select\n            :actions=\"option1\"\n            :value=\"status\"\n            @changeValue=\"changeValue\"\n          ></visitor-select>\n        </div>\n      </div>\n    </div>\n    <div>\n      <van-tabs v-model=\"activeName\" color=\"#3388FF\">\n        <van-tab title=\"访客\" name=\"visitor\">\n          <div class=\"visitor-main\">\n            <refresh-list\n              v-if=\"activeName == 'visitor'\"\n              ref=\"refreshList\"\n              :getListData=\"getVisitorList\"\n              :otherParams=\"{ guestType: 0, status: status }\"\n              :hasNotice=\"true\"\n            >\n              <template slot-scope=\"{ item }\">\n                <visitor-card\n                  :item=\"item\"\n                  :operateObj=\"operateObj\"\n                  :statusObj=\"statusObj\"\n                  :colorObj=\"colorObj\"\n                  @clickCard=\"clickCard\"\n                ></visitor-card>\n              </template>\n            </refresh-list>\n          </div>\n        </van-tab>\n        <van-tab title=\"团体\" name=\"teamVisitor\">\n          <div class=\"visitor-main\">\n            <refresh-list\n              v-if=\"activeName == 'teamVisitor'\"\n              ref=\"refreshList\"\n              :getListData=\"getVisitorList\"\n              :otherParams=\"{ guestType: 1, status: status }\"\n              :hasNotice=\"true\"\n            >\n              <template slot-scope=\"{ item }\">\n                <visitor-card\n                  :item=\"item\"\n                  :operateObj=\"operateObj\"\n                  :statusObj=\"statusObj\"\n                  :colorObj=\"colorObj\"\n                  @clickCard=\"clickCard\"\n                ></visitor-card>\n              </template>\n            </refresh-list>\n          </div>\n        </van-tab>\n        <van-tab title=\"物资外运\" name=\"outward\">\n          <div class=\"visitor-main\">\n            <refresh-list\n              v-if=\"activeName == 'outward'\"\n              ref=\"refreshList\"\n              :getListData=\"getVisitorList\"\n              :otherParams=\"{ guestType: 2, status: status }\"\n              :hasNotice=\"true\"\n            >\n              <template slot-scope=\"{ item }\">\n                <!--                <verify-card\n                  :item=\"item\"\n                  type=\"outward\"\n                  @clickCard=\"clickCard(item)\"\n                  @onRefresh=\"refreshData\"\n                ></verify-card> -->\n                <visitor-card\n                  :item=\"item\"\n                  :operateObj=\"operateObj\"\n                  :statusObj=\"statusObj\"\n                  :colorObj=\"colorObj\"\n                  type=\"outward\"\n                  @clickCard=\"clickCard\"\n                ></visitor-card>\n              </template>\n            </refresh-list>\n          </div>\n        </van-tab>\n      </van-tabs>\n    </div>\n    <div class=\"btn-appointment\">\n      <van-button type=\"info\" size=\"large\" @click=\"gotoVisitorAppointment\"\n        >预约访客</van-button\n      >\n    </div>\n  </div>\n</template>\n\n<script>\nimport eventBus from '@/pages/visitor-h5/plugins/common/eventBus.js';\nimport { colorObj } from '@/pages/visitor-h5/views/my-visitor/common';\nimport visitorSelect from '@/pages/visitor-h5/components/SearchSelect.vue';\nimport refreshList from '../refresh-list';\nimport visitorCard from './components/VisitorCard.vue';\nimport verifyCard from '../verify-visitor/components/VerifyCard.vue';\nimport {\n  getRecordStatusMsg,\n  getOperationStatusMsg,\n  getVisitorList,\n  getMyVisitorProcess\n} from '@/pages/visitor-h5/api/myVisitor';\nexport default {\n  components: {\n    visitorSelect,\n    refreshList,\n    visitorCard\n    // verifyCard\n  },\n  data() {\n    return {\n      activeName: 'visitor',\n      status: '',\n      option1: [],\n      visitorList: [],\n      operateObj: null,\n      statusObj: null,\n      colorObj: null\n    };\n  },\n  methods: {\n    refreshData() {\n      this.$nextTick(() => {\n        this.$refs.refreshList.onRefresh();\n      });\n    },\n    changeValue(item) {\n      this.status = item.value;\n      this.refreshData();\n    },\n    getVisitorList,\n    clickCard(item) {\n      this.$router.push({\n        path: '/visitor-detail',\n        query: {\n          id: item.id\n        }\n      });\n    },\n    gotoVisitorAppointment() {\n      eventBus.$emit('setcurType', this.activeName);\n      // 判断是否设置默认时间\n      this.$store.commit('visitor/SET_INITIALDATE', true);\n      this.$router.push({\n        path: '/visitor-appointment',\n        query: {\n          type: this.activeName\n        }\n      });\n    },\n    getMyVisitorProcess() {\n      getMyVisitorProcess().then(res => {\n        console.log(res);\n        let data = Object.entries(res.data);\n        this.option1 = data.map(item => {\n          return {\n            text: item[0],\n            value: item[1].join(',')\n          };\n        });\n        this.option1.unshift({ text: '全部申请', value: '' });\n      });\n    },\n    getStatusObj() {\n      this.colorObj = colorObj();\n      getOperationStatusMsg().then(res => {\n        let arr = res.data;\n        let obj = {};\n        arr.map(item => {\n          obj[item.code] = item.msg;\n        });\n        this.operateObj = obj;\n      });\n      getRecordStatusMsg().then(res => {\n        let arr = res.data;\n        let obj = {};\n        arr.map(item => {\n          obj[item.code] = item.msg;\n        });\n        this.statusObj = obj;\n      });\n    }\n  },\n  activated() {\n    if (this.$route.query.isRefresh) {\n      this.refreshData();\n    }\n  },\n  created() {\n    Promise.all([this.getMyVisitorProcess(), this.getStatusObj()]);\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .van-tabs__nav--line {\n  width: 70%;\n}\n/deep/ .van-tab--active {\n  color: #3388ff;\n}\n.visitor-header {\n  // width: calc(100vw - 200px);\n  position: absolute;\n  height: 45px;\n  right: 0;\n  background: #fff;\n  .select-wrapper {\n    display: flex;\n    justify-content: center;\n    width: 95%;\n    .header-select {\n      margin-top: 7.5px;\n      background: #fff;\n      width: 115px;\n      height: 30px;\n      border-radius: 4px;\n      font-size: 13px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.65);\n      option {\n        border: none;\n      }\n    }\n  }\n}\n\n.visitor-main {\n  width: 100vw;\n}\n.btn-appointment {\n  position: fixed;\n  bottom: 0;\n  left: 12px;\n  // width: 351px;\n  width: 93.6533vw;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n}\n</style>\n"]}]}