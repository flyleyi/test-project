{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/common/CTable/index.vue?vue&type=style&index=0&id=5f49cc5c&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/components/common/CTable/index.vue","mtime":1645176309681},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovZGVlcC8gLmVsLWJ1dHRvbiArIC5lbC1idXR0b24gew0KICBtYXJnaW4tbGVmdDogNXB4Ow0KfQ0KL2RlZXAvIC5lbC1idXR0b24gew0KICBtYXJnaW4tbGVmdDogNXB4Ow0KICBtYXJnaW4tcmlnaHQ6IDVweDsNCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/common/CTable","sourcesContent":["<!--\r\n * @Author: your name\r\n * @Date: 2021-09-18 10:16:11\r\n * @LastEditTime: 2021-10-08 19:08:58\r\n * @LastEditors: Please set LastEditors\r\n * @Description: In User Settings Edit\r\n * @FilePath: \\mutilwap\\src\\components\\common\\CTable\\index.vue\r\n-->\r\n<template>\r\n  <div class=\"m-table\">\r\n    <el-table ref=\"table\" v-bind=\"$props\" v-on=\"$listeners\">\r\n      <template v-for=\"(col, index) in headers\">\r\n        <!-- btns操作栏 -->\r\n        <el-table-column\r\n          :key=\"index\"\r\n          v-bind=\"col\"\r\n          v-if=\"col.colType == 'btns' && !col.hidden\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              :size=\"btn.size\"\r\n              :type=\"btn.type\"\r\n              :key=\"btnIndex\"\r\n              v-for=\"(btn, btnIndex) in col.btns\"\r\n              v-show=\"isShowButton(scope.row, scope.$index, btn)\"\r\n              @click.stop=\"btn.click(scope.row, scope.$index, btnIndex)\"\r\n              >{{ btn.label }}</el-button\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 自定义栏 -->\r\n        <el-table-column\r\n          :key=\"index\"\r\n          v-bind=\"col\"\r\n          v-else-if=\"col.colType == 'column' && !col.hidden\"\r\n        >\r\n          <template slot-scope=\"scope\">\r\n            <slot\r\n              :name=\"'column|' + (col.slotName || col.prop)\"\r\n              :row=\"scope.row\"\r\n              :$index=\"scope.$index\"\r\n            ></slot>\r\n          </template>\r\n        </el-table-column>\r\n        <!-- 通用栏 -->\r\n        <el-table-column v-bind=\"col\" :key=\"index\" v-else-if=\"!col.hidden\">\r\n        </el-table-column>\r\n      </template>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Table, TableColumn, Button } from 'element-ui';\r\nimport props from './props';\r\nexport default {\r\n  name: 'CTable',\r\n  components: {\r\n    ElButton: Button,\r\n    ElTable: Table,\r\n    ElTableColumn: TableColumn\r\n  },\r\n  props,\r\n  activated() {\r\n    // 解决缓存切换错位问题\r\n    this.doLayout();\r\n  },\r\n  methods: {\r\n    /**\r\n     * 重新渲染\r\n     */\r\n    doLayout() {\r\n      this.$nextTick(() => {\r\n        this.$refs.table && this.$refs.table.doLayout();\r\n      });\r\n    },\r\n    /**\r\n     * 是否显示按钮\r\n     * @param {Object} row table行数据\r\n     * @param {Number} rowIndex table行索引\r\n     * @param {Object} btn 按钮配置项\r\n     */\r\n    isShowButton(row, rowIndex, btn) {\r\n      let { hidden } = btn;\r\n      if (typeof hidden === 'function') return !hidden(row, rowIndex, btn);\r\n      return !hidden;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n/deep/ .el-button + .el-button {\r\n  margin-left: 5px;\r\n}\r\n/deep/ .el-button {\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n}\r\n</style>\r\n"]}]}