{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/homework-admin/views/homework/uploadList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/homework-admin/views/homework/uploadList.vue","mtime":1646020538169},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IElucHV0LCBQYWdpbmF0aW9uLCBVcGxvYWQsIFByb2dyZXNzIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB1cGxvYWRMaXN0SXRlbSBmcm9tICcuL0NvbXBvbmVudHMvVXBsb2FkTGlzdEl0ZW0nOwppbXBvcnQgQ29va2llIGZyb20gJ2pzLWNvb2tpZSc7Ci8vIGltcG9ydCBhY2lvbnMgZnJvbSAnLi4vLi4vYXBpL3VwbG9hZC9pbmRleCc7CmltcG9ydCB7CiAgZ2V0VXBsb2FkUGFyYW1ldGVyLAogIHVwbG9hZFBpYywKICBmaW5pc2hVcGxvYWQsCiAgdXBsb2FkTGlzdAp9IGZyb20gJy4uLy4uL2FwaS91cGxvYWQvaW5kZXgnOwovLyBjb25zdCBPU1MgPSByZXF1aXJlKCdhbGktb3NzJyk7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0R5bmFtaWNGb3JtUGFnZScsCiAgY29tcG9uZW50czogewogICAgdXBsb2FkTGlzdEl0ZW0sCiAgICBFbFBhZ2luYXRpb246IFBhZ2luYXRpb24sCiAgICBFbFByb2dyZXNzOiBQcm9ncmVzcywKICAgIEVsVXBsb2FkOiBVcGxvYWQsCiAgICBbSW5wdXQubmFtZV06IElucHV0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcGVyY2VudGFnZTogMCwKICAgICAgbGltaXRDb3VudDogMzAwLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLCAvL+ato+WcqOS4iuS8oAogICAgICB1cGxvYWRDb3VudDogMCwgLy/orrDlvZXmr4/mrKHkuIrkvKDml7bnmoTkuIrkvKDmlbDph48KICAgICAgdXBsb2FkVG90YWw6IDAsIC8v6K6w5b2V6L+Z5qyh5LiK5Lyg5oC75YWx5aSa5bCR5pWw6YePCiAgICAgIHZpc2libGU6IGZhbHNlLCAvLyDmmK/lkKblj6/op4EKICAgICAgdmFsdWU6IGZhbHNlLAogICAgICBkYXRhT2JqOiB7fSwKICAgICAgZmluaXNoVXBsb2FkTGlzdDogW10sCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgdG90YWw6IDEwMCwKICAgICAgY3VycmVudFBhZ2U6IDEsCiAgICAgIGxpc3REYXRhOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwZXJjZW50YWdlQ29tcHV0ZWQ6IGZ1bmN0aW9uKCkgewogICAgICAvLyByZXR1cm4gIWlzTmFOKCh0aGlzLnVwbG9hZENvdW50IC8gdGhpcy51cGxvYWRUb3RhbCkgKiAxMDApOwogICAgICByZXR1cm4gdGhpcy51cGxvYWRUb3RhbCA+IDAKICAgICAgICA/IHBhcnNlSW50KHRoaXMudXBsb2FkQ291bnQgLyB0aGlzLnVwbG9hZFRvdGFsKSAqIDEwMAogICAgICAgIDogMDsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7fSwKICBhc3luYyBjcmVhdGVkKCkgewogICAgYXdhaXQgdGhpcy5nZXRsaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHZhbCkgewogICAgICBjb25zb2xlLmxvZyhg5b2T5YmN6aG1OiAke3ZhbH1gKTsKICAgICAgdGhpcy5wYWdlTnVtID0gdmFsOwogICAgICB0aGlzLmdldGxpc3QoKTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlKCkge30sCiAgICBnZXRsaXN0KCkgewogICAgICBjb25zb2xlLmxvZygn6K+35rGC5byA5aeLJyk7CiAgICAgIHVwbG9hZExpc3QoewogICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZU51bSwKICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICBzY2hvb2xJZDogQ29va2llLmdldCgnc2Nob29sSWQnKSwKICAgICAgICB0ZW5hbnRJZDogQ29va2llLmdldCgndGVuYW50SWQnKQogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2coJ3Jlcz0nLCByZXMpOwogICAgICAgIC8vIGlmIChyZXMuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgLy8gICB0aGlzLmxpc3REYXRhID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAvLyAgIGNvbnNvbGUubG9nKCdsaXN0RGF0YT0nLCB0aGlzLmxpc3REYXRhKTsKICAgICAgICAvLyAgIHRoaXMudG90YWwgPSB0aGlzLmxpc3REYXRhLnRvdGFsOwogICAgICAgIC8vICAgdGhpcy5wYWdlTnVtID0gdGhpcy5saXN0RGF0YS5wYWdlOwogICAgICAgIC8vICAgdGhpcy5wYWdlU2l6ZSA9IHRoaXMubGlzdERhdGEucGFnZVNpemU7CiAgICAgICAgLy8gfQogICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgdGhpcy5saXN0RGF0YSA9IHJlcy5kYXRhOwogICAgICAgICAgY29uc29sZS5sb2coJ2xpc3REYXRhPScsIHRoaXMubGlzdERhdGEpOwogICAgICAgICAgdGhpcy50b3RhbCA9IHRoaXMubGlzdERhdGEudG90YWw7CiAgICAgICAgICB0aGlzLnBhZ2VOdW0gPSB0aGlzLmxpc3REYXRhLnBhZ2U7CiAgICAgICAgICB0aGlzLnBhZ2VTaXplID0gdGhpcy5saXN0RGF0YS5wYWdlU2l6ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvb2tmb3JVcExvYWREZXRhaWwoZGF0YSkgewogICAgICBsZXQgaG9tZXdvcmtTdGF0dXMgPSAwOwogICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gMSkgewogICAgICAgIGhvbWV3b3JrU3RhdHVzID0gMTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygnZGF0YS5kZXRhaWxMaXN0JywgZGF0YS5kZXRhaWxMaXN0KTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdVcExvYWREZXRhaWwnLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBob21ld29ya1N0YXR1czogaG9tZXdvcmtTdGF0dXMsCiAgICAgICAgICBkZXRhaWxMaXN0OiBkYXRhLmRldGFpbExpc3QsCiAgICAgICAgICBob21ld29ya0lkOiBkYXRhLmlkCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRSZW1vdmUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCdoYW5kbGVSZW1vdmUnKTsKICAgIH0sCiAgICB1cGxvYWRTdWNjZXNzKHJlc3BvbnNlLCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLnVwbG9hZENvdW50Kys7CiAgICAgIHRoaXMuY2hhbmdlUHJvZ3Jlc3MoKTsKICAgICAgY29uc29sZS5sb2coJ3Jlc3BvbnNlKysrKycsIHJlc3BvbnNlKTsKICAgICAgdGhpcy5maW5pc2hVcGxvYWRMaXN0LnB1c2goeyBmaWxlTmFtZTogcmVzcG9uc2UuZGF0YSB9KTsKCiAgICAgIGNvbnNvbGUubG9nKCd1cGxvYWRDb3VudD09PScsIHRoaXMudXBsb2FkQ291bnQpOwogICAgICBjb25zb2xlLmxvZygnaGFuZGxlU3VjY2VzcycpOwogICAgICBjb25zb2xlLmxvZygnZmlsZUxpc3Q9PT09JywgZmlsZUxpc3QpOwogICAgICBpZiAoZmlsZUxpc3QubGVuZ3RoID09IHRoaXMudXBsb2FkQ291bnQpIHsKICAgICAgICBjb25zb2xlLmxvZygn5YWo6YOo5LiK5Lyg5oiQ5YqfJyk7CiAgICAgICAgdGhpcy51cGxvYWRDb3VudCA9IDA7CiAgICAgICAgbGV0IHVwbG9hZCA9IHRoaXMuJHJlZnMudXBsb2FkOwogICAgICAgIGlmICh1cGxvYWQpIHsKICAgICAgICAgIHVwbG9hZC5jbGVhckZpbGVzKCk7CiAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ2ZpbmlzaFVwbG9hZExpc3QrKysrJywgdGhpcy5maW5pc2hVcGxvYWRMaXN0KTsKICAgICAgICBjb25zb2xlLmxvZygnc2Nob29sSWQrJyArIENvb2tpZS5nZXQoJ3NjaG9vbElkJykpOwogICAgICAgIGNvbnNvbGUubG9nKCd0ZW5hbnRJZCsnICsgQ29va2llLmdldCgndGVuYW50SWQnKSk7CgogICAgICAgIGlmICh0aGlzLmZpbmlzaFVwbG9hZExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgZmluaXNoVXBsb2FkKHsKICAgICAgICAgICAgbGlzdDogdGhpcy5maW5pc2hVcGxvYWRMaXN0LAogICAgICAgICAgICBzY2hvb2xJZDogQ29va2llLmdldCgnc2Nob29sSWQnKSwKICAgICAgICAgICAgdGVuYW50SWQ6IENvb2tpZS5nZXQoJ3RlbmFudElkJykKICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5maW5pc2hVcGxvYWRMaXN0ID0gW107CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmaW5pc2hMb2cgPSAnLCByZXMpOwogICAgICAgICAgICBpZiAoIXJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOWksei0pScsCiAgICAgICAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICAgICAgICBvZmZzZXQ6IDgwCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgLy/ph43mlrDliLfmlrDliJfooagKICAgICAgICAgICAgICB0aGlzLmdldGxpc3QoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIHVwbG9hZEV4Y2VlZCgpIHsKICAgICAgY29uc29sZS5sb2coJ2hhbmRsZUV4Y2VlZCcpOwogICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgbWVzc2FnZTogJ+S4iuS8oOaVsOmHj+S4jeiDvei2hei/hycgKyB0aGlzLmxpbWl0Q291bnQgKyAn5LiqJywKICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgb2Zmc2V0OiA4MAogICAgICB9KTsKICAgIH0sCiAgICB1cGxvYWRDaGFuZ2UoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgLy/mlofku7bnirbmgIHmlLnlj5jml7bnmoTpkqnlrZDvvIzmt7vliqDmlofku7bjgIHkuIrkvKDmiJDlip/lkozkuIrkvKDlpLHotKXml7bpg73kvJrooqvosIPnlKgKICAgICAgLy8gY29uc29sZS5sb2coJ2hhbmxkZUNoYW5nZT09JywgZmlsZUxpc3QpOwogICAgICAvLyBjb25zb2xlLmxvZygnaGFubGRlQ2hhbmdlPT0nLCBmaWxlTGlzdC5sZW5ndGgpOwogICAgICB0aGlzLnVwbG9hZFRvdGFsID0gZmlsZUxpc3QubGVuZ3RoOwogICAgfSwKICAgIHVwbG9hZFByb2dyZXNzKCkgewogICAgICAvL+aWh+S7tuS4iuS8oOaXtgogICAgICBjb25zb2xlLmxvZygnaGFuZGxlUHJvZ3Jlc3MnKTsKICAgIH0sCiAgICB1cGxvYWRIdHRwKGZpbGUsIGZpbGVMaXN0KSB7CiAgICAgIGNvbnNvbGUubG9nKCd1cGxvYWRIdHRwZmlsZUxpc3Q9PT09JywgZmlsZS5maWxlLm5hbWUpOwogICAgICBjb25zdCBmaWxlU3VmZml4ID0gZmlsZS5maWxlLm5hbWUuc3Vic3RyaW5nKAogICAgICAgIGZpbGUuZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxCiAgICAgICk7CiAgICAgIGNvbnNvbGUubG9nKCdmaWxlU3VmZml4PT09PScsIGZpbGVTdWZmaXgpOwoKICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZykgewogICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZygndXBsb2FkSHR0cCsrKycgKyBmaWxlLmZpbGUpOwogICAgICByZXR1cm4gZ2V0VXBsb2FkUGFyYW1ldGVyKHsKICAgICAgICBmaWxlVHlwZTogZmlsZVN1ZmZpeAogICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBjb25zb2xlLmxvZygncmVzKysrJyArIHJlcy5zdWNjZXNzKTsKCiAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygndXBsb2FkUGljKysrJyArIGZpbGUuZmlsZSk7CgogICAgICAgICAgcmV0dXJuIHVwbG9hZFBpYyhmaWxlLmZpbGUsIHJlcy5kYXRhKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHVwbG9hZEVycm9yKGVyciwgZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgY29uc29sZS5sb2coJ2hhbmRsZUVycm9yJyk7CiAgICAgIHRoaXMudXBsb2FkQ291bnQrKzsKICAgICAgdGhpcy5jaGFuZ2VQcm9ncmVzcygpOwogICAgICBjb25zb2xlLmxvZygndXBsb2FkQ291bnQ9PT0nLCB0aGlzLnVwbG9hZENvdW50KTsKICAgICAgaWYgKGZpbGVMaXN0Lmxlbmd0aCA9PSB0aGlzLnVwbG9hZENvdW50KSB7CiAgICAgICAgY29uc29sZS5sb2coJ+WcqOWksei0peaWueazleWGheWFqOmDqOS4iuS8oOaIkOWKnycpOwogICAgICAgIHRoaXMudXBsb2FkQ291bnQgPSAwOwogICAgICAgIGlmICh0aGlzLmZpbmlzaFVwbG9hZExpc3QubGVuZ3RoID4gMCkgewogICAgICAgICAgZmluaXNoVXBsb2FkKHsgbGlzdDogdGhpcy5maW5pc2hVcGxvYWRMaXN0IH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgdGhpcy5maW5pc2hVcGxvYWRMaXN0ID0gW107CiAgICAgICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5LiK5Lyg5aSx6LSlJywKICAgICAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgICAgIG9mZnNldDogODAKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAvL+mHjeaWsOWIt+aWsOWIl+ihqAogICAgICAgICAgICAgIHRoaXMuZ2V0bGlzdCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGxldCB1cGxvYWQgPSB0aGlzLiRyZWZzLnVwbG9hZDsKICAgICAgICBpZiAodXBsb2FkKSB7CiAgICAgICAgICB1cGxvYWQuY2xlYXJGaWxlcygpOwogICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB1cGxvYWRCZWZvcmUoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgY29uc29sZS5sb2coJ3VwbG9hZEJlZm9yZT09PT09Jyk7CiAgICAgIGNvbnN0IGZpbGVTdWZmaXggPSBmaWxlLm5hbWUuc3Vic3RyaW5nKGZpbGUubmFtZS5sYXN0SW5kZXhPZignLicpICsgMSk7CiAgICAgIGNvbnN0IHdoaXRlTGlzdCA9IFsncG5nJywgJ2pwZycsICdqcGVnJywgJ2JtcCddOwogICAgICBsZXQgbG93ZXJGaWxlU3VmZml4ID0gZmlsZVN1ZmZpeC50b0xvd2VyQ2FzZSgpOwogICAgICBpZiAod2hpdGVMaXN0LmluZGV4T2YobG93ZXJGaWxlU3VmZml4KSA9PT0gLTEpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup4oCcanBn44CBcG5n44CBanBlZ+OAgWJtcOKAneeahOWbvueJh+S4iuS8oCcsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBvZmZzZXQ6IDgwCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5maWxlTGlzdCA9IFtdOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQoKICAgICAgaWYgKGZpbGUubmFtZS5sZW5ndGggPiAxMDApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICBtZXNzYWdlOiAn5Zu+54mH5ZCN56ew5LiN6IO96LaF6L+HMTAw5a2XJywKICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgIG9mZnNldDogODAKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGNvbnN0IGlzTHQyTSA9IGZpbGUuc2l6ZSAvIDEwMjQgLyAxMDI0IDwgMTAwOwogICAgICBpZiAoIWlzTHQyTSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgIG1lc3NhZ2U6ICfkuIrkvKDmlofku7bkuI3og73otoXov4cxMDBNQicsCiAgICAgICAgICBzaG93Q2xvc2U6IHRydWUsCiAgICAgICAgICBvZmZzZXQ6IDgwCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZm9ybWF0KHBlcmNlbnRhZ2UpIHsKICAgICAgcmV0dXJuICcnOwogICAgfSwKICAgIGNoYW5nZVByb2dyZXNzKCkgewogICAgICB0aGlzLnBlcmNlbnRhZ2UgPQogICAgICAgIHRoaXMudXBsb2FkVG90YWwgPiAwCiAgICAgICAgICA/IHBhcnNlSW50KCh0aGlzLnVwbG9hZENvdW50IC8gdGhpcy51cGxvYWRUb3RhbCkgKiAxMDApCiAgICAgICAgICA6IDA7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["uploadList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"uploadList.vue","sourceRoot":"src/pages/homework-admin/views/homework","sourcesContent":["<template>\n  <div class=\"containerStyle\">\n    <div class=\"uploadButtonDivStyle\">\n      <el-upload\n        ref=\"upload\"\n        action=\"\"\n        :http-request=\"uploadHttp\"\n        multiple\n        accept=\".jpg,.png,.jpeg,.bmp\"\n        :data=\"dataObj\"\n        :limit=\"limitCount\"\n        :on-remove=\"uploadRemove\"\n        :on-success=\"uploadSuccess\"\n        :show-file-list=\"false\"\n        :on-exceed=\"uploadExceed\"\n        :on-change=\"uploadChange\"\n        :on-progress=\"uploadProgress\"\n        :on-error=\"uploadError\"\n        :before-upload=\"uploadBefore\"\n      >\n        <el-button type=\"primary\" size=\"small\" class=\"uploadButtonStyle\"\n          >上传作业\n        </el-button>\n\n        <span slot=\"tip\" class=\"spanTitleStyle\"\n          >支持拖动图片至页面进行上传</span\n        >\n      </el-upload>\n    </div>\n    <div class=\"listItemStyle\">\n      <upload-list-item\n        :id=\"item.homeworkId\"\n        class=\"itemStyle\"\n        @uploadDetailShow=\"lookforUpLoadDetail($event)\"\n        v-for=\"item in listData.list\"\n        :key=\"item.homeworkId\"\n        :dataObject=\"item\"\n      >\n      </upload-list-item>\n    </div>\n    <div class=\"paginationDivStyle\">\n      <el-pagination\n        :hide-on-single-page=\"value\"\n        :current-page=\"currentPage\"\n        :page-size=\"pageSize\"\n        layout=\"total, prev, pager, next, jumper\"\n        :total=\"total\"\n        @current-change=\"handleCurrentChange\"\n      >\n      </el-pagination>\n    </div>\n\n    <div v-show=\"isLoading\" class=\"fullScreenStyle\">\n      <div class=\"progressBackgroundDivStyle\">\n        <span class=\"uploadSpanStyle\">努力上传中</span>\n        <el-progress\n          :percentage=\"percentage\"\n          :format=\"format\"\n          :stroke-width=\"14\"\n          color=\"#4EB4FF\"\n        ></el-progress>\n        <span class=\"progressSpanStyle\">上传进度：{{ percentage }}%</span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Input, Pagination, Upload, Progress } from 'element-ui';\nimport uploadListItem from './Components/UploadListItem';\nimport Cookie from 'js-cookie';\n// import acions from '../../api/upload/index';\nimport {\n  getUploadParameter,\n  uploadPic,\n  finishUpload,\n  uploadList\n} from '../../api/upload/index';\n// const OSS = require('ali-oss');\n\nexport default {\n  name: 'DynamicFormPage',\n  components: {\n    uploadListItem,\n    ElPagination: Pagination,\n    ElProgress: Progress,\n    ElUpload: Upload,\n    [Input.name]: Input\n  },\n  data() {\n    return {\n      percentage: 0,\n      limitCount: 300,\n      isLoading: false, //正在上传\n      uploadCount: 0, //记录每次上传时的上传数量\n      uploadTotal: 0, //记录这次上传总共多少数量\n      visible: false, // 是否可见\n      value: false,\n      dataObj: {},\n      finishUploadList: [],\n      pageNum: 1,\n      pageSize: 10,\n      total: 100,\n      currentPage: 1,\n      listData: []\n    };\n  },\n  computed: {\n    percentageComputed: function() {\n      // return !isNaN((this.uploadCount / this.uploadTotal) * 100);\n      return this.uploadTotal > 0\n        ? parseInt(this.uploadCount / this.uploadTotal) * 100\n        : 0;\n    }\n  },\n  mounted() {},\n  async created() {\n    await this.getlist();\n  },\n  methods: {\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.pageNum = val;\n      this.getlist();\n    },\n    handleSizeChange() {},\n    getlist() {\n      console.log('请求开始');\n      uploadList({\n        pageNum: this.pageNum,\n        pageSize: this.pageSize,\n        schoolId: Cookie.get('schoolId'),\n        tenantId: Cookie.get('tenantId')\n      }).then(res => {\n        console.log('res=', res);\n        // if (res.data.success) {\n        //   this.listData = res.data.data;\n        //   console.log('listData=', this.listData);\n        //   this.total = this.listData.total;\n        //   this.pageNum = this.listData.page;\n        //   this.pageSize = this.listData.pageSize;\n        // }\n        if (res.success) {\n          this.listData = res.data;\n          console.log('listData=', this.listData);\n          this.total = this.listData.total;\n          this.pageNum = this.listData.page;\n          this.pageSize = this.listData.pageSize;\n        }\n      });\n    },\n    lookforUpLoadDetail(data) {\n      let homeworkStatus = 0;\n      if (data.status == 1) {\n        homeworkStatus = 1;\n      }\n      console.log('data.detailList', data.detailList);\n      this.$router.push({\n        name: 'UpLoadDetail',\n        query: {\n          homeworkStatus: homeworkStatus,\n          detailList: data.detailList,\n          homeworkId: data.id\n        }\n      });\n    },\n    uploadRemove() {\n      console.log('handleRemove');\n    },\n    uploadSuccess(response, file, fileList) {\n      this.uploadCount++;\n      this.changeProgress();\n      console.log('response++++', response);\n      this.finishUploadList.push({ fileName: response.data });\n\n      console.log('uploadCount===', this.uploadCount);\n      console.log('handleSuccess');\n      console.log('fileList====', fileList);\n      if (fileList.length == this.uploadCount) {\n        console.log('全部上传成功');\n        this.uploadCount = 0;\n        let upload = this.$refs.upload;\n        if (upload) {\n          upload.clearFiles();\n          this.isLoading = false;\n        }\n\n        console.log('finishUploadList++++', this.finishUploadList);\n        console.log('schoolId+' + Cookie.get('schoolId'));\n        console.log('tenantId+' + Cookie.get('tenantId'));\n\n        if (this.finishUploadList.length > 0) {\n          finishUpload({\n            list: this.finishUploadList,\n            schoolId: Cookie.get('schoolId'),\n            tenantId: Cookie.get('tenantId')\n          }).then(res => {\n            this.finishUploadList = [];\n            console.log('finishLog = ', res);\n            if (!res.success) {\n              this.$message({\n                type: 'error',\n                message: '上传失败',\n                showClose: true,\n                offset: 80\n              });\n            } else {\n              //重新刷新列表\n              this.getlist();\n            }\n          });\n        }\n      }\n    },\n\n    uploadExceed() {\n      console.log('handleExceed');\n      this.$message({\n        type: 'warning',\n        message: '上传数量不能超过' + this.limitCount + '个',\n        showClose: true,\n        offset: 80\n      });\n    },\n    uploadChange(file, fileList) {\n      //文件状态改变时的钩子，添加文件、上传成功和上传失败时都会被调用\n      // console.log('hanldeChange==', fileList);\n      // console.log('hanldeChange==', fileList.length);\n      this.uploadTotal = fileList.length;\n    },\n    uploadProgress() {\n      //文件上传时\n      console.log('handleProgress');\n    },\n    uploadHttp(file, fileList) {\n      console.log('uploadHttpfileList====', file.file.name);\n      const fileSuffix = file.file.name.substring(\n        file.file.name.lastIndexOf('.') + 1\n      );\n      console.log('fileSuffix====', fileSuffix);\n\n      if (!this.isLoading) {\n        this.isLoading = true;\n      }\n      console.log('uploadHttp+++' + file.file);\n      return getUploadParameter({\n        fileType: fileSuffix\n      }).then(res => {\n        console.log(res);\n        console.log('res+++' + res.success);\n\n        if (res.success) {\n          console.log('uploadPic+++' + file.file);\n\n          return uploadPic(file.file, res.data);\n        }\n      });\n    },\n    uploadError(err, file, fileList) {\n      console.log('handleError');\n      this.uploadCount++;\n      this.changeProgress();\n      console.log('uploadCount===', this.uploadCount);\n      if (fileList.length == this.uploadCount) {\n        console.log('在失败方法内全部上传成功');\n        this.uploadCount = 0;\n        if (this.finishUploadList.length > 0) {\n          finishUpload({ list: this.finishUploadList }).then(res => {\n            this.finishUploadList = [];\n            if (!res.success) {\n              this.$message({\n                type: 'error',\n                message: '上传失败',\n                showClose: true,\n                offset: 80\n              });\n            } else {\n              //重新刷新列表\n              this.getlist();\n            }\n          });\n        }\n\n        let upload = this.$refs.upload;\n        if (upload) {\n          upload.clearFiles();\n          this.isLoading = false;\n        }\n      }\n    },\n    uploadBefore(file, fileList) {\n      console.log('uploadBefore=====');\n      const fileSuffix = file.name.substring(file.name.lastIndexOf('.') + 1);\n      const whiteList = ['png', 'jpg', 'jpeg', 'bmp'];\n      let lowerFileSuffix = fileSuffix.toLowerCase();\n      if (whiteList.indexOf(lowerFileSuffix) === -1) {\n        this.$message({\n          type: 'error',\n          message: '请选择“jpg、png、jpeg、bmp”的图片上传',\n          showClose: true,\n          offset: 80\n        });\n        this.fileList = [];\n        return false;\n      }\n\n      if (file.name.length > 100) {\n        this.$message({\n          type: 'error',\n          message: '图片名称不能超过100字',\n          showClose: true,\n          offset: 80\n        });\n        return false;\n      }\n\n      const isLt2M = file.size / 1024 / 1024 < 100;\n      if (!isLt2M) {\n        this.$message({\n          type: 'error',\n          message: '上传文件不能超过100MB',\n          showClose: true,\n          offset: 80\n        });\n        return false;\n      }\n    },\n    format(percentage) {\n      return '';\n    },\n    changeProgress() {\n      this.percentage =\n        this.uploadTotal > 0\n          ? parseInt((this.uploadCount / this.uploadTotal) * 100)\n          : 0;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n// .el-button {\n//   height: 34px !important;\n//   width: 106px !important;\n//   margin: 20px 0px 0px 24px !important;\n// }\n/deep/.el-progress-bar__outer {\n  width: 305px;\n  margin-top: 29px;\n  margin-left: 39px;\n}\n\n.uploadButtonStyle {\n  height: 34px;\n  width: 106px;\n  margin: 20px 0px 0px 24px;\n}\n\n/deep/ .el-pager li.active {\n  // color: #3195df;\n  color: white;\n  background-color: #3195df;\n}\n\n/deep/ .el-pager li:hover {\n  color: #3195df;\n}\n\n/deep/.el-pagination button:hover {\n  color: #3195df;\n}\n\n/deep/.el-pager li {\n  padding: 0 10px;\n  background: #fff;\n  font-size: 14px;\n  min-width: 24px;\n  height: 28px;\n  line-height: 28px;\n  box-sizing: border-box;\n  text-align: center;\n  font-family: 'PingFangSC-Regular';\n}\n</style>\n\n<style>\n.containerStyle {\n  margin: 0 auto;\n  max-width: 1200px;\n  height: 694px;\n  background-color: white;\n}\n.uploadButtonDivStyle {\n  height: 75px;\n}\n.spanTitleStyle {\n  margin-left: 16px;\n  height: 12px;\n  line-height: 75px;\n  color: #909090;\n  font-size: 12;\n}\n.listItemStyle {\n  padding-left: 24px;\n  padding-right: 24px;\n  max-height: 554px;\n\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.itemStyle {\n  margin-bottom: 13px;\n}\n.el-pagination {\n  text-align: right;\n  margin-right: 19px;\n  height: 30px;\n  /* margin-top: 12px; */\n  padding: 17px 0px 0px 0px;\n}\n\n.paginationDivStyle {\n  height: 68px;\n  /* background-color: red; */\n}\n.fullScreenStyle {\n  /* position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5); */\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 100;\n}\n.progressBackgroundDivStyle {\n  width: 383px;\n  height: 147px;\n  border-radius: 8px;\n  background-color: #ffffff;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  /* margin: 0 auto;\n  display: flex;\n  justify-content: center;\n  align-items: center; */\n}\n.uploadSpanStyle {\n  display: flex;\n  justify-content: center;\n  margin-top: 30px;\n  color: #484848;\n  font-size: 16px;\n  height: 17px;\n  font-family: 'PingFangSC-Semibold';\n}\n.progressSpanStyle {\n  display: flex;\n  justify-content: center;\n  margin-top: 11px;\n  color: #3195df;\n  font-size: 14px;\n  height: 16px;\n  font-family: 'PingFangSC-Medium';\n}\n</style>\n"]}]}