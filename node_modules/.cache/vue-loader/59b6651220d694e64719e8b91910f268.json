{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/views/receive-goods/detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/views/receive-goods/detail.vue","mtime":1645178321124},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgZ2V0UmVjZWl2aW5nR29vZHNPcmRlckRldGFpbExpc3QsCiAgYmF0Y2hSZWNlaXZlZAp9IGZyb20gJy4uLy4uL2FwaS9SZWNlaXZlR29vZHMvaW5kZXguanMnOwppbXBvcnQgeyBmb3JtYXRlRGF0ZSB9IGZyb20gJy4uLy4uL3BsdWdpbnMvY29tbW9uL3V0aWxzLmpzJzsKY29uc3Qgc3RhdHVzT2JqID0gewogICcyMDEwMDAwJzogJ+W+heWPkei0pycsCiAgJzIwMjAxMDAnOiAn5b6F5pS26LSnJywKICAnMjAzMDEwMCc6ICfmlLbotKflvoXnoa7orqQnLAogICcyMDQwMTAwJzogJ+W3suaUtui0pycsCiAgJy0yMDEwMDAwJzogJ+W3sumAgOWNlScKfTsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVOYW1lOiBbXSwKICAgICAgc3RhdHVzT2JqLAogICAgICBvcmRlcklkOiAnJywKICAgICAgZGV0YWlsTGlzdDogW10sCiAgICAgIGFsbFN1Ykxpc3Q6IFtdLAogICAgICByZXN1bHQ6IFtdLAogICAgICBhbGxDaGVja2VkOiBmYWxzZSwKICAgICAgc2hvd1BhbmVsOiBmYWxzZSwKICAgICAgZm9ybURhdGE6IHsKICAgICAgICBhY3R1YWxUeXBlOiAxCiAgICAgIH0sCiAgICAgIGNhbkJhdGNoUmVjZWl2ZTogdHJ1ZQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLm9yZGVySWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5pZDsKICAgIHRoaXMuZ2V0UmVjZWl2aW5nR29vZHNPcmRlckRldGFpbExpc3QoKTsKICAgIHRoaXMuZm9ybURhdGEuYWN0dWFsVHlwZSA9IHRoaXMuYWN0dWFsVHlwZTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdGVEYXRlLAogICAgc2V0RGlzYWJsZWQocm93KSB7CiAgICAgIHJldHVybiAhKAogICAgICAgIHJvdy5zdGF0dXMgPT0gMjAyMDEwMCB8fAogICAgICAgIChyb3cuc3RhdHVzID09IDIwMzAxMDAgJiYgdGhpcy5hY3R1YWxUeXBlID09IDIpCiAgICAgICk7CiAgICB9LAoKICAgIGdldFJlY2VpdmluZ0dvb2RzT3JkZXJEZXRhaWxMaXN0KCkgewogICAgICBsZXQgbG9hZGluZyA9IHRoaXMuJHRvYXN0LmxvYWRpbmcoKTsKICAgICAgZ2V0UmVjZWl2aW5nR29vZHNPcmRlckRldGFpbExpc3QoeyBvcmRlcklkOiB0aGlzLm9yZGVySWQgfSkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgdGhpcy5hY3RpdmVOYW1lID0gW107CiAgICAgICAgICB0aGlzLmRldGFpbExpc3QgPSByZXMuZGF0YTsKICAgICAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgICAgIHJlcy5kYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgYXJyLnB1c2goLi4uaXRlbS5zdWJMaXN0KTsKICAgICAgICAgICAgdGhpcy5hY3RpdmVOYW1lLnB1c2goaW5kZXggKyAnJyk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuYWxsU3ViTGlzdCA9IGFycjsKCiAgICAgICAgICAvLyDliKTmlq3mmK/lkKblj6/ku6Xmibnph4/mlLbotKcKICAgICAgICAgIGxldCBjYW5CYXRjaEFyciA9IHRoaXMuYWxsU3ViTGlzdC5maWx0ZXIoaXRlbSA9PiB7CiAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgaXRlbS5zdGF0dXMgPT0gMjAyMDEwMCB8fAogICAgICAgICAgICAgIChpdGVtLnN0YXR1cyA9PSAyMDMwMTAwICYmIHRoaXMuYWN0dWFsVHlwZSA9PSAyKQogICAgICAgICAgICApOwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGNhbkJhdGNoQXJyLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgdGhpcy5jYW5CYXRjaFJlY2VpdmUgPSB0cnVlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5jYW5CYXRjaFJlY2VpdmUgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaChlID0+IHsKICAgICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBjbGFzc09iaihzdGF0dXMpIHsKICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgbGV0IGNscyA9CiAgICAgICAgc3RhdHVzID09IDIwMjAxMDAKICAgICAgICAgID8gJ29yYW5nZTEnCiAgICAgICAgICA6IHN0YXR1cyA9PSAyMDMwMTAwCiAgICAgICAgICA/ICdvcmFuZ2UyJwogICAgICAgICAgOiBzdGF0dXMgPT0gMjA0MDEwMAogICAgICAgICAgPyAnZ3JlZW4nCiAgICAgICAgICA6ICdncmF5JzsKICAgICAgcmV0dXJuIGNsczsKICAgIH0sCiAgICBnb0RldGFpbChpdGVtKSB7CiAgICAgIGlmIChpdGVtLnN0YXR1cyA9PSAyMDEwMDAwKSB7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsgdHlwZTogJ3dhcm5pbmcnLCBtZXNzYWdlOiAn6K+3562J5b6F5L6b5bqU5ZWG5Y+R6LSnJyB9KTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvcmVjZWl2ZS1nb29kcy1kZXRhaWwtaW5mbycsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGlkOiBpdGVtLm9yZGVyQ29udGVudERldGFpbElkLAogICAgICAgICAgb3JkZXJJZDogdGhpcy5vcmRlcklkLAogICAgICAgICAgc3RhdHVzOiBpdGVtLnN0YXR1cwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlQ29sbG9hcHNlKGl0ZW0pIHsKICAgICAgdGhpcy5hY3RpdmVOYW1lID0gaXRlbTsKICAgIH0sCiAgICB0b2dnbGUoZWwsIGluZGV4KSB7CiAgICAgIGxldCBhcnIgPSB0aGlzLmdldEFycmF5KCk7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmICh0aGlzLnJlc3VsdC5sZW5ndGggPT0gYXJyLmxlbmd0aCkgewogICAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjaGVja0FsbCgpIHsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuJHJlZnMuY2hlY2tib3hHcm91cC50b2dnbGVBbGwoewogICAgICAgICAgY2hlY2tlZDogIXRoaXMuYWxsQ2hlY2tlZCwKICAgICAgICAgIHNraXBEaXNhYmxlZDogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIHRoaXMuYWxsQ2hlY2tlZCA9ICF0aGlzLmFsbENoZWNrZWQ7CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRBcnJheSgpIHsKICAgICAgbGV0IGFyciA9IFtdOwogICAgICBmb3IgKHZhciBpdGVtIG9mIHRoaXMuZGV0YWlsTGlzdCkgewogICAgICAgIGZvciAodmFyIGVsIG9mIGl0ZW0uc3ViTGlzdCkgewogICAgICAgICAgYXJyLnB1c2goZWwub3JkZXJDb250ZW50RGV0YWlsSWQpOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gYXJyOwogICAgfSwKICAgIGJhdGNoUmVjZWl2ZSgpIHsKICAgICAgaWYgKHRoaXMucmVzdWx0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgdGhpcy4kdG9hc3QoJ+ivt+WFiOmAieS4remcgOimgeaUtui0p+eahOaVsOaNricpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLnNob3dQYW5lbCA9IHRydWU7CiAgICB9LAoKICAgIGdldEFycmF5SXRlbXMoYXJyLCBvYmpBcnJheSkgewogICAgICBsZXQgbmV3QXJyID0gb2JqQXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICByZXR1cm4gYXJyLmluY2x1ZGVzKGl0ZW0ub3JkZXJDb250ZW50RGV0YWlsSWQpOwogICAgICB9KTsKICAgICAgcmV0dXJuIG5ld0FycjsKICAgIH0sCiAgICBoYW5kbGVDb25maXJtKCkgewogICAgICBsZXQgZGV0YWlsSXRlbXMgPSB0aGlzLmdldEFycmF5SXRlbXModGhpcy5yZXN1bHQsIHRoaXMuYWxsU3ViTGlzdCk7CiAgICAgIHRoaXMuZ2V0QXJyYXlJdGVtcyh0aGlzLnJlc3VsdCwgdGhpcy5hbGxTdWJMaXN0KTsKICAgICAgYmF0Y2hSZWNlaXZlZCh7CiAgICAgICAgaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmlkLAogICAgICAgIGFjdHVhbFR5cGU6IHRoaXMuZm9ybURhdGEuYWN0dWFsVHlwZSwKICAgICAgICBkZXRhaWxJdGVtcwogICAgICB9KQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmdldFJlY2VpdmluZ0dvb2RzT3JkZXJEZXRhaWxMaXN0KCk7CiAgICAgICAgICB0aGlzLnJlc3VsdCA9IFtdOwogICAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiR0b2FzdChyZXMubWVzc2FnZSk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2gocmVzID0+IHsKICAgICAgICAgIHRoaXMuZ2V0UmVjZWl2aW5nR29vZHNPcmRlckRldGFpbExpc3QoKTsKICAgICAgICAgIHRoaXMucmVzdWx0ID0gW107CiAgICAgICAgICB0aGlzLmFsbENoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuJHRvYXN0KHJlcy5tZXNzYWdlKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDYW5jZWwoKSB7CiAgICAgIHRoaXMuc2hvd1BhbmVsID0gZmFsc2U7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgYWN0dWFsVHlwZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmdldHRlcnNbJ3VzZXIvcm9sZVR5cGUnXS5pbmNsdWRlcyg4KSA/IDEgOiAyOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/pages/catering-h5/views/receive-goods","sourcesContent":["<template>\n  <div class=\"app-main\">\n    <div>\n      <van-collapse\n        class=\"detail-main\"\n        v-model=\"activeName\"\n        @change=\"changeColloapse\"\n      >\n        <van-checkbox-group v-model=\"result\" ref=\"checkboxGroup\">\n          <van-collapse-item\n            v-for=\"(item, index) in detailList\"\n            :key=\"item.arrivalDate + item.arrivalTime\"\n            :name=\"index + ''\"\n          >\n            <template #title>\n              <div>\n                {{ formateDate(item.arrivalDate, 4) + ' ' + item.arrivalTime }}\n                <span style=\"float:right\">{{\n                  activeName.includes(index + '') ? '收起' : '展开'\n                }}</span>\n              </div>\n            </template>\n            <van-list>\n              <van-cell\n                :class=\"[\n                  'detail-item',\n                  index < item.subList.length - 1 ? 'border' : ''\n                ]\"\n                v-for=\"(el, index) in item.subList\"\n                :key=\"el.orderContentDetailId\"\n                @click=\"goDetail(el)\"\n              >\n                <div>\n                  <div class=\"item-head\">\n                    <div class=\"name\">\n                      <van-checkbox\n                        shape=\"square\"\n                        :name=\"el.orderContentDetailId\"\n                        :disabled=\"setDisabled(el)\"\n                        checked-color=\"#51D0BC\"\n                        @click.stop.native=\"toggle(el, index)\"\n                      ></van-checkbox>\n                      <i :class=\"classObj(el.status)\"></i>\n                      <span>{{ el.ingredientName }}</span>\n                    </div>\n                    <div class=\"operation\" :class=\"classObj(el.status)\">\n                      {{ statusObj[el.status + ''] }}\n                    </div>\n                  </div>\n                  <ul class=\"item-content\">\n                    <li>\n                      <span>净菜重量(kg):</span>\n                      <div>{{ el.cleanVegetableWeight }}</div>\n                    </li>\n                    <li>\n                      <span>毛菜重量(kg):</span>\n                      <div>{{ el.originalVegetableWeight }}</div>\n                    </li>\n                    <li>\n                      <span>总重量(kg):</span>\n                      <div>{{ el.quantity }}</div>\n                    </li>\n                    <li>\n                      <span>数量({{ el.packUnit }}):</span>\n                      <div>{{ el.packNum }}</div>\n                    </li>\n                    <li>\n                      <span>成本参考价(元):</span>\n                      <div>{{ el.costPrice }}</div>\n                    </li>\n                  </ul>\n                </div>\n              </van-cell>\n            </van-list>\n          </van-collapse-item>\n        </van-checkbox-group>\n      </van-collapse>\n\n      <div class=\"total-check\" v-if=\"canBatchReceive\">\n        <div class=\"left\">\n          <van-checkbox\n            label-disabled\n            shape=\"square\"\n            checked-color=\"#51D0BC\"\n            v-model=\"allChecked\"\n            @click.stop.native=\"checkAll\"\n          ></van-checkbox>\n          <span>全选 </span>\n        </div>\n        <div class=\"right\">\n          共 {{ result.length }} 货品\n\n          <span class=\"confirm-receive\" @click.stop=\"batchReceive\"\n            >批量收货</span\n          >\n        </div>\n      </div>\n      <van-dialog\n        class=\"batch-receive\"\n        v-model=\"showPanel\"\n        title=\"批量收货\"\n        show-cancel-button\n        confirm-button-text=\"立即收货\"\n        confirm-button-color=\"#51d0bc\"\n        @confirm=\"handleConfirm\"\n        @cancel=\"handleCancel\"\n      >\n        <div class=\"panel-main\">\n          <div class=\"notice\">\n            <span>各货品收货数为下单时的采购数量</span>\n          </div>\n          <van-field name=\"radio\" label=\"收货方式\">\n            <template #input>\n              <van-radio-group\n                v-model=\"formData.actualType\"\n                direction=\"horizontal\"\n                checked-color=\"#51D0BC\"\n              >\n                <van-radio :name=\"1\">毛菜</van-radio>\n                <van-radio :name=\"2\">净菜 </van-radio>\n              </van-radio-group>\n            </template>\n          </van-field>\n        </div>\n      </van-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  getReceivingGoodsOrderDetailList,\n  batchReceived\n} from '../../api/ReceiveGoods/index.js';\nimport { formateDate } from '../../plugins/common/utils.js';\nconst statusObj = {\n  '2010000': '待发货',\n  '2020100': '待收货',\n  '2030100': '收货待确认',\n  '2040100': '已收货',\n  '-2010000': '已退单'\n};\nexport default {\n  data() {\n    return {\n      activeName: [],\n      statusObj,\n      orderId: '',\n      detailList: [],\n      allSubList: [],\n      result: [],\n      allChecked: false,\n      showPanel: false,\n      formData: {\n        actualType: 1\n      },\n      canBatchReceive: true\n    };\n  },\n  created() {\n    this.orderId = this.$route.query.id;\n    this.getReceivingGoodsOrderDetailList();\n    this.formData.actualType = this.actualType;\n  },\n  methods: {\n    formateDate,\n    setDisabled(row) {\n      return !(\n        row.status == 2020100 ||\n        (row.status == 2030100 && this.actualType == 2)\n      );\n    },\n\n    getReceivingGoodsOrderDetailList() {\n      let loading = this.$toast.loading();\n      getReceivingGoodsOrderDetailList({ orderId: this.orderId })\n        .then(res => {\n          loading.close();\n          this.activeName = [];\n          this.detailList = res.data;\n          let arr = [];\n          res.data.map((item, index) => {\n            arr.push(...item.subList);\n            this.activeName.push(index + '');\n          });\n          this.allSubList = arr;\n\n          // 判断是否可以批量收货\n          let canBatchArr = this.allSubList.filter(item => {\n            return (\n              item.status == 2020100 ||\n              (item.status == 2030100 && this.actualType == 2)\n            );\n          });\n\n          if (canBatchArr.length > 0) {\n            this.canBatchReceive = true;\n          } else {\n            this.canBatchReceive = false;\n          }\n        })\n        .catch(e => {\n          loading.close();\n        });\n    },\n    classObj(status) {\n      /* eslint-disable */\n      let cls =\n        status == 2020100\n          ? 'orange1'\n          : status == 2030100\n          ? 'orange2'\n          : status == 2040100\n          ? 'green'\n          : 'gray';\n      return cls;\n    },\n    goDetail(item) {\n      if (item.status == 2010000) {\n        this.$notify({ type: 'warning', message: '请等待供应商发货' });\n        return;\n      }\n      this.$router.push({\n        path: '/receive-goods-detail-info',\n        query: {\n          id: item.orderContentDetailId,\n          orderId: this.orderId,\n          status: item.status\n        }\n      });\n    },\n    changeColloapse(item) {\n      this.activeName = item;\n    },\n    toggle(el, index) {\n      let arr = this.getArray();\n      setTimeout(() => {\n        if (this.result.length == arr.length) {\n          this.allChecked = true;\n        } else {\n          this.allChecked = false;\n        }\n      });\n    },\n    checkAll() {\n      this.$nextTick(() => {\n        this.$refs.checkboxGroup.toggleAll({\n          checked: !this.allChecked,\n          skipDisabled: true\n        });\n        this.allChecked = !this.allChecked;\n      });\n    },\n\n    getArray() {\n      let arr = [];\n      for (var item of this.detailList) {\n        for (var el of item.subList) {\n          arr.push(el.orderContentDetailId);\n        }\n      }\n      return arr;\n    },\n    batchReceive() {\n      if (this.result.length == 0) {\n        this.$toast('请先选中需要收货的数据');\n        return;\n      }\n      this.showPanel = true;\n    },\n\n    getArrayItems(arr, objArray) {\n      let newArr = objArray.filter(function(item) {\n        return arr.includes(item.orderContentDetailId);\n      });\n      return newArr;\n    },\n    handleConfirm() {\n      let detailItems = this.getArrayItems(this.result, this.allSubList);\n      this.getArrayItems(this.result, this.allSubList);\n      batchReceived({\n        id: this.$route.query.id,\n        actualType: this.formData.actualType,\n        detailItems\n      })\n        .then(res => {\n          this.getReceivingGoodsOrderDetailList();\n          this.result = [];\n          this.allChecked = false;\n          this.$toast(res.message);\n        })\n        .catch(res => {\n          this.getReceivingGoodsOrderDetailList();\n          this.result = [];\n          this.allChecked = false;\n          this.$toast(res.message);\n        });\n    },\n    handleCancel() {\n      this.showPanel = false;\n    }\n  },\n  computed: {\n    actualType() {\n      return this.$store.getters['user/roleType'].includes(8) ? 1 : 2;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/.van-collapse-item__content {\n  padding-right: 0;\n  padding-top: 0;\n}\n/deep/ .van-cell {\n  font-size: 13px;\n  line-height: 24px;\n  &:after {\n    border-bottom: none;\n  }\n}\n\n.app-main {\n  background: #f5f5f5;\n  .detail-item {\n    &.border {\n      &:after {\n        border-bottom: 1px solid #ebedf0;\n      }\n    }\n    padding: 0;\n    .item-head {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 7.5px;\n      margin-bottom: 7.5px;\n      .name {\n        display: flex;\n        line-height: 35px;\n        width: 309px;\n        i {\n          width: 6.5px;\n          height: 6.5px;\n          border-radius: 50%;\n          display: inline-block;\n          top: 21px;\n          left: 25px;\n          position: absolute;\n          &.green {\n            background: #51d0bc;\n          }\n          &.orange1 {\n            background: #ffaf72;\n          }\n          &.orange2 {\n            background: #ffaf72;\n          }\n          &.gray {\n            background: #bfbfbf;\n          }\n        }\n\n        span {\n          font-size: 14px;\n          margin-left: 20px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          color: rgba(0, 0, 0, 0.85);\n        }\n      }\n\n      .operation {\n        width: 44px;\n        height: 19.5px;\n        line-height: 19.5px;\n        background-repeat: no-repeat;\n        background-position: center left;\n        background-size: 100% 100%;\n        color: #fff;\n        font-size: 11px;\n        text-align: center;\n        position: absolute;\n        right: 0;\n        top: 14px;\n        &.green {\n          background-image: url('../../assets/images/operation-green.png');\n        }\n        &.orange1 {\n          background-image: url('../../assets/images/operation-orange1.png');\n        }\n        &.orange2 {\n          width: 66px;\n          background-image: url('../../assets/images/operation-orange2.png');\n        }\n        &.gray {\n          background-image: url('../../assets/images/operation-gray.png');\n        }\n      }\n    }\n    .item-content {\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      li {\n        width: 49%;\n        margin-bottom: 12px;\n        font-size: 14px;\n        color: rgba(0, 0, 0, 0.65);\n        span {\n          margin-right: 6px;\n        }\n        div {\n          display: inline-block;\n\n          font-weight: 400;\n          color: rgba(0, 0, 0, 0.85);\n        }\n      }\n    }\n  }\n}\n.van-collapse-item {\n  /deep/.van-cell--clickable {\n    background: #f5f5f5;\n  }\n}\n\n/deep/ .van-checkbox {\n  overflow: visible;\n}\n\n.total-check {\n  position: fixed;\n  width: 100vw;\n  box-sizing: border-box;\n  bottom: 0;\n  line-height: 60px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #fff;\n  padding: 0 12px;\n  /deep/.van-checkbox__label,\n  .left {\n    display: flex;\n    font-size: 15px;\n    font-family: PingFangSC-Medium, PingFang SC;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    span {\n      margin-left: 6px;\n    }\n  }\n  .right {\n    .confirm-receive {\n      display: inline-block;\n      background: #51d0bc;\n      border-radius: 6px;\n      width: 120px;\n      height: 40px;\n      line-height: 40px;\n      font-size: 15px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #fff;\n      text-align: center;\n      margin-left: 30px;\n    }\n  }\n}\n\n.detail-main {\n  padding-bottom: 50px;\n}\n\n/deep/ .batch-receive {\n  border-radius: 3px;\n}\n\n.panel-main {\n  min-height: 100px;\n  // display: flex;\n  // align-items: center;\n  // justify-content: center;\n\n  .notice {\n    text-align: center;\n    margin: 10px auto;\n    span {\n      display: inline-block;\n      width: 280px;\n      height: 31px;\n      line-height: 31px;\n      padding-left: 12px;\n      background: rgba(81, 208, 188, 0.1);\n      border-radius: 2px;\n      border: 1px solid #51d0bc;\n      font-size: 13px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #51d0bc;\n      text-align: left;\n    }\n  }\n}\n</style>\n"]}]}