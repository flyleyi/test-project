{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/student/components/GrowthRecord/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/charity-foundation/views/student/components/GrowthRecord/index.vue","mtime":1627979214291},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IENoZWNrYm94R3JvdXAsIENoZWNrYm94LCBDYXJkLCBVcGxvYWQsIEltYWdlIH0gZnJvbSAnZWxlbWVudC11aSc7CmltcG9ydCB7CiAgaW1wb3J0UGhvdG8sCiAgc2VsZWN0UGhvdG9MaXN0LAogIGRvd25sb2FkUGhvdG9zLAogIGRlbGV0ZVBob3RvCn0gZnJvbSAnQC9wYWdlcy9jaGFyaXR5LWZvdW5kYXRpb24vYXBpL3JlY29yZC9pbmRleCc7CmltcG9ydCB7IGFqYXhVcGxvYWRTaW5nbGUgfSBmcm9tICdAL3BhZ2VzL2NoYXJpdHktZm91bmRhdGlvbi9hcGkvZmlsZS9pbmRleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnR3Jvd3RoUmVjb3JkJywKICBjb21wb25lbnRzOiB7CiAgICBbQ2hlY2tib3hHcm91cC5uYW1lXTogQ2hlY2tib3hHcm91cCwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsCiAgICBbQ2FyZC5uYW1lXTogQ2FyZCwKICAgIFtVcGxvYWQubmFtZV06IFVwbG9hZCwKICAgIFtJbWFnZS5uYW1lXTogSW1hZ2UKICB9LAogIHByb3BzOiB7CiAgICBzdHVkZW50RGF0YTogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSkKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgYWN0aXZlZDogMSwgLy8g6YCJ6aG55Y2hCiAgICAgIGNoZWNrQWxsOiBmYWxzZSwgLy8g5piv5ZCm5YWo6YCJCiAgICAgIGNoZWNrZWRDaXRpZXM6IFtdLCAvLyDpgInkuK3nmoTnhafniYfliJfooagKICAgICAgSW1nTGlzdDogW10sCiAgICAgIHByZXZpZXdJbWdMaXN0OiBbXSwKICAgICAgaXNJbmRldGVybWluYXRlOiBmYWxzZSwKICAgICAgZmlsZUxlbmd0aDogMCwgLy8g5LiK5Lyg5paH5Lu255qE6ZW/5bqmCiAgICAgIHVwbG9hZEZpbGU6IDAsIC8vIHN1Y2Nlc3PmiJDlip/mrKHmlbAKICAgICAgZmlsZUxpc3Q6IFtdIC8vIOS4iuS8oOeahOaWh+S7tuWIl+ihqAogICAgfTsKICB9LAogIHdhdGNoOiB7fSwKICBtb3VudGVkKCkgewogICAgdGhpcy5pbml0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5pWw5o2u5Yid5aeL5YyWCiAgICBpbml0RGF0YSgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5JbWdMaXN0ID0gW107CiAgICAgIHRoaXMucHJldmlld0ltZ0xpc3QgPSBbXTsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBzdHVkZW50QmFzZUlkOiB0aGlzLnN0dWRlbnREYXRhLmlkLAogICAgICAgIHBob3RvVHlwZTogdGhpcy5hY3RpdmVkCiAgICAgIH07CiAgICAgIHNlbGVjdFBob3RvTGlzdChwYXJhbXMpCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuSW1nTGlzdCA9IHJlcy5kYXRhID8gcmVzLmRhdGEgOiBbXTsKICAgICAgICAgIHRoaXMuSW1nTGlzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgICAgICB0aGlzLnByZXZpZXdJbWdMaXN0LnB1c2goaXRlbS51cmwpOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOmAieaLqeWFqOmAiQogICAgICovCiAgICBoYW5kbGVDaGVja0FsbENoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5jaGVja2VkQ2l0aWVzID0gdmFsID8gdGhpcy5JbWdMaXN0IDogW107CiAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gZmFsc2U7CiAgICB9LAogICAgLyoqCiAgICAgKiDpgInmi6ljaGFuZ2UKICAgICAqLwogICAgaGFuZGxlQ2hlY2tlZENpdGllc0NoYW5nZSh2YWx1ZSkgewogICAgICBsZXQgY2hlY2tlZENvdW50ID0gdmFsdWUubGVuZ3RoOwogICAgICB0aGlzLmNoZWNrQWxsID0gY2hlY2tlZENvdW50ID09PSB0aGlzLkltZ0xpc3QubGVuZ3RoOwogICAgICB0aGlzLmlzSW5kZXRlcm1pbmF0ZSA9CiAgICAgICAgY2hlY2tlZENvdW50ID4gMCAmJiBjaGVja2VkQ291bnQgPCB0aGlzLkltZ0xpc3QubGVuZ3RoOwogICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7CiAgICB9LAogICAgLyoqCiAgICAgKiB0YWLliIfmjaIKICAgICAqIEBwYXJhbSB7dHlwZX19IHR5cGUgMSDor4Hku7bnhacgMua0u+WKqOeFpyAz55Sf5rS754WnCiAgICAgKi8KICAgIHRhYkFjdGl2ZUZuKHR5cGUpIHsKICAgICAgaWYgKHR5cGUgIT09IHRoaXMuYWN0aXZlZCkgewogICAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gZmFsc2U7CiAgICAgICAgdGhpcy5jaGVja2VkQ2l0aWVzID0gW107CiAgICAgICAgdGhpcy5jaGVja0FsbCA9IGZhbHNlOwogICAgICAgIHRoaXMuYWN0aXZlZCA9IHR5cGU7CiAgICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiDkuIrkvKDlm77niYfpmZDliLYKICAgICAqLwogICAgYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgY29uc3QgaXNMdDFNID0gZmlsZS5zaXplIC8gMTAyNCAvIDEwMjQ7CiAgICAgIGlmICghaXNMdDFNKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HIDFNQiEnKTsKICAgICAgfQogICAgICByZXR1cm4gaXNMdDFNOwogICAgfSwKICAgIHN1Y2Nlc3NIYW5kbGUoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMudXBsb2FkRmlsZSArPSAxOwogICAgICAvLyDliKTmlq3miJDlip/mrKHmlbDmmK/lkKYgPT09IOS4iuS8oOWIl+ihqOmVv+W6piDvvIzoi6XkuIDmoLflj4rmiJDlip8KICAgICAgaWYgKHRoaXMudXBsb2FkRmlsZSA9PT0gdGhpcy5maWxlTGVuZ3RoICYmIHRoaXMuZmlsZUxlbmd0aCAhPT0gMCkgewogICAgICAgIGxldCB1cmwgPSAnJzsKICAgICAgICBsZXQgbmFtZSA9ICcnOwogICAgICAgIHRoaXMuZmlsZUxpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIHVybCArPSBgJHtpdGVtLnJlc3BvbnNlLmRhdGFbMF0udXJsfSxgOwogICAgICAgICAgbmFtZSArPSBgJHtpdGVtLnJlc3BvbnNlLmRhdGFbMF0ub3JpZ2luYWxOYW1lfSxgOwogICAgICAgIH0pOwogICAgICAgIHVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxlbmd0aCAtIDEpOwogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZygwLCBuYW1lLmxlbmd0aCAtIDEpOwogICAgICAgIGxldCBwYXJhbXMgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCd1cmwnLCB1cmwpOwogICAgICAgIHBhcmFtcy5hcHBlbmQoJ3N0dWRlbnRCYXNlSWQnLCB0aGlzLnN0dWRlbnREYXRhLmlkKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCdwaG90b1R5cGUnLCB0aGlzLmFjdGl2ZWQpOwogICAgICAgIHBhcmFtcy5hcHBlbmQoJ3Bob3RvTmFtZScsIG5hbWUpOwogICAgICAgIHRoaXMuZmlsZUxlbmd0aCA9IDA7CiAgICAgICAgdGhpcy51cGxvYWRGaWxlID0gMDsKICAgICAgICB0aGlzLmZpbGVMaXN0ID0gW107CiAgICAgICAgdGhpcy4kcmVmcy51cGxvYWQuY2xlYXJGaWxlcygpOwogICAgICAgIGltcG9ydFBob3RvKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcHJvZ3Jlc3NIYW5kbGVyKGV2ZW50LCBmaWxlLCBmaWxlTGlzdCkgewogICAgICB0aGlzLmZpbGVMZW5ndGggPSBmaWxlTGlzdC5sZW5ndGg7CiAgICAgIHRoaXMuZmlsZUxpc3QgPSBmaWxlTGlzdDsKICAgIH0sCiAgICAvKioKICAgICAqIOS4iuS8oOWbvueJhwogICAgICovCiAgICB1cGxvYWRIb25vcihmaWxlKSB7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBmaWxlLmZpbGUpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwcGlkJywgJ29zczU0eTdpdScpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FwcHNlY3JldCcsICcxazU4cTZpdycpOwogICAgICBhamF4VXBsb2FkU2luZ2xlKGZvcm1EYXRhKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy51cExvYWRmaWxlcy5wdXNoKHsKICAgICAgICAgIHVybDogcmVzLmRhdGFbMF0udXJsLAogICAgICAgICAgbmFtZTogcmVzLmRhdGFbMF0ub3JpZ2luYWxOYW1lCiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2cocmVzLCB0aGlzLnVwTG9hZGZpbGVzKTsKICAgICAgICBsZXQgcGFyYW1zID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgndXJsJywgcmVzLmRhdGFbMF0udXJsKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCdzdHVkZW50QmFzZUlkJywgdGhpcy5zdHVkZW50RGF0YS5pZCk7CiAgICAgICAgcGFyYW1zLmFwcGVuZCgncGhvdG9UeXBlJywgdGhpcy5hY3RpdmVkKTsKICAgICAgICBwYXJhbXMuYXBwZW5kKCdwaG90b05hbWUnLCByZXMuZGF0YVswXS5vcmlnaW5hbE5hbWUpOwogICAgICAgIGltcG9ydFBob3RvKHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy5pbml0RGF0YSgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOWbvueJh+S4iuS8oOmZkOWItgogICAgICovCiAgICBoYW5kbGVFeGNlZWQoZmlsZXMsIGZpbGVMaXN0KSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+acgOWkmuWPr+S4gOasoeaAp+S4iuS8oOS5neW8oOWbvueJh++8gScpOwogICAgfSwKICAgIC8qKgogICAgICog5a+85Ye65YiX6KGoCiAgICAgKi8KICAgIGV4cG9ydEZuKCkgewogICAgICBsZXQgY2hlY2tlZElkcyA9ICcnOwogICAgICB0aGlzLmNoZWNrZWRDaXRpZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICBjaGVja2VkSWRzICs9IGAke2l0ZW0uaWR9LGA7CiAgICAgIH0pOwogICAgICBjaGVja2VkSWRzID0gY2hlY2tlZElkcy5zdWJzdHJpbmcoMCwgY2hlY2tlZElkcy5sZW5ndGggLSAxKTsKICAgICAgbGV0IHBhcmFtcyA9IHsKICAgICAgICBpbWFnZUlEczogY2hlY2tlZElkcywKICAgICAgICBzdHVkZW50TmFtZTogdGhpcy5zdHVkZW50RGF0YS5uYW1lCiAgICAgIH07CiAgICAgIGxldCB0eXBlTGlzdCA9IFsn6K+B5Lu254WnJywgJ+a0u+WKqOeFpycsICfnlJ/mtLvnhacnXTsKICAgICAgZG93bmxvYWRQaG90b3MocGFyYW1zKS50aGVuKHJlcyA9PiB7CiAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtyZXNdLCB7CiAgICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vemlwJwogICAgICAgIH0pOwogICAgICAgIGxldCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOwogICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoCiAgICAgICAgICAnZG93bmxvYWQnLAogICAgICAgICAgYCR7dGhpcy5zdHVkZW50RGF0YS5uYW1lfSR7dHlwZUxpc3RbdGhpcy5hY3RpdmVkIC0gMV19YAogICAgICAgICk7CiAgICAgICAgbGluay5jbGljaygpOwogICAgICAgIGxpbmsgPSBudWxsOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5a+85Ye65oiQ5YqfJyk7CiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZygn5a+85Ye6Jyk7CiAgICB9LAogICAgLyoqCiAgICAgKiDliKDpmaTliJfooagKICAgICAqLwogICAgZGVsZXRlRm4oKSB7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruWumuWIoOmZpOWbvueJhz8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgY2xvc2VPbkNsaWNrTW9kYWw6IGZhbHNlLAogICAgICAgIGNsb3NlT25QcmVzc0VzY2FwZTogZmFsc2UKICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgbGV0IGNoZWNrZWRJZHMgPSAnJzsKICAgICAgICB0aGlzLmNoZWNrZWRDaXRpZXMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgICAgIGNoZWNrZWRJZHMgKz0gYCR7aXRlbS5pZH0sYDsKICAgICAgICB9KTsKICAgICAgICBjaGVja2VkSWRzID0gY2hlY2tlZElkcy5zdWJzdHJpbmcoMCwgY2hlY2tlZElkcy5sZW5ndGggLSAxKTsKICAgICAgICBkZWxldGVQaG90byh7IGltYWdlSURzOiBjaGVja2VkSWRzIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuaXNJbmRldGVybWluYXRlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmNoZWNrZWRDaXRpZXMgPSBbXTsKICAgICAgICAgIHRoaXMuY2hlY2tBbGwgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuaW5pdERhdGEoKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDov5Tlm54KICAgICAqLwogICAgZ29CYWNrKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6ICcvc3R1ZGVudC9iYXNpYy1pbmZvJyB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/charity-foundation/views/student/components/GrowthRecord","sourcesContent":["<template>\n  <div class=\"GrowthBox\" v-loading=\"loading\">\n    <div class=\"tabBox\">\n      <div @click=\"tabActiveFn(1)\" :class=\"actived === 1 ? 'actived' : ''\">\n        <p class=\"zh\">证件照</p>\n        <p class=\"en\">ID Photo</p>\n      </div>\n      <div @click=\"tabActiveFn(2)\" :class=\"actived === 2 ? 'actived' : ''\">\n        <p class=\"zh\">活动照</p>\n        <p class=\"en\">Activity photo</p>\n      </div>\n      <div @click=\"tabActiveFn(3)\" :class=\"actived === 3 ? 'actived' : ''\">\n        <p class=\"zh\">生活照</p>\n        <p class=\"en\">Life photo</p>\n      </div>\n    </div>\n    <el-Card class=\"PhotoBox\" v-if=\"ImgList.length > 0\">\n      <el-checkbox\n        :indeterminate=\"isIndeterminate\"\n        v-model=\"checkAll\"\n        @change=\"handleCheckAllChange\"\n        >全选</el-checkbox\n      >\n      <div style=\"margin: 15px 0\"></div>\n      <el-checkbox-group\n        class=\"checkboxGroup\"\n        v-model=\"checkedCities\"\n        @change=\"handleCheckedCitiesChange\"\n      >\n        <el-checkbox\n          v-for=\"(item, index) in ImgList\"\n          :label=\"item\"\n          :key=\"index\"\n        >\n          <div class=\"ImgBox\">\n            <el-image\n              style=\"width: 100px; height: 100px\"\n              :src=\"ImgList[index].url\"\n              :preview-src-list=\"previewImgList\"\n            >\n            </el-image>\n            <span>{{ item.photoName }}</span>\n          </div>\n        </el-checkbox>\n      </el-checkbox-group>\n      <div class=\"line\"></div>\n      <div class=\"footerBtn\">\n        <el-upload\n          class=\"avatar-uploader\"\n          ref=\"upload\"\n          action=\"http://172.17.15.42:7501/oss/material/gaoqian/uploadMaterial\"\n          :data=\"{\n            appid: 'oss54y7iu',\n            appsecret: '1k58q6iw'\n          }\"\n          :show-file-list=\"false\"\n          :multiple=\"true\"\n          :auto-upload=\"true\"\n          :before-upload=\"beforeAvatarUpload\"\n          :on-exceed=\"handleExceed\"\n          :on-progress=\"progressHandler\"\n          :on-success=\"successHandle\"\n          :limit=\"9\"\n          accept=\".jpg,.jpeg,.png,.bmp,.gif,.JPG,.JPEG,.PBG,.BMP,.GIF\"\n        >\n          <el-button size=\"small\" type=\"primary\">导入</el-button>\n        </el-upload>\n        <el-button\n          size=\"small\"\n          plain\n          :disabled=\"Array.isArray(checkedCities) && checkedCities.length <= 0\"\n          @click=\"exportFn\"\n          >导出</el-button\n        >\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          @click=\"deleteFn\"\n          :disabled=\"Array.isArray(checkedCities) && checkedCities.length <= 0\"\n          >删除</el-button\n        >\n        <el-button type=\"primary\" size=\"small\" @click=\"goBack\">返回</el-button>\n      </div>\n    </el-Card>\n    <el-Card class=\"PhotoBox\" v-else>\n      <div class=\"nothavImg\">\n        <img src=\"../../../../assets/images/notHavImage.png\" alt=\"\" />\n        <p class=\"nothavImg-txt\">暂时没有照片，请上传</p>\n        <el-upload\n          class=\"avatar-uploader\"\n          ref=\"upload\"\n          action=\"http://172.17.15.42:7501/oss/material/gaoqian/uploadMaterial\"\n          :data=\"{\n            appid: 'oss54y7iu',\n            appsecret: '1k58q6iw'\n          }\"\n          :show-file-list=\"false\"\n          :multiple=\"true\"\n          :auto-upload=\"true\"\n          :before-upload=\"beforeAvatarUpload\"\n          :on-exceed=\"handleExceed\"\n          :on-progress=\"progressHandler\"\n          :on-success=\"successHandle\"\n          :limit=\"9\"\n          accept=\".jpg,.jpeg,.png,.bmp,.gif,.JPG,.JPEG,.PBG,.BMP,.GIF\"\n        >\n          <p class=\"uploadImg\">上传图片</p>\n        </el-upload>\n      </div>\n    </el-Card>\n  </div>\n</template>\n\n<script>\nimport { CheckboxGroup, Checkbox, Card, Upload, Image } from 'element-ui';\nimport {\n  importPhoto,\n  selectPhotoList,\n  downloadPhotos,\n  deletePhoto\n} from '@/pages/charity-foundation/api/record/index';\nimport { ajaxUploadSingle } from '@/pages/charity-foundation/api/file/index';\nexport default {\n  name: 'GrowthRecord',\n  components: {\n    [CheckboxGroup.name]: CheckboxGroup,\n    [Checkbox.name]: Checkbox,\n    [Card.name]: Card,\n    [Upload.name]: Upload,\n    [Image.name]: Image\n  },\n  props: {\n    studentData: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data() {\n    return {\n      loading: false,\n      actived: 1, // 选项卡\n      checkAll: false, // 是否全选\n      checkedCities: [], // 选中的照片列表\n      ImgList: [],\n      previewImgList: [],\n      isIndeterminate: false,\n      fileLength: 0, // 上传文件的长度\n      uploadFile: 0, // success成功次数\n      fileList: [] // 上传的文件列表\n    };\n  },\n  watch: {},\n  mounted() {\n    this.initData();\n  },\n  methods: {\n    // 数据初始化\n    initData() {\n      this.loading = true;\n      this.ImgList = [];\n      this.previewImgList = [];\n      let params = {\n        studentBaseId: this.studentData.id,\n        photoType: this.actived\n      };\n      selectPhotoList(params)\n        .then(res => {\n          this.ImgList = res.data ? res.data : [];\n          this.ImgList.forEach(item => {\n            this.previewImgList.push(item.url);\n          });\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    },\n    /**\n     * 选择全选\n     */\n    handleCheckAllChange(val) {\n      this.checkedCities = val ? this.ImgList : [];\n      this.isIndeterminate = false;\n    },\n    /**\n     * 选择change\n     */\n    handleCheckedCitiesChange(value) {\n      let checkedCount = value.length;\n      this.checkAll = checkedCount === this.ImgList.length;\n      this.isIndeterminate =\n        checkedCount > 0 && checkedCount < this.ImgList.length;\n      console.log(value);\n    },\n    /**\n     * tab切换\n     * @param {type}} type 1 证件照 2活动照 3生活照\n     */\n    tabActiveFn(type) {\n      if (type !== this.actived) {\n        this.isIndeterminate = false;\n        this.checkedCities = [];\n        this.checkAll = false;\n        this.actived = type;\n        this.initData();\n      }\n    },\n    /**\n     * 上传图片限制\n     */\n    beforeAvatarUpload(file) {\n      const isLt1M = file.size / 1024 / 1024;\n      if (!isLt1M) {\n        this.$message.error('上传图片大小不能超过 1MB!');\n      }\n      return isLt1M;\n    },\n    successHandle() {\n      this.loading = true;\n      this.uploadFile += 1;\n      // 判断成功次数是否 === 上传列表长度 ，若一样及成功\n      if (this.uploadFile === this.fileLength && this.fileLength !== 0) {\n        let url = '';\n        let name = '';\n        this.fileList.forEach(item => {\n          url += `${item.response.data[0].url},`;\n          name += `${item.response.data[0].originalName},`;\n        });\n        url = url.substring(0, url.length - 1);\n        name = name.substring(0, name.length - 1);\n        let params = new FormData();\n        params.append('url', url);\n        params.append('studentBaseId', this.studentData.id);\n        params.append('photoType', this.actived);\n        params.append('photoName', name);\n        this.fileLength = 0;\n        this.uploadFile = 0;\n        this.fileList = [];\n        this.$refs.upload.clearFiles();\n        importPhoto(params).then(res => {\n          this.initData();\n        });\n      }\n    },\n    progressHandler(event, file, fileList) {\n      this.fileLength = fileList.length;\n      this.fileList = fileList;\n    },\n    /**\n     * 上传图片\n     */\n    uploadHonor(file) {\n      let formData = new FormData();\n      formData.append('file', file.file);\n      formData.append('appid', 'oss54y7iu');\n      formData.append('appsecret', '1k58q6iw');\n      ajaxUploadSingle(formData).then(res => {\n        this.upLoadfiles.push({\n          url: res.data[0].url,\n          name: res.data[0].originalName\n        });\n        console.log(res, this.upLoadfiles);\n        let params = new FormData();\n        params.append('url', res.data[0].url);\n        params.append('studentBaseId', this.studentData.id);\n        params.append('photoType', this.actived);\n        params.append('photoName', res.data[0].originalName);\n        importPhoto(params).then(res => {\n          this.initData();\n        });\n      });\n    },\n    /**\n     * 图片上传限制\n     */\n    handleExceed(files, fileList) {\n      this.$message.error('最多可一次性上传九张图片！');\n    },\n    /**\n     * 导出列表\n     */\n    exportFn() {\n      let checkedIds = '';\n      this.checkedCities.forEach(item => {\n        checkedIds += `${item.id},`;\n      });\n      checkedIds = checkedIds.substring(0, checkedIds.length - 1);\n      let params = {\n        imageIDs: checkedIds,\n        studentName: this.studentData.name\n      };\n      let typeList = ['证件照', '活动照', '生活照'];\n      downloadPhotos(params).then(res => {\n        const blob = new Blob([res], {\n          type: 'application/zip'\n        });\n        let link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.setAttribute(\n          'download',\n          `${this.studentData.name}${typeList[this.actived - 1]}`\n        );\n        link.click();\n        link = null;\n        this.$message.success('导出成功');\n      });\n      console.log('导出');\n    },\n    /**\n     * 删除列表\n     */\n    deleteFn() {\n      this.$confirm('是否确定删除图片?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning',\n        closeOnClickModal: false,\n        closeOnPressEscape: false\n      }).then(() => {\n        let checkedIds = '';\n        this.checkedCities.forEach(item => {\n          checkedIds += `${item.id},`;\n        });\n        checkedIds = checkedIds.substring(0, checkedIds.length - 1);\n        deletePhoto({ imageIDs: checkedIds }).then(res => {\n          this.isIndeterminate = false;\n          this.checkedCities = [];\n          this.checkAll = false;\n          this.initData();\n        });\n      });\n    },\n    /**\n     * 返回\n     */\n    goBack() {\n      this.$router.push({ path: '/student/basic-info' });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.GrowthBox {\n  .tabBox {\n    display: flex;\n    align-items: center;\n    > div {\n      margin-right: 10px;\n      width: 200px;\n      height: 60px;\n      text-align: center;\n      font-weight: 400;\n      color: #343a58;\n      cursor: pointer;\n      background: #ffffff;\n      box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.04);\n      .zh {\n        margin-top: 10px;\n      }\n      .en {\n        margin-top: 8px;\n      }\n    }\n    > div.actived {\n      background: #497cf0;\n      border-radius: 4px 4px 0px 0px;\n      color: #fff;\n      font-weight: 500;\n    }\n  }\n  .PhotoBox {\n    .checkboxGroup {\n      display: flex;\n      flex-wrap: wrap;\n      /deep/.el-checkbox {\n        display: flex;\n        margin-bottom: 20px;\n      }\n      .ImgBox {\n        display: flex;\n        flex-direction: column;\n        img {\n          width: 88px;\n          height: 88px;\n        }\n        span {\n          font-size: 12px;\n          text-align: center;\n          font-weight: 400;\n          color: rgba(0, 0, 0, 0.85);\n          margin-top: 2px;\n          background: #eeeeee;\n          width: 88px;\n          overflow: hidden;\n          white-space: nowrap;\n          text-overflow: ellipsis;\n          padding: 3px;\n        }\n      }\n    }\n    .line {\n      margin-top: 150px;\n      width: 100%;\n      height: 1px;\n      background: #ebebeb;\n    }\n    .footerBtn {\n      margin-top: 20px;\n      display: flex;\n      > div {\n        width: 60px;\n        height: 32px;\n        margin-right: 10px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        border-radius: 4px;\n        font-size: 12px;\n        cursor: pointer;\n      }\n      .importBtn {\n        background-color: #3b78e3;\n        color: #fff;\n        border: 1px solid #3b78e3;\n      }\n      .exportBtn {\n        background: #ffffff;\n        border: 1px solid #3b78e3;\n        color: #3b78e3;\n      }\n      .deleteBtn {\n        background: rgba(0, 0, 0, 0.25);\n        border: 1px solid rgba(0, 0, 0, 0.25);\n        color: #fff;\n      }\n    }\n    .nothavImg {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      margin: 50px 0;\n      .nothavImg-txt {\n        margin-top: 10px;\n        font-weight: 400;\n        color: rgba(0, 0, 0, 0.45);\n      }\n      img {\n        width: 100px;\n        height: 100px;\n      }\n      .uploadImg {\n        margin-top: 20px;\n        width: 88px;\n        height: 30px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        background: #3b78e3;\n        color: #fff;\n        border-radius: 2px;\n        cursor: pointer;\n      }\n    }\n  }\n}\n</style>\n"]}]}