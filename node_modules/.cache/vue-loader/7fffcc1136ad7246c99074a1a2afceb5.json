{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/views/return-goods/Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/catering-h5/views/return-goods/Detail.vue","mtime":1645178321124},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgc2VuZGluZ0dvb2RzT3JkZXJEZXRhaWwsCiAgc2VuZEdvb2RzLAogIHJlZnVuZEFsbAp9IGZyb20gJy4uLy4uL2FwaS9SZXR1cm5Hb29kcy9pbmRleC5qcyc7CmltcG9ydCB7IGZvcm1hdGVEYXRlIH0gZnJvbSAnLi4vLi4vcGx1Z2lucy9jb21tb24vdXRpbHMuanMnOwpjb25zdCBzdGF0dXNPYmogPSB7CiAgJzIwMTAwMDAnOiAn5b6F5Y+R6LSnJywKICAnMjAyMDEwMCc6ICflt7Llj5HotKflvoXmlLbotKcnLAogICcyMDMwMTAwJzogJ+aUtui0p+W+heehruiupCcsCiAgJzIwNDAxMDAnOiAn5pS26LSn5bey5a6M5oiQJywKICAnLTIwMTAwMDAnOiAn5bey6YCA5Y2VJwp9OwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZU5hbWU6IFsnMCcsICcxJywgJzInXSwKICAgICAgc3RhdHVzT2JqLAogICAgICBvcmRlcklkOiAnJywKICAgICAgZGV0YWlsTGlzdDogW10sCiAgICAgIGFsbFN1Ykxpc3Q6IFtdLAogICAgICByZXN1bHQ6IFtdLAogICAgICBhbGxDaGVja2VkOiBmYWxzZSwKICAgICAgc3RhdHVzRmxhZzogZmFsc2UsCiAgICAgIHNob3dQYW5lbDogZmFsc2UsCiAgICAgIHNob3dQYW5lbHM6IGZhbHNlLAogICAgICBjaGFuZ2U6IGZhbHNlLAogICAgICBzdGF0dXM6ICcnLAogICAgICBmb3JtRGF0YTogewogICAgICAgIGFjdHVhbFR5cGU6IHRoaXMuJHN0b3JlLmdldHRlcnNbJ3VzZXIvcm9sZVR5cGUnXS5pbmNsdWRlcyg2KSA/IDEgOiAyCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy5vcmRlcklkID0gdGhpcy4kcm91dGUucXVlcnkuaWQ7CiAgICB0aGlzLnN0YXR1cyA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnN0YXR1czsKICAgIGNvbnNvbGUubG9nKCfnirbmgIEnLCB0aGlzLnN0YXR1cyk7CiAgICBpZiAoCiAgICAgIHRoaXMuc3RhdHVzID09ICczMDEwMCcgfHwKICAgICAgdGhpcy5zdGF0dXMgPT0gJzMwMTUwJyB8fAogICAgICB0aGlzLnN0YXR1cyA9PSAnNDAxMDUnCiAgICApIHsKICAgICAgdGhpcy5jaGFuZ2UgPSB0cnVlOwogICAgfQogICAgdGhpcy5nZXRSZWNlaXZpbmdHb29kc09yZGVyRGV0YWlsTGlzdCgpOwogICAgaWYgKHRoaXMuc3RhdHVzRmxhZyA9PSB0cnVlKSB7CiAgICAgIHRoaXMuZ2V0UmVjZWl2aW5nR29vZHNPcmRlckRldGFpbExpc3QoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZvcm1hdGVEYXRlLAogICAgc2V0RGlzYWJsZWQocm93KSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgKHJvdy5zdGF0dXMgPT0gMjAxMDAwMCAmJiB0aGlzLmZvcm1EYXRhLmFjdHVhbFR5cGUgPT0gMykgfHwKICAgICAgICByb3cuc3RhdHVzID09IDIwMjAxMDAgfHwKICAgICAgICByb3cuc3RhdHVzID09IDIwMzAxMDAgfHwKICAgICAgICByb3cuc3RhdHVzID09IDIwNDAxMDAgfHwKICAgICAgICByb3cuc3RhdHVzID09IC0yMDEwMDAwIHx8CiAgICAgICAgKHJvdy5zdGF0dXMgPT0gMjAxMDAwMCAmJiByb3cuc3RhdHVzID09IDIwMzAxMDApCiAgICAgICk7CiAgICB9LAogICAgLy8g6YCA5Y2VCiAgICBhZG1pblJldHVybigpIHsKICAgICAgdGhpcy5zaG93UGFuZWxzID0gdHJ1ZTsKICAgIH0sCiAgICBDb25maXJtKCkgewogICAgICAvLyBsZXQgbG9hZGluZyA9IHRoaXMuJHRvYXN0LmxvYWRpbmcoKTsKICAgICAgcmVmdW5kQWxsKHsgSWQ6IHRoaXMub3JkZXJJZCwgY29kZTogJy0yMDEwMCcgfSkudGhlbihyZXMgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCfpgIDljZXmiJDlip8nLCByZXMpOwogICAgICAgIHRoaXMuJHRvYXN0KCfpgIDljZXmiJDlip8nKTsKICAgICAgICB0aGlzLnN0YXR1cyA9ICctMjAxMDAnOwogICAgICAgIHRoaXMuc3RhdHVzRmxhZyA9IHRydWU7CiAgICAgICAgdGhpcy5nZXRSZWNlaXZpbmdHb29kc09yZGVyRGV0YWlsTGlzdCgpOwogICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAvLyAgIG5hbWU6ICdyZXR1cm5Hb29kc0xpc3QnLAogICAgICAgIC8vICAgcXVlcnk6IHsgZmxhZzogdHJ1ZSB9CiAgICAgICAgLy8gfSk7CiAgICAgIH0pOwogICAgfSwKICAgIENhbmNlbCgpIHsKICAgICAgdGhpcy5zaG93UGFuZWxzID0gZmFsc2U7CiAgICB9LAogICAgZ2V0UmVjZWl2aW5nR29vZHNPcmRlckRldGFpbExpc3QoKSB7CiAgICAgIGxldCBsb2FkaW5nID0gdGhpcy4kdG9hc3QubG9hZGluZygpOwogICAgICBzZW5kaW5nR29vZHNPcmRlckRldGFpbCh7IG9yZGVySWQ6IHRoaXMub3JkZXJJZCB9KQogICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICBjb25zb2xlLmxvZygn6K+m5oOFJywgcmVzLmRhdGEpOwogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgdGhpcy5kZXRhaWxMaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gJy0yMDEwMCcpIHsKICAgICAgICAgICAgdGhpcy5zdGF0dXMgPT0gJy0yMDEwMCc7CiAgICAgICAgICB9CiAgICAgICAgICBsZXQgYXJyID0gW107CiAgICAgICAgICBmb3IgKHZhciBpdGVtIG9mIHJlcy5kYXRhKSB7CiAgICAgICAgICAgIGFyci5wdXNoKC4uLml0ZW0uc3ViTGlzdCk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmFsbFN1Ykxpc3QgPSBhcnI7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goZSA9PiB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgY2xhc3NPYmooc3RhdHVzKSB7CiAgICAgIC8qIGVzbGludC1kaXNhYmxlICovCiAgICAgIGxldCBjbHMgPQogICAgICAgIHN0YXR1cyA9PSAyMDIwMTAwCiAgICAgICAgICA/ICdvcmFuZ2UxJwogICAgICAgICAgOiBzdGF0dXMgPT0gMjAzMDEwMAogICAgICAgICAgPyAnb3JhbmdlMicKICAgICAgICAgIDogc3RhdHVzID09IDIwNDAxMDAKICAgICAgICAgID8gJ2dyZWVuJwogICAgICAgICAgOiAnZ3JheSc7CiAgICAgIHJldHVybiBjbHM7CiAgICB9LAogICAgZ29EZXRhaWwoaXRlbSkgewogICAgICBpZiAoaXRlbS5zdGF0dXMgPT0gMjAxMDAwMCkgewogICAgICAgIHRoaXMuJG5vdGlmeSh7IHR5cGU6ICd3YXJuaW5nJywgbWVzc2FnZTogJ+ivt+etieW+heS+m+W6lOWVhuWPkei0pycgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgY2hhbmdlQ29sbG9hcHNlKGl0ZW0pIHsKICAgICAgdGhpcy5hY3RpdmVOYW1lID0gaXRlbTsKICAgIH0sCiAgICB0b2dnbGUoZWwsIGluZGV4KSB7CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGxldCBhcnIgPSB0aGlzLmdldEFycmF5KCk7CiAgICAgICAgaWYgKHRoaXMucmVzdWx0Lmxlbmd0aCA9PSBhcnIubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmFsbENoZWNrZWQgPSB0cnVlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFsbENoZWNrZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNoZWNrQWxsKCkgewogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgdGhpcy4kcmVmcy5jaGVja2JveEdyb3VwLnRvZ2dsZUFsbCh7CiAgICAgICAgICBjaGVja2VkOiAhdGhpcy5hbGxDaGVja2VkLAogICAgICAgICAgc2tpcERpc2FibGVkOiB0cnVlCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gIXRoaXMuYWxsQ2hlY2tlZDsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QXJyYXkoKSB7CiAgICAgIGxldCBhcnIgPSBbXTsKICAgICAgZm9yICh2YXIgaXRlbSBvZiB0aGlzLmRldGFpbExpc3QpIHsKICAgICAgICBmb3IgKHZhciBlbCBvZiBpdGVtLnN1Ykxpc3QpIHsKICAgICAgICAgIGFyci5wdXNoKGVsLm9yZGVyQ29udGVudERldGFpbElkKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICBiYXRjaFJlY2VpdmUoKSB7CiAgICAgIGlmICh0aGlzLnJlc3VsdC5sZW5ndGggPT0gMCkgewogICAgICAgIHRoaXMuJHRvYXN0KCfor7flhYjpgInkuK3pnIDopoHlj5HotKfnmoTmlbDmja4nKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zaG93UGFuZWwgPSB0cnVlOwogICAgfSwKICAgIGdldEFycmF5SXRlbXMoYXJyLCBvYmpBcnJheSkgewogICAgICBsZXQgbmV3QXJyID0gb2JqQXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgICByZXR1cm4gYXJyLmluY2x1ZGVzKGl0ZW0ub3JkZXJDb250ZW50RGV0YWlsSWQpOwogICAgICB9KTsKICAgICAgY29uc29sZS5sb2coJ25ld2FycicsIG5ld0Fycik7CiAgICAgIHJldHVybiBuZXdBcnI7CiAgICB9LAogICAgaGFuZGxlQ29uZmlybSgpIHsKICAgICAgdGhpcy5mb3JtRGF0YS5hY3R1YWxUeXBlID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1sndXNlci9yb2xlVHlwZSddLmluY2x1ZGVzKAogICAgICAgIDYKICAgICAgKQogICAgICAgID8gMQogICAgICAgIDogMjsKICAgICAgbGV0IGxvYWRpbmcgPSB0aGlzLiR0b2FzdC5sb2FkaW5nKCk7CiAgICAgIGxldCBkZXRhaWxJdGVtcyA9IHRoaXMuZ2V0QXJyYXlJdGVtcyh0aGlzLnJlc3VsdCwgdGhpcy5hbGxTdWJMaXN0KTsKICAgICAgdGhpcy5nZXRBcnJheUl0ZW1zKHRoaXMucmVzdWx0LCB0aGlzLmFsbFN1Ykxpc3QpOwogICAgICBsZXQgSWRzID0gW107CiAgICAgIGRldGFpbEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgSWRzID0gSWRzLmNvbmNhdChpdGVtLm9yZGVyQ29udGVudERldGFpbElkcy5zcGxpdCgnLCcpKTsKICAgICAgfSk7CiAgICAgIElkcyA9IElkcy5tYXAoaXRlbSA9PiBOdW1iZXIoaXRlbSkpOwogICAgICBzZW5kR29vZHMoewogICAgICAgIGlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCwKICAgICAgICBhY3R1YWxUeXBlOiB0aGlzLmZvcm1EYXRhLmFjdHVhbFR5cGUsCiAgICAgICAgZGV0YWlsSWRzOiBJZHMsCiAgICAgICAgY29kZTogJzIwMjAxMDAnCiAgICAgIH0pCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCflj5HotKfmiJDlip8nLCByZXMpOwogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgdGhpcy5nZXRSZWNlaXZpbmdHb29kc09yZGVyRGV0YWlsTGlzdCgpOwogICAgICAgICAgdGhpcy5yZXN1bHQgPSBbXTsKICAgICAgICAgIHRoaXMuYWxsQ2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kdG9hc3QocmVzLm1lc3NhZ2UpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLmdldFJlY2VpdmluZ0dvb2RzT3JkZXJEZXRhaWxMaXN0KCk7CiAgICAgICAgICB0aGlzLnJlc3VsdCA9IFtdOwogICAgICAgICAgdGhpcy5hbGxDaGVja2VkID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiR0b2FzdChyZXMubWVzc2FnZSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlQ2FuY2VsKCkgewogICAgICB0aGlzLnNob3dQYW5lbCA9IGZhbHNlOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHt9Cn07Cg=="},{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src/pages/catering-h5/views/return-goods","sourcesContent":["<template>\n  <div class=\"app-main\">\n    <div>\n      <van-collapse\n        class=\"detail-main\"\n        v-model=\"activeName\"\n        @change=\"changeColloapse\"\n      >\n        <van-checkbox-group v-model=\"result\" ref=\"checkboxGroup\">\n          <van-collapse-item\n            v-for=\"(item, index) in detailList\"\n            :key=\"item.arrivalDate + item.arrivalTime\"\n            :name=\"index + ''\"\n          >\n            <template #title>\n              <div>\n                {{ formateDate(item.arrivalDate, 4) + ' ' + item.arrivalTime }}\n                <span style=\"float:right\">{{\n                  activeName.includes(index + '') ? '收起' : '展开'\n                }}</span>\n              </div>\n            </template>\n            <van-list>\n              <van-cell\n                :class=\"[\n                  'detail-item',\n                  index < item.subList.length - 1 ? 'border' : ''\n                ]\"\n                v-for=\"(el, index) in item.subList\"\n                :key=\"index\"\n              >\n                <div>\n                  <div class=\"item-head\">\n                    <div class=\"name\">\n                      <van-checkbox\n                        shape=\"square\"\n                        :name=\"el.orderContentDetailId\"\n                        :disabled=\"setDisabled(el)\"\n                        checked-color=\"#51D0BC\"\n                        v-if=\"change\"\n                        @click.stop.native=\"toggle(el, index)\"\n                      ></van-checkbox>\n                      <!-- <i :class=\"classObj(el.status)\"></i> -->\n                      <span style=\"margin-left:5px\">{{\n                        el.ingredientName\n                      }}</span>\n                    </div>\n                    <div class=\"operation\" :class=\"classObj(el.status)\">\n                      {{ statusObj[el.status + ''] }}\n                    </div>\n                  </div>\n                  <ul class=\"item-content\">\n                    <li>\n                      <span>净菜重量(kg):</span>\n                      <div>{{ el.cleanVegetableWeight }}</div>\n                    </li>\n                    <li>\n                      <span>毛菜重量(kg):</span>\n                      <div>{{ el.originalVegetableWeight }}</div>\n                    </li>\n                    <li>\n                      <span>总重量(kg):</span>\n                      <div>{{ el.quantity }}</div>\n                    </li>\n                    <li>\n                      <span>数量({{ el.packUnit }}):</span>\n                      <div>{{ el.packNum }}</div>\n                    </li>\n                    <li>\n                      <span>成本参考价(元):</span>\n                      <div>{{ el.costPrice }}</div>\n                    </li>\n                  </ul>\n                </div>\n              </van-cell>\n            </van-list>\n          </van-collapse-item>\n        </van-checkbox-group>\n      </van-collapse>\n      <div\n        class=\"total-check\"\n        v-if=\"\n          this.status == '30100' ||\n            this.status == '30150' ||\n            this.status == '40105'\n        \"\n      >\n        <div class=\"left\">\n          <van-checkbox\n            label-disabled\n            shape=\"square\"\n            checked-color=\"#51D0BC\"\n            v-model=\"allChecked\"\n            @click.stop.native=\"checkAll\"\n          ></van-checkbox>\n          <span>全选 </span>\n        </div>\n        <div class=\"right\">\n          已选 {{ result.length }} 样\n          <span class=\"confirm-receive\" @click.stop=\"batchReceive\">发货</span>\n        </div>\n      </div>\n      <div class=\"total-check\" v-if=\"this.status == '40200'\">\n        <div class=\"adminReturn\" @click.stop=\"adminReturn\">\n          确认退单\n        </div>\n      </div>\n      <!-- 已退单 -->\n      <!-- <div class=\"total-check\" v-else> -->\n      <div class=\"total-check\" v-if=\"this.status == '-20100'\">\n        <div class=\"adminReturn\" style=\"background-color:#BFBFBF\">\n          已退单\n        </div>\n      </div>\n      <van-dialog\n        class=\"batch-receive\"\n        v-model=\"showPanel\"\n        show-cancel-button\n        confirm-button-text=\"确认\"\n        confirm-button-color=\"#51d0bc\"\n        @confirm=\"handleConfirm\"\n        @cancel=\"handleCancel\"\n      >\n        <div class=\"panel-main\">\n          <div class=\"notice\">\n            <span>您将批量发货{{ result.length }}条数据，是否继续？</span>\n          </div>\n        </div>\n      </van-dialog>\n      <van-dialog\n        class=\"batch-receive\"\n        v-model=\"showPanels\"\n        show-cancel-button\n        confirm-button-text=\"确认\"\n        confirm-button-color=\"#51d0bc\"\n        @confirm=\"Confirm\"\n        @cancel=\"Cancel\"\n      >\n        <div class=\"panel-main\">\n          <div class=\"notice\">\n            <span>你确定要退单吗？</span>\n          </div>\n        </div>\n      </van-dialog>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  sendingGoodsOrderDetail,\n  sendGoods,\n  refundAll\n} from '../../api/ReturnGoods/index.js';\nimport { formateDate } from '../../plugins/common/utils.js';\nconst statusObj = {\n  '2010000': '待发货',\n  '2020100': '已发货待收货',\n  '2030100': '收货待确认',\n  '2040100': '收货已完成',\n  '-2010000': '已退单'\n};\nexport default {\n  data() {\n    return {\n      activeName: ['0', '1', '2'],\n      statusObj,\n      orderId: '',\n      detailList: [],\n      allSubList: [],\n      result: [],\n      allChecked: false,\n      statusFlag: false,\n      showPanel: false,\n      showPanels: false,\n      change: false,\n      status: '',\n      formData: {\n        actualType: this.$store.getters['user/roleType'].includes(6) ? 1 : 2\n      }\n    };\n  },\n  created() {\n    this.orderId = this.$route.query.id;\n    this.status = this.$route.query.status;\n    console.log('状态', this.status);\n    if (\n      this.status == '30100' ||\n      this.status == '30150' ||\n      this.status == '40105'\n    ) {\n      this.change = true;\n    }\n    this.getReceivingGoodsOrderDetailList();\n    if (this.statusFlag == true) {\n      this.getReceivingGoodsOrderDetailList();\n    }\n  },\n  methods: {\n    formateDate,\n    setDisabled(row) {\n      return (\n        (row.status == 2010000 && this.formData.actualType == 3) ||\n        row.status == 2020100 ||\n        row.status == 2030100 ||\n        row.status == 2040100 ||\n        row.status == -2010000 ||\n        (row.status == 2010000 && row.status == 2030100)\n      );\n    },\n    // 退单\n    adminReturn() {\n      this.showPanels = true;\n    },\n    Confirm() {\n      // let loading = this.$toast.loading();\n      refundAll({ Id: this.orderId, code: '-20100' }).then(res => {\n        console.log('退单成功', res);\n        this.$toast('退单成功');\n        this.status = '-20100';\n        this.statusFlag = true;\n        this.getReceivingGoodsOrderDetailList();\n        // this.$router.push({\n        //   name: 'returnGoodsList',\n        //   query: { flag: true }\n        // });\n      });\n    },\n    Cancel() {\n      this.showPanels = false;\n    },\n    getReceivingGoodsOrderDetailList() {\n      let loading = this.$toast.loading();\n      sendingGoodsOrderDetail({ orderId: this.orderId })\n        .then(res => {\n          console.log('详情', res.data);\n          loading.close();\n          this.detailList = res.data;\n          if (this.status == '-20100') {\n            this.status == '-20100';\n          }\n          let arr = [];\n          for (var item of res.data) {\n            arr.push(...item.subList);\n          }\n          this.allSubList = arr;\n        })\n        .catch(e => {\n          loading.close();\n        });\n    },\n    classObj(status) {\n      /* eslint-disable */\n      let cls =\n        status == 2020100\n          ? 'orange1'\n          : status == 2030100\n          ? 'orange2'\n          : status == 2040100\n          ? 'green'\n          : 'gray';\n      return cls;\n    },\n    goDetail(item) {\n      if (item.status == 2010000) {\n        this.$notify({ type: 'warning', message: '请等待供应商发货' });\n        return;\n      }\n    },\n    changeColloapse(item) {\n      this.activeName = item;\n    },\n    toggle(el, index) {\n      setTimeout(() => {\n        let arr = this.getArray();\n        if (this.result.length == arr.length) {\n          this.allChecked = true;\n        } else {\n          this.allChecked = false;\n        }\n      });\n    },\n    checkAll() {\n      this.$nextTick(() => {\n        this.$refs.checkboxGroup.toggleAll({\n          checked: !this.allChecked,\n          skipDisabled: true\n        });\n        this.allChecked = !this.allChecked;\n      });\n    },\n    getArray() {\n      let arr = [];\n      for (var item of this.detailList) {\n        for (var el of item.subList) {\n          arr.push(el.orderContentDetailId);\n        }\n      }\n      return arr;\n    },\n    batchReceive() {\n      if (this.result.length == 0) {\n        this.$toast('请先选中需要发货的数据');\n        return;\n      }\n      this.showPanel = true;\n    },\n    getArrayItems(arr, objArray) {\n      let newArr = objArray.filter(function(item) {\n        return arr.includes(item.orderContentDetailId);\n      });\n      console.log('newarr', newArr);\n      return newArr;\n    },\n    handleConfirm() {\n      this.formData.actualType = this.$store.getters['user/roleType'].includes(\n        6\n      )\n        ? 1\n        : 2;\n      let loading = this.$toast.loading();\n      let detailItems = this.getArrayItems(this.result, this.allSubList);\n      this.getArrayItems(this.result, this.allSubList);\n      let Ids = [];\n      detailItems.forEach(item => {\n        Ids = Ids.concat(item.orderContentDetailIds.split(','));\n      });\n      Ids = Ids.map(item => Number(item));\n      sendGoods({\n        id: this.$route.query.id,\n        actualType: this.formData.actualType,\n        detailIds: Ids,\n        code: '2020100'\n      })\n        .then(res => {\n          console.log('发货成功', res);\n          loading.close();\n          this.getReceivingGoodsOrderDetailList();\n          this.result = [];\n          this.allChecked = false;\n          this.$toast(res.message);\n        })\n        .catch(res => {\n          this.getReceivingGoodsOrderDetailList();\n          this.result = [];\n          this.allChecked = false;\n          this.$toast(res.message);\n        });\n    },\n    handleCancel() {\n      this.showPanel = false;\n    }\n  },\n  computed: {}\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/.van-collapse-item__content {\n  padding-right: 0;\n  padding-top: 0;\n  // padding-bottom: 0;\n}\n/deep/ .van-cell {\n  font-size: 13px;\n  line-height: 24px;\n  &:after {\n    border-bottom: none;\n  }\n}\n\n.app-main {\n  background: #f5f5f5;\n  padding-bottom: 100px;\n  .detail-item {\n    &.border {\n      &:after {\n        border-bottom: 1px solid #ebedf0;\n      }\n    }\n    padding: 0;\n    .item-head {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 7.5px;\n      margin-bottom: 7.5px;\n      .name {\n        display: flex;\n        line-height: 35px;\n        width: 289px;\n        i {\n          width: 6.5px;\n          height: 6.5px;\n          border-radius: 50%;\n          display: inline-block;\n          top: 14px;\n          left: 25px;\n          position: absolute;\n          &.green {\n            background: #51d0bc;\n          }\n          &.orange1 {\n            background: #ffaf72;\n          }\n          &.orange2 {\n            background: #ffaf72;\n          }\n          &.gray {\n            background: #bfbfbf;\n          }\n        }\n\n        span {\n          font-size: 14px;\n          margin-left: 20px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          color: rgba(0, 0, 0, 0.85);\n        }\n      }\n\n      .operation {\n        width: 44px;\n        height: 19.5px;\n        line-height: 19.5px;\n        background-repeat: no-repeat;\n        background-position: center left;\n        background-size: 100% 100%;\n        color: #fff;\n        font-size: 11px;\n        text-align: center;\n        position: absolute;\n        right: 0;\n        top: 14px;\n        &.green {\n          background-image: url('../../assets/images/operation-green.png');\n        }\n        &.orange1 {\n          width: 80px;\n          background-image: url('../../assets/images/operation-orange2.png');\n          background: contain;\n        }\n        &.orange2 {\n          width: 66px;\n\n          background-image: url('../../assets/images/operation-orange2.png');\n        }\n        &.gray {\n          background-image: url('../../assets/images/operation-gray.png');\n        }\n      }\n    }\n    .item-content {\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      li {\n        width: 49%;\n        margin-bottom: 12px;\n        font-size: 14px;\n        color: rgba(0, 0, 0, 0.65);\n        span {\n          margin-right: 6px;\n        }\n        div {\n          display: inline-block;\n\n          font-weight: 400;\n          color: rgba(0, 0, 0, 0.85);\n        }\n      }\n    }\n  }\n}\n.van-collapse-item {\n  /deep/.van-cell--clickable {\n    background: #f5f5f5;\n  }\n}\n\n/deep/ .van-checkbox {\n  overflow: visible;\n}\n\n.total-check {\n  position: fixed;\n  width: 100vw;\n  box-sizing: border-box;\n  bottom: 0;\n  line-height: 60px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: #fff;\n  padding: 0 12px;\n  /deep/.van-checkbox__label,\n  .left {\n    display: flex;\n    font-size: 15px;\n    font-family: PingFangSC-Medium, PingFang SC;\n    font-weight: 500;\n    color: rgba(0, 0, 0, 0.85);\n    span {\n      margin-left: 6px;\n    }\n  }\n  .right {\n    .confirm-receive {\n      display: inline-block;\n      background: #51d0bc;\n      border-radius: 6px;\n      width: 120px;\n      height: 40px;\n      line-height: 40px;\n      font-size: 15px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #fff;\n      text-align: center;\n      margin-left: 30px;\n    }\n  }\n}\n/deep/ .batch-receive {\n  border-radius: 3px;\n}\n\n.panel-main {\n  min-height: 100px;\n  .notice {\n    text-align: center;\n    margin: 10px auto;\n    span {\n      display: inline-block;\n      width: 280px;\n      line-height: 100px;\n      align-items: center;\n      padding-left: 12px;\n      border-radius: 2px;\n      font-size: 15px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.85);\n      text-align: center;\n    }\n  }\n}\n.adminReturn {\n  width: 100%;\n  padding: 12px;\n  margin: 25px 0px;\n  height: 25px;\n  border-radius: 6px;\n  background: #51d0bc;\n  line-height: 25px;\n  text-align: center;\n  font-size: 17px;\n  color: #ffffff;\n}\n</style>\n"]}]}