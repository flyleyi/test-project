{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-submit-done/index.vue?vue&type=style&index=0&id=772b0ff6&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/jx-questionnaire-h5/views/survey-submit-done/index.vue","mtime":1645178321142},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hcHAgewogIC8vIOmhtumDqOWfuuehgOS/oeaBrwogIC5iYXNlLWluZm8gewogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjsKICAgIHBhZGRpbmc6IDAgMC4yNHJlbTsKICAgIC50aW1lIHsKICAgICAgcGFkZGluZzogMC40cmVtIDAgMC4yNHJlbSAwOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIC8v5Lyq5YWD57Sg57ud5a+55a6a5L2NCiAgICAgICY6OmFmdGVyIHsKICAgICAgICBjb250ZW50OiAnICc7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgYm90dG9tOiAwOwogICAgICAgIHJpZ2h0OiAwOwogICAgICAgIGhlaWdodDogMXB4OwogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wOCk7CiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGVZKDAuNSk7CiAgICAgIH0KICAgICAgJiA+IGltZyB7CiAgICAgICAgaGVpZ2h0OiAwLjMycmVtOwogICAgICB9CiAgICAgICYgPiBkaXYgewogICAgICAgIGZvbnQtc2l6ZTogMC4yOHJlbTsKICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQzsKICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKICAgICAgICBwYWRkaW5nLWxlZnQ6IDAuMXJlbTsKICAgICAgfQogICAgfQogICAgLnRpdGxlIHsKICAgICAgZm9udC1zaXplOiAwLjMycmVtOwogICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1NZWRpdW0sIFBpbmdGYW5nIFNDOwogICAgICBmb250LXdlaWdodDogNTAwOwogICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjg1KTsKICAgICAgcGFkZGluZzogMC4yNHJlbSAwOwogICAgfQogICAgLnJlbWFyayB7CiAgICAgIGZvbnQtc2l6ZTogMC4yOHJlbTsKICAgICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7CiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODUpOwogICAgICBwYWRkaW5nLWJvdHRvbTogMC4yNHJlbTsKICAgIH0KICAgIC5maWxlLWxpc3QgewogICAgICAuZmlsZS1pdGVtIHsKICAgICAgICBwYWRkaW5nLWJvdHRvbTogMC4yNHJlbTsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICAgIC5maWxlLW5hbWUgewogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAuZmlsZS1pY29uIHsKICAgICAgICAgICAgaGVpZ2h0OiAwLjI4cmVtOwogICAgICAgICAgfQogICAgICAgICAgJiA+IGRpdiB7CiAgICAgICAgICAgIG1heC13aWR0aDogNXJlbTsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC4yNHJlbTsKICAgICAgICAgICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7CiAgICAgICAgICAgIGNvbG9yOiAjNWVjZmE4OwogICAgICAgICAgICBwYWRkaW5nOiAwIDAuMXJlbTsKICAgICAgICAgIH0KICAgICAgICAgIC5hcnJvdy1pY29uIHsKICAgICAgICAgICAgaGVpZ2h0OiAwLjIycmVtOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogICAgLmltZy1saXN0IHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC13cmFwOiB3cmFwOwogICAgICAuaW1nLWl0ZW0gewogICAgICAgIGZvbnQtc2l6ZTogMDsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgLmltZyB7CiAgICAgICAgICB3aWR0aDogMS41N3JlbTsKICAgICAgICAgIGhlaWdodDogMS41N3JlbTsKICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgICAgbWFyZ2luOiAwIDAgMC4yNHJlbSAwLjI0cmVtOwogICAgICAgICAgYm9yZGVyLXJhZGl1czogMC4wNnJlbTsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmltZy1pdGVtOmZpcnN0LWNoaWxkIHsKICAgICAgICAuaW1nIHsKICAgICAgICAgIG1hcmdpbjogMCAwIDAuMjRyZW0gMDsKICAgICAgICB9CiAgICAgIH0KICAgICAgLmltZy1pdGVtOm50aC1jaGlsZCg1KSB7CiAgICAgICAgLmltZyB7CiAgICAgICAgICBtYXJnaW46IDAgMCAwLjI0cmVtIDA7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQogIC8vIOaPkOS6pOiusOW9lQogIC5yZWNvcmRzIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICBwYWRkaW5nOiAwIDAuMjRyZW07CiAgICBtYXJnaW46IDAuMnJlbSAwOwogICAgLnRpdGxlIHsKICAgICAgcGFkZGluZzogMC4yMXJlbSAwOwogICAgICBkaXNwbGF5OiBmbGV4OwogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgIC5udW0gewogICAgICAgICYgPiBzcGFuOmZpcnN0LWNoaWxkIHsKICAgICAgICAgIGZvbnQtc2l6ZTogMC4yOHJlbTsKICAgICAgICAgIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDOwogICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42NSk7CiAgICAgICAgfQogICAgICAgICYgPiBzcGFuOm50aC1jaGlsZCgyKSB7CiAgICAgICAgICBmb250LXNpemU6IDAuMjhyZW07CiAgICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQzsKICAgICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODUpOwogICAgICAgICAgcGFkZGluZy1sZWZ0OiAwLjJyZW07CiAgICAgICAgfQogICAgICB9CiAgICAgIC5zdWItYnRuIHsKICAgICAgICBwYWRkaW5nOiAwLjA3cmVtIDAuMnJlbTsKICAgICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDAuMDZyZW07CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgIzVlY2ZhODsKICAgICAgICBmb250LXNpemU6IDAuMjZyZW07CiAgICAgICAgZm9udC1mYW1pbHk6IFBpbmdGYW5nU0MtUmVndWxhciwgUGluZ0ZhbmcgU0M7CiAgICAgICAgY29sb3I6ICM1ZWNmYTg7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICB9CiAgICB9CiAgICAuaXRlbSB7CiAgICAgIHBhZGRpbmc6IDAuMjRyZW0gMDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgIC8v5Lyq5YWD57Sg57ud5a+55a6a5L2NCiAgICAgICY6OmFmdGVyIHsKICAgICAgICBjb250ZW50OiAnICc7CiAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgIGxlZnQ6IDA7CiAgICAgICAgdG9wOiAwOwogICAgICAgIHJpZ2h0OiAwOwogICAgICAgIGhlaWdodDogMXB4OwogICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wOCk7CiAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwOwogICAgICAgIHRyYW5zZm9ybTogc2NhbGVZKDAuNSk7CiAgICAgIH0KICAgICAgJiA+IGRpdiB7CiAgICAgICAgZm9udC1zaXplOiAwLjI4cmVtOwogICAgICAgIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDOwogICAgICB9CiAgICAgICYgPiBkaXY6Zmlyc3QtY2hpbGQgewogICAgICAgIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODUpOwogICAgICB9CiAgICAgICYgPiBkaXY6bnRoLWNoaWxkKDIpIHsKICAgICAgICBjb2xvcjogcmdiYSgwLCAwLCAwLCAwLjQ1KTsKICAgICAgfQogICAgfQogIH0KICAuYmxhbmsgewogICAgaGVpZ2h0OiAycmVtOwogIH0KICAvLyDlupXpg6jmj5DkuqTmjInpkq4KICAuYm90dG9tLWJ0biB7CiAgICB3aWR0aDogMTAwJTsKICAgIHBhZGRpbmc6IDAuNDhyZW0gMDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmNWY1ZjU7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgcG9zaXRpb246IGZpeGVkOwogICAgYm90dG9tOiAwOwogICAgbGVmdDogMDsKICAgICYgPiBkaXYgewogICAgICB3aWR0aDogNy4wMnJlbTsKICAgICAgaGVpZ2h0OiAwLjk4cmVtOwogICAgICBiYWNrZ3JvdW5kOiAjNTFjNDljOwogICAgICBib3JkZXItcmFkaXVzOiAwLjA2cmVtOwogICAgICBmb250LXNpemU6IDAuMzRyZW07CiAgICAgIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDOwogICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-submit-done","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <div class=\"base-info\">\n      <div class=\"time\">\n        <img\n          src=\"@/pages/jx-questionnaire-h5/assets/images/icons/time_icon.png\"\n        />\n        <div>\n          填表时间：{{\n            baseInfo.startTime +\n              (baseInfo.endTime ? '~' + baseInfo.endTime : '')\n          }}\n        </div>\n      </div>\n      <div class=\"title\">{{ baseInfo.title }}</div>\n      <div class=\"remark\" v-if=\"baseInfo.description\">\n        {{ baseInfo.description }}\n      </div>\n      <!-- 文件列表 -->\n      <div class=\"file-list\">\n        <div\n          class=\"file-item\"\n          v-for=\"(item, index) in baseInfo.fileList\"\n          :key=\"index\"\n          @click=\"previewFile(item.url)\"\n        >\n          <div class=\"file-name\">\n            <img\n              class=\"file-icon\"\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/file3_icon.png\"\n            />\n            <div>{{ item.name }}</div>\n            <img\n              class=\"arrow-icon\"\n              src=\"@/pages/jx-questionnaire-h5/assets/images/icons/right_arrow2_icon.png\"\n            />\n          </div>\n        </div>\n      </div>\n      <!-- 图片列表 -->\n      <div class=\"img-list\">\n        <div\n          class=\"img-item\"\n          v-for=\"(item, index) in baseInfo.imgList\"\n          :key=\"index\"\n        >\n          <img class=\"img\" :src=\"item.url\" @click=\"previewImg(item.url)\" />\n        </div>\n      </div>\n    </div>\n    <div class=\"records\">\n      <div class=\"title\">\n        <div class=\"num\">\n          <span>以下为提交记录</span>\n          <span>{{\n            baseInfo.submitCount + '/' + baseInfo.collectionMaxCnt\n          }}</span>\n        </div>\n        <div class=\"sub-btn\" @click=\"handleCheckOptionDetail\">\n          {{ canEdit == 3 ? '我的提交详情' : '查看问卷' }}\n        </div>\n      </div>\n      <div\n        class=\"item\"\n        v-for=\"(item, index) in baseInfo.submitList\"\n        :key=\"index\"\n      >\n        <div>\n          {{ item.isAnonymousSubmit ? '匿名' : item.studentName + item.v }}\n        </div>\n        <div>{{ item.createTime }}</div>\n      </div>\n    </div>\n    <div class=\"blank\"></div>\n    <!-- 次家长展示转发按钮 -->\n    <div class=\"bottom-btn\" v-if=\"isMain == 0 && baseInfo.isFinished == 0\">\n      <div @click=\"handleShare\">转发给主家长填写</div>\n    </div>\n\n    <!-- 分享引导页面 -->\n    <transition name=\"van-fade\">\n      <share-guide\n        v-if=\"isShowShare\"\n        @closeShareGuide=\"closeShareGuide\"\n      ></share-guide>\n    </transition>\n  </div>\n</template>\n\n<script>\nimport ShareGuide from '../common/ShareGuide.vue';\nimport { mapState } from 'vuex';\nimport { surveyDetail } from '../../api/survey';\nimport { Uploader, ImagePreview, Switch } from 'vant';\nexport default {\n  name: 'SurveySubmitDone',\n  components: {\n    [Uploader.name]: Uploader,\n    [Switch.name]: Switch,\n    ShareGuide\n  },\n  data() {\n    return {\n      canEdit: 3, // 是否能编辑 0为班主任解绑情况 3为家长身份进入情况\n      baseInfo: {\n        studentIds: '',\n        title: '', // 问卷标题\n        description: '', // 问卷描述\n        imgList: [], // 图片附件\n        fileList: [], // 文件附件\n        startTime: '', // 开始日期\n        endTime: '', // 截止日期\n        collectionMaxCnt: 0, // 最大收集数\n        submitCount: 0, // 已收集份数\n        submitList: [], // 提交记录\n        remark: '', // 备注\n        isAnonymousSubmit: 0, // 是否匿名\n        isFinished: 1 // 问卷是否已结束\n      },\n      collectNum: 0, // 收集份数\n      questions: [],\n      isShowShare: false\n    };\n  },\n  computed: {\n    ...mapState('user', ['wechatUserId', 'classId', 'role'])\n  },\n  created() {\n    this.isMain = this.$route.query.isMain;\n    this.canEdit = this.$route.query.canEdit ? this.$route.query.canEdit : 3;\n    if (this.canEdit == 3) {\n      this.getSurveyDetail();\n    } else {\n      this.getSurveyDetailTeacher();\n    }\n  },\n  methods: {\n    // 获取问卷详情(家长身份正常进入)\n    getSurveyDetail() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        role: this.role,\n        surveyId: this.$route.query.surveyId,\n        studentId: this.$route.query.studentId\n      };\n      surveyDetail(params)\n        .then(res => {\n          this.baseInfo.startTime = res.data.startTime;\n          this.baseInfo.endTime = res.data.endTime;\n          this.baseInfo.title = res.data.title;\n          this.baseInfo.description = res.data.description;\n          this.collectNum = res.data.collectionMaxCnt;\n          this.baseInfo.collectionMaxCnt = res.data.collectionMaxCnt;\n          this.baseInfo.submitCount = res.data.submitCount;\n          this.baseInfo.submitList = res.data.submitList;\n          this.baseInfo.remark = res.data.remark;\n          this.baseInfo.isFinished = res.data.isFinished;\n          res.data.attachmentList.forEach(item => {\n            if (item.type == 'img') {\n              this.baseInfo.imgList.push({ url: item.url, id: item.id });\n            } else if (item.type == 'file') {\n              this.baseInfo.fileList.push({\n                url: item.url,\n                name: item.name,\n                id: item.id\n              });\n            }\n          });\n          res.data.questionList.forEach(item => {\n            if (item.type == 2) {\n              item.checkedNum = 0;\n              item.answerCont = [];\n            } else if (item.type == '4' || item.type == '5') {\n              item.answerCont = [];\n              item.answerList = [];\n            } else {\n              item.answerCont = '';\n            }\n          });\n          this.questions = res.data.questionList;\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // 获取问卷详情(班主任无权限修改时进入)\n    getSurveyDetailTeacher() {\n      let params = {\n        wechatUserId: this.wechatUserId,\n        role: this.role,\n        surveyId: this.$route.query.surveyId\n      };\n      surveyDetail(params)\n        .then(res => {\n          this.baseInfo.startTime = res.data.startTime;\n          this.baseInfo.endTime = res.data.endTime;\n          this.baseInfo.title = res.data.title;\n          this.baseInfo.description = res.data.description;\n          this.collectNum = res.data.collectionMaxCnt;\n          this.baseInfo.collectionMaxCnt = res.data.collectionMaxCnt;\n          this.baseInfo.submitCount = res.data.submitCount;\n          this.baseInfo.submitList = res.data.submitList;\n          this.baseInfo.remark = res.data.remark;\n          res.data.attachmentList.forEach(item => {\n            if (item.type == 'img') {\n              this.baseInfo.imgList.push({ content: item.url, id: item.id });\n            } else if (item.type == 'file') {\n              this.baseInfo.fileList.push({\n                content: item.url,\n                file: { name: item.name },\n                id: item.id\n              });\n            }\n          });\n          res.data.questionList.forEach(item => {\n            if (item.type == 2) {\n              item.checkedNum = 0;\n              item.answerCont = [];\n            } else if (item.type == '4' || item.type == '5') {\n              item.answerCont = [];\n              item.answerList = [];\n            } else {\n              item.answerCont = '';\n            }\n          });\n          this.questions = res.data.questionList;\n        })\n        .catch(err => {\n          this.$toast(err.msg);\n        });\n    },\n    // 图片预览\n    previewImg(url) {\n      ImagePreview([url]);\n    },\n    // 预览文件PDF，doc\n    previewFile(url) {\n      // window.open(url);\n      if (typeof wx == 'object') {\n        let fileUrl = encodeURIComponent(url);\n        window.wx.miniProgram.navigateTo({\n          url: `/h5/file/index?url=${fileUrl}`\n        });\n      } else {\n        this.$toast('预览失败，请重试');\n      }\n    },\n    // 次家长和已提交状态下查看提交选项详情\n    handleCheckOptionDetail() {\n      this.$store.commit('survey/UPDATA_QUESTION', this.questions);\n      let remark = this.baseInfo.remark ? this.baseInfo.remark : '';\n      this.$router.push({\n        path: `/option-detail?remark=${remark}&isMain=${this.isMain}`\n      });\n    },\n    // 分享\n    handleShare() {\n      this.isShowShare = true;\n    },\n    // 关闭分享弹窗\n    closeShareGuide() {\n      this.isShowShare = false;\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.app {\n  // 顶部基础信息\n  .base-info {\n    background-color: #ffffff;\n    padding: 0 0.24rem;\n    .time {\n      padding: 0.4rem 0 0.24rem 0;\n      display: flex;\n      align-items: center;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      & > img {\n        height: 0.32rem;\n      }\n      & > div {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: rgba(0, 0, 0, 0.45);\n        padding-left: 0.1rem;\n      }\n    }\n    .title {\n      font-size: 0.32rem;\n      font-family: PingFangSC-Medium, PingFang SC;\n      font-weight: 500;\n      color: rgba(0, 0, 0, 0.85);\n      padding: 0.24rem 0;\n    }\n    .remark {\n      font-size: 0.28rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.85);\n      padding-bottom: 0.24rem;\n    }\n    .file-list {\n      .file-item {\n        padding-bottom: 0.24rem;\n        display: flex;\n        align-items: center;\n        justify-content: space-between;\n        .file-name {\n          display: flex;\n          align-items: center;\n          .file-icon {\n            height: 0.28rem;\n          }\n          & > div {\n            max-width: 5rem;\n            overflow: hidden;\n            white-space: nowrap;\n            text-overflow: ellipsis;\n            font-size: 0.24rem;\n            font-family: PingFangSC-Regular, PingFang SC;\n            color: #5ecfa8;\n            padding: 0 0.1rem;\n          }\n          .arrow-icon {\n            height: 0.22rem;\n          }\n        }\n      }\n    }\n    .img-list {\n      display: flex;\n      flex-wrap: wrap;\n      .img-item {\n        font-size: 0;\n        position: relative;\n        .img {\n          width: 1.57rem;\n          height: 1.57rem;\n          object-fit: cover;\n          margin: 0 0 0.24rem 0.24rem;\n          border-radius: 0.06rem;\n        }\n      }\n      .img-item:first-child {\n        .img {\n          margin: 0 0 0.24rem 0;\n        }\n      }\n      .img-item:nth-child(5) {\n        .img {\n          margin: 0 0 0.24rem 0;\n        }\n      }\n    }\n  }\n  // 提交记录\n  .records {\n    background-color: #ffffff;\n    padding: 0 0.24rem;\n    margin: 0.2rem 0;\n    .title {\n      padding: 0.21rem 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      .num {\n        & > span:first-child {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.65);\n        }\n        & > span:nth-child(2) {\n          font-size: 0.28rem;\n          font-family: PingFangSC-Regular, PingFang SC;\n          color: rgba(0, 0, 0, 0.85);\n          padding-left: 0.2rem;\n        }\n      }\n      .sub-btn {\n        padding: 0.07rem 0.2rem;\n        background: #ffffff;\n        border-radius: 0.06rem;\n        border: 1px solid #5ecfa8;\n        font-size: 0.26rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n        color: #5ecfa8;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n    }\n    .item {\n      padding: 0.24rem 0;\n      display: flex;\n      justify-content: space-between;\n      position: relative;\n      //伪元素绝对定位\n      &::after {\n        content: ' ';\n        position: absolute;\n        left: 0;\n        top: 0;\n        right: 0;\n        height: 1px;\n        background: rgba(0, 0, 0, 0.08);\n        transform-origin: 0 0;\n        transform: scaleY(0.5);\n      }\n      & > div {\n        font-size: 0.28rem;\n        font-family: PingFangSC-Regular, PingFang SC;\n      }\n      & > div:first-child {\n        color: rgba(0, 0, 0, 0.85);\n      }\n      & > div:nth-child(2) {\n        color: rgba(0, 0, 0, 0.45);\n      }\n    }\n  }\n  .blank {\n    height: 2rem;\n  }\n  // 底部提交按钮\n  .bottom-btn {\n    width: 100%;\n    padding: 0.48rem 0;\n    background-color: #f5f5f5;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    & > div {\n      width: 7.02rem;\n      height: 0.98rem;\n      background: #51c49c;\n      border-radius: 0.06rem;\n      font-size: 0.34rem;\n      font-family: PingFangSC-Regular, PingFang SC;\n      color: #ffffff;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n  }\n}\n</style>\n"]}]}