{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/views/account/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/bonus-tool-admin/views/account/index.vue","mtime":1627979214255},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DVGFibGUnOwppbXBvcnQgewogIGdldFVzZXJMaXN0LAogIHZhaWxTY2hvb2xOYW1lLAogIGFkZFVzZXIsCiAgcmVzZXRQYXNzd29yZCwKICBkZWxldGVVc2VyCn0gZnJvbSAnLi4vLi4vYXBpL3VzZXInOwppbXBvcnQgewogIE1lc3NhZ2VCb3gsCiAgRm9ybSwKICBGb3JtSXRlbSwKICBJbnB1dCwKICBDaGVja2JveCwKICBMb2FkaW5nCn0gZnJvbSAnZWxlbWVudC11aSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWNjb3VudCcsCiAgY29tcG9uZW50czogewogICAgQ1RhYmxlLAogICAgW0Zvcm0ubmFtZV06IEZvcm0sCiAgICBbRm9ybUl0ZW0ubmFtZV06IEZvcm1JdGVtLAogICAgW0lucHV0Lm5hbWVdOiBJbnB1dCwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvL+ihqOWktOmFjee9rgogICAgICBoZWFkZXJzOiBbCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfluo/lj7cnLAogICAgICAgICAgdHlwZTogJ2luZGV4JywKICAgICAgICAgIHdpZHRoOiAnMTAwcHgnCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+agoeaWueWQjeensCcsCiAgICAgICAgICBwcm9wOiAnc2Nob29sTmFtZScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5YWz6IGU6LSm5Y+3JywKICAgICAgICAgIHByb3A6ICd1c2VybmFtZScKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5Yib5bu65pe26Ze0JywKICAgICAgICAgIHByb3A6ICd1cGRhdGVUaW1lJywKICAgICAgICAgIGZvcm1hdHRlcjogKHIsIGMsIHYpID0+CiAgICAgICAgICAgIHRoaXMuJHV0aWwuZGF0ZUNvbnZlcnRlcigneXl5eS1NTS1kZCBoaDptbScsIHYpCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+aTjeS9nCcsCiAgICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICAgIHNsb3ROYW1lOiAnb3BlcmF0b3InCiAgICAgICAgfQogICAgICBdLAogICAgICAvL+ihqOaVsOaNrgogICAgICB0YWJsZURhdGE6IFtdLAogICAgICAvL+aWsOWinuW8ueeqlwogICAgICBhZGRBY2NvdW50RGlhbG9nOiB7CiAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgc2Nob29sTmFtZTogJycsCiAgICAgICAgZG9OZXh0OiBmYWxzZSwKICAgICAgICBlcnJvclRpcDogJycsCiAgICAgICAgbG9hZGluZzogZmFsc2UKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmFqYXhHZXRVc2VyTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDmn6Xor6LnlKjmiLfliJfooagKICAgICAqLwogICAgYWpheEdldFVzZXJMaXN0KCkgewogICAgICBsZXQgbG9hZGluZyA9IExvYWRpbmcuc2VydmljZSh7CiAgICAgICAgdGV4dDogJ+ato+WcqOafpeivoueUqOaIt+WIl+ihqO+8jOivt+eojeWQji4uLicsCiAgICAgICAgdGFyZ2V0OiAnLmFwcC1jb250YWluZXInCiAgICAgIH0pOwogICAgICBnZXRVc2VyTGlzdCgpCiAgICAgICAgLnRoZW4oKHsgZGF0YSB9KSA9PiB7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGE7CiAgICAgICAgfSkKICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDpqozor4HlrabmoKHlkI3np7DmmK/lkKblt7LlrZjlnKgKICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzY2hvb2xOYW1lIOWtpuagoeWQjeensAogICAgICovCiAgICBhamF4VmFpbFNjaG9vbE5hbWUoc2Nob29sTmFtZSkgewogICAgICByZXR1cm4gdmFpbFNjaG9vbE5hbWUoeyBzY2hvb2xOYW1lIH0pOwogICAgfSwKICAgIC8qKgogICAgICog5paw5aKe6LSm5Y+3CiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2Nob29sTmFtZSDlrabmoKHlkI3np7AKICAgICAqLwogICAgYWpheEFkZFVzZXIoc2Nob29sTmFtZSkgewogICAgICByZXR1cm4gYWRkVXNlcih7IHNjaG9vbE5hbWUgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDph43nva7otKblj7flr4bnoIEKICAgICAqIEBwYXJhbSB7U3RyaW5nfSB1c2VySWQg55So5oi3aWQKICAgICAqLwogICAgYWpheFJlc2V0UGFzc3dvcmQodXNlcklkKSB7CiAgICAgIHJldHVybiByZXNldFBhc3N3b3JkKHsgdXNlcklkIH0pOwogICAgfSwKICAgIC8qKgogICAgICog6YeN572u6LSm5Y+35a+G56CBCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXNlcklkIOeUqOaIt2lkCiAgICAgKi8KICAgIGFqYXhEZWxldGVVc2VyKHVzZXJJZCkgewogICAgICByZXR1cm4gZGVsZXRlVXNlcih7IHVzZXJJZCB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOeCueWHu+mHjee9ruWvhueggQogICAgICogQHBhcmFtIHtPYmplY3R9IHJvdyB0YWJsZeihjOaVsOaNrgogICAgICovCiAgICBhc3luYyBvblJlc2V0UHdkKHJvdykgewogICAgICBsZXQgbG9hZGluZzsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCBNZXNzYWdlQm94LmNvbmZpcm0oJ+ehruWumumHjee9ruivpei0puWPt+WvhueggT8nLCAn5o+Q6YaSJywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICBjZW50ZXI6IHRydWUKICAgICAgICB9KTsKICAgICAgICBsb2FkaW5nID0gTG9hZGluZy5zZXJ2aWNlKHsKICAgICAgICAgIHRleHQ6ICfmk43kvZzkuK3vvIzor7fnqI3lkI4uLi4nLAogICAgICAgICAgdGFyZ2V0OiAnLmFwcC1jb250YWluZXInCiAgICAgICAgfSk7CiAgICAgICAgYXdhaXQgdGhpcy5hamF4UmVzZXRQYXNzd29yZChyb3cudXNlcklkKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoYOmHjee9rui0puWPtyR7cm93LnVzZXJuYW1lfeeahOWvhueggeaIkOWKn2ApOwogICAgICAgIGxvYWRpbmcuY2xvc2UoKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgbG9hZGluZyAmJiBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIOeCueWHu+WIoOmZpOi0puWPtwogICAgICogQHBhcmFtIHtPYmplY3R9IHJvdyB0YWJsZeihjOaVsOaNrgogICAgICovCiAgICBhc3luYyBvbkRlbEFjY291bnQocm93KSB7CiAgICAgIGxldCBsb2FkaW5nOwogICAgICB0cnkgewogICAgICAgIGF3YWl0IE1lc3NhZ2VCb3guY29uZmlybSgn56Gu5a6a5Yig6Zmk6K+l6LSm5Y+3PycsICfmj5DphpInLCB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgIGNlbnRlcjogdHJ1ZQogICAgICAgIH0pOwogICAgICAgIGxvYWRpbmcgPSBMb2FkaW5nLnNlcnZpY2UoewogICAgICAgICAgdGV4dDogJ+aTjeS9nOS4re+8jOivt+eojeWQji4uLicsCiAgICAgICAgICB0YXJnZXQ6ICcuYXBwLWNvbnRhaW5lcicKICAgICAgICB9KTsKICAgICAgICBhd2FpdCB0aGlzLmFqYXhEZWxldGVVc2VyKHJvdy51c2VySWQpOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyhg5Yig6Zmk6LSm5Y+3JHtyb3cudXNlcm5hbWV95oiQ5YqfYCk7CiAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgIHRoaXMuYWpheEdldFVzZXJMaXN0KCk7IC8v6YeN5paw6I635Y+W6LSm5Y+35YiX6KGoCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIGxvYWRpbmcgJiYgbG9hZGluZy5jbG9zZSgpOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiDngrnlvIDmlrDlop7otKblj7fmjInpkq4KICAgICAqLwogICAgb25BZGRBY2NvdW50KCkgewogICAgICB0aGlzLmFkZEFjY291bnREaWFsb2cuc2Nob29sTmFtZSA9ICcnOwogICAgICB0aGlzLmFkZEFjY291bnREaWFsb2cuZG9OZXh0ID0gZmFsc2U7CiAgICAgIHRoaXMuYWRkQWNjb3VudERpYWxvZy5lcnJvclRpcCA9ICcnOwogICAgICB0aGlzLmFkZEFjY291bnREaWFsb2cuc2hvdyA9IHRydWU7CiAgICB9LAogICAgLyoqCiAgICAgKiDngrnlh7vnoa7lrprmlrDlop7otKblj7cKICAgICAqLwogICAgYXN5bmMgb25TdWJtaXRBZGRBY2NvdW50KCkgewogICAgICBsZXQgeyBzY2hvb2xOYW1lLCBkb05leHQgfSA9IHRoaXMuYWRkQWNjb3VudERpYWxvZzsKICAgICAgaWYgKCFzY2hvb2xOYW1lKSB7CiAgICAgICAgdGhpcy5hZGRBY2NvdW50RGlhbG9nLmVycm9yVGlwID0gJ+WtpuagoeWQjeensOS4jeiDveS4uuepuu+8gSc7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5hZGRBY2NvdW50RGlhbG9nLmxvYWRpbmcgPSB0cnVlOwogICAgICAgIC8v6aqM6K+B5aGr5YWl55qE5a2m5qCh5ZCN5piv5ZCm5bey5a2Y5ZyoCiAgICAgICAgbGV0IHsgZGF0YSB9ID0gYXdhaXQgdGhpcy5hamF4VmFpbFNjaG9vbE5hbWUoc2Nob29sTmFtZSk7CiAgICAgICAgaWYgKCFkYXRhKSB7CiAgICAgICAgICB0aGlzLmFkZEFjY291bnREaWFsb2cuZXJyb3JUaXAgPSAn6K+l5a2m5qCh5ZCN56ew5bey5a2Y5Zyo77yM6K+35Yu/6YeN5aSN5re75Yqg77yBJzsKICAgICAgICAgIHRoaXMuYWRkQWNjb3VudERpYWxvZy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuYWRkQWNjb3VudERpYWxvZy5lcnJvclRpcCA9ICcnOyAvL+e9ruepumVycm9yLXRpcAogICAgICAgIGF3YWl0IHRoaXMuYWpheEFkZFVzZXIoc2Nob29sTmFtZSk7IC8v6LCD55So5paw5aKe6LSm5Y+35o6l5Y+jCiAgICAgICAgdGhpcy5hZGRBY2NvdW50RGlhbG9nLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLmFkZEFjY291bnREaWFsb2cuc2Nob29sTmFtZSA9ICcnOyAvL+e9ruepuuWtpuagoeWQjeensAogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5paw5aKe6LSm5Y+35oiQ5YqfJyk7CiAgICAgICAgLy/mnKrli77pgInnu6fnu63mlrDlu7rkuIvkuIDkuKrvvIzliJnliJvlu7rlrozmiJDlhbPpl63nqpflj6MKICAgICAgICBpZiAoIWRvTmV4dCkgewogICAgICAgICAgdGhpcy5hZGRBY2NvdW50RGlhbG9nLnNob3cgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5hamF4R2V0VXNlckxpc3QoKTsgLy/liLfmlrDnlKjmiLfliJfooagKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICB0aGlzLmFkZEFjY291bnREaWFsb2cubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/bonus-tool-admin/views/account","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div class=\"common-title\">用户列表</div>\n    <div class=\"common-container\">\n      <!-- 头部 -->\n      <!-- 产品（史耀军）要求隐藏新增按钮，之后也不需要展示 -->\n      <!-- <div class=\"common-header\">\n        <div class=\"common-header-left\">\n          <el-button type=\"primary\" size=\"medium\" @click=\"onAddAccount\">\n            新增账号\n          </el-button>\n        </div>\n        <div class=\"common-header-right\"></div>\n      </div> -->\n      <c-table :headers=\"headers\" :data=\"tableData\" :border=\"true\">\n        <template v-slot:column|operator=\"{ row }\">\n          <el-button\n            size=\"small\"\n            type=\"blue\"\n            icon=\"custom-reset-icon\"\n            class=\"reset-btn\"\n            @click=\"onResetPwd(row)\"\n            >重置密码</el-button\n          >\n          <!-- 需求变更，要求隐藏删除按钮 -->\n          <!-- <el-button\n            size=\"small\"\n            type=\"red\"\n            icon=\"custom-delete-icon\"\n            class=\"delete-btn\"\n            @click=\"onDelAccount(row)\"\n            >删除账号</el-button\n          > -->\n        </template>\n      </c-table>\n    </div>\n    <el-dialog\n      title=\"提示\"\n      :visible.sync=\"addAccountDialog.show\"\n      :center=\"true\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      width=\"456px\"\n    >\n      <div class=\"dialog-content\">\n        <div class=\"item-label\">学校名称</div>\n        <el-input v-model.trim=\"addAccountDialog.schoolName\"></el-input>\n        <div class=\"error-tip\">{{ addAccountDialog.errorTip }}</div>\n        <el-checkbox class=\"next-checkbox\" v-model=\"addAccountDialog.doNext\"\n          >继续新增下一个</el-checkbox\n        >\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          :loading=\"addAccountDialog.loading\"\n          @click=\"addAccountDialog.show = false\"\n          >取 消</el-button\n        >\n        <el-button\n          :loading=\"addAccountDialog.loading\"\n          type=\"primary\"\n          @click=\"onSubmitAddAccount\"\n          >确 定</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport CTable from '@/components/common/CTable';\nimport {\n  getUserList,\n  vailSchoolName,\n  addUser,\n  resetPassword,\n  deleteUser\n} from '../../api/user';\nimport {\n  MessageBox,\n  Form,\n  FormItem,\n  Input,\n  Checkbox,\n  Loading\n} from 'element-ui';\nexport default {\n  name: 'Account',\n  components: {\n    CTable,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    [Input.name]: Input,\n    [Checkbox.name]: Checkbox\n  },\n  data() {\n    return {\n      //表头配置\n      headers: [\n        {\n          label: '序号',\n          type: 'index',\n          width: '100px'\n        },\n        {\n          label: '校方名称',\n          prop: 'schoolName'\n        },\n        {\n          label: '关联账号',\n          prop: 'username'\n        },\n        {\n          label: '创建时间',\n          prop: 'updateTime',\n          formatter: (r, c, v) =>\n            this.$util.dateConverter('yyyy-MM-dd hh:mm', v)\n        },\n        {\n          label: '操作',\n          colType: 'column',\n          slotName: 'operator'\n        }\n      ],\n      //表数据\n      tableData: [],\n      //新增弹窗\n      addAccountDialog: {\n        show: false,\n        schoolName: '',\n        doNext: false,\n        errorTip: '',\n        loading: false\n      }\n    };\n  },\n  created() {\n    this.ajaxGetUserList();\n  },\n  methods: {\n    /**\n     * 查询用户列表\n     */\n    ajaxGetUserList() {\n      let loading = Loading.service({\n        text: '正在查询用户列表，请稍后...',\n        target: '.app-container'\n      });\n      getUserList()\n        .then(({ data }) => {\n          this.tableData = data;\n        })\n        .finally(() => {\n          loading.close();\n        });\n    },\n    /**\n     * 验证学校名称是否已存在\n     * @param {String} schoolName 学校名称\n     */\n    ajaxVailSchoolName(schoolName) {\n      return vailSchoolName({ schoolName });\n    },\n    /**\n     * 新增账号\n     * @param {String} schoolName 学校名称\n     */\n    ajaxAddUser(schoolName) {\n      return addUser({ schoolName });\n    },\n    /**\n     * 重置账号密码\n     * @param {String} userId 用户id\n     */\n    ajaxResetPassword(userId) {\n      return resetPassword({ userId });\n    },\n    /**\n     * 重置账号密码\n     * @param {String} userId 用户id\n     */\n    ajaxDeleteUser(userId) {\n      return deleteUser({ userId });\n    },\n    /**\n     * 点击重置密码\n     * @param {Object} row table行数据\n     */\n    async onResetPwd(row) {\n      let loading;\n      try {\n        await MessageBox.confirm('确定重置该账号密码?', '提醒', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          center: true\n        });\n        loading = Loading.service({\n          text: '操作中，请稍后...',\n          target: '.app-container'\n        });\n        await this.ajaxResetPassword(row.userId);\n        this.$message.success(`重置账号${row.username}的密码成功`);\n        loading.close();\n      } catch (error) {\n        console.log(error);\n        loading && loading.close();\n      }\n    },\n    /**\n     * 点击删除账号\n     * @param {Object} row table行数据\n     */\n    async onDelAccount(row) {\n      let loading;\n      try {\n        await MessageBox.confirm('确定删除该账号?', '提醒', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          center: true\n        });\n        loading = Loading.service({\n          text: '操作中，请稍后...',\n          target: '.app-container'\n        });\n        await this.ajaxDeleteUser(row.userId);\n        this.$message.success(`删除账号${row.username}成功`);\n        loading.close();\n        this.ajaxGetUserList(); //重新获取账号列表\n      } catch (error) {\n        console.log(error);\n        loading && loading.close();\n      }\n    },\n    /**\n     * 点开新增账号按钮\n     */\n    onAddAccount() {\n      this.addAccountDialog.schoolName = '';\n      this.addAccountDialog.doNext = false;\n      this.addAccountDialog.errorTip = '';\n      this.addAccountDialog.show = true;\n    },\n    /**\n     * 点击确定新增账号\n     */\n    async onSubmitAddAccount() {\n      let { schoolName, doNext } = this.addAccountDialog;\n      if (!schoolName) {\n        this.addAccountDialog.errorTip = '学校名称不能为空！';\n        return;\n      }\n      try {\n        this.addAccountDialog.loading = true;\n        //验证填入的学校名是否已存在\n        let { data } = await this.ajaxVailSchoolName(schoolName);\n        if (!data) {\n          this.addAccountDialog.errorTip = '该学校名称已存在，请勿重复添加！';\n          this.addAccountDialog.loading = false;\n          return;\n        }\n        this.addAccountDialog.errorTip = ''; //置空error-tip\n        await this.ajaxAddUser(schoolName); //调用新增账号接口\n        this.addAccountDialog.loading = false;\n        this.addAccountDialog.schoolName = ''; //置空学校名称\n        this.$message.success('新增账号成功');\n        //未勾选继续新建下一个，则创建完成关闭窗口\n        if (!doNext) {\n          this.addAccountDialog.show = false;\n        }\n        this.ajaxGetUserList(); //刷新用户列表\n      } catch (error) {\n        console.error(error);\n        this.addAccountDialog.loading = false;\n      }\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n/deep/ .el-table td {\n  padding: 6px 0;\n}\n.app-container {\n  .dialog-content {\n    & /deep/ {\n      .item-label {\n        font-size: 14px;\n        line-height: 20px;\n        color: rgba(0, 0, 0, 0.85);\n      }\n      .el-input /deep/ .el-input__inner {\n        margin-top: 12px;\n        height: 36px;\n        line-height: 36px;\n        border-color: rgba(0, 0, 0, 0.45);\n      }\n      .error-tip {\n        margin-top: 8px;\n        height: 17px;\n        line-height: 17px;\n        font-size: 12px;\n        color: #ff4635;\n      }\n      .next-checkbox {\n        margin-top: 20px;\n        /deep/ .el-checkbox__label {\n          color: rgba(0, 0, 0, 0.65);\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}