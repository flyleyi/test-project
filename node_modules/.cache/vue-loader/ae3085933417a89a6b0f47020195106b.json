{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/components/PartnerNormal.vue?vue&type=style&index=0&id=38580498&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/my-visitor/components/PartnerNormal.vue","mtime":1646020538185},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKL2RlZXAvIC52YW4tZmllbGRfX2Vycm9yLW1lc3NhZ2UgewogIG1hcmdpbi10b3A6IDdweDsKICBtYXJnaW4tbGVmdDogLTEycHg7CiAgZm9udC13ZWlnaHQ6IDQwMDsKICBjb2xvcjogI2ZmNTc1NjsKfQovZGVlcC8gLnZhbi1jZWxsIHsKICBvdmVyZmxvdzogdmlzaWJsZTsKfQoudGl0bGUgewogIGxpbmUtaGVpZ2h0OiA2MHB4OwogIHBhZGRpbmctbGVmdDogMThweDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgZm9udC1zaXplOiAxN3B4OwogIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLVJlZ3VsYXIsIFBpbmdGYW5nIFNDOwogIGZvbnQtd2VpZ2h0OiA0MDA7CiAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7CiAgLmJnIHsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgKICAgICAgMjcwZGVnLAogICAgICByZ2JhKDUxLCAxMzYsIDI1NSwgMCkgMCUsCiAgICAgIHJnYmEoNTEsIDEzNiwgMjU1LCAwLjUpIDEwMCUKICAgICk7CiAgICB3aWR0aDogODdweDsKICAgIGhlaWdodDogOXB4OwogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgbGVmdDogMThweDsKICAgIGJvdHRvbTogMThweDsKICB9Cn0KCi5wYXJ0bmVyLWJ0biB7CiAgbWFyZ2luLWxlZnQ6IDE4cHg7CiAgc3BhbiB7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIHdpZHRoOiA3Ni41cHg7CiAgICBoZWlnaHQ6IDMwcHg7CiAgICBsaW5lLWhlaWdodDogMzBweDsKICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICBwYWRkaW5nLWxlZnQ6IDlweDsKICAgIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgICBib3JkZXItcmFkaXVzOiAzcHg7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjMzM4OGZmOwogICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgIGNvbG9yOiAjMzM4OGZmOwogICAgZm9udC1zaXplOiAxM3B4OwogIH0KfQouYWRkZWQtcGFydG5lciB7CiAgcGFkZGluZzogMCAxNHB4OwogIC5wYXJ0bmVyLWl0ZW0gewogICAgYm94LXNoYWRvdzogMHB4IDFweCA1cHggMHB4IHJnYmEoMCwgMCwgMCwgMC4wNik7CiAgICBtYXJnaW4tYm90dG9tOiAxNXB4OwogICAgLml0ZW0taGVhZGVyIHsKICAgICAgLml0ZW0taGVhZGVyLXRvcCB7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICBsaW5lLWhlaWdodDogMjRweDsKICAgICAgICBtaW4taGVpZ2h0OiA0OHB4OwogICAgICB9CgogICAgICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNik7CiAgICAgIHBhZGRpbmc6IDAgMThweDsKICAgICAgZm9udC1zaXplOiAxNXB4OwogICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1NZWRpdW0sIFBpbmdGYW5nIFNDOwogICAgICBmb250LXdlaWdodDogNTAwOwogICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAxMHB4OwogICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogMTBweDsKICAgIH0KICAgIC5pdGVtLXdyYXBwZXIgewogICAgICBiYWNrZ3JvdW5kOiAjZmZmZmZmOwogICAgICBwYWRkaW5nOiAxNXB4IDE4cHg7CiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDEwcHg7CiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxMHB4OwogICAgICAuaGVhbHRoLWltZ0xpc3QgewogICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAuaW1hZ2Utd3JhcHBlciB7CiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDhweDsKICAgICAgICB9CiAgICAgICAgLy8ganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICB9CiAgICB9CiAgICAuc3R1ZGVudC13cmFwcGVyIHsKICAgICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1LCAwLjYpOwogICAgICBib3gtc2hhZG93OiAwcHggMXB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAwLjA2KTsKICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsKICAgICAgcGFkZGluZy1sZWZ0OiAxOHB4OwogICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICAgIH0KICAgIC5zdHVkZW50LWl0ZW0gewogICAgICBsaW5lLWhlaWdodDogNDhweDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgIGZvbnQtZmFtaWx5OiBQaW5nRmFuZ1NDLU1lZGl1bSwgUGluZ0ZhbmcgU0M7CiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICAgIC5zdHVkZW50IHsKICAgICAgICBmb250LXNpemU6IDEzcHg7CiAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsKICAgICAgICBjb2xvcjogIzBjYzA4YzsKICAgICAgICBtYXJnaW4tbGVmdDogMTVweDsKICAgICAgfQogICAgICAucmlnaHQgewogICAgICAgIG1pbi13aWR0aDogNTBweDsKICAgICAgfQogICAgICAuaWROdW1iZXIgewogICAgICAgIG1hcmdpbi1yaWdodDogNXB4OwogICAgICB9CiAgICB9CiAgICAuc3R1ZGVudC1udW1iZXIgewogICAgICBsaW5lLWhlaWdodDogMjRweDsKICAgIH0KICB9Cn0KLmZvcm0td3JhcHBlciB7CiAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgcGFkZGluZy10b3A6IDEwcHg7CiAgLmZvcm0tZGVsZXRlIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHJpZ2h0OiAxNHB4OwogIH0KfQouZm9ybS1jb250YWluZXIgewogIGJhY2tncm91bmQ6ICNmZmZmZmY7CiAgYm94LXNoYWRvdzogMHB4IDFweCAxMHB4IDBweCByZ2JhKDk0LCA5NCwgOTQsIDAuMDgpOwogIHBhZGRpbmc6IDE3cHggMTRweCAxMHB4OwogIG1hcmdpbjogMCAxOHB4Owp9Ci5mb3JtLWxpbmUgewogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIG1hcmdpbi1ib3R0b206IDI0cHg7CiAgLmZvcm0tZXJyb3IgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYm90dG9tOiAtMThweDsKICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICBjb2xvcjogI2ZmNTc1NjsKICAgIGZvbnQtc2l6ZTogMTJweDsKICB9CiAgLmZvcm0taW5wdXQgewogICAgd2lkdGg6IDMxMXB4OwogICAgaGVpZ2h0OiA0MHB4OwogICAgYmFja2dyb3VuZDogI2ZmZmZmZjsKICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNhYmJmZDY7CiAgICBwYWRkaW5nLXRvcDogN3B4OwoKICAgICYuZm9ybS10aW1lIHsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgaGVpZ2h0OiA2NnB4OwogICAgICAuc3RhcnQsCiAgICAgIC5lbmQgewogICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgd2lkdGg6IDE0MHB4OwogICAgICAgIHBhZGRpbmctbGVmdDogMTJweDsKICAgICAgICBmb250LWZhbWlseTogUGluZ0ZhbmdTQy1SZWd1bGFyLCBQaW5nRmFuZyBTQzsKICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgIHAgewogICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC42NSk7CiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAycHg7CiAgICAgICAgICBtYXJnaW4tdG9wOiA4cHg7CiAgICAgICAgfQogICAgICAgIHNwYW4gewogICAgICAgICAgZm9udC1zaXplOiAxN3B4OwogICAgICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC44NSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC5sYWJlbCB7CiAgICAgICAgbGluZS1oZWlnaHQ6IDY2cHg7CiAgICAgICAgd2lkdGg6IDYzcHg7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICB9CiAgICB9CiAgfQp9Ci5jb2RlLWltZy13cmFwcGVyIHsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKfQouYnRuLXNhdmUgewogIHdpZHRoOiAzMzlweDsKICBoZWlnaHQ6IDcycHg7CiAgYm9yZGVyLXJhZGl1czogM3B4OwogIG1hcmdpbjogMCAxOHB4OwogIGJhY2tncm91bmQ6IHJnYmEoNTEsIDEzNiwgMjU1LCAwLjA4KTsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgc3BhbiB7CiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgICB3aWR0aDogMzExcHg7CiAgICBoZWlnaHQ6IDQwcHg7CiAgICBsaW5lLWhlaWdodDogNDBweDsKICAgIG1hcmdpbi10b3A6IDE2cHg7CiAgICBiYWNrZ3JvdW5kOiAjMzM4OGZmOwogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgY29sb3I6ICNmZmY7CiAgICBmb250LXNpemU6IDE3cHg7CiAgfQp9Ci5tZ3I1IHsKICBtYXJnaW4tcmlnaHQ6IDVweDsKfQouY29uZmlybS1idG4gewogIHBvc2l0aW9uOiBmaXhlZDsKICBib3R0b206IDA7CiAgbGVmdDogMTBweDsKICB3aWR0aDogMzU1cHg7CiAgcGFkZGluZy1ib3R0b206IGNvbnN0YW50KHNhZmUtYXJlYS1pbnNldC1ib3R0b20pOwogIHBhZGRpbmctYm90dG9tOiBlbnYoc2FmZS1hcmVhLWluc2V0LWJvdHRvbSk7Cn0KLnBhcnRuZXItbWFpbiB7CiAgd2lkdGg6IDM3NXB4OwogIHBhZGRpbmctYm90dG9tOiA1MHB4Owp9Ci5mb3JtLXdyYXBwZXIgewogIHdpZHRoOiAzNzVweDsKfQo="},{"version":3,"sources":["PartnerNormal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+eA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PartnerNormal.vue","sourceRoot":"src/pages/visitor-h5/views/my-visitor/components","sourcesContent":["<template>\n  <div>\n    <div class=\"partner-main\">\n      <div class=\"title\">\n        添加同行人\n        <div class=\"bg\"></div>\n      </div>\n\n      <div class=\"added-partner\">\n        <ul>\n          <li\n            class=\"partner-item\"\n            v-for=\"(item, index) in partnerList\"\n            :key=\"item.id\"\n          >\n            <div v-if=\"item.isEdit\">\n              <partner-form\n                :personal=\"item\"\n                :editRiskLevel=\"editRiskLevel\"\n                @hideForm=\"hideForm\"\n              ></partner-form>\n            </div>\n            <div v-else>\n              <div v-if=\"item.visitorType == 2\">\n                <div class=\"item-header\">\n                  <div class=\"item-header-top\">\n                    <div class=\"left\">\n                      <span class=\"mgr5\">{{ item.visitorName }}</span>\n                      <span>{{ item.visitorTel }}</span>\n                    </div>\n                    <div class=\"right\">\n                      <van-icon\n                        @click=\"onEdit(item, index)\"\n                        name=\"edit\"\n                        class=\"mgr5\"\n                      />\n                      <van-icon\n                        @click=\"onDelete(item, index)\"\n                        name=\"delete-o\"\n                      />\n                    </div>\n                  </div>\n                  <div>{{ item.visitorDepartureName }}</div>\n                </div>\n                <div class=\"item-wrapper\">\n                  <div class=\"img-item\">\n                    <image-card\n                      v-if=\"item.visitorIdNumberPicture\"\n                      :title=\"item.visitorIdNumber\"\n                      :src=\"item.visitorIdNumberPicture\"\n                    ></image-card>\n\n                    <span v-else>{{ item.visitorIdNumber }}</span>\n                  </div>\n                  <div class=\"health-imgList\">\n                    <image-card\n                      title=\"健康码\"\n                      type=\"3\"\n                      :src=\"item.visitorHealthCode\"\n                    ></image-card>\n                    <image-card\n                      title=\"行程码\"\n                      type=\"3\"\n                      :src=\"item.visitorTravelCode\"\n                    ></image-card>\n                    <image-card\n                      v-if=\"item.visitorNucleicAcidDetection\"\n                      title=\"核酸报告\"\n                      type=\"3\"\n                      :src=\"item.visitorNucleicAcidDetection\"\n                    ></image-card>\n                  </div>\n                </div>\n              </div>\n              <div v-if=\"item.visitorType == 3\" class=\"student-wrapper\">\n                <div class=\"student-item\">\n                  <div class=\"left\">\n                    <span>{{ item.visitorName }}</span>\n                    <span class=\"student\">学生</span>\n                  </div>\n                  <div class=\"right\">\n                    <van-icon\n                      @click=\"onEdit(item, index)\"\n                      name=\"edit\"\n                      class=\"mgr5\"\n                    />\n                    <van-icon @click=\"onDelete(item, index)\" name=\"delete-o\" />\n                  </div>\n                </div>\n                <div class=\"student-number\">\n                  {{ item.visitorIdNumber }}\n                </div>\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n      <div class=\"partner-btn\">\n        <span @click=\"addPartner(2)\">+ 同行人</span>\n        <span @click=\"addPartner(3)\">+ 学生</span>\n      </div>\n    </div>\n    <div v-if=\"add\" class=\"form-wrapper\">\n      <van-icon class=\"form-delete\" @click=\"deletePanel\" name=\"delete-o\" />\n      <van-form\n        class=\"form-container\"\n        ref=\"partnerForm\"\n        v-if=\"personal.visitorType == 2\"\n      >\n        <div class=\"form-line\">\n          <van-field\n            required\n            class=\"form-input\"\n            v-model=\"personal.visitorName\"\n            name=\"visitorName\"\n            placeholder=\"同行人姓名\"\n            maxlength=\"20\"\n            :rules=\"[{ required: true, message: '请填写同行人姓名' }]\"\n          />\n        </div>\n        <div class=\"form-line\">\n          <van-field\n            required\n            class=\"form-input\"\n            v-model=\"personal.visitorTel\"\n            name=\"visitorTel\"\n            placeholder=\"手机号码\"\n            maxlength=\"11\"\n            :rules=\"[{ required: true, message: '请填写手机号码' }]\"\n          />\n        </div>\n        <div class=\"form-line\">\n          <card-input\n            :initActive=\"personal.visitorIdType\"\n            @setCardType=\"setCardType($event, personal)\"\n          ></card-input>\n          <van-field\n            required\n            maxlength=\"18\"\n            class=\"form-input\"\n            v-model=\"personal.visitorIdNumber\"\n            name=\"visitorIdNumber\"\n            type=\"tel\"\n            placeholder=\"证件号\"\n            :rules=\"[{ required: true, message: '请输入证件号' }]\"\n          />\n        </div>\n        <div class=\"form-line\">\n          <van-field\n            required\n            readonly\n            class=\"form-input form-place\"\n            v-model=\"personal.visitorDepartureName\"\n            placeholder=\"请选择出发地\"\n            right-icon=\"arrow\"\n            @click=\"gotoDeparturePlace\"\n          >\n            <template #button>\n              <span\n                class=\"riskTab\"\n                :style=\"{ float: 'right', color: riskColorObj[riskLevel] }\"\n                >{{ riskLevelObj[riskLevel] }}</span\n              >\n            </template>\n          </van-field>\n        </div>\n        <div class=\"form-line\">\n          <image-upload\n            :imgUrl=\"personal.visitorIdNumberPicture\"\n            @backUrlData=\"setVisitorIdNumberPicture($event)\"\n            @deleteImg=\"delVisitorIdNumberPicture\"\n          ></image-upload>\n          <!-- <span\n            v-if=\"!personal.visitorIdNumberPicture && confirmSave\"\n            class=\"form-error\"\n            >访客证件未上传</span\n          > -->\n        </div>\n        <div class=\"form-line\">\n          <div class=\"code-img-wrapper\">\n            <div>\n              <health-upload\n                title=\"+健康码\"\n                :src=\"healthImg\"\n                :imgUrl=\"personal.visitorHealthCode\"\n                @backUrlData=\"getHealthCode($event)\"\n                @deleteImg=\"delHealthCode\"\n              ></health-upload>\n              <span\n                v-if=\"!personal.visitorHealthCode && confirmSave\"\n                class=\"form-error\"\n                >健康码未上传</span\n              >\n            </div>\n            <div>\n              <health-upload\n                title=\"+行程码\"\n                :src=\"tourImg\"\n                :imgUrl=\"personal.visitorTravelCode\"\n                @backUrlData=\"getTravelCode($event)\"\n                @deleteImg=\"delTravelCode\"\n              ></health-upload>\n              <span\n                v-if=\"!personal.visitorTravelCode && confirmSave\"\n                class=\"form-error\"\n                >行程码未上传</span\n              >\n            </div>\n\n            <health-upload\n              title=\"+核酸报告\"\n              :showRequire=\"false\"\n              :src=\"acidReportImg\"\n              :imgUrl=\"personal.visitorNucleicAcidDetection\"\n              @backUrlData=\"getNucleicAcidDetection($event)\"\n              @deleteImg=\"delNucleicAcidDetection\"\n            ></health-upload>\n          </div>\n        </div>\n      </van-form>\n      <van-form\n        ref=\"partnerForm\"\n        class=\"form-container\"\n        v-if=\"personal.visitorType == 3\"\n      >\n        <div class=\"form-line\">\n          <van-field\n            required\n            class=\"form-input\"\n            v-model=\"personal.visitorName\"\n            name=\"visitorName\"\n            placeholder=\"请输入学生姓名\"\n            maxlength=\"20\"\n            :rules=\"[{ required: true, message: '请填写学生姓名' }]\"\n          />\n        </div>\n        <div class=\"form-line\">\n          <card-input\n            :initActive=\"personal.visitorIdType\"\n            @setCardType=\"setCardType($event, personal)\"\n          ></card-input>\n          <van-field\n            required\n            maxlength=\"18\"\n            class=\"form-input\"\n            v-model=\"personal.visitorIdNumber\"\n            name=\"visitorIdNumber\"\n            type=\"tel\"\n            placeholder=\"证件号\"\n            :rules=\"[{ required: true, message: '请输入证件号' }]\"\n          />\n        </div>\n      </van-form>\n      <div class=\"btn-save\">\n        <span @click=\"onSave(personal)\">提交</span>\n      </div>\n    </div>\n    <div v-else class=\"confirm-btn\">\n      <van-button type=\"info\" size=\"large\" @click=\"confirm\">\n        确定\n      </van-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { riskLevelObj } from '@/pages/visitor-h5/views/my-visitor/common';\nimport { areaQuery } from '@/pages/visitor-h5/api/myVisitor';\nimport eventBus from '@/pages/visitor-h5/plugins/common/eventBus.js';\nimport imageCard from '../../audit/components/imageCard';\nimport partnerForm from './PartnerForm';\nimport imageUpload from './ImageUpload';\nimport healthUpload from './HealthUpload';\nimport cardInput from './CardInput';\nimport healthImg from '@/pages/visitor-h5/assets/images/my-visitor/health-code.png';\nimport tourImg from '@/pages/visitor-h5/assets/images/my-visitor/tour-code.png';\nimport acidReportImg from '@/pages/visitor-h5/assets/images/my-visitor/acid-report.png';\nexport default {\n  components: {\n    imageCard,\n    partnerForm,\n    imageUpload,\n    healthUpload,\n    cardInput\n  },\n  data() {\n    return {\n      healthImg,\n      tourImg,\n      acidReportImg,\n      confirmSave: false,\n      add: false,\n      personal: {\n        visitorType: '',\n        visitorName: '',\n        visitorTel: '',\n        visitorWorkUnit: '',\n        visitorIdNumber: '',\n        visitorIdNumberPicture: '',\n        visitorHealthCode: '',\n        visitorTravelCode: '',\n        visitorNucleicAcidDetection: '',\n        visitorDepartureCode: '',\n        visitorDepartureName: ''\n      },\n      partnerList: [],\n      editIndex: 0, //正在编辑的同行人\n      riskLevel: '',\n      riskLevelObj: riskLevelObj(),\n      riskColorObj: {\n        '1': 'rgba(0, 0, 0, 0.85)',\n        '2': '#FF9A00',\n        '3': '#FF5756'\n      },\n      editRiskLevel: ''\n    };\n  },\n  methods: {\n    init() {\n      this.confirmSave = false;\n      this.riskLevel = '';\n      this.editRiskLevel = '';\n      this.personal = {\n        visitorType: '',\n        visitorName: '',\n        visitorTel: '',\n        visitorWorkUnit: '',\n        visitorIdNumber: '',\n        visitorIdNumberPicture: '',\n        visitorHealthCode: '',\n        visitorTravelCode: '',\n        visitorNucleicAcidDetection: '',\n        visitorDepartureCode: '',\n        visitorDepartureName: '',\n        visitorIdType: 0\n      };\n    },\n    addPartner(type) {\n      this.init();\n      this.riskLevel = '';\n      if (this.partnerList.length > 0) {\n        if (this.partnerList[this.editIndex]) {\n          this.$set(this.partnerList[this.editIndex], 'isEdit', false);\n        }\n      }\n      this.editIndex = '';\n      this.personal.visitorType = type;\n      this.add = true;\n    },\n    hideForm(item) {\n      this.$set(item, 'isEdit', false);\n    },\n    async onEdit(item, index) {\n      this.add = false;\n      if (this.partnerList.length > 0) {\n        if (this.partnerList[this.editIndex]) {\n          this.$set(this.partnerList[this.editIndex], 'isEdit', false);\n        }\n      }\n      this.editIndex = index;\n      await this.areaQuery({ code: item.visitorDepartureCode });\n      this.$set(item, 'isEdit', true);\n    },\n    onDelete(item, index) {\n      this.$dialog\n        .confirm({\n          title: '',\n          message: '确认删除该同行人信息',\n          confirmButtonText: '删除',\n          confirmButtonColor: '#FF5756'\n        })\n        .then(() => {\n          this.partnerList.splice(index, 1);\n          this.init();\n        })\n        .catch(() => {\n          // on cancel\n        });\n    },\n    setVisitorIdNumberPicture(value) {\n      this.$set(this.personal, 'visitorIdNumberPicture', value[0]);\n    },\n    delVisitorIdNumberPicture() {\n      this.$set(this.personal, 'visitorIdNumberPicture', '');\n    },\n    setCardType(type, item) {\n      this.$set(item, 'visitorIdType', type);\n    },\n    getHealthCode(value) {\n      this.$set(this.personal, 'visitorHealthCode', value[0]);\n    },\n    delHealthCode() {\n      this.$set(this.personal, 'visitorHealthCode', '');\n    },\n    getTravelCode(value) {\n      this.$set(this.personal, 'visitorTravelCode', value[0]);\n    },\n    delTravelCode() {\n      this.$set(this.personal, 'visitorTravelCode', '');\n    },\n    getNucleicAcidDetection(value) {\n      this.$set(this.personal, 'visitorNucleicAcidDetection', value[0]);\n    },\n    delNucleicAcidDetection() {\n      this.$set(this.personal, 'visitorNucleicAcidDetection', '');\n    },\n    onSave(personal) {\n      this.confirmSave = true;\n      this.$refs.partnerForm.validate().then(res => {\n        if (personal.visitorType == 2) {\n          if (\n            // !this.personal.visitorIdNumberPicture ||\n            !this.personal.visitorHealthCode ||\n            !this.personal.visitorTravelCode\n          ) {\n            return;\n          }\n        }\n        this.partnerList.push(personal);\n        this.add = false;\n        this.init();\n      });\n    },\n    confirm() {\n      eventBus.$emit('setPartner', this.partnerList);\n      localStorage.removeItem('partnerList');\n      // this.$router.go(-1);\n      this.init();\n      eventBus.$emit('setcurType', this.$route.query.type);\n      this.$router.go(-1);\n    },\n    deletePanel() {\n      this.add = false;\n      this.init();\n    },\n    gotoDeparturePlace() {\n      this.$router.push('/departure-place');\n    },\n    areaQuery(param) {\n      // visitorDepartureCode riskLevel\n      areaQuery(param).then(res => {\n        this.riskLevel = res.data.riskLevel || '';\n        // if (this.editIndex) {\n        this.editRiskLevel = res.data.riskLevel || '';\n        console.log(5555555, this.editRiskLevel);\n        // }\n      });\n    },\n    setInfo() {\n      let partnerList = JSON.parse(localStorage.getItem('partnerList'));\n      if (partnerList && partnerList.length > 0) {\n        this.partnerList = partnerList;\n      }\n\n      // 清空同行人数据\n      if (localStorage.getItem('clearPartner') == 'clear') {\n        this.partnerList = [];\n        localStorage.removeItem('clearPartner');\n      }\n      eventBus.$off('selectDeparturePlace');\n      eventBus.$on('selectDeparturePlace', (fieldValue, fieldCode) => {\n        this.$set(this.personal, 'visitorDepartureCode', fieldCode);\n        this.$set(this.personal, 'visitorDepartureName', fieldValue);\n        this.areaQuery({ code: fieldCode });\n        if (this.editIndex) {\n          setTimeout(() => {\n            this.$set(\n              this.partnerList[this.editIndex],\n              'visitorDepartureCode',\n              fieldCode\n            );\n            this.$set(\n              this.partnerList[this.editIndex],\n              'visitorDepartureName',\n              fieldValue\n            );\n            this.$set(this.partnerList[this.editIndex], 'isEdit', true);\n          });\n        }\n      });\n    }\n  },\n\n  activated() {\n    console.log(55555555, this.editIndex);\n    // this.partnerList = [];\n    this.setInfo();\n  },\n  mounted() {\n    this.setInfo();\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n/deep/ .van-field__error-message {\n  margin-top: 7px;\n  margin-left: -12px;\n  font-weight: 400;\n  color: #ff5756;\n}\n/deep/ .van-cell {\n  overflow: visible;\n}\n.title {\n  line-height: 60px;\n  padding-left: 18px;\n  position: relative;\n  font-size: 17px;\n  font-family: PingFangSC-Regular, PingFang SC;\n  font-weight: 400;\n  color: rgba(0, 0, 0, 0.85);\n  .bg {\n    background: linear-gradient(\n      270deg,\n      rgba(51, 136, 255, 0) 0%,\n      rgba(51, 136, 255, 0.5) 100%\n    );\n    width: 87px;\n    height: 9px;\n    position: absolute;\n    left: 18px;\n    bottom: 18px;\n  }\n}\n\n.partner-btn {\n  margin-left: 18px;\n  span {\n    display: block;\n    width: 76.5px;\n    height: 30px;\n    line-height: 30px;\n    margin-bottom: 15px;\n    padding-left: 9px;\n    background: #ffffff;\n    border-radius: 3px;\n    border: 1px solid #3388ff;\n    font-weight: 400;\n    color: #3388ff;\n    font-size: 13px;\n  }\n}\n.added-partner {\n  padding: 0 14px;\n  .partner-item {\n    box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.06);\n    margin-bottom: 15px;\n    .item-header {\n      .item-header-top {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        line-height: 24px;\n        min-height: 48px;\n      }\n\n      background: rgba(255, 255, 255, 0.6);\n      padding: 0 18px;\n      font-size: 15px;\n      font-family: PingFangSC-Medium, PingFang SC;\n      font-weight: 500;\n      border-top-left-radius: 10px;\n      border-top-right-radius: 10px;\n    }\n    .item-wrapper {\n      background: #ffffff;\n      padding: 15px 18px;\n      border-bottom-left-radius: 10px;\n      border-bottom-right-radius: 10px;\n      .health-imgList {\n        margin-top: 15px;\n        display: flex;\n        .image-wrapper {\n          margin-right: 8px;\n        }\n        // justify-content: space-between;\n      }\n    }\n    .student-wrapper {\n      background: rgba(255, 255, 255, 0.6);\n      box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.06);\n      border-radius: 10px;\n      padding-left: 18px;\n      padding-bottom: 10px;\n    }\n    .student-item {\n      line-height: 48px;\n      display: flex;\n      justify-content: space-between;\n      font-size: 15px;\n      font-family: PingFangSC-Medium, PingFang SC;\n      font-weight: 500;\n      .student {\n        font-size: 13px;\n        font-weight: 400;\n        color: #0cc08c;\n        margin-left: 15px;\n      }\n      .right {\n        min-width: 50px;\n      }\n      .idNumber {\n        margin-right: 5px;\n      }\n    }\n    .student-number {\n      line-height: 24px;\n    }\n  }\n}\n.form-wrapper {\n  background: #ffffff;\n  position: relative;\n  padding-top: 10px;\n  .form-delete {\n    position: absolute;\n    right: 14px;\n  }\n}\n.form-container {\n  background: #ffffff;\n  box-shadow: 0px 1px 10px 0px rgba(94, 94, 94, 0.08);\n  padding: 17px 14px 10px;\n  margin: 0 18px;\n}\n.form-line {\n  box-sizing: border-box;\n  position: relative;\n  margin-bottom: 24px;\n  .form-error {\n    position: absolute;\n    bottom: -18px;\n    font-weight: 400;\n    color: #ff5756;\n    font-size: 12px;\n  }\n  .form-input {\n    width: 311px;\n    height: 40px;\n    background: #ffffff;\n    border-radius: 5px;\n    border: 1px solid #abbfd6;\n    padding-top: 7px;\n\n    &.form-time {\n      display: flex;\n      height: 66px;\n      .start,\n      .end {\n        box-sizing: border-box;\n        width: 140px;\n        padding-left: 12px;\n        font-family: PingFangSC-Regular, PingFang SC;\n        font-weight: 400;\n        p {\n          font-size: 14px;\n          color: rgba(0, 0, 0, 0.65);\n          margin-bottom: 2px;\n          margin-top: 8px;\n        }\n        span {\n          font-size: 17px;\n          color: rgba(0, 0, 0, 0.85);\n        }\n      }\n      .label {\n        line-height: 66px;\n        width: 63px;\n        text-align: center;\n      }\n    }\n  }\n}\n.code-img-wrapper {\n  display: flex;\n  justify-content: space-between;\n}\n.btn-save {\n  width: 339px;\n  height: 72px;\n  border-radius: 3px;\n  margin: 0 18px;\n  background: rgba(51, 136, 255, 0.08);\n  text-align: center;\n  span {\n    display: inline-block;\n    width: 311px;\n    height: 40px;\n    line-height: 40px;\n    margin-top: 16px;\n    background: #3388ff;\n    border-radius: 3px;\n    color: #fff;\n    font-size: 17px;\n  }\n}\n.mgr5 {\n  margin-right: 5px;\n}\n.confirm-btn {\n  position: fixed;\n  bottom: 0;\n  left: 10px;\n  width: 355px;\n  padding-bottom: constant(safe-area-inset-bottom);\n  padding-bottom: env(safe-area-inset-bottom);\n}\n.partner-main {\n  width: 375px;\n  padding-bottom: 50px;\n}\n.form-wrapper {\n  width: 375px;\n}\n</style>\n"]}]}