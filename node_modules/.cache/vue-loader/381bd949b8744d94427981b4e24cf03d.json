{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/views/system/Organization/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/sims/views/system/Organization/index.vue","mtime":1645178321195},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DVGFibGUnOwppbXBvcnQgQ0R5bmFtaWNGb3JtIGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vQ0R5bmFtaWNGb3JtL2luZGV4JzsKaW1wb3J0IHsgQ2hlY2tib3gsIExpbmssIElucHV0LCBEaWFsb2cgfSBmcm9tICdlbGVtZW50LXVpJzsKaW1wb3J0IHsKICBxdWVyeUFsbExpc3QsCiAgaW5zZXJ0T3JnLAogIHVwZGF0ZU9yZwp9IGZyb20gJy4uLy4uLy4uL2FwaS9zeXN0ZW0vb3JnYW5pemF0aW9uJzsKaW1wb3J0IHsgcXVlcnlTY2hvb2xJbmZvTGlzdCB9IGZyb20gJy4uLy4uLy4uL2FwaS9zY2hvb2wvaW5kZXgnOwppbXBvcnQgdXRpbHMgZnJvbSAnQC9wbHVnaW5zL2NvbW1vbi91dGlscyc7CmltcG9ydCB7CiAgZm9ybWF0TnVsbFZhbHVlLAogIGZvcm1hdEFtb3VudFZhbHVlLAogIGZvcm1hdFN0YXR1c1ZhbHVlCn0gZnJvbSAnLi4vLi4vLi4vcGx1Z2lucy92dWUtZmlsdGVycyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYXJnaW5nUHJvamVjdHMnLAogIGNvbXBvbmVudHM6IHsKICAgIFtDVGFibGUubmFtZV06IENUYWJsZSwKICAgIFtDaGVja2JveC5uYW1lXTogQ2hlY2tib3gsCiAgICBbTGluay5uYW1lXTogTGluaywKICAgIFtJbnB1dC5uYW1lXTogSW5wdXQsCiAgICBbRGlhbG9nLm5hbWVdOiBEaWFsb2csCiAgICBDRHluYW1pY0Zvcm0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICAvLyDmoJHmlbDmja4KICAgICAgdHJlZURhdGE6IFtdLAogICAgICAvLyDooajmoLzliJfphY3nva4KICAgICAgaGVhZGVyczogWwogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5bqP5Y+3JywKICAgICAgICAgIHByb3A6ICdzZXJpYWxOdW1iZXInLAogICAgICAgICAgcmVzaXphYmxlOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfmnLrmnoTlkI3np7AnLAogICAgICAgICAgcHJvcDogJ29yZ2FuaXphdGlvbk5hbWUnLAogICAgICAgICAgcmVzaXphYmxlOiBmYWxzZQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfmnLrmnoTku6PnoIEnLAogICAgICAgICAgcHJvcDogJ29yZ2FuaXphdGlvbkNvZGUnLAogICAgICAgICAgd2lkdGg6ICcxMDBweCcsCiAgICAgICAgICByZXNpemFibGU6IGZhbHNlCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+aJgOWxnuWtpuagoScsCiAgICAgICAgICBwcm9wOiAnbmV3U2Nob29sTmFtZScsCiAgICAgICAgICByZXNpemFibGU6IGZhbHNlLAogICAgICAgICAgZm9ybWF0dGVyOiAocm93LCBjb2wsIHZhbCkgPT4KICAgICAgICAgICAgIXZhbCA/IGZvcm1hdE51bGxWYWx1ZSh2YWwpIDogZm9ybWF0QW1vdW50VmFsdWUodmFsKQogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgbGFiZWw6ICfmnLrmnoTmj4/ov7AnLAogICAgICAgICAgcHJvcDogJ29yZ2FuaXphdGlvbkRlc2MnLAogICAgICAgICAgcmVzaXphYmxlOiBmYWxzZSwKICAgICAgICAgIGZvcm1hdHRlcjogKHJvdywgY29sLCB2YWwpID0+CiAgICAgICAgICAgICF2YWwgPyBmb3JtYXROdWxsVmFsdWUodmFsKSA6IGZvcm1hdEFtb3VudFZhbHVlKHZhbCkKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGxhYmVsOiAn5oql6KGo5o6S5bqPJywKICAgICAgICAgIHByb3A6ICduZXdTb3J0JywKICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2UsCiAgICAgICAgICBmb3JtYXR0ZXI6IChyb3csIGNvbCwgdmFsKSA9PgogICAgICAgICAgICAhdmFsID8gZm9ybWF0TnVsbFZhbHVlKHZhbCkgOiBmb3JtYXRBbW91bnRWYWx1ZSh2YWwpCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+eKtuaAgScsCiAgICAgICAgICBwcm9wOiAnc3RhdHVzJywKICAgICAgICAgIHJlc2l6YWJsZTogZmFsc2UsCiAgICAgICAgICBmb3JtYXR0ZXI6IChyb3csIGNvbCwgdmFsKSA9PiBmb3JtYXRTdGF0dXNWYWx1ZSh2YWwpCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBsYWJlbDogJ+aTjeS9nCcsCiAgICAgICAgICBjb2xUeXBlOiAnY29sdW1uJywKICAgICAgICAgIHdpZHRoOiAnMTUwcHgnLAogICAgICAgICAgZml4ZWQ6ICdyaWdodCcsCiAgICAgICAgICByZXNpemFibGU6IGZhbHNlCiAgICAgICAgfQogICAgICBdLAogICAgICAvL+W8ueeql+ihqOWNlQogICAgICBkaWFsb2dGb3JtOiB7CiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgICAvLyDooajljZXmj5DkuqTkuK0KICAgICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgICAvLyDmmK/lkKbkuLrkuIDnuqfmnLrmnoQKICAgICAgICBpc0ZpcnN0OiB0cnVlCiAgICAgIH0sCiAgICAgIC8v5by556qX6KGo5Y2V5bGe5oCnCiAgICAgIGRpYWxvZ0Zvcm1BdHRyczogewogICAgICAgICdsYWJlbC1wb3NpdGlvbic6ICdyaWdodCcsCiAgICAgICAgJ2xhYmVsLXdpZHRoJzogJzExMHB4JywKICAgICAgICBydWxlczogewogICAgICAgICAgb3JnYW5pemF0aW9uTmFtZTogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfmnLrmnoTlkI3np7DmnKrloavlhpknCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICAgICAgICBtYXg6IDIwLAogICAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5py65p6E5ZCN56ew5LiN6LaF6L+HMjDkuKrlrZcnCiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBvcmdhbml6YXRpb25Db2RlOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+acuuaehOS7o+eggeacquWhq+WGmScKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIHBhdHRlcm46IC9eXGR7MCwyMH0kLywKICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+acuuaehOS7o+eggeivt+i+k+WFpeiHqueEtuaVsO+8jOmVv+W6puS4jei2hei/hzIw5L2N5pWwJwogICAgICAgICAgICB9CiAgICAgICAgICBdLAogICAgICAgICAgZGVwYXJ0U29ydDogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgcGF0dGVybjogL15bMS05XVswLTldezAsMn0kLywKICAgICAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicsCiAgICAgICAgICAgICAgbWVzc2FnZTogJ+aKpeihqOaOkuW6j+ivt+i+k+WFpeato+aVtOaVsO+8jOmVv+W6puS4jei2hei/hzPkvY3mlbAnCiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBvcmdhbml6YXRpb25EZXNjOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICB0eXBlOiAnc3RyaW5nJywKICAgICAgICAgICAgICBtYXg6IDUwLAogICAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgICAgICBtZXNzYWdlOiAn5py65p6E5o+P6L+w5LiN6LaF6L+HNTDkuKrlrZcnCiAgICAgICAgICAgIH0KICAgICAgICAgIF0sCiAgICAgICAgICBzdGF0dXM6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICAgIHRyaWdnZXI6ICdjaGFuZ2UnLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICfnirbmgIHmnKrloavlhpknCiAgICAgICAgICAgIH0KICAgICAgICAgIF0KICAgICAgICB9CiAgICAgIH0sCiAgICAgIC8v5by556qX6KGo5Y2V6buY6K6k5YC877yI57yW6L6R5pe25Lyg5YWl77yJCiAgICAgIGRpYWxvZ0Zvcm1EYXRhOiB7fSwKICAgICAgLy8g5YiX6KGo5Yqg6L295LitCiAgICAgIHRhYmxlTG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5by55qGG5qCH6aKYCiAgICBkaWFsb2dUaXRsZSgpIHsKICAgICAgaWYgKHRoaXMuZGlhbG9nRm9ybS5pc0VkaXQpIHsKICAgICAgICByZXR1cm4gdGhpcy5kaWFsb2dGb3JtLmlzRmlyc3QgPyAn57yW6L6R5LiA57qn5py65p6EJyA6ICfnvJbovpHlrZDmnLrmnoQnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB0aGlzLmRpYWxvZ0Zvcm0uaXNGaXJzdCA/ICfmlrDlop7kuIDnuqfmnLrmnoQnIDogJ+aWsOWinuWtkOacuuaehCc7CiAgICAgIH0KICAgIH0sCiAgICAvLyDnqpfooajljZXlrZDpobkKICAgIGRpYWxvZ0Zvcm1JdGVtcygpIHsKICAgICAgLy8g5a2Q5py65p6ECiAgICAgIGxldCBpdGVtcyA9IFsKICAgICAgICB7CiAgICAgICAgICB0eXBlOiAnc2VsZWN0JywKICAgICAgICAgIHByb3A6ICdzY2hvb2xDb2RlJywKICAgICAgICAgIGxhYmVsOiAn5omA5bGe5a2m5qCh77yaJywKICAgICAgICAgIHZhbHVlS2V5OiAnc2Nob29sQ29kZScsCiAgICAgICAgICBsYWJlbEtleTogJ3NjaG9vbE5hbWUnLAogICAgICAgICAgbGFiZWxQcm9wOiAnc2Nob29sTmFtZScsCiAgICAgICAgICBhamF4OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5U2Nob29sSW5mb0xpc3QoeyBjb2RlVHlwZTogMiB9KS50aGVuKGRhdGEgPT4gZGF0YS5kYXRhKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBwcm9wOiAnZGVwYXJ0U29ydCcsCiAgICAgICAgICBsYWJlbDogJ+aKpeihqOaOkuW6j++8micsCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICBtYXhsZW5ndGg6IDMKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIF07CiAgICAgIGxldCBvdGhlckl0ZW1zID0gdGhpcy5kaWFsb2dGb3JtLmlzRmlyc3QgPyBbXSA6IGl0ZW1zOwogICAgICBsZXQgZGlhbG9nRm9ybUl0ZW1zID0gWwogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdpbnB1dCcsCiAgICAgICAgICBwcm9wOiAnb3JnYW5pemF0aW9uTmFtZScsCiAgICAgICAgICBsYWJlbDogJ+acuuaehOWQjeensO+8micsCiAgICAgICAgICBhdHRyczogewogICAgICAgICAgICBtYXhsZW5ndGg6IDIwCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB0eXBlOiAnaW5wdXQnLAogICAgICAgICAgcHJvcDogJ29yZ2FuaXphdGlvbkNvZGUnLAogICAgICAgICAgbGFiZWw6ICfmnLrmnoTku6PnoIHvvJonLAogICAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICAgbWF4bGVuZ3RoOiAyMCwKICAgICAgICAgICAgZGlzYWJsZWQ6IHRoaXMuZGlhbG9nRm9ybS5pc0VkaXQKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC4uLm90aGVySXRlbXMsCiAgICAgICAgewogICAgICAgICAgdHlwZTogJ2lucHV0JywKICAgICAgICAgIHByb3A6ICdvcmdhbml6YXRpb25EZXNjJywKICAgICAgICAgIGxhYmVsOiAn5py65p6E5o+P6L+w77yaJywKICAgICAgICAgIGF0dHJzOiB7CiAgICAgICAgICAgIHR5cGU6ICd0ZXh0YXJlYScsCiAgICAgICAgICAgIG1heGxlbmd0aDogNTAsCiAgICAgICAgICAgIHNob3dXb3JkTGltaXQ6IHRydWUKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHR5cGU6ICdzZWxlY3QnLAogICAgICAgICAgcHJvcDogJ3N0YXR1cycsCiAgICAgICAgICBsYWJlbDogJ+eKtuaAge+8micsCiAgICAgICAgICBvcHRpb25zOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICBsYWJlbDogJ+WQr+eUqCcsCiAgICAgICAgICAgICAgdmFsdWU6IHRydWUKICAgICAgICAgICAgfSwKICAgICAgICAgICAgewogICAgICAgICAgICAgIGxhYmVsOiAn56aB55SoJywKICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UKICAgICAgICAgICAgfQogICAgICAgICAgXQogICAgICAgIH0KICAgICAgXTsKICAgICAgcmV0dXJuIGRpYWxvZ0Zvcm1JdGVtczsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmFqYXhHZXREYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKICAgICAqIOaWsOWinuS4gOe6p+acuuaehC/lrZDmnLrmnoQKICAgICAqIEBwYXJhbSB7IE51bWJlciB9IHBhcmVudENvZGUs5LiA57qn5py65p6E5Lyg5YWl5Y+C5pWw5Li6IC0xO+WtkOacuuaehOS8oOWFpeWPguaVsOS4uiBpZAogICAgICogQHBhcmFtIHsgQm9vbGVhbn0gaXNGaXJzdCwgdHJ1ZeS4uuS4gOe6p+acuuaehO+8m2ZhbHNl5Li65a2Q5py65p6ECiAgICAgKi8KICAgIG9uQWRkUHJvamVjdChpc0ZpcnN0LCBwYXJlbnRDb2RlKSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybS5pc0ZpcnN0ID0gaXNGaXJzdDsKICAgICAgdGhpcy5kaWFsb2dGb3JtLmlzRWRpdCA9IGZhbHNlOwogICAgICB0aGlzLmRpYWxvZ0Zvcm0udmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuaW5pdERpYWxvZ0Zvcm1EYXRhKHsKICAgICAgICBwYXJlbnRPcmdhbml6YXRpb25Db2RlOiBwYXJlbnRDb2RlLAogICAgICAgIHN0YXR1czogdHJ1ZQogICAgICB9KTsKICAgIH0sCiAgICAvKioKICAgICAqIOeCueWHu+e8lui+keacuuaehAogICAgICogQHBhcmFtIHsqfSBpdGVtIOacuuaehAogICAgICovCiAgICBvbkNsaWNrRWRpdFByb2plY3QoaXRlbSkgewogICAgICB0aGlzLmRpYWxvZ0Zvcm0uaXNGaXJzdCA9IGl0ZW0ucGFyZW50T3JnYW5pemF0aW9uQ29kZSA9PT0gJy0xJzsKICAgICAgdGhpcy5kaWFsb2dGb3JtLmlzRWRpdCA9IHRydWU7CiAgICAgIHRoaXMuZGlhbG9nRm9ybS52aXNpYmxlID0gdHJ1ZTsKICAgICAgdGhpcy5pbml0RGlhbG9nRm9ybURhdGEoaXRlbSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDkv53lrZjjgIHnvJbovpHmnLrmnoQKICAgICAqIEBwYXJhbSB7Kn0gaXRlbSDmnLrmnoQKICAgICAqLwogICAgb25DbGlja1NhdmVQcm9qZWN0KCkgewogICAgICAvLyDmoKHpqozooajljZUKICAgICAgdGhpcy4kcmVmc1snZWxGb3JtJ10udmFsaWRhdGUoKS50aGVuKCgpID0+IHsKICAgICAgICAvLyDmoKHpqozmiJDlip8KICAgICAgICB0aGlzLmRpYWxvZ0Zvcm0ubG9hZGluZyA9IHRydWU7CiAgICAgICAgZGVsZXRlIHRoaXMuZGlhbG9nRm9ybURhdGEubmV3U29ydDsKICAgICAgICBkZWxldGUgdGhpcy5kaWFsb2dGb3JtRGF0YS5uZXdTY2hvb2xOYW1lOwogICAgICAgIGlmICghdGhpcy5kaWFsb2dGb3JtLmlzRWRpdCkgewogICAgICAgICAgaW5zZXJ0T3JnKHRoaXMuZGlhbG9nRm9ybURhdGEpCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aTjeS9nOaIkOWKnycpOwogICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybS52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgICAgICAgdGhpcy5hamF4R2V0RGF0YSgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5kaWFsb2dGb3JtLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHVwZGF0ZU9yZyh0aGlzLmRpYWxvZ0Zvcm1EYXRhKQogICAgICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmk43kvZzmiJDlip8nKTsKICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0Zvcm0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuYWpheEdldERhdGEoKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuZGlhbG9nRm9ybS5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLyoqCiAgICAgKiDngrnlh7vlj5bmtojnvJbovpEKICAgICAqIEBwYXJhbSB7Kn0gaXRlbSDmnLrmnoQKICAgICAqLwogICAgb25DbGlja0NhbmNlbEVkaXQoaXRlbSkge30sCiAgICAvL+ihqOWNleWFs+mXreWJjea4hemZpOagoemqjOW5tumHjee9ruaVsOaNrgogICAgb25DbG9zZUZvcm0oKSB7CiAgICAgIHRoaXMuaW5pdERpYWxvZ0Zvcm1EYXRhKCk7CiAgICAgIHRoaXMuJHJlZnNbJ2VsRm9ybSddLnJlc2V0RmllbGRzKCk7CiAgICB9LAoKICAgIC8qKgogICAgICog6K+35rGCdGFibGXmlbDmja4KICAgICAqLwogICAgYWpheEdldERhdGEoKSB7CiAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gdHJ1ZTsKICAgICAgcmV0dXJuIHF1ZXJ5QWxsTGlzdCh7CiAgICAgICAgaXNEZWxldGVkOiBmYWxzZQogICAgICB9KQogICAgICAgIC50aGVuKCh7IGRhdGEgfSkgPT4gewogICAgICAgICAgLy8g5YiX6KGo6L2s5qCR5b2i5pWw5o2uCiAgICAgICAgICBsZXQgdHJlZSA9IHV0aWxzLmxpc3RDb252ZXJ0VHJlZSgKICAgICAgICAgICAgZGF0YSwKICAgICAgICAgICAgJ29yZ2FuaXphdGlvbkNvZGUnLAogICAgICAgICAgICAncGFyZW50T3JnYW5pemF0aW9uQ29kZScsCiAgICAgICAgICAgIGZhbHNlCiAgICAgICAgICApOwogICAgICAgICAgdHJlZS5mb3JFYWNoKChwYXJlbnQsIGluZGV4KSA9PiB7CiAgICAgICAgICAgIGluZGV4ICs9IDE7CiAgICAgICAgICAgIHBhcmVudC5zZXJpYWxOdW1iZXIgPSBpbmRleDsKICAgICAgICAgICAgcGFyZW50Lm5ld1NvcnQgPSBudWxsOwogICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwYXJlbnQuY2hpbGRyZW4pKSB7CiAgICAgICAgICAgICAgcGFyZW50Lm5ld1NjaG9vbE5hbWUgPSAnLSc7CiAgICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLmZvckVhY2goKGl0ZW0sIGkpID0+IHsKICAgICAgICAgICAgICAgIGl0ZW0uc2VyaWFsTnVtYmVyID0gaW5kZXggKyAnLicgKyAoaSArIDEpOwogICAgICAgICAgICAgICAgaXRlbS5uZXdTb3J0ID0gaXRlbS5kZXBhcnRTb3J0OwogICAgICAgICAgICAgICAgaXRlbS5uZXdTY2hvb2xOYW1lID0gaXRlbS5zY2hvb2xOYW1lOwogICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbS5jaGlsZHJlbikpIHsKICAgICAgICAgICAgICAgICAgaXRlbS5jaGlsZHJlbi5mb3JFYWNoKChjZWxsLCBqKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5zZXJpYWxOdW1iZXIgPSBpdGVtLnNlcmlhbE51bWJlciArICcuJyArIChqICsgMSk7CiAgICAgICAgICAgICAgICAgICAgY2VsbC5uZXdTY2hvb2xOYW1lID0gY2VsbC5zY2hvb2xOYW1lOwogICAgICAgICAgICAgICAgICAgIGNlbGwubmV3U29ydCA9IGNlbGwuZGVwYXJ0U29ydDsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcGFyZW50Lm5ld1NjaG9vbE5hbWUgPSBwYXJlbnQuc2Nob29sTmFtZTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnRyZWVEYXRhID0gdHJlZTsKICAgICAgICB9KQogICAgICAgIC5maW5hbGx5KCgpID0+IHsKICAgICAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICog5Yid5aeL5YyW5paw5bu66KGo5Y2V55qE5pWw5o2u6buY6K6k5YC8CiAgICAgKiBAcGFyYW0geyp9IGRhdGEg57yW6L6R5pWw5o2uCiAgICAgKi8KICAgIGluaXREaWFsb2dGb3JtRGF0YShkYXRhKSB7CiAgICAgIHRoaXMuZGlhbG9nRm9ybURhdGEgPSB7CiAgICAgICAgLi4uZGF0YQogICAgICB9OwogICAgfSwKCiAgICAvKioKICAgICAqIOaYr+WQpuaYr+S4gOe6p+acuuaehAogICAgICovCiAgICBpc0xldmVsMVByb2plY3QoaXRlbSkgewogICAgICBsZXQgeyBzZXJpYWxOdW1iZXIgfSA9IGl0ZW07CiAgICAgIHNlcmlhbE51bWJlciA9IHNlcmlhbE51bWJlciB8fCAnJzsKICAgICAgcmV0dXJuIHNlcmlhbE51bWJlci50b1N0cmluZygpLnNwbGl0KCcuJykubGVuZ3RoIDw9IDI7CiAgICB9CiAgfQp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/sims/views/system/Organization","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <!-- 头部 -->\n    <div class=\"header\">\n      <el-button type=\"primary\" size=\"small\" @click=\"onAddProject(true, -1)\">\n        新增一级机构\n      </el-button>\n    </div>\n    <!-- 树列表 -->\n    <c-table\n      v-loading=\"tableLoading\"\n      class=\"c-table\"\n      border\n      size=\"small\"\n      empty-text=\"自建组织机构暂无数据\"\n      :data=\"treeData\"\n      :headers=\"headers\"\n      row-key=\"serialNumber\"\n    >\n      <!-- 操作列自定义插件 -->\n      <template slot=\"column|undefined\" slot-scope=\"{ row }\">\n        <!-- 一级机构可以添加子机构 -->\n        <el-button\n          type=\"text\"\n          size=\"mini\"\n          v-if=\"isLevel1Project(row)\"\n          @click=\"onAddProject(false, row.organizationCode)\"\n        >\n          添加子机构\n        </el-button>\n        <span v-if=\"isLevel1Project(row)\" class=\"divider\">|</span>\n        <el-button type=\"text\" size=\"mini\" @click=\"onClickEditProject(row)\">\n          编辑\n        </el-button>\n      </template>\n    </c-table>\n    <!-- 新增编辑弹窗 -->\n    <el-dialog\n      width=\"560px\"\n      center\n      :visible.sync=\"dialogForm.visible\"\n      :title=\"dialogTitle\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      @close=\"onCloseForm\"\n    >\n      <c-dynamic-form\n        ref=\"elForm\"\n        :form-data=\"dialogFormData\"\n        :form-items=\"dialogFormItems\"\n        :form-attrs=\"dialogFormAttrs\"\n        @change-model=\"model => (dialogFormData = model)\"\n      ></c-dynamic-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          size=\"small\"\n          :loading=\"dialogForm.loading\"\n          @click=\"dialogForm.visible = false\"\n        >\n          取消\n        </el-button>\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          :loading=\"dialogForm.loading\"\n          @click=\"onClickSaveProject\"\n        >\n          确定\n        </el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport CTable from '@/components/common/CTable';\nimport CDynamicForm from '@/components/common/CDynamicForm/index';\nimport { Checkbox, Link, Input, Dialog } from 'element-ui';\nimport {\n  queryAllList,\n  insertOrg,\n  updateOrg\n} from '../../../api/system/organization';\nimport { querySchoolInfoList } from '../../../api/school/index';\nimport utils from '@/plugins/common/utils';\nimport {\n  formatNullValue,\n  formatAmountValue,\n  formatStatusValue\n} from '../../../plugins/vue-filters';\n\nexport default {\n  name: 'ChargingProjects',\n  components: {\n    [CTable.name]: CTable,\n    [Checkbox.name]: Checkbox,\n    [Link.name]: Link,\n    [Input.name]: Input,\n    [Dialog.name]: Dialog,\n    CDynamicForm\n  },\n  data() {\n    return {\n      // 树数据\n      treeData: [],\n      // 表格列配置\n      headers: [\n        {\n          label: '序号',\n          prop: 'serialNumber',\n          resizable: false\n        },\n        {\n          label: '机构名称',\n          prop: 'organizationName',\n          resizable: false\n        },\n        {\n          label: '机构代码',\n          prop: 'organizationCode',\n          width: '100px',\n          resizable: false\n        },\n        {\n          label: '所属学校',\n          prop: 'newSchoolName',\n          resizable: false,\n          formatter: (row, col, val) =>\n            !val ? formatNullValue(val) : formatAmountValue(val)\n        },\n        {\n          label: '机构描述',\n          prop: 'organizationDesc',\n          resizable: false,\n          formatter: (row, col, val) =>\n            !val ? formatNullValue(val) : formatAmountValue(val)\n        },\n        {\n          label: '报表排序',\n          prop: 'newSort',\n          resizable: false,\n          formatter: (row, col, val) =>\n            !val ? formatNullValue(val) : formatAmountValue(val)\n        },\n        {\n          label: '状态',\n          prop: 'status',\n          resizable: false,\n          formatter: (row, col, val) => formatStatusValue(val)\n        },\n        {\n          label: '操作',\n          colType: 'column',\n          width: '150px',\n          fixed: 'right',\n          resizable: false\n        }\n      ],\n      //弹窗表单\n      dialogForm: {\n        visible: false,\n        isEdit: false,\n        // 表单提交中\n        loading: false,\n        // 是否为一级机构\n        isFirst: true\n      },\n      //弹窗表单属性\n      dialogFormAttrs: {\n        'label-position': 'right',\n        'label-width': '110px',\n        rules: {\n          organizationName: [\n            {\n              required: true,\n              trigger: 'blur',\n              message: '机构名称未填写'\n            },\n            {\n              type: 'string',\n              max: 20,\n              trigger: 'blur',\n              message: '机构名称不超过20个字'\n            }\n          ],\n          organizationCode: [\n            {\n              required: true,\n              trigger: 'blur',\n              message: '机构代码未填写'\n            },\n            {\n              pattern: /^\\d{0,20}$/,\n              trigger: 'blur',\n              message: '机构代码请输入自然数，长度不超过20位数'\n            }\n          ],\n          departSort: [\n            {\n              pattern: /^[1-9][0-9]{0,2}$/,\n              trigger: 'blur',\n              message: '报表排序请输入正整数，长度不超过3位数'\n            }\n          ],\n          organizationDesc: [\n            {\n              type: 'string',\n              max: 50,\n              trigger: 'blur',\n              message: '机构描述不超过50个字'\n            }\n          ],\n          status: [\n            {\n              required: true,\n              trigger: 'change',\n              message: '状态未填写'\n            }\n          ]\n        }\n      },\n      //弹窗表单默认值（编辑时传入）\n      dialogFormData: {},\n      // 列表加载中\n      tableLoading: false\n    };\n  },\n  computed: {\n    // 弹框标题\n    dialogTitle() {\n      if (this.dialogForm.isEdit) {\n        return this.dialogForm.isFirst ? '编辑一级机构' : '编辑子机构';\n      } else {\n        return this.dialogForm.isFirst ? '新增一级机构' : '新增子机构';\n      }\n    },\n    // 窗表单子项\n    dialogFormItems() {\n      // 子机构\n      let items = [\n        {\n          type: 'select',\n          prop: 'schoolCode',\n          label: '所属学校：',\n          valueKey: 'schoolCode',\n          labelKey: 'schoolName',\n          labelProp: 'schoolName',\n          ajax: function() {\n            return querySchoolInfoList({ codeType: 2 }).then(data => data.data);\n          }\n        },\n        {\n          type: 'input',\n          prop: 'departSort',\n          label: '报表排序：',\n          attrs: {\n            maxlength: 3\n          }\n        }\n      ];\n      let otherItems = this.dialogForm.isFirst ? [] : items;\n      let dialogFormItems = [\n        {\n          type: 'input',\n          prop: 'organizationName',\n          label: '机构名称：',\n          attrs: {\n            maxlength: 20\n          }\n        },\n        {\n          type: 'input',\n          prop: 'organizationCode',\n          label: '机构代码：',\n          attrs: {\n            maxlength: 20,\n            disabled: this.dialogForm.isEdit\n          }\n        },\n        ...otherItems,\n        {\n          type: 'input',\n          prop: 'organizationDesc',\n          label: '机构描述：',\n          attrs: {\n            type: 'textarea',\n            maxlength: 50,\n            showWordLimit: true\n          }\n        },\n        {\n          type: 'select',\n          prop: 'status',\n          label: '状态：',\n          options: [\n            {\n              label: '启用',\n              value: true\n            },\n            {\n              label: '禁用',\n              value: false\n            }\n          ]\n        }\n      ];\n      return dialogFormItems;\n    }\n  },\n  mounted() {\n    this.ajaxGetData();\n  },\n  methods: {\n    /**\n     * 新增一级机构/子机构\n     * @param { Number } parentCode,一级机构传入参数为 -1;子机构传入参数为 id\n     * @param { Boolean} isFirst, true为一级机构；false为子机构\n     */\n    onAddProject(isFirst, parentCode) {\n      this.dialogForm.isFirst = isFirst;\n      this.dialogForm.isEdit = false;\n      this.dialogForm.visible = true;\n      this.initDialogFormData({\n        parentOrganizationCode: parentCode,\n        status: true\n      });\n    },\n    /**\n     * 点击编辑机构\n     * @param {*} item 机构\n     */\n    onClickEditProject(item) {\n      this.dialogForm.isFirst = item.parentOrganizationCode === '-1';\n      this.dialogForm.isEdit = true;\n      this.dialogForm.visible = true;\n      this.initDialogFormData(item);\n    },\n    /**\n     * 保存、编辑机构\n     * @param {*} item 机构\n     */\n    onClickSaveProject() {\n      // 校验表单\n      this.$refs['elForm'].validate().then(() => {\n        // 校验成功\n        this.dialogForm.loading = true;\n        delete this.dialogFormData.newSort;\n        delete this.dialogFormData.newSchoolName;\n        if (!this.dialogForm.isEdit) {\n          insertOrg(this.dialogFormData)\n            .then(() => {\n              this.$message.success('操作成功');\n              this.dialogForm.visible = false;\n              this.ajaxGetData();\n            })\n            .finally(() => {\n              this.dialogForm.loading = false;\n            });\n        } else {\n          updateOrg(this.dialogFormData)\n            .then(() => {\n              this.$message.success('操作成功');\n              this.dialogForm.visible = false;\n              this.ajaxGetData();\n            })\n            .finally(() => {\n              this.dialogForm.loading = false;\n            });\n        }\n      });\n    },\n    /**\n     * 点击取消编辑\n     * @param {*} item 机构\n     */\n    onClickCancelEdit(item) {},\n    //表单关闭前清除校验并重置数据\n    onCloseForm() {\n      this.initDialogFormData();\n      this.$refs['elForm'].resetFields();\n    },\n\n    /**\n     * 请求table数据\n     */\n    ajaxGetData() {\n      this.tableLoading = true;\n      return queryAllList({\n        isDeleted: false\n      })\n        .then(({ data }) => {\n          // 列表转树形数据\n          let tree = utils.listConvertTree(\n            data,\n            'organizationCode',\n            'parentOrganizationCode',\n            false\n          );\n          tree.forEach((parent, index) => {\n            index += 1;\n            parent.serialNumber = index;\n            parent.newSort = null;\n            if (Array.isArray(parent.children)) {\n              parent.newSchoolName = '-';\n              parent.children.forEach((item, i) => {\n                item.serialNumber = index + '.' + (i + 1);\n                item.newSort = item.departSort;\n                item.newSchoolName = item.schoolName;\n                if (Array.isArray(item.children)) {\n                  item.children.forEach((cell, j) => {\n                    cell.serialNumber = item.serialNumber + '.' + (j + 1);\n                    cell.newSchoolName = cell.schoolName;\n                    cell.newSort = cell.departSort;\n                  });\n                }\n              });\n            } else {\n              parent.newSchoolName = parent.schoolName;\n            }\n          });\n          this.treeData = tree;\n        })\n        .finally(() => {\n          this.tableLoading = false;\n        });\n    },\n\n    /**\n     * 初始化新建表单的数据默认值\n     * @param {*} data 编辑数据\n     */\n    initDialogFormData(data) {\n      this.dialogFormData = {\n        ...data\n      };\n    },\n\n    /**\n     * 是否是一级机构\n     */\n    isLevel1Project(item) {\n      let { serialNumber } = item;\n      serialNumber = serialNumber || '';\n      return serialNumber.toString().split('.').length <= 2;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.divider {\n  font-size: 14px;\n  margin: 0 4px;\n  line-height: 18px;\n}\n.el-pagination-slot {\n  color: @normal-txt;\n  font-weight: normal;\n  margin-right: -54px;\n  background: #fff;\n  display: inline-block;\n  position: relative;\n  z-index: 1;\n}\n</style>\n"]}]}