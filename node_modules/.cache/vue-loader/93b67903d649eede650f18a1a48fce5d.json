{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-admin/views/account/enterprise/index.vue?vue&type=style&index=0&id=20f3dedf&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/share-platform-admin/views/account/enterprise/index.vue","mtime":1645176309821},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouZHJhd2VyLWhlYWRlciB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIHBhZGRpbmc6IDA7CiAgYm9yZGVyOiAwOwp9Ci5kcmF3ZXItY29udGVudCB7CiAgbWluLXdpZHRoOiA0MDBweDsKICBtYXJnaW4tYm90dG9tOiAxMHB4Owp9Ci5lbC1yb3cgewogIHBhZGRpbmc6IDEwcHggMTBweCAwIDEwcHg7CiAgJjpsYXN0LWNoaWxkIHsKICAgIG1hcmdpbi1ib3R0b206IDA7CiAgfQp9Ci5lbC1jb2wgewogIGJvcmRlci1yYWRpdXM6IDhweDsKfQouYmctcHVycGxlLWRhcmsgewogIGJhY2tncm91bmQ6ICNmZmY7Cn0KLmJnLXB1cnBsZSB7CiAgYmFja2dyb3VuZDogI2ZmZjsKfQouYmctcHVycGxlLWxpZ2h0IHsKICBiYWNrZ3JvdW5kOiAjZTVlOWYyOwp9Ci5ncmlkLWNvbnRlbnQgewogIGJvcmRlci1yYWRpdXM6IDhweDsKICBtaW4taGVpZ2h0OiAzNnB4Owp9Ci5yb3ctYmcgewogIHBhZGRpbmc6IDEwcHggMDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjlmYWZjOwp9Ci5ib3gtY2FyZCB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgbWFyZ2luOiAwOwogIHdpZHRoOiAxMDAlOwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLmJveC1jYXJkLWl0ZW0gewogIHdpZHRoOiAxMDAlOwp9Ci5ib3gtY2FyZC10b3AgewogIGRpc3BsYXk6IGZsZXg7CiAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0OwogIGZsZXgtd3JhcDogd3JhcDsKICBtYXJnaW46IDA7CiAgd2lkdGg6IDEwMCU7CiAgdGV4dC1hbGlnbjogbGVmdDsKfQouYm94LWNhcmQtY29udGVudCB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsKICBmbGV4LXdyYXA6IHdyYXA7CiAgbWFyZ2luOiAwOwogIHdpZHRoOiAxMDAlOwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLnRpdHRsZS1zdHlsZSB7CiAgdGV4dC1hbGlnbjogbGVmdDsKICBmb250LXNpemU6IDE1cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgcGFkZGluZzogMTBweDsKICBtYXJnaW4tbGVmdDogNSU7Cn0KLmxvb2tfY2FyZCB7CiAgYm9yZGVyLXJhZGl1czogOHB4OwogIG1hcmdpbjogMCAxMHB4OwogIHRleHQtYWxpZ246IGxlZnQ7Cn0KLnAtY29udGVudCB7CiAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgZm9udC1zaXplOiAyMHB4Owp9CnNwYW4gewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICBwYWRkaW5nLXRvcDogNXB4OwogIGZvbnQtc2l6ZTogMTBweDsKICBmb250LXdlaWdodDogMTAwOwogIGNvbG9yOiByZ2IoMTMzLCAxMzEsIDEzMSk7Cn0KLnNwYW4tdGl0dGxlLAouc3Bhbi1jb250ZW50IHsKICBwYWRkaW5nLXRvcDogNXB4Owp9Ci5zcGFuLXRpdHRsZSB7CiAgY29sb3I6ICMwMDA7Cn0KLml0ZW0tY29udGVudCB7CiAgcGFkZGluZy1ib3R0b206IDE1cHg7CiAgd2lkdGg6IDEwMHB4Owp9Ci5pdGVtLWNvbnRlbnQtdG9wIHsKICBwYWRkaW5nLWxlZnQ6IDE1cHg7CiAgcGFkZGluZy10b3A6IDEwcHg7CiAgcGFkZGluZy1ib3R0b206IDEwcHg7CiAgbWFyZ2luLWxlZnQ6IDUlOwp9Ci5sYXN0LW9uZSB7CiAgd2lkdGg6IDIwMHB4OwogIG1hcmdpbi1sZWZ0OiAwOwp9Ci5lbC1kaXZpZGVyLS12ZXJ0aWNhbCB7CiAgaGVpZ2h0OiA0MHB4OwogIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDsKfQouaXRlbS1jb250ZW50LWluZm8gewogIGRpc3BsYXk6IGlubGluZS1ncmlkOwp9Ci5zcGFuLWJveCB7CiAgZGlzcGxheTogaW5saW5lLWdyaWQ7CiAgcGFkZGluZzogNXB4Owp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/share-platform-admin/views/account/enterprise","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <b-table\n      ref=\"bTable\"\n      loading\n      empty-text=\"暂无数据\"\n      :headers=\"headers\"\n      :form-items=\"formItems\"\n      :ajax-get-data=\"getEnterpriseList\"\n      :show-column=\"false\"\n      :show-refresh=\"false\"\n      :toolbars=\"toolbars\"\n      :pageLimit=\"10\"\n    >\n      <template slot=\"column|status\" slot-scope=\"{ row }\">\n        <p :style=\"{ color: typeColor[row.status] }\">\n          {{ row.status == '0' ? '正常' : '解绑' }}\n        </p>\n      </template>\n    </b-table>\n    <!-- 批量新增企业号 -->\n    <el-dialog\n      :visible.sync=\"visibleImport\"\n      title=\"批量导入\"\n      width=\"500px\"\n      center\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      @closed=\"onClosed\"\n    >\n      <div class=\"import-data-content\">\n        <h3 style=\"margin:5px;\"><strong>导入流程</strong></h3>\n        <p>\n          1、我们为您设置了导入模板，下载后按照模板格式内容上传即可；\n        </p>\n        <p>2、黄色表头表示的列为必填项；</p>\n        <p>3、请不要进行插入列操作；</p>\n        <p>4、excel表格数据行之间不要有空行。</p>\n        <el-button\n          type=\"primary\"\n          size=\"small\"\n          style=\"magrin:5px;margin-top:5px;\"\n          @click=\"downloadTemplate\"\n          >下载模板</el-button\n        >\n        <h3 style=\"margin:5px;\"><strong>上传内容</strong></h3>\n        <el-input :value=\"fileName\" placeholder=\"选择文件\" readonly>\n          <el-button slot=\"append\" @click=\"$refs.file.click()\">浏览</el-button>\n        </el-input>\n        <input\n          v-show=\"false\"\n          v-if=\"renderFile\"\n          type=\"file\"\n          ref=\"file\"\n          accept=\".xls,.xlsx\"\n          @change=\"onChange\"\n        />\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"visibleImport = false\">取消</el-button>\n        <el-button size=\"small\" type=\"primary\" @click=\"startUpalodFile\">\n          确定上传\n        </el-button>\n      </span>\n    </el-dialog>\n    <!-- 上传成功后的数据展示与处理 -->\n    <el-dialog\n      title=\"上传完成\"\n      width=\"700px\"\n      height=\"600px\"\n      center\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :visible.sync=\"dialogTableVisible\"\n    >\n      <el-table :data=\"importDataTable\" size=\"small\" border>\n        <el-table-column prop=\"businessName\" label=\"企业名称\">\n          <template slot-scope=\"props\">\n            <p v-if=\"props.row.businessName == ''\" style=\"color: red;\">\n              --\n            </p>\n            <p\n              v-else\n              :style=\"{\n                color:\n                  typeColors[\n                    props.row.isBusinessName == '0' &&\n                    props.row.isBusinessRepeat == '0'\n                      ? 0\n                      : 1\n                  ]\n              }\"\n            >\n              {{ props.row.businessName == '' ? '--' : props.row.businessName }}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"staffCode\" label=\"对接人工号\">\n          <template slot-scope=\"props\">\n            <p v-if=\"props.row.staffCode == ''\" style=\"color: red;\">\n              --\n            </p>\n            <p\n              v-else\n              :style=\"{\n                color:\n                  typeColors[\n                    props.row.isStaffCode == '0' &&\n                    props.row.isStaffRepeat == '0'\n                      ? 0\n                      : 1\n                  ]\n              }\"\n            >\n              {{ props.row.staffCode }}\n            </p>\n          </template>\n        </el-table-column>\n        <el-table-column\n          fixed=\"right\"\n          prop=\"operation\"\n          label=\"操作\"\n          width=\"100\"\n        >\n          <template slot-scope=\"props\">\n            <el-button type=\"text\" size=\"small\" @click=\"changeInfo(props)\"\n              >编辑</el-button\n            >\n            <el-button type=\"text\" size=\"small\" @click=\"onDeleteClick(props)\"\n              >删除</el-button\n            >\n          </template>\n        </el-table-column>\n      </el-table>\n      <div style=\"font-size: 0.8rem;color: gray;text-align: left;\">\n        <p>\n          1.红色标记的企业名称已存在，请编辑修改或删除后再上传！\n        </p>\n        <p>2.红色标记的对接人工号已绑定，请更换其他对接人工号后再上传！</p>\n      </div>\n      <span slot=\"footer\">\n        <el-button size=\"small\" @click=\"onCloseImportDialog\">取消</el-button>\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          @click.stop.prevent=\"onSubmitImportDialog\"\n          >确定</el-button\n        >\n      </span>\n    </el-dialog>\n    <!-- 编辑弹窗 -->\n    <el-dialog\n      width=\"600px\"\n      center\n      :visible.sync=\"importChangeDialog.visible\"\n      title=\"编辑\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :before-close=\"onCloseImDialog\"\n    >\n      <el-form\n        ref=\"importForm\"\n        :model=\"importChangeDialog\"\n        :rules=\"importChangeDialog.rules\"\n      >\n        <el-form-item\n          prop=\"businessName\"\n          label=\"企业名称\"\n          style=\"margin-bottom: 20px;\"\n        >\n          <el-input\n            v-model.trim=\"importChangeDialog.businessName\"\n            maxlength=\"25\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item\n          prop=\"staffCode\"\n          label=\"对接人工号\"\n          style=\"margin-bottom: 20px;\"\n        >\n          <el-input\n            v-model=\"importChangeDialog.staffCode\"\n            autocomplete=\"off\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"onCloseImDialog\">取消</el-button>\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          @click.stop.prevent=\"onSubmitImDialog\"\n          >保存</el-button\n        >\n      </span>\n    </el-dialog>\n    <!-- 新增企业号 -->\n    <el-dialog\n      width=\"560px\"\n      center\n      :visible.sync=\"addNoDialog.visible\"\n      title=\"新增企业账号\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :before-close=\"beforeCloseAddDialog\"\n    >\n      <el-form\n        ref=\"addDialogForm\"\n        :model=\"addNoDialog\"\n        :rules=\"addNoDialog.rules\"\n      >\n        <el-form-item label=\"企业名称\" prop=\"businessCode\">\n          <el-input\n            placeholder=\"请填写企业号名称\"\n            maxlength=\"25\"\n            v-model.trim=\"addNoDialog.businessCode\"\n            show-word-limit\n          >\n          </el-input>\n        </el-form-item>\n        <el-form-item label=\"对接人工号\" prop=\"staffCode\">\n          <el-input\n            placeholder=\"请填写对接人工号\"\n            v-model=\"addNoDialog.staffCode\"\n            show-word-limit\n          >\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <el-checkbox v-model=\"checked\" class=\"checkBox\"\n        >继续新增下一个</el-checkbox\n      >\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"onCloseAddDialog\">取消</el-button>\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          :loading=\"addNoDialog.loading\"\n          @click.stop.prevent=\"onSubmitAddDialog\"\n          >确定</el-button\n        >\n      </span>\n    </el-dialog>\n    <!-- 解绑账号弹窗 -->\n    <el-dialog\n      width=\"560px\"\n      center\n      :visible.sync=\"unbindDialog.visible\"\n      :title=\"bindDialogName\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :before-close=\"beforeCloseUbDialog\"\n    >\n      <el-form\n        v-if=\"ubDialog\"\n        ref=\"ubDialogForm\"\n        :model=\"unbindDialog\"\n        :rules=\"unbindDialog.rules\"\n      >\n        <el-form-item label=\"确定解绑该企业账号？\" prop=\"reason\">\n          <el-input\n            type=\"textarea\"\n            :rows=\"3\"\n            placeholder=\"记录解绑原因（50字以内）\"\n            v-model=\"unbindDialog.reason\"\n            maxlength=\"50\"\n            show-word-limit\n          >\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <el-form\n        v-else\n        ref=\"ubDialogForm\"\n        :model=\"unbindDialog\"\n        :rules=\"unbindDialog.rules\"\n      >\n        <el-form-item\n          label=\"对接人工号(绑定后该工号登陆时可选择企业号)\"\n          prop=\"staffCode\"\n        >\n          <el-input\n            placeholder=\"请填写工号\"\n            v-model=\"unbindDialog.staffCode\"\n            show-word-limit\n          >\n          </el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"onCloseUbDialog\">取消</el-button>\n        <el-button\n          size=\"small\"\n          type=\"primary\"\n          :loading=\"unbindDialog.loading\"\n          @click.stop.prevent=\"onSubmitUbDialog\"\n          >确定</el-button\n        >\n      </span>\n    </el-dialog>\n    <!--查看-->\n    <el-drawer\n      class=\"drawer-header\"\n      title=\"企业账号详情\"\n      :visible.sync=\"lookOver\"\n      direction=\"rtl\"\n      size=\"45%\"\n    >\n      <div class=\"drawer-content\">\n        <el-row :gutter=\"20\">\n          <el-col :span=\"8\"\n            ><div class=\"grid-content bg-purple\">\n              <div class=\"box-card-top\">\n                <div class=\"item-content-top\">\n                  <div class=\"item-content-info\">\n                    <p class=\"p-content\">{{ enterpriseInfo.score }}</p>\n                    <span>当前积分</span>\n                  </div>\n                </div>\n              </div>\n            </div></el-col\n          >\n          <el-col :span=\"16\"\n            ><div class=\"grid-content bg-purple\">\n              <div class=\"box-card-top\">\n                <div class=\"item-content-top\">\n                  <div class=\"item-content-info\">\n                    <p class=\"p-content\">{{ enterpriseInfo.sendCount }}</p>\n                    <span>累计发起请求</span>\n                  </div>\n                </div>\n                <div class=\"item-content-top\">\n                  <el-divider\n                    direction=\"vertical\"\n                    content-position=\"center\"\n                  ></el-divider>\n                  <div class=\"item-content-info\">\n                    <p class=\"p-content\">{{ enterpriseInfo.acceptCount }}</p>\n                    <span>累计接收请求</span>\n                  </div>\n                </div>\n              </div>\n            </div></el-col\n          >\n        </el-row>\n        <div>\n          <p class=\"tittle-style\">基本信息</p>\n          <el-card shadow=\"naver\" class=\"look_card\">\n            <el-row type=\"flex\">\n              <el-col :span=\"8\">\n                <div class=\"grid-content\">\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\" style=\"padding-top:0;\"\n                      >企业名称\n                      <el-button\n                        size=\"mini\"\n                        type=\"text\"\n                        @click=\"changeEntName\"\n                        >{{ stepName }}</el-button\n                      ></span\n                    >\n                    <span v-if=\"isDisabled\" class=\"span-content\">{{\n                      enterpriseInfo.businessName\n                    }}</span>\n                    <el-input\n                      v-else\n                      size=\"mini\"\n                      maxlength=\"25\"\n                      v-model=\"enterpriseInfo.businessName\"\n                      :disabled=\"isDisabled\"\n                    ></el-input>\n                  </div>\n                </div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div class=\"grid-content\">\n                  <el-divider\n                    direction=\"vertical\"\n                    content-position=\"center\"\n                  ></el-divider>\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">企业账号</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.businessCode\n                    }}</span>\n                  </div>\n                </div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div class=\"grid-content\">\n                  <el-divider\n                    direction=\"vertical\"\n                    content-position=\"center\"\n                  ></el-divider>\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">账号状态</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.status == '0' ? '正常' : '禁用'\n                    }}</span>\n                  </div>\n                </div>\n              </el-col>\n            </el-row>\n            <el-row type=\"flex\">\n              <el-col :span=\"8\">\n                <div class=\"grid-content\">\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">对接人姓名</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.staffName\n                    }}</span>\n                  </div>\n                </div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div class=\"grid-content\">\n                  <el-divider\n                    direction=\"vertical\"\n                    content-position=\"center\"\n                  ></el-divider>\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">对接人工号</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.staffCode\n                    }}</span>\n                  </div>\n                </div>\n              </el-col>\n              <el-col :span=\"8\">\n                <div class=\"grid-content\">\n                  <el-divider\n                    direction=\"vertical\"\n                    content-position=\"center\"\n                  ></el-divider>\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">联系方式</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.mobile\n                    }}</span>\n                  </div>\n                </div>\n              </el-col>\n            </el-row>\n            <el-row type=\"flex\">\n              <el-col :span=\"24\"\n                ><div class=\"grid-content\">\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">最近登录时间</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.updateTime\n                    }}</span>\n                  </div>\n                </div></el-col\n              >\n            </el-row>\n            <el-row type=\"flex\">\n              <el-col :span=\"24\"\n                ><div class=\"grid-content\">\n                  <div class=\"span-box\">\n                    <span class=\"span-tittle\">所属部门</span\n                    ><span class=\"span-content\">{{\n                      enterpriseInfo.deptName\n                    }}</span>\n                  </div>\n                </div></el-col\n              >\n            </el-row>\n          </el-card>\n        </div>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\"\n            ><div class=\"grid-content bg-purple\">\n              <p class=\"tittle-style\">展示资源</p>\n              <el-table\n                :data=\"resoucetableData\"\n                tooltip-effect=\"light\"\n                style=\"font-size: 13px; width: 100%\"\n              >\n                <el-table-column prop=\"\" width=\"30\" label=\"\"></el-table-column>\n                <el-table-column\n                  prop=\"firstResourceName\"\n                  width=\"100\"\n                  label=\"一级资源标签\"\n                >\n                </el-table-column>\n                <el-table-column\n                  prop=\"secondResourceName\"\n                  width=\"230\"\n                  label=\"二级资源标签\"\n                >\n                </el-table-column>\n                <el-table-column\n                  prop=\"resourceDetails\"\n                  show-overflow-tooltip\n                  label=\"资源细节\"\n                >\n                  <template slot-scope=\"prop\">\n                    <p>{{ prop.row.resourceDetails }}</p>\n                  </template></el-table-column\n                >\n              </el-table>\n            </div></el-col\n          >\n        </el-row>\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\"\n            ><div class=\"grid-content bg-purple\">\n              <p class=\"tittle-style\">日志</p>\n              <el-table\n                :data=\"logtableData\"\n                style=\"font-size: 13px; width: 100%\"\n                tooltip-effect=\"light\"\n              >\n                <el-table-column prop=\"\" width=\"30\" label=\"\"></el-table-column>\n                <el-table-column prop=\"logTime\" width=\"200\" label=\"操作时间\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"reason\"\n                  label=\"操作内容\"\n                  show-overflow-tooltip\n                  ><template slot-scope=\"props\">\n                    <p>{{ props.row.reason }}</p>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </div></el-col\n          >\n        </el-row>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n<script>\nimport {\n  Input,\n  Dialog,\n  Form,\n  FormItem,\n  MessageBox,\n  Message,\n  Loading\n} from 'element-ui';\nimport BTable from '@/components/business/BTable';\nimport {\n  getEnterpriseList,\n  getEnterpriseInfo,\n  getEnterpriSources,\n  getEnterpriseLog,\n  ajaxDisableEnterNo,\n  postAddEnterNo,\n  getTemplate,\n  postImport,\n  checkDataImport,\n  postSubImport,\n  postDeleteImport,\n  editBusinessName\n} from '@/pages/share-platform-admin/api/account';\n/**\n * 获取文件地址后缀名\n * @param {string} url url地址\n */\nfunction getExtension(url) {\n  if (!url || typeof url !== 'string') return '';\n  // eslint-disable-next-line no-useless-escape\n  var res = /\\.([0-9a-zA-Z]+)(?:[\\?#]|$)/i.exec(url);\n  if (!res) return '';\n  return res[1];\n}\nexport default {\n  name: 'EnterPrise',\n  components: {\n    [Input.name]: Input,\n    [Dialog.name]: Dialog,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    BTable\n  },\n  data() {\n    return {\n      lookOver: false,\n      renderFile: true, // 渲染文件上传表单\n      visible: false, // 是否显示模态框\n      bindDialogName: '',\n      ubDialog: true,\n      checked: false,\n      isError: false,\n      isDisabled: true,\n      stepName: '编辑',\n      oldBusinessCode: '',\n      file: null, // 文件\n      typeColor: {\n        2: 'red'\n      },\n      //table表头\n      headers: [\n        {\n          label: '序号',\n          type: 'index'\n        },\n        {\n          label: '企业账号',\n          prop: 'businessCode'\n        },\n        {\n          label: '企业名称',\n          prop: 'businessName',\n          width: '250'\n        },\n        {\n          label: '对接人',\n          prop: 'name'\n        },\n        {\n          label: '对接人工号',\n          prop: 'staffCode'\n        },\n        {\n          label: '联系方式',\n          prop: 'mobile'\n        },\n        {\n          label: '账号状态',\n          prop: 'status',\n          colType: 'column',\n          slotName: 'status',\n          formatter: (r, c, v) => {\n            if (v === 0) return '正常';\n            else return '解绑';\n          }\n        },\n        {\n          label: '最近登录时间',\n          prop: 'loginTime',\n          formatter: (r, c, v) =>\n            this.$util.dateConverter('yyyy-MM-dd hh:mm', v)\n        },\n        {\n          label: '操作',\n          colType: 'btns',\n          width: '150px',\n          btns: [\n            {\n              label: '查看',\n              type: 'text',\n              size: 'mini',\n              click: this.onLook\n            },\n            {\n              label: '绑定',\n              type: 'text',\n              size: 'mini',\n              hidden: row => row.status == 0,\n              click: this.onBind\n            },\n            {\n              label: '解绑',\n              type: 'text',\n              size: 'mini',\n              hidden: row => row.status !== 0,\n              click: this.onUnBind\n            }\n          ]\n        }\n      ],\n      //表单查询项\n      formItems: [\n        {\n          type: 'input',\n          label: '企业账号',\n          prop: 'businessCode',\n          attrs: {\n            placeholder: '请输入企业账号',\n            clearable: true\n          }\n        },\n        {\n          type: 'input',\n          label: '企业名称',\n          prop: 'businessName',\n          attrs: {\n            placeholder: '请输入企业名称',\n            clearable: true\n          }\n        },\n        {\n          type: 'input',\n          label: '对接人',\n          prop: 'name',\n          attrs: {\n            placeholder: '请输入对接人工号',\n            clearable: true\n          }\n        },\n        {\n          type: 'select',\n          label: '账号状态',\n          prop: 'status',\n          options: [\n            {\n              label: '正常',\n              value: 0\n            },\n            {\n              label: '解绑',\n              value: 2\n            }\n          ]\n        }\n      ],\n      toolbars: [\n        {\n          label: '添加企业账号',\n          click: this.addOneAccount,\n          size: 'mini',\n          type: 'primary'\n        },\n        {\n          label: '批量新增企业账号',\n          click: this.addMoreAccount,\n          size: 'mini',\n          type: 'primary',\n          fixed: 'right'\n        }\n      ],\n      //解除绑定弹窗配置\n      unbindDialog: {\n        row: null,\n        visible: false,\n        reason: '',\n        loading: false,\n        staffCode: '',\n        businessCode: '',\n        rules: {\n          reason: {\n            required: true,\n            trigger: 'blur',\n            message: '解绑原因未填写'\n          },\n          staffCode: {\n            required: true,\n            trigger: 'blur',\n            message: '工号未填写'\n          }\n        }\n      },\n      //新增资源标签弹窗配置\n      addNoDialog: {\n        row: null,\n        visible: false,\n        loading: false,\n        staffCode: '',\n        businessCode: '',\n        rules: {\n          businessCode: {\n            required: true,\n            trigger: 'blur',\n            message: '企业名称未填写'\n          },\n          staffCode: {\n            required: true,\n            trigger: 'blur',\n            message: '工号未填写'\n          }\n        }\n      },\n      visibleImport: false,\n      enterpriseInfo: [],\n      resoucetableData: [],\n      logtableData: [],\n      dialogTableVisible: false,\n      importDataTable: [],\n      rowImportData: {},\n      typeColors: {\n        1: 'red',\n        0: 'black'\n      },\n      importChangeDialog: {\n        visible: false, //弹窗是否可见\n        businessName: '',\n        staffCode: '',\n        id: '',\n        checkId: '',\n        randId: '',\n        rules: {\n          //校验效果\n          businessName: {\n            required: true,\n            trigger: 'blur',\n            message: '企业名称不可为空'\n          },\n          staffCode: {\n            required: true,\n            trigger: 'blur',\n            message: '对接人工号不可为空'\n          }\n        }\n      }\n    };\n  },\n  computed: {\n    fileName() {\n      return (this.file && this.file.name) || '';\n    }\n  },\n  watch: {\n    lookOver: function(newVal, oldVal) {\n      if (!this.lookOver) {\n        this.isDisabled = true;\n        this.stepName = '编辑';\n      }\n    }\n  },\n  methods: {\n    changeEntName() {\n      if (this.isDisabled) {\n        this.isDisabled = false;\n        this.stepName = '保存';\n      } else {\n        if (this.enterpriseInfo.businessName == '') {\n          this.$message({\n            type: 'info',\n            message: '修改的企业名称不能为空'\n          });\n        } else {\n          let paramsChange = {\n            businessCode: this.oldBusinessCode,\n            businessName: this.enterpriseInfo.businessName\n          };\n          editBusinessName(paramsChange).then(res => {\n            this.isDisabled = true;\n            this.stepName = '编辑';\n            this.$message({\n              type: 'success',\n              message: '修改成功！'\n            });\n            this.refreshTable();\n          });\n        }\n      }\n    },\n    refreshTable() {\n      this.$nextTick(() => {\n        this.$refs.bTable.onRefreshTable();\n      });\n    },\n    /**\n     * 下载模板\n     */\n    downloadTemplate() {\n      getTemplate().then(res => {\n        const blob = new Blob([res], {\n          type: 'application/vnd.ms-excel'\n        });\n        let link = document.createElement('a');\n        link.href = URL.createObjectURL(blob);\n        link.setAttribute('download', '新增企业号模板.xls');\n        link.click();\n        link = null;\n        this.$message.success('下载成功');\n      });\n    },\n    /**\n     * 关闭模态框动画结束\n     */\n    onClosed() {\n      this.$emit('close');\n    },\n    /**\n     * 选择文件\n     */\n    onChange(event) {\n      let { files } = event.target;\n      let file = files[0];\n      this.resetFile();\n      if (!files.length) return;\n      if (!this.checkFile(files[0])) return;\n      this.file = file;\n    },\n    /**\n     * 校验文件\n     */\n    checkFile(file) {\n      // 校验文件类型\n      let isExcel =\n        ['xls', 'xlsx'].indexOf(getExtension(file.name).toLowerCase()) !== -1;\n      // 校验文件大小\n      //let isLt = file.size / 1024 / 1024 < this.maxFileSize;\n      if (!isExcel) Message.warning('上传文件只能是xls、xlsx格式');\n      //if (!isLt) Message.warning('上传文件只能最大2MB');\n      return isExcel; //&& isLt;\n    },\n    /**\n     * 重置file表单，解决重复选择同一个文件不触发change事件问题\n     */\n    resetFile() {\n      this.renderFile = false;\n      this.$nextTick(() => {\n        this.renderFile = true;\n      });\n    },\n    /**\n     * 开始上传文件\n     */\n    startUpalodFile() {\n      if (!this.file || !(this.file instanceof File))\n        return Message.warning('请添加文件');\n      let formData = new FormData();\n      formData.append('file', this.file);\n      let loading = Loading.service({\n        text: '导入中...'\n      });\n      postImport('/businessAuth/import', formData)\n        .then(res => {\n          if (res.data && res.success) {\n            this.importDataTable = res.data;\n            this.$message({\n              message: '导入成功',\n              type: 'success',\n              duration: 1500,\n              onClose: () => {\n                this.visibleImport = false;\n                this.dialogTableVisible = true;\n                this.$emit('close');\n                this.file = null;\n              }\n            });\n          } else {\n            this.$message.error(res.data.message);\n          }\n        })\n        .catch(e => {\n          console.log('e', e);\n        })\n        .finally(() => {\n          setTimeout(() => {\n            loading.close(); //处理后关闭弹窗\n          }, 1000);\n        });\n    },\n    //数据处理--编辑按钮\n    changeInfo(data) {\n      this.importChangeDialog.visible = true;\n      this.importChangeDialog.businessName = data.row.businessName;\n      this.importChangeDialog.staffCode = data.row.staffCode;\n      this.importChangeDialog.checkId = data.row.id;\n      this.importChangeDialog.randId = data.row.randId;\n      this.rowImportData = data;\n    },\n    onDeleteClick(data) {\n      this.$confirm('确定删除该笔数据吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(({ value }) => {\n          const params = {\n            id: data.row.id,\n            businessName: data.row.businessName,\n            staffCode: data.row.staffCode,\n            randId: data.row.randId,\n            isBusinessName: data.row.isBusinessName,\n            isStaffCode: data.row.isStaffCode\n          };\n          postDeleteImport(params).then(res => {\n            this.importDataTable.splice(data.$index, 1);\n            this.$message({\n              type: 'success',\n              message: '删除成功！'\n            });\n            this.importDataTable = res.data;\n          });\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '取消'\n          });\n        });\n    },\n    onCloseImDialog() {\n      this.$refs['importForm'].resetFields();\n      this.importChangeDialog.visible = false;\n    },\n    onSubmitImDialog() {\n      this.$refs['importForm'].validate((valid, obj) => {\n        if (!valid) return;\n        // 部分输入框校验未通过\n        else {\n          const rowIndex = this.rowImportData.$index;\n          let queryData = {\n            id: this.importChangeDialog.checkId,\n            businessName: this.importChangeDialog.businessName,\n            staffCode: this.importChangeDialog.staffCode,\n            randId: this.importChangeDialog.randId,\n            isBusinessName: this.rowImportData.row.isBusinessName,\n            isStaffCode: this.rowImportData.row.isStaffCode,\n            isBusinessRepeat: this.rowImportData.row.isBusinessRepeat,\n            isStaffRepeat: this.rowImportData.row.isStaffRepeat\n          };\n          checkDataImport(queryData)\n            .then(res => {\n              if (res.data && res.success) {\n                // if (res.data[rowIndex].isBusinessName == 1) {\n                //   return false;\n                // } else if (res.data[rowIndex].isStaffCode == 1) {\n                //   return false;\n                // } else {\n                //   this.importDataTable[\n                //     rowIndex\n                //   ].businessName = this.importChangeDialog.businessName;\n                //   this.importDataTable[rowIndex].isBusinessName = 0;\n                //   this.importDataTable[\n                //     rowIndex\n                //   ].staffCode = this.importChangeDialog.staffCode;\n                //   this.importDataTable[rowIndex].isStaffCode = 0;\n                // }\n                this.$message({\n                  type: 'success',\n                  message: '修改成功！'\n                });\n                this.importDataTable = res.data;\n                setTimeout(() => {\n                  this.onCloseImDialog(); //处理后关闭弹窗\n                }, 1000);\n              } else {\n                this.$message({\n                  type: 'error',\n                  message: '校验失败！'\n                });\n                return false;\n              }\n            })\n            .catch(ress => {\n              this.$message({\n                type: 'error',\n                message: '校验失败！'\n              });\n            });\n        }\n      });\n    },\n    onCloseImportDialog() {\n      this.$confirm('确定取消批量新增操作吗?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(({ value }) => {\n          this.dialogTableVisible = false;\n        })\n        .catch(() => {\n          this.$message({\n            type: 'info',\n            message: '取消'\n          });\n        });\n    },\n    onSubmitImportDialog() {\n      let loading = Loading.service({\n        text: '数据上传中...'\n      });\n      let businessTest = this.importDataTable.every(function(item) {\n        return (\n          item.isBusinessName == 0 &&\n          item.isBusinessRepeat == 0 &&\n          item.businessName != ''\n        );\n      });\n      let staffCodeTest = this.importDataTable.every(function(item) {\n        return (\n          item.isStaffCode == 0 &&\n          item.isStaffRepeat == 0 &&\n          item.staffCode != ''\n        );\n      });\n      if (this.importDataTable == '') {\n        this.$message({\n          message: '没有导入的数据！',\n          type: 'error'\n        });\n        loading.close();\n        return false;\n      }\n      if (!businessTest) {\n        this.$message({\n          message: '企业名称存在标红，请先修改！',\n          type: 'error'\n        });\n        loading.close();\n        return false;\n      } else if (!staffCodeTest) {\n        this.$message({\n          message: '对接人存在标红，请先修改！',\n          type: 'error'\n        });\n        loading.close();\n        return false;\n      } else {\n        postSubImport(this.importDataTable)\n          .then(res => {\n            if (res.success) {\n              this.$message({\n                message: res.message,\n                type: 'success'\n              });\n              this.refreshTable();\n              this.importChangeDialog.visible = false;\n              this.dialogTableVisible = false;\n            }\n          })\n          .catch(res => {\n            this.$message({\n              message: res.message,\n              type: 'error'\n            });\n          })\n          .finally(() => {\n            setTimeout(() => {\n              loading.close(); //处理后关闭弹窗\n            }, 1000);\n          });\n      }\n    },\n    //新增资源按钮\n    addMoreAccount() {\n      this.visibleImport = true;\n    },\n    //获取企业号数据\n    getEnterpriseList,\n    //点击查看按钮\n    onLook(row) {\n      this.lookOver = true;\n      this.oldBusinessCode = row.businessCode;\n      getEnterpriseInfo(row.businessCode)\n        .then(res => {\n          if (res.data == '') {\n            this.enterpriseInfo = [];\n          } else {\n            this.enterpriseInfo = res.data[0];\n          }\n        })\n        .catch(res => {\n          this.enterpriseInfo = [];\n          this.$message({\n            type: 'error',\n            message: '基本信息获取失败！'\n          });\n        });\n      getEnterpriSources(row.businessCode)\n        .then(res => {\n          if (res.data == '') {\n            this.resoucetableData = [];\n          } else {\n            this.resoucetableData = res.data;\n          }\n        })\n        .catch(res => {\n          this.resoucetableData = [];\n          this.$message({\n            type: 'error',\n            message: '资源展示获取失败！'\n          });\n        });\n      getEnterpriseLog(row.businessCode)\n        .then(res => {\n          if (res.data == '') {\n            this.logtableData = [];\n          } else {\n            this.logtableData = res.data;\n          }\n        })\n        .catch(res => {\n          this.logtableData = [];\n          this.$message({\n            type: 'error',\n            message: '日志获取失败！'\n          });\n        });\n    },\n    //点击绑定按钮\n    onBind(row) {\n      this.ubDialog = false;\n      this.unbindDialog.row = row;\n      this.unbindDialog.staffCode = '';\n      this.unbindDialog.businessCode = row.businessCode;\n      this.unbindDialog.visible = true;\n      this.bindDialogName = '绑定对接人';\n    },\n    //点击解绑按钮\n    onUnBind(row) {\n      this.ubDialog = true;\n      this.unbindDialog.row = row;\n      this.unbindDialog.reason = '';\n      this.unbindDialog.businessCode = row.businessCode;\n      this.unbindDialog.staffCode = row.staffCode;\n      this.unbindDialog.visible = true;\n      this.bindDialogName = '提示';\n    },\n    //点击提交解绑账号操作\n    onSubmitUbDialog() {\n      this.$refs['ubDialogForm'].validate((valid, obj) => {\n        if (!valid) return; // 校验未通过\n        this.unbindDialog.loading = true;\n        if (this.ubDialog) {\n          let queryParam = {\n            status: '2',\n            staffCode: this.unbindDialog.staffCode,\n            businessCode: this.unbindDialog.businessCode,\n            reason: this.unbindDialog.reason\n          };\n          ajaxDisableEnterNo(queryParam)\n            .then(res => {\n              this.refreshTable();\n              this.$message({\n                type: 'success',\n                message: '解绑成功'\n              });\n              setTimeout(() => {\n                this.unbindDialog.loading = false;\n                this.onCloseUbDialog(); //处理后关闭弹窗\n              }, 1000);\n            })\n            .catch(rers => {\n              this.unbindDialog.loading = false;\n            });\n        } else {\n          let queryParams = {\n            status: '0',\n            staffCode: this.unbindDialog.staffCode,\n            businessCode: this.unbindDialog.businessCode\n          };\n          ajaxDisableEnterNo(queryParams)\n            .then(res => {\n              this.refreshTable();\n              this.$message({\n                type: 'success',\n                message: '绑定成功'\n              });\n              setTimeout(() => {\n                this.unbindDialog.loading = false;\n                this.onCloseUbDialog(); //处理后关闭弹窗\n              }, 1000);\n            })\n            .catch(rers => {\n              this.unbindDialog.loading = false;\n            });\n        }\n      });\n    },\n    //关闭窗口前处理\n    beforeCloseUbDialog(done) {\n      this.unbindDialog.visible = false;\n      if (this.unbindDialog.loading) return;\n      this.$refs['ubDialogForm'].resetFields();\n\n      done();\n    },\n    //点击提交解绑账号操作\n    onCloseUbDialog() {\n      if (this.unbindDialog.loading) return;\n      this.$refs['ubDialogForm'].resetFields();\n      this.unbindDialog.visible = false;\n    },\n    //点击新增账号按钮\n    addOneAccount(row) {\n      this.addNoDialog.row = row;\n      this.addNoDialog.businessCode = '';\n      this.addNoDialog.staffCode = '';\n      this.addNoDialog.visible = true;\n    },\n    //点击提交新增账号操作\n    onSubmitAddDialog() {\n      this.$refs['addDialogForm'].validate((valid, obj) => {\n        if (!valid) return; // 校验未通过\n        this.addNoDialog.loading = true;\n        let queryParam = {\n          staffCode: this.addNoDialog.staffCode,\n          businessName: this.addNoDialog.businessCode\n        };\n        postAddEnterNo(queryParam)\n          .then(res => {\n            this.refreshTable();\n            this.$message({\n              type: 'success',\n              message: '新增成功'\n            });\n            setTimeout(() => {\n              this.addNoDialog.loading = false;\n              this.onEndCloseDialog(); //处理后关闭弹窗\n            }, 1000);\n          })\n          .catch(res => {\n            this.addNoDialog.loading = false;\n            this.$refs['addDialogForm'].resetFields();\n          });\n      });\n    },\n    //关闭窗口前处理\n    beforeCloseAddDialog(done) {\n      //if (this.addNoDialog.loading) return;\n      this.addNoDialog.visible = false;\n      this.checked = false;\n      this.$refs['addDialogForm'].resetFields();\n      done();\n    },\n    //点击提交解绑账号操作\n    onCloseAddDialog() {\n      if (this.addNoDialog.loading) return;\n      if (this.isError) {\n        this.addNoDialog.visible = true;\n      } else {\n        this.addNoDialog.visible = false;\n      }\n      this.checked = false;\n      this.isError = false;\n      this.$refs['addDialogForm'].resetFields();\n    },\n    //点击提交后的操作\n    onEndCloseDialog() {\n      if (this.addNoDialog.loading) return;\n      if (this.isError) {\n        this.addNoDialog.visible = true;\n      } else {\n        if (this.checked) {\n          this.addNoDialog.visible = true;\n        } else {\n          this.addNoDialog.visible = false;\n        }\n      }\n      this.isError = false;\n      this.$refs['addDialogForm'].resetFields();\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n.drawer-header {\n  text-align: center;\n  padding: 0;\n  border: 0;\n}\n.drawer-content {\n  min-width: 400px;\n  margin-bottom: 10px;\n}\n.el-row {\n  padding: 10px 10px 0 10px;\n  &:last-child {\n    margin-bottom: 0;\n  }\n}\n.el-col {\n  border-radius: 8px;\n}\n.bg-purple-dark {\n  background: #fff;\n}\n.bg-purple {\n  background: #fff;\n}\n.bg-purple-light {\n  background: #e5e9f2;\n}\n.grid-content {\n  border-radius: 8px;\n  min-height: 36px;\n}\n.row-bg {\n  padding: 10px 0;\n  background-color: #f9fafc;\n}\n.box-card {\n  display: flex;\n  justify-content: space-between;\n  margin: 0;\n  width: 100%;\n  text-align: left;\n}\n.box-card-item {\n  width: 100%;\n}\n.box-card-top {\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  margin: 0;\n  width: 100%;\n  text-align: left;\n}\n.box-card-content {\n  display: flex;\n  justify-content: space-around;\n  flex-wrap: wrap;\n  margin: 0;\n  width: 100%;\n  text-align: left;\n}\n.tittle-style {\n  text-align: left;\n  font-size: 15px;\n  font-weight: bold;\n  padding: 10px;\n  margin-left: 5%;\n}\n.look_card {\n  border-radius: 8px;\n  margin: 0 10px;\n  text-align: left;\n}\n.p-content {\n  font-weight: bold;\n  font-size: 20px;\n}\nspan {\n  display: inline-block;\n  padding-top: 5px;\n  font-size: 10px;\n  font-weight: 100;\n  color: rgb(133, 131, 131);\n}\n.span-tittle,\n.span-content {\n  padding-top: 5px;\n}\n.span-tittle {\n  color: #000;\n}\n.item-content {\n  padding-bottom: 15px;\n  width: 100px;\n}\n.item-content-top {\n  padding-left: 15px;\n  padding-top: 10px;\n  padding-bottom: 10px;\n  margin-left: 5%;\n}\n.last-one {\n  width: 200px;\n  margin-left: 0;\n}\n.el-divider--vertical {\n  height: 40px;\n  vertical-align: text-top;\n}\n.item-content-info {\n  display: inline-grid;\n}\n.span-box {\n  display: inline-grid;\n  padding: 5px;\n}\n</style>\n<style>\n.el-drawer__body {\n  overflow-y: auto;\n  overflow-x: hidden;\n  background-color: rgb(243, 242, 242);\n}\n.el-drawer__header {\n  margin-bottom: 10px;\n  font-size: 15px;\n  font-weight: bolder;\n}\n</style>\n"]}]}