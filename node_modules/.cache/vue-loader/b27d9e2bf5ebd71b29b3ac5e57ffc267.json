{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/Org/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/logistics-data/views/Org/index.vue","mtime":1627979214319},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovKiBlc2xpbnQtZGlzYWJsZSAqLw0KaW1wb3J0IHsNCiAgUm93LA0KICBDb2wsDQogIEZvcm0sDQogIEZvcm1JdGVtLA0KICBEaWFsb2csDQogIElucHV0LA0KICBUcmVlLA0KICBTZWxlY3QsDQogIE9wdGlvbiwNCiAgUmFkaW8sDQogIFJhZGlvR3JvdXANCn0gZnJvbSAnZWxlbWVudC11aSc7DQppbXBvcnQgQ1Nob3J0Y3V0TWVudSBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL0NTaG9ydGN1dE1lbnUnOw0KaW1wb3J0IHV0aWxzIGZyb20gJ0AvcGx1Z2lucy9jb21tb24vdXRpbHMnOw0KaW1wb3J0IGF4aW9zIGZyb20gJ0AvcGx1Z2lucy9heGlvcyc7DQoNCmZ1bmN0aW9uIGdldE9ialh5KG9iaikgew0KICB2YXIgeHkgPSBvYmouZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7DQogIHZhciB0b3AgPQ0KICAgICAgeHkudG9wIC0NCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AgKw0KICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCwgLy9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50VG9wIOWcqElFNjfkuK3lp4vnu4jkuLoy77yM5YW25LuW6auY57qn54K555qE5rWP6KeI5Zmo5Li6MA0KICAgIGJvdHRvbSA9IHh5LmJvdHRvbSwNCiAgICBsZWZ0ID0NCiAgICAgIHh5LmxlZnQgLQ0KICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQgKw0KICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQsIC8vZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQg5ZyoSUU2N+S4reWni+e7iOS4ujLvvIzlhbbku5bpq5jnuqfngrnnmoTmtY/op4jlmajkuLowDQogICAgcmlnaHQgPSB4eS5yaWdodCwNCiAgICB3aWR0aCA9IHh5LndpZHRoIHx8IHJpZ2h0IC0gbGVmdCwgLy9JRTY35LiN5a2Y5Zyod2lkdGgg5L2/55SocmlnaHQgLSBsZWZ06I635b6XDQogICAgaGVpZ2h0ID0geHkuaGVpZ2h0IHx8IGJvdHRvbSAtIHRvcDsNCg0KICByZXR1cm4gew0KICAgIHRvcDogdG9wLA0KICAgIHJpZ2h0OiByaWdodCwNCiAgICBib3R0b206IGJvdHRvbSwNCiAgICBsZWZ0OiBsZWZ0LA0KICAgIHdpZHRoOiB3aWR0aCwNCiAgICBoZWlnaHQ6IGhlaWdodA0KICB9Ow0KfQ0KDQpmdW5jdGlvbiB0cmVlRGF0YUNoYW5nZUZpZWxkKGFyckRhdGEsIHNldHRpbmdzKSB7DQogIC8v5a+56LGh5pWw57uE5oiW5a+56LGh5a2X5q61a2V55L+u5pS5DQogIHNldHRpbmdzID0gc2V0dGluZ3MgfHwge307DQogIHNldHRpbmdzLnJlZmVyID0gc2V0dGluZ3MucmVmZXIgPT09IHVuZGVmaW5lZCA/IDEgOiBzZXR0aW5ncy5yZWZlcjsNCiAgdmFyIGRhdGE7DQogIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYXJyRGF0YSkgPT09ICdbb2JqZWN0IEFycmF5XScpIHsNCiAgICAvL+aVsOe7hA0KICAgIGRhdGEgPSBbXTsNCiAgICBmb3IgKHZhciBpIGluIGFyckRhdGEpIHsNCiAgICAgIGRhdGEucHVzaCh0cmVlRGF0YUNoYW5nZUZpZWxkKGFyckRhdGFbaV0sIHNldHRpbmdzKSk7DQogICAgfQ0KICB9IGVsc2UgaWYgKGFyckRhdGEgJiYgdHlwZW9mIGFyckRhdGEgPT09ICdvYmplY3QnKSB7DQogICAgLy/lr7nosaENCiAgICB2YXIgb3B0ID0gc2V0dGluZ3MuZGF0YTsNCiAgICBkYXRhID0ge307DQogICAgZm9yIChsZXQgaSBpbiBzZXR0aW5ncy5yZWZlciA/IGFyckRhdGEgOiBvcHQpIHsNCiAgICAgIGlmIChhcnJEYXRhW2ldICE9PSB1bmRlZmluZWQpIHsNCiAgICAgICAgc2V0dGluZ3MuY29udGFpbiAmJiAoZGF0YVtpXSA9IGFyckRhdGFbaV0pOyAvL+WMheWQq+WOn+aVsOaNruaJgOacieWtl+aute+8jOWPr+iDveS8muiiq+imhueblg0KICAgICAgICBpZiAodHlwZW9mIG9wdFtpXSA9PSAnZnVuY3Rpb24nKSB7DQogICAgICAgICAgdmFyIG9iaiA9IG9wdFtpXShpLCBhcnJEYXRhW2ldLCBhcnJEYXRhKTsNCiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XScpIHsNCiAgICAgICAgICAgIGRhdGFbb2JqWzBdXSA9IG9ialsxXTsNCiAgICAgICAgICB9IGVsc2UgaWYgKG9iaiAmJiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykgew0KICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBvYmopIHsNCiAgICAgICAgICAgICAgZGF0YVtqXSA9IG9ialtqXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdmFyIGlzQXJyID0NCiAgICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzZXR0aW5ncy50cmVlTm9kZXMpID09PQ0KICAgICAgICAgICAgJ1tvYmplY3QgQXJyYXldJzsNCiAgICAgICAgICBsZXQga2V5ID0gb3B0W2ldID8gb3B0W2ldIDogaTsNCiAgICAgICAgICBpZiAoaXNBcnIpIHsNCiAgICAgICAgICAgIGRhdGFba2V5XSA9IHNldHRpbmdzLnRyZWVOb2Rlcy5pbmRleE9mKGkpID49IDA7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGRhdGFba2V5XSA9DQogICAgICAgICAgICAgICFzZXR0aW5ncy50cmVlTm9kZXMgfHwgc2V0dGluZ3MudHJlZU5vZGVzID09PSBpDQogICAgICAgICAgICAgICAgPyB0cmVlRGF0YUNoYW5nZUZpZWxkKGFyckRhdGFbaV0sIHNldHRpbmdzKQ0KICAgICAgICAgICAgICAgIDogYXJyRGF0YVtpXTsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0gZWxzZSB7DQogICAgZGF0YSA9IGFyckRhdGE7DQogIH0NCiAgcmV0dXJuIGRhdGE7DQp9DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdPcmcnLA0KICAvLyDms6jlhoznu4Tku7YNCiAgY29tcG9uZW50czogew0KICAgIFtDU2hvcnRjdXRNZW51Lm5hbWVdOiBDU2hvcnRjdXRNZW51LCAvLyDlv6vmjbfoj5zljZUNCiAgICBbUm93Lm5hbWVdOiBSb3csDQogICAgW0NvbC5uYW1lXTogQ29sLA0KICAgIFtGb3JtLm5hbWVdOiBGb3JtLA0KICAgIFtGb3JtSXRlbS5uYW1lXTogRm9ybUl0ZW0sDQogICAgW0RpYWxvZy5uYW1lXTogRGlhbG9nLA0KICAgIFtJbnB1dC5uYW1lXTogSW5wdXQsDQogICAgW1RyZWUubmFtZV06IFRyZWUsDQogICAgW1NlbGVjdC5uYW1lXTogU2VsZWN0LA0KICAgIFtPcHRpb24ubmFtZV06IE9wdGlvbiwNCiAgICBbUmFkaW9Hcm91cC5uYW1lXTogUmFkaW9Hcm91cCwNCiAgICBbUmFkaW8ubmFtZV06IFJhZGlvDQogIH0sDQogIHByb3BzOiB7DQogICAgLyoqDQogICAgICog5pyN5Yqh5Zmo57G75Z6LDQogICAgICovDQogICAgc2VydmVyVHlwZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRyZWU6IFtdLA0KICAgICAgZGVmYXVsdFByb3BzOiB7DQogICAgICAgIGNoaWxkcmVuOiAnY2hpbGRyZW4nLA0KICAgICAgICBsYWJlbDogJ25hbWUnDQogICAgICB9LA0KICAgICAgc2hvd01lbnU6IGZhbHNlLCAvLyDmmK/lkKbmmL7npLroj5zljZUNCiAgICAgIG1lbnVUb3A6IDAsIC8vIOiPnOWNlei3neemu+mhtumDqOi3neemuw0KICAgICAgbWVudUxlZnQ6IDAsIC8vIOiPnOWNlei3neemu+WPs+S+p+i3neemuw0KICAgICAgbWVudUxvY2F0aW9uOiB7DQogICAgICAgIC8vIOiPnOWNleS9jee9rg0KICAgICAgICBwYWdlWDogMCwNCiAgICAgICAgcGFnZVk6IDAsDQogICAgICAgIHJlbGF0aXZlWDogMCwNCiAgICAgICAgcmVsYXRpdmVZOiAwDQogICAgICB9LA0KICAgICAgc2NyZWVuV2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsIC8vIOmhtemdouWuveW6puebkeWQrA0KICAgICAgbm9kZURhdGE6IHt9LCAvL+WNlemhueagkeaVsOaNrg0KICAgICAgc2hvd0RpYWxvZzogZmFsc2UsDQogICAgICBjb25maXJtTG9hZGluZzogZmFsc2UsIC8vIOaPkOS6pOS4rQ0KICAgICAgZWRpdFN0YXR1czogJycsDQogICAgICBmb3JtUnVsZXM6IHsNCiAgICAgICAgLy8g6KGo5Y2V6aqM6K+BDQogICAgICAgIG5hbWU6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfljZXkvY3lkI3np7DmnKrloavlhpknDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBtYXg6IDIwLA0KICAgICAgICAgICAgdHJpZ2dlcjogJycsDQogICAgICAgICAgICBtZXNzYWdlOiAn5pyA5aSn6ZW/5bqmMjDkuKrlrZfnrKYnDQogICAgICAgICAgfQ0KICAgICAgICBdLA0KICAgICAgICBudW1iZXI6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwNCiAgICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywNCiAgICAgICAgICAgIG1lc3NhZ2U6ICfljZXkvY3nvJblj7fmnKrloavlhpknDQogICAgICAgICAgfSwNCiAgICAgICAgICB7DQogICAgICAgICAgICBtYXg6IDIwLA0KICAgICAgICAgICAgdHJpZ2dlcjogJycsDQogICAgICAgICAgICBtZXNzYWdlOiAn5pyA5aSn6ZW/5bqmMjDkuKrlrZfnrKYnDQogICAgICAgICAgfQ0KICAgICAgICBdDQogICAgICB9LA0KICAgICAgZWRpdEZvcm06IHsNCiAgICAgICAgbmFtZTogJycsDQogICAgICAgIG51bWJlcjogJycNCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGF4aW9zKA0KICAgICAgew0KICAgICAgICB1cmw6ICcvZGVwYXJ0bWVudC90cmVlJw0KICAgICAgfSwNCiAgICAgIHRoaXMuc2VydmVyVHlwZQ0KICAgICkudGhlbihyZXMgPT4gew0KICAgICAgdGhpcy50cmVlID0gcmVzLmRhdGEgfHwgW107DQogICAgfSk7DQogIH0sDQogIC8vIOaMguWcqOWujOaIkOmSqeWtkA0KICBtb3VudGVkKCkgew0KICAgIC8qKg0KICAgICAqIOebkeWQrOmhtemdouWPmOWMluS6i+S7tg0KICAgICAqLw0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplKTsNCiAgICB0aGlzLl9ib2R5Q2xpY2sgPSAoKSA9PiB7DQogICAgICB0aGlzLmNsb3NlTWVudSgpOw0KICAgIH07DQogICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2JvZHlDbGljayk7DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICAvKioNCiAgICAgKiDnp7vpmaTnm5HlkKzpobXpnaLlj5jljJbkuovku7YNCiAgICAgKi8NCiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZSk7DQogICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuX2JvZHlDbGljayk7DQogIH0sDQogIC8vIOS+puWQrOWZqA0KICB3YXRjaDogew0KICAgIHNjcmVlbldpZHRoKG5ld1ZhbCwgb2xkVmFsKSB7DQogICAgICB0aGlzLmNhbGNNZW51UG9zaXRpb24oKTsNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLyoqDQogICAgICog5b+r5o236I+c5Y2V6aG5DQogICAgICovDQogICAgbWVudUl0ZW1zKCkgew0KICAgICAgdmFyIHsgbGV2ZWwsIGlzTGVhZiB9ID0gdGhpcy5ub2RlRGF0YTsNCiAgICAgIHJldHVybiBbDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogJ+e8lui+kScsDQogICAgICAgICAgY29tbWFuZDogJ2VkaXQnLA0KICAgICAgICAgIGF1dGg6IFsnb3JnLWVkaXQnXQ0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6ICfmt7vliqDlkIznuqfljZXkvY0nLA0KICAgICAgICAgIGNvbW1hbmQ6ICdhZGQnLA0KICAgICAgICAgIGF1dGg6IFsnb3JnLWFkZCddDQogICAgICAgIH0NCiAgICAgIF0NCiAgICAgICAgLmNvbmNhdCgNCiAgICAgICAgICBsZXZlbCA+IDMNCiAgICAgICAgICAgID8gW10NCiAgICAgICAgICAgIDogew0KICAgICAgICAgICAgICAgIC8v5aSn5LqOM+WxguS4jeiDvea3u+WKoOS4i+e6p+WNleS9jQ0KICAgICAgICAgICAgICAgIGxhYmVsOiAn5re75Yqg5LiL57qn5Y2V5L2NJywNCiAgICAgICAgICAgICAgICBjb21tYW5kOiAnYWRkQ2hpbGQnLA0KICAgICAgICAgICAgICAgIGF1dGg6IFsnb3JnLWFkZENoaWxkJ10NCiAgICAgICAgICAgICAgfQ0KICAgICAgICApDQogICAgICAgIC5jb25jYXQoDQogICAgICAgICAgIWlzTGVhZg0KICAgICAgICAgICAgPyBbXQ0KICAgICAgICAgICAgOiB7DQogICAgICAgICAgICAgICAgbGFiZWw6ICfliKDpmaQnLA0KICAgICAgICAgICAgICAgIGNvbW1hbmQ6ICdkZWwnLA0KICAgICAgICAgICAgICAgIGF1dGg6IFsnb3JnLWRlbGV0ZSddDQogICAgICAgICAgICAgIH0NCiAgICAgICAgKTsNCiAgICAgIC8vIGlmICh0aGlzLm5vd0RpY3ROb2RlLmxldmVsID09PSAxKSB7DQogICAgICAvLyAgIC8vIOagueiKgueCueWPquiDveaWsOWing0KICAgICAgLy8gICByZXR1cm4gWw0KICAgICAgLy8gICAgIHsNCiAgICAgIC8vICAgICAgIGxhYmVsOiAn5paw5aKeJywNCiAgICAgIC8vICAgICAgIGNvbW1hbmQ6IGNvbW1hbmRzLk5FVywNCiAgICAgIC8vICAgICAgIGF1dGg6IFsnZGF0YWRpY3QtYWRkJ10NCiAgICAgIC8vICAgICB9DQogICAgICAvLyAgIF07DQogICAgICAvLyB9IGVsc2UgaWYgKCF0aGlzLm5vd0RpY3ROb2RlLmlzTGVhZikgew0KICAgICAgLy8gICAvLyDmnInlrZDoioLngrnkuI3lhYHorrjliKDpmaQNCiAgICAgIC8vICAgcmV0dXJuIFsNCiAgICAgIC8vICAgICB7DQogICAgICAvLyAgICAgICBsYWJlbDogJ+aWsOWinicsDQogICAgICAvLyAgICAgICBjb21tYW5kOiBjb21tYW5kcy5ORVcsDQogICAgICAvLyAgICAgICBhdXRoOiBbJ2RhdGFkaWN0LWFkZCddDQogICAgICAvLyAgICAgfSwNCiAgICAgIC8vICAgICB7DQogICAgICAvLyAgICAgICBsYWJlbDogJ+e8lui+kScsDQogICAgICAvLyAgICAgICBjb21tYW5kOiBjb21tYW5kcy5FRElUT1IsDQogICAgICAvLyAgICAgICBhdXRoOiBbJ2RhdGFkaWN0LWVkaXQnXQ0KICAgICAgLy8gICAgIH0NCiAgICAgIC8vICAgXTsNCiAgICAgIC8vIH0gZWxzZSB7DQogICAgICAvLyAgIC8vIOWPtuWtkOiKgueCuQ0KICAgICAgLy8gICByZXR1cm4gWw0KICAgICAgLy8gICAgIHsNCiAgICAgIC8vICAgICAgIGxhYmVsOiAn5paw5aKeJywNCiAgICAgIC8vICAgICAgIGNvbW1hbmQ6IGNvbW1hbmRzLk5FVywNCiAgICAgIC8vICAgICAgIGF1dGg6IFsnZGF0YWRpY3QtYWRkJ10NCiAgICAgIC8vICAgICB9LA0KICAgICAgLy8gICAgIHsNCiAgICAgIC8vICAgICAgIGxhYmVsOiAn57yW6L6RJywNCiAgICAgIC8vICAgICAgIGNvbW1hbmQ6IGNvbW1hbmRzLkVESVRPUiwNCiAgICAgIC8vICAgICAgIGF1dGg6IFsnZGF0YWRpY3QtZWRpdCddDQogICAgICAvLyAgICAgfSwNCiAgICAgIC8vICAgICB7DQogICAgICAvLyAgICAgICBsYWJlbDogJ+WIoOmZpCcsDQogICAgICAvLyAgICAgICBjb21tYW5kOiBjb21tYW5kcy5ERUxFVEUsDQogICAgICAvLyAgICAgICBhdXRoOiBbJ2RhdGFkaWN0LWRlbGV0ZSddDQogICAgICAvLyAgICAgfQ0KICAgICAgLy8gICBdOw0KICAgICAgLy8gfQ0KICAgIH0sDQogICAgLyoqDQogICAgICog5b+r5o236I+c5Y2V5qC35byPDQogICAgICovDQogICAgbWVudVN0eWxlKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgdG9wOiB0aGlzLm1lbnVUb3AgKyAncHgnLA0KICAgICAgICBsZWZ0OiB0aGlzLm1lbnVMZWZ0ICsgJ3B4Jw0KICAgICAgfTsNCiAgICB9LA0KICAgIC8qKg0KICAgICAqIOaooeaAgeahhuagh+mimA0KICAgICAqLw0KICAgIGRpYWxvZ1RpdGxlKCkgew0KICAgICAgcmV0dXJuICgNCiAgICAgICAgew0KICAgICAgICAgIGVkaXQ6ICfnvJbovpEnLA0KICAgICAgICAgIGFkZDogJ+a3u+WKoOWQjOe6p+WNleS9jScNCiAgICAgICAgfVt0aGlzLmVkaXRTdGF0dXNdIHx8ICfmt7vliqDkuIvnuqfljZXkvY0nDQogICAgICApOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8qKg0KICAgICAqIOabtOaWsOmhtemdouWuveW6pg0KICAgICAqLw0KICAgIG9uUmVzaXplOiB1dGlscy5kZWJvdW5jZShmdW5jdGlvbigpIHsNCiAgICAgIHdpbmRvdy5zY3JlZW5XaWR0aCA9IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7DQogICAgICB0aGlzLnNjcmVlbldpZHRoID0gd2luZG93LnNjcmVlbldpZHRoOw0KICAgIH0sIDIwMCksDQogICAgLyoqDQogICAgICog5oyH5Luk5omn6KGMDQogICAgICovDQogICAgY29tbWFuZChldmVudCwgY29tbWFuZCwgZGF0YSkgew0KICAgICAgY29uc29sZS5sb2coZXZlbnQsIGNvbW1hbmQsIGRhdGEsIHRoaXMubm9kZURhdGEpOw0KICAgICAgc3dpdGNoIChjb21tYW5kKSB7DQogICAgICAgIGNhc2UgJ2FkZCc6DQogICAgICAgIGNhc2UgJ2FkZENoaWxkJzoNCiAgICAgICAgICB0aGlzLmVkaXRTdGF0dXMgPSBjb21tYW5kOw0KICAgICAgICAgIHRoaXMuaW5pdFNob3dEaWFsb2coKTsNCiAgICAgICAgICB0aGlzLmVkaXRGb3JtID0gdGhpcy4kb3B0aW9ucy5kYXRhKCkuZWRpdEZvcm07DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2VkaXQnOg0KICAgICAgICAgIC8vIOe8lui+kQ0KICAgICAgICAgIHRoaXMuZWRpdFN0YXR1cyA9IGNvbW1hbmQ7DQogICAgICAgICAgdGhpcy5lZGl0Rm9ybSA9IHsNCiAgICAgICAgICAgIG5hbWU6IHRoaXMubm9kZURhdGEubGFiZWwsDQogICAgICAgICAgICBudW1iZXI6IHRoaXMubm9kZURhdGEuZGF0YS5jb2RlDQogICAgICAgICAgfTsNCiAgICAgICAgICB0aGlzLmluaXRTaG93RGlhbG9nKCk7DQogICAgICAgICAgYnJlYWs7DQogICAgICAgIGNhc2UgJ2RlbCc6DQogICAgICAgICAgLy8g5Yig6ZmkDQogICAgICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm5Yig6ZmkJyArIHRoaXMubm9kZURhdGEubGFiZWwgKyAnPycsICfmj5DnpLonLCB7DQogICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsDQogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywNCiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJw0KICAgICAgICAgIH0pDQogICAgICAgICAgICAudGhlbigoKSA9PiB7DQogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMubm9kZURhdGEpOw0KICAgICAgICAgICAgICByZXR1cm4gYXhpb3MoDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsDQogICAgICAgICAgICAgICAgICB1cmw6IGAvZGVwYXJ0bWVudC8ke3RoaXMubm9kZURhdGEuZGF0YS5pZH1gLA0KICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7fQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICAgICAgICAgICk7DQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgICB0aGlzLiRyZWZzWyd0cmVlRGljdCddLnJlbW92ZSh0aGlzLm5vZGVEYXRhKTsNCiAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIGJyZWFrOw0KICAgICAgfQ0KICAgIH0sDQogICAgLyoqDQogICAgICog5Y+z6ZSu5b+r5o236I+c5Y2VDQogICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQg5LqL5Lu25a+56LGhDQogICAgICogQHBhcmFtIHsqfSBkYXRhIOiKgueCueaVsOaNrg0KICAgICAqIEBwYXJhbSB7Kn0gbm9kZSDoioLngrkNCiAgICAgKiBAcGFyYW0geyp9IHJlZiDoioLngrnnu4Tku7bmnKzouqsNCiAgICAgKi8NCiAgICBvbkNvbnRleHRNZW51KGV2ZW50LCBkYXRhLCBub2RlLCByZWYpIHsNCiAgICAgIGNvbnNvbGUubG9nKGV2ZW50LCBkYXRhLCBub2RlLCByZWYpOw0KICAgICAgLy8g5L+d5a2YDQogICAgICB0aGlzLm5vZGVEYXRhID0gbm9kZTsNCiAgICAgIC8vIOaYvuekuuiPnOWNlQ0KICAgICAgdGhpcy5zaG93TWVudSA9IHRydWU7DQogICAgICBPYmplY3Qua2V5cyh0aGlzLm1lbnVMb2NhdGlvbikuZm9yRWFjaChrZXkgPT4gew0KICAgICAgICB0aGlzLm1lbnVMb2NhdGlvbltrZXldID0gZXZlbnRba2V5XTsNCiAgICAgIH0pOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB2YXIgeHkgPSBnZXRPYmpYeSh0aGlzLiRyZWZzWyd0cmVlRGljdCddLiRlbCk7DQogICAgICAgIHRoaXMubWVudUxvY2F0aW9uLnJlbGF0aXZlWCA9IHRoaXMubWVudUxvY2F0aW9uLnBhZ2VYIC0geHkubGVmdDsNCiAgICAgICAgdGhpcy5tZW51TG9jYXRpb24ucmVsYXRpdmVZID0gdGhpcy5tZW51TG9jYXRpb24ucGFnZVkgLSB4eS50b3A7DQogICAgICAgIHRoaXMuY2FsY01lbnVQb3NpdGlvbigpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBoYW5kbGVOb2RlQ2xpY2soZGF0YSkgew0KICAgICAgY29uc29sZS5sb2coZGF0YSk7DQogICAgICB0aGlzLmNsb3NlTWVudSgpOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5YWz6Zet6I+c5Y2V5pi+56S6DQogICAgICovDQogICAgY2xvc2VNZW51KCkgew0KICAgICAgdGhpcy5zaG93TWVudSA9IGZhbHNlOw0KICAgIH0sDQogICAgLyoqDQogICAgICog6K6h566X6K6+572u6I+c5Y2V5L2N572uDQogICAgICovDQogICAgY2FsY01lbnVQb3NpdGlvbigpIHsNCiAgICAgIGlmICghdGhpcy5zaG93TWVudSkgcmV0dXJuOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAvLyDlv6vmjbfoj5zljZXlrr3luqYNCiAgICAgICAgdmFyIHNob3J0Y3V0TWVudSA9IHRoaXMuJHJlZnNbJ3Nob3J0Y3V0TWVudSddOw0KICAgICAgICB2YXIgdHJlZURpY3QgPSB0aGlzLiRyZWZzWyd0cmVlRGljdCddOw0KICAgICAgICB2YXIgc2hvcnRjdXRNZW51V2lkdGggPSBzaG9ydGN1dE1lbnUuJGVsLm9mZnNldFdpZHRoOw0KICAgICAgICB2YXIgdHJlZURpY3RXaWR0aCA9IHRyZWVEaWN0LiRlbC5vZmZzZXRXaWR0aDsNCiAgICAgICAgdmFyIHJlbGF0aXZlWCA9IHRoaXMubWVudUxvY2F0aW9uLnJlbGF0aXZlWDsNCiAgICAgICAgdmFyIHJlbGF0aXZlWSA9IHRoaXMubWVudUxvY2F0aW9uLnJlbGF0aXZlWTsNCiAgICAgICAgdGhpcy5tZW51VG9wID0gcmVsYXRpdmVZOw0KICAgICAgICAvLyDliKTmlq3lv6vmjbfoj5zljZXmmK/lkKbotoXlh7rojIPlm7QNCiAgICAgICAgaWYgKHJlbGF0aXZlWCArIHNob3J0Y3V0TWVudVdpZHRoID4gdHJlZURpY3RXaWR0aCkgew0KICAgICAgICAgIHRoaXMubWVudUxlZnQgPSB0cmVlRGljdFdpZHRoIC0gc2hvcnRjdXRNZW51V2lkdGg7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5tZW51TGVmdCA9IHJlbGF0aXZlWDsNCiAgICAgICAgfQ0KICAgICAgICAvL+S/ruWkjeWcqFnovbTotoXlh7rojIPlm7TnmoTmg4XlhrUNCiAgICAgICAgdmFyIHNob3J0Y3V0TWVudUhlaWdodCA9IHNob3J0Y3V0TWVudS4kZWwub2Zmc2V0SGVpZ2h0Ow0KICAgICAgICB2YXIgdHJlZURpY3RIZWlnaHQgPSB0cmVlRGljdC4kZWwub2Zmc2V0SGVpZ2h0Ow0KICAgICAgICBpZiAocmVsYXRpdmVZICsgc2hvcnRjdXRNZW51SGVpZ2h0ID4gdHJlZURpY3RIZWlnaHQpIHsNCiAgICAgICAgICB0aGlzLm1lbnVUb3AgPSB0cmVlRGljdEhlaWdodCAtIHNob3J0Y3V0TWVudUhlaWdodDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm1lbnVUb3AgPSByZWxhdGl2ZVk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5Yid5aeL5YyW5pi+56S65qih5oCB5qGGDQogICAgICovDQogICAgaW5pdFNob3dEaWFsb2coKSB7DQogICAgICB0aGlzLnNob3dEaWFsb2cgPSB0cnVlOw0KICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICB0aGlzLiRyZWZzWydlZGl0Rm9ybSddLmNsZWFyVmFsaWRhdGUoKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgLyoqDQogICAgICog5o+Q5Lqk6KGo5Y2VDQogICAgICovDQogICAgY29uZmlybSgpIHsNCiAgICAgIGlmICh0aGlzLmNvbmZpcm1Mb2FkaW5nKSByZXR1cm47DQogICAgICB0aGlzLiRyZWZzWydlZGl0Rm9ybSddLnZhbGlkYXRlKHZhbGlkID0+IHsNCiAgICAgICAgaWYgKHZhbGlkKSB7DQogICAgICAgICAgY29uc29sZS5sb2cobm9kZURhdGEpOw0KICAgICAgICAgIHZhciBlZGl0U3RhdHVzID0gdGhpcy5lZGl0U3RhdHVzOw0KICAgICAgICAgIHN3aXRjaCAoZWRpdFN0YXR1cykgew0KICAgICAgICAgICAgY2FzZSAnYWRkJzoNCiAgICAgICAgICAgIGNhc2UgJ2FkZENoaWxkJzoNCiAgICAgICAgICAgIGNhc2UgJ2VkaXQnOg0KICAgICAgICAgICAgICAvLyDmlrDlop4NCiAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IHRydWU7DQogICAgICAgICAgICAgIHZhciBub2RlRGF0YSA9DQogICAgICAgICAgICAgICAgZWRpdFN0YXR1cyA9PSAnYWRkQ2hpbGQnDQogICAgICAgICAgICAgICAgICA/IHRoaXMubm9kZURhdGEuZGF0YQ0KICAgICAgICAgICAgICAgICAgOiB0aGlzLm5vZGVEYXRhLnBhcmVudC5kYXRhOw0KICAgICAgICAgICAgICB2YXIgeyBuYW1lLCBudW1iZXIgfSA9IHRoaXMuZWRpdEZvcm07DQogICAgICAgICAgICAgIGF4aW9zKA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLA0KICAgICAgICAgICAgICAgICAgdXJsOiAnL2RlcGFydG1lbnQnLA0KICAgICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICBuYW1lLA0KICAgICAgICAgICAgICAgICAgICBjb2RlOiBudW1iZXIsDQogICAgICAgICAgICAgICAgICAgIHBhcmVudElkOiBub2RlRGF0YS5pZCwNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGVkaXRTdGF0dXMgPT0gJ2VkaXQnID8gdGhpcy5ub2RlRGF0YS5kYXRhLmlkIDogJycgLy/nvJbovpHml7bkvKDlhaVpZA0KICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlDQogICAgICAgICAgICAgICkNCiAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgdmFyIGlkID0gcmVzLmRhdGE7DQogICAgICAgICAgICAgICAgICBpZiAoZWRpdFN0YXR1cyA9PSAnZWRpdCcpIHsNCiAgICAgICAgICAgICAgICAgICAgLy/nvJbovpENCiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLm5vZGVEYXRhLmRhdGEsIHsNCiAgICAgICAgICAgICAgICAgICAgICBuYW1lLA0KICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IG51bWJlcg0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfnvJbovpHmiJDlip8nKTsNCiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIC8v5paw5aKeDQogICAgICAgICAgICAgICAgICAgIGlmICghbm9kZURhdGEuY2hpbGRyZW4pIHsNCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRzZXQobm9kZURhdGEsICdjaGlsZHJlbicsIFtdKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBub2RlRGF0YS5jaGlsZHJlbi5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgICBuYW1lLA0KICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IG51bWJlciwNCiAgICAgICAgICAgICAgICAgICAgICBpZA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmlrDlop7miJDlip8nKTsNCiAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgdGhpcy5jb25maXJtTG9hZGluZyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlybUxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICBkZWZhdWx0Og0KICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+aPkOS6pOW8guW4uO+8jOaXoOWkhOeQhuaWueazlScpOw0KICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCiAgfQ0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/logistics-data/views/Org","sourcesContent":["<template>\r\n  <div class=\"org\">\r\n    <el-tree\r\n      ref=\"treeDict\"\r\n      :data=\"tree\"\r\n      :props=\"defaultProps\"\r\n      @node-click=\"handleNodeClick\"\r\n      @node-contextmenu=\"onContextMenu\"\r\n    >\r\n      <span\r\n        class=\"custom-tree-node\"\r\n        slot-scope=\"{ node }\"\r\n        style=\"font-size:14px\"\r\n      >\r\n        <span>{{ node.label }}</span>\r\n      </span>\r\n    </el-tree>\r\n    <c-shortcut-menu\r\n      v-show=\"showMenu\"\r\n      ref=\"shortcutMenu\"\r\n      :style=\"menuStyle\"\r\n      :menu-items=\"menuItems\"\r\n      class=\"shortcut-menu\"\r\n      @command=\"command\"\r\n    />\r\n\r\n    <!-- 字典编辑模态框 start -->\r\n    <el-dialog\r\n      center\r\n      :visible.sync=\"showDialog\"\r\n      :title=\"dialogTitle\"\r\n      :close-on-click-modal=\"false\"\r\n      :close-on-press-escape=\"false\"\r\n    >\r\n      <el-form\r\n        ref=\"editForm\"\r\n        :model=\"editForm\"\r\n        :rules=\"formRules\"\r\n        size=\"1\"\r\n        label-position=\"left\"\r\n        label-width=\"105px\"\r\n        class=\"edit-form\"\r\n      >\r\n        <el-form-item label=\"单位名称\" prop=\"name\">\r\n          <el-input v-model.trim=\"editForm.name\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"单位编号\" prop=\"number\">\r\n          <el-input v-model.trim=\"editForm.number\" />\r\n        </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button\r\n          :loading=\"confirmLoading\"\r\n          size=\"small\"\r\n          type=\"primary\"\r\n          @click=\"confirm\"\r\n          >确定</el-button\r\n        >\r\n        <el-button\r\n          :loading=\"confirmLoading\"\r\n          size=\"small\"\r\n          @click=\"showDialog = false\"\r\n          >取消</el-button\r\n        >\r\n      </div>\r\n    </el-dialog>\r\n    <!-- 字典编辑模态框 end -->\r\n  </div>\r\n</template>\r\n<script>\r\n/* eslint-disable */\r\nimport {\r\n  Row,\r\n  Col,\r\n  Form,\r\n  FormItem,\r\n  Dialog,\r\n  Input,\r\n  Tree,\r\n  Select,\r\n  Option,\r\n  Radio,\r\n  RadioGroup\r\n} from 'element-ui';\r\nimport CShortcutMenu from '@/components/common/CShortcutMenu';\r\nimport utils from '@/plugins/common/utils';\r\nimport axios from '@/plugins/axios';\r\n\r\nfunction getObjXy(obj) {\r\n  var xy = obj.getBoundingClientRect();\r\n  var top =\r\n      xy.top -\r\n      document.documentElement.clientTop +\r\n      document.documentElement.scrollTop, //document.documentElement.clientTop 在IE67中始终为2，其他高级点的浏览器为0\r\n    bottom = xy.bottom,\r\n    left =\r\n      xy.left -\r\n      document.documentElement.clientLeft +\r\n      document.documentElement.scrollLeft, //document.documentElement.clientLeft 在IE67中始终为2，其他高级点的浏览器为0\r\n    right = xy.right,\r\n    width = xy.width || right - left, //IE67不存在width 使用right - left获得\r\n    height = xy.height || bottom - top;\r\n\r\n  return {\r\n    top: top,\r\n    right: right,\r\n    bottom: bottom,\r\n    left: left,\r\n    width: width,\r\n    height: height\r\n  };\r\n}\r\n\r\nfunction treeDataChangeField(arrData, settings) {\r\n  //对象数组或对象字段key修改\r\n  settings = settings || {};\r\n  settings.refer = settings.refer === undefined ? 1 : settings.refer;\r\n  var data;\r\n  if (Object.prototype.toString.call(arrData) === '[object Array]') {\r\n    //数组\r\n    data = [];\r\n    for (var i in arrData) {\r\n      data.push(treeDataChangeField(arrData[i], settings));\r\n    }\r\n  } else if (arrData && typeof arrData === 'object') {\r\n    //对象\r\n    var opt = settings.data;\r\n    data = {};\r\n    for (let i in settings.refer ? arrData : opt) {\r\n      if (arrData[i] !== undefined) {\r\n        settings.contain && (data[i] = arrData[i]); //包含原数据所有字段，可能会被覆盖\r\n        if (typeof opt[i] == 'function') {\r\n          var obj = opt[i](i, arrData[i], arrData);\r\n          if (Object.prototype.toString.call(obj) === '[object Array]') {\r\n            data[obj[0]] = obj[1];\r\n          } else if (obj && typeof obj === 'object') {\r\n            for (var j in obj) {\r\n              data[j] = obj[j];\r\n            }\r\n          }\r\n        } else {\r\n          var isArr =\r\n            Object.prototype.toString.call(settings.treeNodes) ===\r\n            '[object Array]';\r\n          let key = opt[i] ? opt[i] : i;\r\n          if (isArr) {\r\n            data[key] = settings.treeNodes.indexOf(i) >= 0;\r\n          } else {\r\n            data[key] =\r\n              !settings.treeNodes || settings.treeNodes === i\r\n                ? treeDataChangeField(arrData[i], settings)\r\n                : arrData[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  } else {\r\n    data = arrData;\r\n  }\r\n  return data;\r\n}\r\nexport default {\r\n  name: 'Org',\r\n  // 注册组件\r\n  components: {\r\n    [CShortcutMenu.name]: CShortcutMenu, // 快捷菜单\r\n    [Row.name]: Row,\r\n    [Col.name]: Col,\r\n    [Form.name]: Form,\r\n    [FormItem.name]: FormItem,\r\n    [Dialog.name]: Dialog,\r\n    [Input.name]: Input,\r\n    [Tree.name]: Tree,\r\n    [Select.name]: Select,\r\n    [Option.name]: Option,\r\n    [RadioGroup.name]: RadioGroup,\r\n    [Radio.name]: Radio\r\n  },\r\n  props: {\r\n    /**\r\n     * 服务器类型\r\n     */\r\n    serverType: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      tree: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'name'\r\n      },\r\n      showMenu: false, // 是否显示菜单\r\n      menuTop: 0, // 菜单距离顶部距离\r\n      menuLeft: 0, // 菜单距离右侧距离\r\n      menuLocation: {\r\n        // 菜单位置\r\n        pageX: 0,\r\n        pageY: 0,\r\n        relativeX: 0,\r\n        relativeY: 0\r\n      },\r\n      screenWidth: document.body.clientWidth, // 页面宽度监听\r\n      nodeData: {}, //单项树数据\r\n      showDialog: false,\r\n      confirmLoading: false, // 提交中\r\n      editStatus: '',\r\n      formRules: {\r\n        // 表单验证\r\n        name: [\r\n          {\r\n            required: true,\r\n            trigger: 'blur',\r\n            message: '单位名称未填写'\r\n          },\r\n          {\r\n            max: 20,\r\n            trigger: '',\r\n            message: '最大长度20个字符'\r\n          }\r\n        ],\r\n        number: [\r\n          {\r\n            required: true,\r\n            trigger: 'blur',\r\n            message: '单位编号未填写'\r\n          },\r\n          {\r\n            max: 20,\r\n            trigger: '',\r\n            message: '最大长度20个字符'\r\n          }\r\n        ]\r\n      },\r\n      editForm: {\r\n        name: '',\r\n        number: ''\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    axios(\r\n      {\r\n        url: '/department/tree'\r\n      },\r\n      this.serverType\r\n    ).then(res => {\r\n      this.tree = res.data || [];\r\n    });\r\n  },\r\n  // 挂在完成钩子\r\n  mounted() {\r\n    /**\r\n     * 监听页面变化事件\r\n     */\r\n    window.addEventListener('resize', this.onResize);\r\n    this._bodyClick = () => {\r\n      this.closeMenu();\r\n    };\r\n    document.body.addEventListener('click', this._bodyClick);\r\n  },\r\n  destroyed() {\r\n    /**\r\n     * 移除监听页面变化事件\r\n     */\r\n    window.removeEventListener('resize', this.onResize);\r\n    document.body.removeEventListener('click', this._bodyClick);\r\n  },\r\n  // 侦听器\r\n  watch: {\r\n    screenWidth(newVal, oldVal) {\r\n      this.calcMenuPosition();\r\n    }\r\n  },\r\n  computed: {\r\n    /**\r\n     * 快捷菜单项\r\n     */\r\n    menuItems() {\r\n      var { level, isLeaf } = this.nodeData;\r\n      return [\r\n        {\r\n          label: '编辑',\r\n          command: 'edit',\r\n          auth: ['org-edit']\r\n        },\r\n        {\r\n          label: '添加同级单位',\r\n          command: 'add',\r\n          auth: ['org-add']\r\n        }\r\n      ]\r\n        .concat(\r\n          level > 3\r\n            ? []\r\n            : {\r\n                //大于3层不能添加下级单位\r\n                label: '添加下级单位',\r\n                command: 'addChild',\r\n                auth: ['org-addChild']\r\n              }\r\n        )\r\n        .concat(\r\n          !isLeaf\r\n            ? []\r\n            : {\r\n                label: '删除',\r\n                command: 'del',\r\n                auth: ['org-delete']\r\n              }\r\n        );\r\n      // if (this.nowDictNode.level === 1) {\r\n      //   // 根节点只能新增\r\n      //   return [\r\n      //     {\r\n      //       label: '新增',\r\n      //       command: commands.NEW,\r\n      //       auth: ['datadict-add']\r\n      //     }\r\n      //   ];\r\n      // } else if (!this.nowDictNode.isLeaf) {\r\n      //   // 有子节点不允许删除\r\n      //   return [\r\n      //     {\r\n      //       label: '新增',\r\n      //       command: commands.NEW,\r\n      //       auth: ['datadict-add']\r\n      //     },\r\n      //     {\r\n      //       label: '编辑',\r\n      //       command: commands.EDITOR,\r\n      //       auth: ['datadict-edit']\r\n      //     }\r\n      //   ];\r\n      // } else {\r\n      //   // 叶子节点\r\n      //   return [\r\n      //     {\r\n      //       label: '新增',\r\n      //       command: commands.NEW,\r\n      //       auth: ['datadict-add']\r\n      //     },\r\n      //     {\r\n      //       label: '编辑',\r\n      //       command: commands.EDITOR,\r\n      //       auth: ['datadict-edit']\r\n      //     },\r\n      //     {\r\n      //       label: '删除',\r\n      //       command: commands.DELETE,\r\n      //       auth: ['datadict-delete']\r\n      //     }\r\n      //   ];\r\n      // }\r\n    },\r\n    /**\r\n     * 快捷菜单样式\r\n     */\r\n    menuStyle() {\r\n      return {\r\n        top: this.menuTop + 'px',\r\n        left: this.menuLeft + 'px'\r\n      };\r\n    },\r\n    /**\r\n     * 模态框标题\r\n     */\r\n    dialogTitle() {\r\n      return (\r\n        {\r\n          edit: '编辑',\r\n          add: '添加同级单位'\r\n        }[this.editStatus] || '添加下级单位'\r\n      );\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * 更新页面宽度\r\n     */\r\n    onResize: utils.debounce(function() {\r\n      window.screenWidth = document.body.clientWidth;\r\n      this.screenWidth = window.screenWidth;\r\n    }, 200),\r\n    /**\r\n     * 指令执行\r\n     */\r\n    command(event, command, data) {\r\n      console.log(event, command, data, this.nodeData);\r\n      switch (command) {\r\n        case 'add':\r\n        case 'addChild':\r\n          this.editStatus = command;\r\n          this.initShowDialog();\r\n          this.editForm = this.$options.data().editForm;\r\n          break;\r\n        case 'edit':\r\n          // 编辑\r\n          this.editStatus = command;\r\n          this.editForm = {\r\n            name: this.nodeData.label,\r\n            number: this.nodeData.data.code\r\n          };\r\n          this.initShowDialog();\r\n          break;\r\n        case 'del':\r\n          // 删除\r\n          this.$confirm('是否删除' + this.nodeData.label + '?', '提示', {\r\n            confirmButtonText: '确定',\r\n            cancelButtonText: '取消',\r\n            type: 'warning'\r\n          })\r\n            .then(() => {\r\n              console.log(this.nodeData);\r\n              return axios(\r\n                {\r\n                  method: 'POST',\r\n                  url: `/department/${this.nodeData.data.id}`,\r\n                  params: {}\r\n                },\r\n                this.serverType\r\n              );\r\n            })\r\n            .then(() => {\r\n              this.$refs['treeDict'].remove(this.nodeData);\r\n              this.$message.success('删除成功');\r\n            });\r\n          break;\r\n      }\r\n    },\r\n    /**\r\n     * 右键快捷菜单\r\n     * @param {Event} event 事件对象\r\n     * @param {*} data 节点数据\r\n     * @param {*} node 节点\r\n     * @param {*} ref 节点组件本身\r\n     */\r\n    onContextMenu(event, data, node, ref) {\r\n      console.log(event, data, node, ref);\r\n      // 保存\r\n      this.nodeData = node;\r\n      // 显示菜单\r\n      this.showMenu = true;\r\n      Object.keys(this.menuLocation).forEach(key => {\r\n        this.menuLocation[key] = event[key];\r\n      });\r\n      this.$nextTick(() => {\r\n        var xy = getObjXy(this.$refs['treeDict'].$el);\r\n        this.menuLocation.relativeX = this.menuLocation.pageX - xy.left;\r\n        this.menuLocation.relativeY = this.menuLocation.pageY - xy.top;\r\n        this.calcMenuPosition();\r\n      });\r\n    },\r\n    handleNodeClick(data) {\r\n      console.log(data);\r\n      this.closeMenu();\r\n    },\r\n    /**\r\n     * 关闭菜单显示\r\n     */\r\n    closeMenu() {\r\n      this.showMenu = false;\r\n    },\r\n    /**\r\n     * 计算设置菜单位置\r\n     */\r\n    calcMenuPosition() {\r\n      if (!this.showMenu) return;\r\n      this.$nextTick(() => {\r\n        // 快捷菜单宽度\r\n        var shortcutMenu = this.$refs['shortcutMenu'];\r\n        var treeDict = this.$refs['treeDict'];\r\n        var shortcutMenuWidth = shortcutMenu.$el.offsetWidth;\r\n        var treeDictWidth = treeDict.$el.offsetWidth;\r\n        var relativeX = this.menuLocation.relativeX;\r\n        var relativeY = this.menuLocation.relativeY;\r\n        this.menuTop = relativeY;\r\n        // 判断快捷菜单是否超出范围\r\n        if (relativeX + shortcutMenuWidth > treeDictWidth) {\r\n          this.menuLeft = treeDictWidth - shortcutMenuWidth;\r\n        } else {\r\n          this.menuLeft = relativeX;\r\n        }\r\n        //修复在Y轴超出范围的情况\r\n        var shortcutMenuHeight = shortcutMenu.$el.offsetHeight;\r\n        var treeDictHeight = treeDict.$el.offsetHeight;\r\n        if (relativeY + shortcutMenuHeight > treeDictHeight) {\r\n          this.menuTop = treeDictHeight - shortcutMenuHeight;\r\n        } else {\r\n          this.menuTop = relativeY;\r\n        }\r\n      });\r\n    },\r\n    /**\r\n     * 初始化显示模态框\r\n     */\r\n    initShowDialog() {\r\n      this.showDialog = true;\r\n      this.$nextTick(() => {\r\n        this.$refs['editForm'].clearValidate();\r\n      });\r\n    },\r\n    /**\r\n     * 提交表单\r\n     */\r\n    confirm() {\r\n      if (this.confirmLoading) return;\r\n      this.$refs['editForm'].validate(valid => {\r\n        if (valid) {\r\n          console.log(nodeData);\r\n          var editStatus = this.editStatus;\r\n          switch (editStatus) {\r\n            case 'add':\r\n            case 'addChild':\r\n            case 'edit':\r\n              // 新增\r\n              this.confirmLoading = true;\r\n              var nodeData =\r\n                editStatus == 'addChild'\r\n                  ? this.nodeData.data\r\n                  : this.nodeData.parent.data;\r\n              var { name, number } = this.editForm;\r\n              axios(\r\n                {\r\n                  method: 'POST',\r\n                  url: '/department',\r\n                  data: {\r\n                    name,\r\n                    code: number,\r\n                    parentId: nodeData.id,\r\n                    id: editStatus == 'edit' ? this.nodeData.data.id : '' //编辑时传入id\r\n                  }\r\n                },\r\n                this.serverType\r\n              )\r\n                .then(res => {\r\n                  var id = res.data;\r\n                  if (editStatus == 'edit') {\r\n                    //编辑\r\n                    Object.assign(this.nodeData.data, {\r\n                      name,\r\n                      code: number\r\n                    });\r\n                    this.$message.success('编辑成功');\r\n                  } else {\r\n                    //新增\r\n                    if (!nodeData.children) {\r\n                      this.$set(nodeData, 'children', []);\r\n                    }\r\n                    nodeData.children.push({\r\n                      name,\r\n                      code: number,\r\n                      id\r\n                    });\r\n                    this.$message.success('新增成功');\r\n                  }\r\n                  this.showDialog = false;\r\n                  this.confirmLoading = false;\r\n                })\r\n                .catch(() => {\r\n                  this.confirmLoading = false;\r\n                });\r\n              break;\r\n            default:\r\n              this.$message.warning('提交异常，无处理方法');\r\n              break;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.shortcut-menu {\r\n  position: absolute;\r\n  z-index: 2000;\r\n}\r\n\r\n.org {\r\n  padding: 15px 35px;\r\n  position: relative;\r\n  overflow: auto;\r\n}\r\n</style>\r\n"]}]}