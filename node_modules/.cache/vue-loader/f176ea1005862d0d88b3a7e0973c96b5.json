{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/CBreadcrumb/index.vue?vue&type=style&index=0&id=1416293e&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/score-analysis-admin/components/business/CBreadcrumb/index.vue","mtime":1645176309785},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5hcHAtYnJlYWRjcnVtYi5lbC1icmVhZGNydW1iIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgZm9udC1zaXplOiAxNHB4OwogIGxpbmUtaGVpZ2h0OiA1MHB4OwogIG1hcmdpbi1sZWZ0OiA4cHg7CgogIC5uby1yZWRpcmVjdCB7CiAgICBjb2xvcjogIzk3YThiZTsKICAgIGN1cnNvcjogdGV4dDsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4QA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/score-analysis-admin/components/business/CBreadcrumb","sourcesContent":["<template>\n  <el-breadcrumb class=\"app-breadcrumb\" separator=\"/\">\n    <transition-group name=\"breadcrumb\">\n      <el-breadcrumb-item v-for=\"(item, index) in levelList\" :key=\"item.path\">\n        <span\n          v-if=\"item.redirect === 'noRedirect' || index == levelList.length - 1\"\n          class=\"no-redirect\"\n          >{{ item.meta.title }}</span\n        >\n        <a v-else @click.prevent=\"onLink(item)\">{{ item.meta.title }}</a>\n      </el-breadcrumb-item>\n    </transition-group>\n  </el-breadcrumb>\n</template>\n\n<script>\nimport pathToRegexp from 'path-to-regexp';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'CBreadcrumb',\n  data() {\n    return {\n      levelList: null\n    };\n  },\n  computed: {\n    ...mapGetters(['menuList'])\n  },\n  watch: {\n    $route() {\n      this.getBreadcrumb();\n    }\n  },\n  created() {\n    this.getBreadcrumb();\n  },\n  methods: {\n    getBreadcrumb() {\n      // console.log(this.getMenuMatched());\n      // only show routes with meta.title\n      // let matched = this.$route.matched.filter(\n      //   item => item.meta && item.meta.title\n      // );\n      // 使用菜单匹配路由\n      let matched = this.getMenuMatched();\n      const first = matched[0];\n\n      if (!this.isDashboard(first)) {\n        matched = [].concat(matched);\n      }\n      this.levelList = matched.filter(\n        item => item.meta && item.meta.title && item.meta.breadcrumb !== false\n      );\n      if (this.menuList.length == 0) {\n        return;\n      }\n      if (this.levelList.length === 0) {\n        this.levelList.push(\n          {\n            editor: '',\n            sysCode: '',\n            creator: '',\n            orderNo: 4,\n            icon: 'documentation',\n            menuName: '考试管理',\n            menuDesc: '',\n            roleType: '',\n            url: '/examManage',\n            deleted: '',\n            parentMenuId: -1,\n            menuId: 162439,\n            menuType: '0',\n            id: '',\n            text: '',\n            path: '/examManage',\n            name: 'Layout',\n            meta: {\n              title: '考试管理',\n              icon: 'documentation'\n            },\n            children: []\n          },\n          {\n            editor: '',\n            sysCode: '',\n            creator: '',\n            orderNo: 1,\n            icon: '',\n            menuName: '试卷管理',\n            menuDesc: '',\n            roleType: '',\n            url: '/PaperManage',\n            deleted: '',\n            parentMenuId: 162439,\n            menuId: 162474,\n            menuType: '0',\n            id: '',\n            text: '',\n            hidden: true,\n            path: '/PaperManage',\n            name: 'PaperManage',\n            meta: {\n              title: '试卷管理',\n              icon: 'component'\n            }\n          }\n        );\n        if (this.$route.name === 'ViewScore') {\n          this.levelList.push({\n            editor: '',\n            sysCode: '',\n            creator: '',\n            orderNo: 1,\n            icon: '',\n            menuName: '查看成绩',\n            menuDesc: '',\n            roleType: '',\n            url: '/ViewScore',\n            deleted: '',\n            parentMenuId: 162474,\n            menuId: 162496,\n            menuType: '0',\n            id: '',\n            text: '',\n            hidden: true,\n            path: '/ViewScore',\n            name: 'ViewScore',\n            meta: {\n              title: '查看成绩',\n              icon: 'component'\n            }\n          });\n        }\n        if (this.$route.name === 'ViewSubject') {\n          this.levelList.push({\n            editor: '',\n            sysCode: '',\n            creator: '',\n            orderNo: 2,\n            icon: '',\n            menuName: '查看题目',\n            menuDesc: '',\n            roleType: '',\n            url: '/ViewSubject',\n            deleted: '',\n            parentMenuId: 162474,\n            menuId: 162497,\n            menuType: '0',\n            id: '',\n            text: '',\n            hidden: true,\n            path: '/ViewSubject',\n            name: 'ViewSubject',\n            meta: {\n              title: '查看题目',\n              icon: 'component'\n            }\n          });\n        }\n        if (this.$route.name === 'MarkSubjectChooseMode') {\n          this.levelList.push({\n            editor: '',\n            sysCode: '',\n            creator: '',\n            orderNo: 4,\n            icon: '',\n            menuName: '题目打标-选择模式',\n            menuDesc: '',\n            roleType: '',\n            url: '/MarkSubjectChooseMode',\n            deleted: '',\n            parentMenuId: 162474,\n            menuId: 162500,\n            menuType: '0',\n            id: '',\n            text: '',\n            hidden: true,\n            path: '/MarkSubjectChooseMode',\n            name: 'MarkSubjectChooseMode',\n            meta: {\n              title: '题目打标-选择模式',\n              icon: 'component'\n            }\n          });\n        }\n        if (this.$route.name === 'MarkSubjectInputMode') {\n          this.levelList.push({\n            editor: '',\n            sysCode: '',\n            creator: '',\n            orderNo: 3,\n            icon: '',\n            menuName: '题目打标-录入模式',\n            menuDesc: '',\n            roleType: '',\n            url: '/MarkSubjectInputMode',\n            deleted: '',\n            parentMenuId: 162474,\n            menuId: 162499,\n            menuType: '0',\n            id: '',\n            text: '',\n            hidden: true,\n            path: '/MarkSubjectInputMode',\n            name: 'MarkSubjectInputMode',\n            meta: {\n              title: '题目打标-录入模式',\n              icon: 'component'\n            }\n          });\n        }\n      }\n    },\n    isDashboard(route) {\n      const name = route && route.name;\n      if (!name) {\n        return false;\n      }\n      return (\n        name.trim().toLocaleLowerCase() === 'Dashboard'.toLocaleLowerCase()\n      );\n    },\n    pathCompile(path) {\n      // To solve this problem https://github.com/PanJiaChen/vue-element-admin/issues/561\n      const { params } = this.$route;\n      console.log(path);\n      var toPath = pathToRegexp.compile(path);\n      return toPath(params);\n    },\n    onLink(item) {\n      const { redirect, path } = item;\n      if (redirect) {\n        this.$router.push(redirect);\n        return;\n      }\n      if (path === '/PaperManage') {\n        this.$router.go(-1);\n      } else {\n        this.$router.push(this.pathCompile(path));\n      }\n    },\n    /**\n     * 获取菜单访问路径\n     */\n    getMenuMatched() {\n      let path = this.$route.path;\n      let menuList = this.menuList.slice(0); // 拷贝路由\n      let menu = menuList.find(item => item.url === path);\n      if (!menu) return []; // 未找到菜单\n      let matched = [];\n      // 向上查找父级菜单\n      let fn = menuId => {\n        let parentIndex = menuList.findIndex(item => item.menuId === menuId);\n        if (parentIndex === -1) return; // 未找到上级菜单\n        let parentMenu = menuList[parentIndex];\n        menuList.splice(parentIndex, 1); // 防止死递归\n        matched.unshift(parentMenu);\n        parentMenu.menuId !== parentMenu.parentMenuId && fn(menu.parentMenuId); // 防止死递归\n      };\n      fn(menu.menuId);\n      return matched;\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.app-breadcrumb.el-breadcrumb {\n  display: inline-block;\n  font-size: 14px;\n  line-height: 50px;\n  margin-left: 8px;\n\n  .no-redirect {\n    color: #97a8be;\n    cursor: text;\n  }\n}\n</style>\n"]}]}