{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/VerifyDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/pages/visitor-h5/views/verify-visitor/VerifyDetail.vue","mtime":1645178321203},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgY29sb3JPYmosCiAgcmlza0xldmVsT2JqCn0gZnJvbSAnQC9wYWdlcy92aXNpdG9yLWg1L3ZpZXdzL215LXZpc2l0b3IvY29tbW9uJzsKaW1wb3J0IGltYWdlQ2FyZCBmcm9tICcuLi9hdWRpdC9jb21wb25lbnRzL2ltYWdlQ2FyZCc7CmltcG9ydCBjaGVja1BhbmVsIGZyb20gJy4vY29tcG9uZW50cy9DaGVja1BhbmVsLnZ1ZSc7CmltcG9ydCBzaWduSW4gZnJvbSAnLi9jb21wb25lbnRzL1NpZ25Jbi52dWUnOwppbXBvcnQgc2lnbk91dCBmcm9tICcuL2NvbXBvbmVudHMvU2lnbk91dC52dWUnOwppbXBvcnQgY29uZmlybU1vZGFsIGZyb20gJy4vY29tcG9uZW50cy9Db25maXJtTW9kYWwudnVlJzsKaW1wb3J0IGdvb2RzUGFuZWwgZnJvbSAnLi4vYXVkaXQvY29tcG9uZW50cy9Hb29kc1BhbmVsJzsKaW1wb3J0IHsKICBhcmVhUXVlcnksCiAgZ2V0UmVjb3JkU3RhdHVzTXNnLAogIGdldE9wZXJhdGlvblN0YXR1c01zZwp9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9hcGkvbXlWaXNpdG9yJzsKaW1wb3J0IHsgZ2V0T3BlcmF0aW9uUmVjb3JkTGlzdCB9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9hcGkvYXVkaXQnOwppbXBvcnQgewogIHdyaXRlT2ZmVmlzaXRvciwKICBnZXRXcml0ZU9mZkluZm9EZXRhaWwsCiAgdmlzaXRvckxlYXZlCn0gZnJvbSAnQC9wYWdlcy92aXNpdG9yLWg1L2FwaS92ZXJpZnknOwppbXBvcnQgeyBmb3JtYXRlRGF0ZSB9IGZyb20gJ0AvcGFnZXMvdmlzaXRvci1oNS9wbHVnaW5zL2NvbW1vbi91dGlscyc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBpbWFnZUNhcmQsCiAgICBjaGVja1BhbmVsLAogICAgY29uZmlybU1vZGFsLAogICAgZ29vZHNQYW5lbCwKICAgIHNpZ25JbiwKICAgIHNpZ25PdXQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvcGVyYXRlT2JqOiBudWxsLAogICAgICBzdGF0dXNPYmo6IG51bGwsCiAgICAgIGNvbG9yT2JqOiBudWxsLAogICAgICBvcGVhcnRpb25MaXN0OiBbXSwKICAgICAgaW5mbzoge30sCiAgICAgIHJpc2tMZXZlbDogJycsCiAgICAgIHJpc2tMZXZlbE9iajogcmlza0xldmVsT2JqKCksCiAgICAgIHJpc2tDb2xvck9iajogewogICAgICAgICcxJzogJ3JnYmEoMCwgMCwgMCwgMC44NSknLAogICAgICAgICcyJzogJyNGRjlBMDAnLAogICAgICAgICczJzogJyNGRjU3NTYnCiAgICAgIH0sCiAgICAgIHNob3dEZW55OiBmYWxzZSwKICAgICAgZGVueVJlYXNvbjogJycsCiAgICAgIHNob3dQYW5lbDogZmFsc2UsCiAgICAgIGhhc1RlYW1lcjogZmFsc2UgLy/mmK/lkKbmnInmiJDlkZgKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBmb3JtYXRlRGF0ZSwKICAgIGdldFZpc2l0b3JEZXRhaWwoKSB7CiAgICAgIGdldFdyaXRlT2ZmSW5mb0RldGFpbCh7IGd1ZXN0QmFzZUlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5pbmZvID0gcmVzLmRhdGE7CiAgICAgICAgdGhpcy5hcmVhUXVlcnkoeyBjb2RlOiB0aGlzLmluZm8udmlzaXRvckRlcGFydHVyZUNvZGUgfSk7CiAgICAgICAgdGhpcy5pbmZvLnZpc2l0b3JMaXN0ID0gdGhpcy5pbmZvLnZpc2l0b3JEZXRhaWxzTGlzdDsKICAgICAgICAvLyDmoLjplIDlkI7pgInkuK3nirbmgIHph43nva7kuLrlhajpg6gKICAgICAgICBpZiAodGhpcy4kcmVmcy5jaGVja1BhbmVsKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmNoZWNrUGFuZWwucmVzdWx0ID0gdGhpcy5pbmZvLnZpc2l0b3JMaXN0Lm1hcChpdGVtID0+IHsKICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuJHJlZnMuY2hlY2tQYW5lbC5jaGVja2VkID0gdHJ1ZTsKICAgICAgICB9CgogICAgICAgIGxldCBhcnIxID0gdGhpcy5pbmZvLnZpc2l0b3JEZXRhaWxzTGlzdCB8fCBbXTsKICAgICAgICBsZXQgYXJyMiA9IHRoaXMuaW5mby5sZWF2ZVZpc2l0b3JMaXN0IHx8IFtdOwogICAgICAgIGxldCBhcnIzID0gdGhpcy5pbmZvLm9mZlZpc2l0b3JMaXN0IHx8IFtdOwogICAgICAgIGlmIChhcnIxLmxlbmd0aCArIGFycjIubGVuZ3RoICsgYXJyMy5sZW5ndGggPiAxKSB7CiAgICAgICAgICB0aGlzLmhhc1RlYW1lciA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaGFzVGVhbWVyID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzZXRDb2xvcihpKSB7CiAgICAgIGlmICh0aGlzLmNvbG9yT2JqICYmIHRoaXMuaW5mby5wcm9jZXNzU3RhdHVzKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JPYmpbdGhpcy5pbmZvLnByb2Nlc3NTdGF0dXNdW2ldOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJzsKICAgICAgfQogICAgfSwKICAgIGFwcHJvdmVJdGVtKGNhbWVUeXBlKSB7CiAgICAgIGNvbnN0IGxvYWRpbmcgPSB0aGlzLiR0b2FzdC5sb2FkaW5nKHsKICAgICAgICBtYXNrOiB0cnVlCiAgICAgIH0pOwogICAgICBpZiAoY2FtZVR5cGUgPT0gMykgewogICAgICAgIHZpc2l0b3JMZWF2ZSh7CiAgICAgICAgICB2aXNpdG9ySWRzOiBbdGhpcy5pbmZvLmxlYXZlVmlzaXRvckxpc3RbMF0uaWRdLAogICAgICAgICAgbGVhdmVTb3VyY2U6IDEKICAgICAgICB9KQogICAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgdGhpcy5zaG93UGFuZWwgPSB0cnVlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHRoaXMuJG5vdGlmeShyZXMubWVzc2FnZSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbG9hZGluZy5jbGVhcigpOwogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChyZXMgPT4gewogICAgICAgICAgICB0aGlzLiRub3RpZnkocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICBsb2FkaW5nLmNsZWFyKCk7CiAgICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3cml0ZU9mZlZpc2l0b3IoewogICAgICAgICAgZ3Vlc3RCYXNlSWQ6IHRoaXMuaW5mby5pZCwKICAgICAgICAgIHZpc2l0b3JJZHM6CiAgICAgICAgICAgIGNhbWVUeXBlID09IDEKICAgICAgICAgICAgICA/IFt0aGlzLmluZm8udmlzaXRvckxpc3RbMF0uaWRdCiAgICAgICAgICAgICAgOiBbdGhpcy5pbmZvLmxlYXZlVmlzaXRvckxpc3RbMF0uaWRdLAogICAgICAgICAgY2FtZVR5cGU6IGNhbWVUeXBlCiAgICAgICAgfSkKICAgICAgICAgIC50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3VjY2VzcykgewogICAgICAgICAgICAgIHRoaXMuc2hvd1BhbmVsID0gdHJ1ZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLiRub3RpZnkocmVzLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGxvYWRpbmcuY2xlYXIoKTsKICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2gocmVzID0+IHsKICAgICAgICAgICAgdGhpcy4kbm90aWZ5KHJlcy5tZXNzYWdlKTsKICAgICAgICAgICAgbG9hZGluZy5jbGVhcigpOwogICAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZVBhbmVsKCkgewogICAgICB0aGlzLnNob3dQYW5lbCA9IGZhbHNlOwogICAgICB0aGlzLmdldFZpc2l0b3JEZXRhaWwoKTsKICAgICAgdGhpcy5nZXRPcGVyYXRpb25SZWNvcmRMaXN0KCk7CiAgICB9LAogICAgb25DbG9zZSgpIHsKICAgICAgdGhpcy5nZXRWaXNpdG9yRGV0YWlsKCk7CiAgICB9LAogICAgZ2V0T3BlcmF0aW9uUmVjb3JkTGlzdCgpIHsKICAgICAgZ2V0T3BlcmF0aW9uUmVjb3JkTGlzdCh7IGd1ZXN0QmFzZUlkOiB0aGlzLiRyb3V0ZS5xdWVyeS5pZCB9KS50aGVuKAogICAgICAgIHJlcyA9PiB7CiAgICAgICAgICB0aGlzLm9wZWFydGlvbkxpc3QgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgYXJlYVF1ZXJ5KHBhcmFtKSB7CiAgICAgIGFyZWFRdWVyeShwYXJhbSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMucmlza0xldmVsID0gcmVzLmRhdGEucmlza0xldmVsIHx8IDE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldFN0YXR1c09iaigpIHsKICAgICAgdGhpcy5jb2xvck9iaiA9IGNvbG9yT2JqKCk7CiAgICAgIGdldE9wZXJhdGlvblN0YXR1c01zZygpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgYXJyID0gcmVzLmRhdGE7CiAgICAgICAgbGV0IG9iaiA9IHt9OwogICAgICAgIGFyci5tYXAoaXRlbSA9PiB7CiAgICAgICAgICBvYmpbaXRlbS5jb2RlXSA9IGl0ZW0ubXNnOwogICAgICAgIH0pOwogICAgICAgIHRoaXMub3BlcmF0ZU9iaiA9IG9iajsKICAgICAgfSk7CiAgICAgIGdldFJlY29yZFN0YXR1c01zZygpLnRoZW4ocmVzID0+IHsKICAgICAgICBsZXQgYXJyID0gcmVzLmRhdGE7CiAgICAgICAgbGV0IG9iaiA9IHt9OwogICAgICAgIGFyci5tYXAoaXRlbSA9PiB7CiAgICAgICAgICBvYmpbaXRlbS5jb2RlXSA9IGl0ZW0ubXNnOwogICAgICAgIH0pOwogICAgICAgIHRoaXMuc3RhdHVzT2JqID0gb2JqOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICBQcm9taXNlLmFsbChbCiAgICAgIHRoaXMuZ2V0VmlzaXRvckRldGFpbCgpLAogICAgICB0aGlzLmdldE9wZXJhdGlvblJlY29yZExpc3QoKSwKICAgICAgdGhpcy5nZXRTdGF0dXNPYmooKQogICAgXSk7CiAgICAvLyB3aW5kb3cucGFnZVlPZmZzZXQgPSAwOwogICAgLy8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA9IDA7CiAgICAvLyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCA9IDA7CiAgfQp9Owo="},{"version":3,"sources":["VerifyDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"VerifyDetail.vue","sourceRoot":"src/pages/visitor-h5/views/verify-visitor","sourcesContent":["<template>\n  <div>\n    <div class=\"detail-wrapper\">\n      <div\n        class=\"detail-info\"\n        :style=\"{\n          background: setColor(2),\n          borderColor: setColor(1)\n        }\"\n      >\n        <div class=\"left\">\n          <p>{{ info.visitorName }}</p>\n          <span><van-icon name=\"phone\" />{{ info.visitorTel }}</span>\n        </div>\n        <div\n          class=\"right status-label\"\n          v-if=\"statusObj\"\n          :style=\"{\n            color: setColor(0),\n            backgroundColor: setColor(1)\n          }\"\n        >\n          {{ statusObj[info.processStatus] }}\n        </div>\n      </div>\n      <div class=\"detail-item\" v-if=\"info.visitorWorkUnit\">\n        <div class=\"label\">\n          {{ info.guestType == 1 ? '负责人' : '访客' }}单位\n        </div>\n        <div class=\"line\">{{ info.visitorWorkUnit }}</div>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">\n          {{ info.guestType == 1 ? '负责人' : '访客' }}出发地\n        </div>\n        <div\n          class=\"line departure-wrapper\"\n          :style=\"{ borderColor: riskColorObj[riskLevel] }\"\n        >\n          <div class=\"departure-name\">{{ info.visitorDepartureName }}</div>\n          <span :style=\"{ float: 'right', color: riskColorObj[riskLevel] }\">{{\n            riskLevelObj[riskLevel]\n          }}</span>\n        </div>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">身份信息</div>\n        <image-card\n          v-if=\"info.visitorIdNumberPicture\"\n          :title=\"info.visitorIdNumber\"\n          :src=\"info.visitorIdNumberPicture\"\n        ></image-card>\n        <div v-else class=\"line\">\n          {{ info.visitorIdNumber }}\n        </div>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">到访时间</div>\n        <div class=\"line\">\n          {{ formateDate(info.guestTimeBegin, 3) }} 至\n          {{ formateDate(info.guestTimeEnd, 3) }}\n        </div>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">来访目的</div>\n        <div class=\"line\">\n          {{ info.guestPurposeName }}\n        </div>\n        <goods-panel\n          v-if=\"info.guestPurposeName == '物资外运'\"\n          :info=\"info\"\n        ></goods-panel>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">到访单位</div>\n        <div class=\"line\">\n          {{\n            info.groupName +\n              (info.schoolName ? '-' + info.schoolName : '') +\n              (info.deptName ? '-' + info.deptName : '')\n          }}\n        </div>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">到访地址</div>\n        <div class=\"line\">\n          {{ info.guestAddress }}\n        </div>\n      </div>\n      <div\n        class=\"detail-item\"\n        v-if=\"\n          info.carDetailsAddReqDtoList &&\n            info.carDetailsAddReqDtoList.length > 0\n        \"\n      >\n        <div class=\"label\">车牌信息</div>\n        <ul>\n          <li\n            class=\"line vehicle-item\"\n            :class=\"item.joinLicence ? 'active' : ''\"\n            v-for=\"item in info.carDetailsAddReqDtoList\"\n            :key=\"item.id\"\n          >\n            {{ item.carNumber }}\n            <span class=\"vehicle-span\">{{\n              item.joinLicence ? '车辆可进' : '车辆不可进'\n            }}</span>\n          </li>\n        </ul>\n      </div>\n      <div class=\"detail-item\">\n        <div class=\"label\">健康信息</div>\n        <div class=\"health-wrapper\">\n          <image-card\n            title=\"健康码\"\n            type=\"2\"\n            :src=\"info.visitorHealthCode\"\n          ></image-card>\n          <image-card\n            title=\"行程码\"\n            type=\"2\"\n            :src=\"info.visitorTravelCode\"\n          ></image-card>\n          <image-card\n            v-if=\"info.visitorNucleicAcidDetection\"\n            title=\"核酸报告\"\n            type=\"2\"\n            :src=\"info.visitorNucleicAcidDetection\"\n          ></image-card>\n        </div>\n      </div>\n      <div class=\"detail-item\" v-if=\"hasTeamer\">\n        <div class=\"label\">\n          {{ info.guestType == 1 ? '团队成员' : '同行人' }}\n        </div>\n        <div>\n          <check-panel\n            ref=\"checkPanel\"\n            :item=\"info\"\n            :radius=\"true\"\n            @onClose=\"onClose\"\n          ></check-panel>\n\n          <sign-in :item=\"info\" ref=\"signIn\" @onClose=\"onClose\"></sign-in>\n\n          <sign-out :item=\"info\" ref=\"signOut\" @onClose=\"onClose\"></sign-out>\n        </div>\n      </div>\n      <div class=\"detail-item\" v-if=\"info.remarks\">\n        <div class=\"label\">备注</div>\n        <div class=\"line\">{{ info.remarks }}</div>\n      </div>\n      <div class=\"detail-item\" v-if=\"info.attachment\">\n        <div class=\"label\">附件（活动方案或其他附件）</div>\n        <a :href=\"info.attachment\">下载查看</a>\n      </div>\n    </div>\n    <div class=\"apply-info\">\n      <ul>\n        <li class=\"operation-item\" v-for=\"item in opeartionList\" :key=\"item.id\">\n          <div class=\"text\">\n            <span>{{ formateDate(item.createTime, 3) }}</span>\n            <span v-if=\"operateObj\">{{\n              item.operationName + ' ' + operateObj[item.targetStatus]\n            }}</span>\n          </div>\n\n          <p class=\"remarks\">{{ item.remarks }}</p>\n        </li>\n      </ul>\n    </div>\n    <div class=\"operate-btn\" v-if=\"!hasTeamer\">\n      <span\n        class=\"save\"\n        v-if=\"info.visitorDetailsList && info.visitorDetailsList.length > 0\"\n        @click=\"approveItem(1)\"\n        >确认到达</span\n      >\n      <span\n        class=\"signOut\"\n        v-if=\"info.leaveVisitorList && info.leaveVisitorList.length > 0\"\n        @click=\"approveItem(3)\"\n        >确认签离</span\n      >\n    </div>\n    <confirm-modal\n      :showPanel=\"showPanel\"\n      @closePanel=\"closePanel\"\n    ></confirm-modal>\n  </div>\n</template>\n\n<script>\nimport {\n  colorObj,\n  riskLevelObj\n} from '@/pages/visitor-h5/views/my-visitor/common';\nimport imageCard from '../audit/components/imageCard';\nimport checkPanel from './components/CheckPanel.vue';\nimport signIn from './components/SignIn.vue';\nimport signOut from './components/SignOut.vue';\nimport confirmModal from './components/ConfirmModal.vue';\nimport goodsPanel from '../audit/components/GoodsPanel';\nimport {\n  areaQuery,\n  getRecordStatusMsg,\n  getOperationStatusMsg\n} from '@/pages/visitor-h5/api/myVisitor';\nimport { getOperationRecordList } from '@/pages/visitor-h5/api/audit';\nimport {\n  writeOffVisitor,\n  getWriteOffInfoDetail,\n  visitorLeave\n} from '@/pages/visitor-h5/api/verify';\nimport { formateDate } from '@/pages/visitor-h5/plugins/common/utils';\nexport default {\n  components: {\n    imageCard,\n    checkPanel,\n    confirmModal,\n    goodsPanel,\n    signIn,\n    signOut\n  },\n  data() {\n    return {\n      operateObj: null,\n      statusObj: null,\n      colorObj: null,\n      opeartionList: [],\n      info: {},\n      riskLevel: '',\n      riskLevelObj: riskLevelObj(),\n      riskColorObj: {\n        '1': 'rgba(0, 0, 0, 0.85)',\n        '2': '#FF9A00',\n        '3': '#FF5756'\n      },\n      showDeny: false,\n      denyReason: '',\n      showPanel: false,\n      hasTeamer: false //是否有成员\n    };\n  },\n  methods: {\n    formateDate,\n    getVisitorDetail() {\n      getWriteOffInfoDetail({ guestBaseId: this.$route.query.id }).then(res => {\n        this.info = res.data;\n        this.areaQuery({ code: this.info.visitorDepartureCode });\n        this.info.visitorList = this.info.visitorDetailsList;\n        // 核销后选中状态重置为全部\n        if (this.$refs.checkPanel) {\n          this.$refs.checkPanel.result = this.info.visitorList.map(item => {\n            return item.id;\n          });\n          this.$refs.checkPanel.checked = true;\n        }\n\n        let arr1 = this.info.visitorDetailsList || [];\n        let arr2 = this.info.leaveVisitorList || [];\n        let arr3 = this.info.offVisitorList || [];\n        if (arr1.length + arr2.length + arr3.length > 1) {\n          this.hasTeamer = true;\n        } else {\n          this.hasTeamer = false;\n        }\n      });\n    },\n    setColor(i) {\n      if (this.colorObj && this.info.processStatus) {\n        return this.colorObj[this.info.processStatus][i];\n      } else {\n        return '';\n      }\n    },\n    approveItem(cameType) {\n      const loading = this.$toast.loading({\n        mask: true\n      });\n      if (cameType == 3) {\n        visitorLeave({\n          visitorIds: [this.info.leaveVisitorList[0].id],\n          leaveSource: 1\n        })\n          .then(res => {\n            if (res.success) {\n              this.showPanel = true;\n            } else {\n              this.$notify(res.message);\n            }\n            loading.clear();\n          })\n          .catch(res => {\n            this.$notify(res.message);\n            loading.clear();\n          });\n      } else {\n        writeOffVisitor({\n          guestBaseId: this.info.id,\n          visitorIds:\n            cameType == 1\n              ? [this.info.visitorList[0].id]\n              : [this.info.leaveVisitorList[0].id],\n          cameType: cameType\n        })\n          .then(res => {\n            if (res.success) {\n              this.showPanel = true;\n            } else {\n              this.$notify(res.message);\n            }\n            loading.clear();\n          })\n          .catch(res => {\n            this.$notify(res.message);\n            loading.clear();\n          });\n      }\n    },\n    closePanel() {\n      this.showPanel = false;\n      this.getVisitorDetail();\n      this.getOperationRecordList();\n    },\n    onClose() {\n      this.getVisitorDetail();\n    },\n    getOperationRecordList() {\n      getOperationRecordList({ guestBaseId: this.$route.query.id }).then(\n        res => {\n          this.opeartionList = res.data;\n        }\n      );\n    },\n    areaQuery(param) {\n      areaQuery(param).then(res => {\n        this.riskLevel = res.data.riskLevel || 1;\n      });\n    },\n    getStatusObj() {\n      this.colorObj = colorObj();\n      getOperationStatusMsg().then(res => {\n        let arr = res.data;\n        let obj = {};\n        arr.map(item => {\n          obj[item.code] = item.msg;\n        });\n        this.operateObj = obj;\n      });\n      getRecordStatusMsg().then(res => {\n        let arr = res.data;\n        let obj = {};\n        arr.map(item => {\n          obj[item.code] = item.msg;\n        });\n        this.statusObj = obj;\n      });\n    }\n  },\n  created() {\n    Promise.all([\n      this.getVisitorDetail(),\n      this.getOperationRecordList(),\n      this.getStatusObj()\n    ]);\n    // window.pageYOffset = 0;\n    // document.documentElement.scrollTop = 0;\n    // document.body.scrollTop = 0;\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.detail-wrapper {\n  padding: 15px 16px;\n  .detail-info {\n    width: 91.47vw;\n    height: 82px;\n    margin-bottom: 16px;\n    background: #eef5ff;\n    box-shadow: 0px 1px 5px 0px rgba(207, 227, 255, 0.5);\n    border-radius: 10px;\n    border: 1px solid #3388ff;\n    padding: 15px;\n    padding-right: 0;\n    box-sizing: border-box;\n    font-family: PingFangSC-Regular, PingFang SC;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    p {\n      line-height: 25px;\n      font-size: 18px;\n      font-weight: 500;\n      color: rgba(0, 0, 0, 0.85);\n      margin-bottom: 6px;\n    }\n    span {\n      display: inline-block;\n      font-size: 15px;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.85);\n      line-height: 21px;\n    }\n    .status-label {\n      height: 31px;\n      line-height: 31px;\n      box-sizing: border-box;\n      padding: 0 12px;\n      background: rgba(51, 136, 255, 0.15);\n      border-radius: 5px 0px 0px 5px;\n      text-align: center;\n      font-size: 15px;\n      font-family: PingFangSC-Medium, PingFang SC;\n      font-weight: 500;\n      color: #3388ff;\n      &.pass {\n        background: rgba(12, 192, 140, 0.15);\n        color: #0cc08c;\n      }\n    }\n  }\n  .detail-item {\n    margin-bottom: 16px;\n    .label {\n      margin-bottom: 10px;\n      font-size: 15px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.85);\n      line-height: 21px;\n    }\n    .line {\n      line-height: 40px;\n      min-height: 40px;\n      background: #ffffff;\n      border-radius: 5px;\n      border: 1px solid #abbfd6;\n      padding-left: 12px;\n      padding-right: 12px;\n      font-size: 14px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.65);\n      .vehicle-span {\n        font-size: 14px;\n        font-family: PingFangSC-Medium, PingFang SC;\n        font-weight: 500;\n        color: #3388ff;\n        float: right;\n        text-decoration: underline;\n      }\n      &.vehicle-item {\n        background: rgba(255, 87, 86, 0.06);\n        border: none;\n        margin-bottom: 6px;\n        .vehicle-span {\n          color: #ff5756;\n          text-decoration: none;\n        }\n        &.active {\n          background: rgba(51, 136, 255, 0.06);\n          .vehicle-span {\n            color: #3388ff;\n          }\n        }\n      }\n    }\n    .health-wrapper {\n      display: flex;\n      .image-wrapper {\n        margin-right: 8px;\n      }\n    }\n    .partner-wrapper {\n      .partner-item {\n        box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.06);\n        margin-bottom: 15px;\n        .item-header {\n          display: flex;\n          justify-content: space-between;\n          height: 48px;\n          line-height: 48px;\n          background: rgba(255, 255, 255, 0.6);\n          padding: 0 14px;\n          font-size: 15px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          border-top-left-radius: 10px;\n          border-top-right-radius: 10px;\n        }\n        .item-wrapper {\n          background: #ffffff;\n          padding: 15px 14px;\n          border-bottom-left-radius: 10px;\n          border-bottom-right-radius: 10px;\n          .health-imgList {\n            margin-top: 15px;\n            display: flex;\n            justify-content: space-between;\n          }\n        }\n        .student-item {\n          height: 48px;\n          line-height: 48px;\n          background: rgba(255, 255, 255, 0.6);\n          box-shadow: 0px 1px 5px 0px rgba(0, 0, 0, 0.06);\n          border-radius: 10px;\n          padding: 0 18px;\n          display: flex;\n          justify-content: space-between;\n          font-size: 15px;\n          font-family: PingFangSC-Medium, PingFang SC;\n          font-weight: 500;\n          .student {\n            display: inline-block;\n            margin-left: 6px;\n            width: 44px;\n            line-height: 22px;\n            background: rgba(12, 192, 140, 0.06);\n            border-radius: 5px;\n            font-size: 13px;\n            font-weight: 400;\n            color: #0cc08c;\n            text-align: center;\n          }\n        }\n      }\n    }\n    .team-wrapper {\n      span {\n        margin-right: 25px;\n      }\n    }\n  }\n}\n.apply-info {\n  width: 100vw;\n  background: #3388ff14;\n  padding: 12px 16px;\n  box-sizing: border-box;\n  .operation-item {\n    font-size: 15px;\n    font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.65);\n    margin-bottom: 10px;\n    .text {\n      line-height: 20px;\n      span {\n        margin-right: 5px;\n      }\n    }\n    .remarks {\n      font-size: 15px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.65);\n      margin-top: 5px;\n    }\n  }\n}\n.operate-btn {\n  padding: 0 12px;\n  margin-top: 10px;\n  span {\n    width: 93.333vw;\n    height: 49px;\n    line-height: 49px;\n    text-align: center;\n    background: #3388ff;\n    color: #fff;\n    border-radius: 3px;\n    display: inline-block;\n    // border: 1px solid #3388ff;\n    box-sizing: border-box;\n    font-size: 17px;\n    font-family: PingFangSC-Medium, PingFang SC;\n    font-weight: 500;\n    color: #fff;\n  }\n  .signOut {\n    background: #595959;\n  }\n}\n.deny-dialog {\n  padding: 15px 16px;\n  /deep/ .van-dialog__header {\n    text-align: left;\n    padding-top: 0;\n    font-weight: 400;\n    color: rgba(0, 0, 0, 0.85);\n  }\n  /deep/ .van-field__body {\n    border-radius: 4px;\n    border: 1px solid #dddddd;\n    padding: 12px;\n    box-sizing: border-box;\n  }\n}\n.panel-main {\n  width: 270px;\n  height: 208px;\n  background: #ffffff;\n  border-radius: 7px;\n  .top {\n    text-align: center;\n    img {\n      width: 122px;\n      height: 122px;\n    }\n    .visitor {\n      font-size: 13px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: rgba(0, 0, 0, 0.45);\n      margin-top: -10px;\n    }\n    .text {\n      font-size: 17px;\n      font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      color: #000000;\n    }\n  }\n  .bottom {\n    height: 40px;\n    line-height: 40px;\n    text-align: center;\n    border-top: 0.5px solid #ddd;\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    span {\n      font-weight: 400;\n      color: #3388ff;\n      font-size: 18px;\n    }\n  }\n}\n.departure-wrapper {\n  display: flex;\n  justify-content: space-between;\n}\n.departure-name {\n  width: 225px;\n}\n</style>\n"]}]}