{"remainingRequest":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/practice/mutilwap/src/components/business/BRoleAuthMenu/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/src/components/business/BRoleAuthMenu/index.vue","mtime":1627979214236},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/practice/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdAL3BsdWdpbnMvYXhpb3MnOwppbXBvcnQgbm9ybWFsQ2hlY2tib3hJY29uIGZyb20gJ0AvYXNzZXRzL2ltYWdlcy9pY29uL2NoZWNrYm94LW5vcm1hbC5wbmcnOwppbXBvcnQgc2VsZWN0ZWRDaGVja2JveEljb24gZnJvbSAnQC9hc3NldHMvaW1hZ2VzL2ljb24vY2hlY2tib3gtc2VsZWN0ZWQucG5nJzsKaW1wb3J0IHV0aWxzIGZyb20gJ0AvcGx1Z2lucy9jb21tb24vdXRpbHMnOwppbXBvcnQgeyBUYWJsZSwgVGFibGVDb2x1bW4sIEJ1dHRvbiwgVGFnIH0gZnJvbSAnZWxlbWVudC11aSc7Ci8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbmRlbnQKZnVuY3Rpb24gdHJlZURhdGFDaGFuZ2VGaWVsZChhcnJEYXRhLCBzZXR0aW5ncykgewogIC8v5a+56LGh5pWw57uE5oiW5a+56LGh5a2X5q61a2V55L+u5pS5CiAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTsKICBzZXR0aW5ncy5yZWZlciA9IHNldHRpbmdzLnJlZmVyID09PSB1bmRlZmluZWQgPyAxIDogc2V0dGluZ3MucmVmZXI7CiAgdmFyIGRhdGE7CiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcnJEYXRhKSA9PT0gJ1tvYmplY3QgQXJyYXldJykgewogICAgLy/mlbDnu4QKICAgIGRhdGEgPSBbXTsKICAgIGZvciAodmFyIGkgaW4gYXJyRGF0YSkgewogICAgICBkYXRhLnB1c2godGhpcy50cmVlRGF0YUNoYW5nZUZpZWxkKGFyckRhdGFbaV0sIHNldHRpbmdzKSk7CiAgICB9CiAgfSBlbHNlIGlmIChhcnJEYXRhICYmIHR5cGVvZiBhcnJEYXRhID09PSAnb2JqZWN0JykgewogICAgLy/lr7nosaEKICAgIHZhciBvcHQgPSBzZXR0aW5ncy5kYXRhOwogICAgZGF0YSA9IHt9OwogICAgZm9yIChsZXQgaSBpbiBzZXR0aW5ncy5yZWZlciA/IGFyckRhdGEgOiBvcHQpIHsKICAgICAgaWYgKGFyckRhdGFbaV0gIT09IHVuZGVmaW5lZCkgewogICAgICAgIHNldHRpbmdzLmNvbnRhaW4gJiYgKGRhdGFbaV0gPSBhcnJEYXRhW2ldKTsgLy/ljIXlkKvljp/mlbDmja7miYDmnInlrZfmrrXvvIzlj6/og73kvJrooqvopobnm5YKICAgICAgICBpZiAodHlwZW9mIG9wdFtpXSA9PSAnZnVuY3Rpb24nKSB7CiAgICAgICAgICB2YXIgb2JqID0gb3B0W2ldKGksIGFyckRhdGFbaV0sIGFyckRhdGEpOwogICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nKSB7CiAgICAgICAgICAgIGRhdGFbb2JqWzBdXSA9IG9ialsxXTsKICAgICAgICAgIH0gZWxzZSBpZiAob2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7CiAgICAgICAgICAgIGZvciAodmFyIGogaW4gb2JqKSB7CiAgICAgICAgICAgICAgZGF0YVtqXSA9IG9ialtqXTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgaXNBcnIgPQogICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc2V0dGluZ3MudHJlZU5vZGVzKSA9PT0KICAgICAgICAgICAgJ1tvYmplY3QgQXJyYXldJzsKICAgICAgICAgIGxldCBrZXkgPSBvcHRbaV0gPyBvcHRbaV0gOiBpOwogICAgICAgICAgaWYgKGlzQXJyKSB7CiAgICAgICAgICAgIGRhdGFba2V5XSA9IHNldHRpbmdzLnRyZWVOb2Rlcy5pbmRleE9mKGkpID49IDA7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYXRhW2tleV0gPQogICAgICAgICAgICAgICFzZXR0aW5ncy50cmVlTm9kZXMgfHwgc2V0dGluZ3MudHJlZU5vZGVzID09PSBpCiAgICAgICAgICAgICAgICA/IHRoaXMudHJlZURhdGFDaGFuZ2VGaWVsZChhcnJEYXRhW2ldLCBzZXR0aW5ncykKICAgICAgICAgICAgICAgIDogYXJyRGF0YVtpXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9IGVsc2UgewogICAgZGF0YSA9IGFyckRhdGE7CiAgfQogIHJldHVybiBkYXRhOwp9CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQlJvbGVBdXRoTWVudScsCiAgLy8g5rOo5YaM57uE5Lu2CiAgY29tcG9uZW50czogewogICAgW1RhYmxlLm5hbWVdOiBUYWJsZSwKICAgIFtUYWJsZUNvbHVtbi5uYW1lXTogVGFibGVDb2x1bW4sCiAgICBbQnV0dG9uLm5hbWVdOiBCdXR0b24sCiAgICBbVGFnLm5hbWVdOiBUYWcKICB9LAogIHByb3BzOiB7CiAgICAvKioKICAgICAqIOacjeWKoeWZqOexu+WeiwogICAgICovCiAgICBzZXJ2ZXJUeXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIC8vIOWumuS5ieaVsOaNrgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogdGhpcy4kcm91dGUucXVlcnkuaWQsCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIG5vcm1hbENoZWNrYm94SWNvbjogbm9ybWFsQ2hlY2tib3hJY29uLAogICAgICBzZWxlY3RlZENoZWNrYm94SWNvbjogc2VsZWN0ZWRDaGVja2JveEljb24sCiAgICAgIHJvbGVOYW1lOiAnJywgLy/lvZPliY3op5LoibIKICAgICAgbG9hZGluZzogZmFsc2UgLy8g5Yqg6L295LitCiAgICB9OwogIH0sCiAgLy8g6K6h566X5bGe5oCnCiAgY29tcHV0ZWQ6IHt9LAogIC8vIOS+puWQrOWZqAogIHdhdGNoOiB7fSwKICAvLyDliJvlu7rlrozmiJDpkqnlrZAKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREYXRhKCk7CiAgICB0aGlzLmdldE5hbWUoKTsKICB9LAogIC8vIOaMguWcqOWujOaIkOmSqeWtkAogIG1vdW50ZWQoKSB7fSwKICAvLyDmlrnms5XlrprkuYkKICBtZXRob2RzOiB7CiAgICBjaGVjayhpdGVtLCByb3csIGZsZykgewogICAgICAvL2ZsZyAw5qC56IqC54K5IDHlrZDoioLngrkgMiDmjInpkq7mnYPpmZDoioLngrkKICAgICAgaWYgKGZsZyA9PSAnMCcpIHsKICAgICAgICByb3cuY2hlY2tlZCA9ICFpdGVtOwogICAgICAgIGlmIChyb3cuY2hpbGRyZW4gJiYgcm93LmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93LmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHJvdy5jaGlsZHJlbltpXS5jaGVja2VkID0gIWl0ZW07CiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcm93LmNoaWxkcmVuW2ldLmJ1dHRvbnMubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICByb3cuY2hpbGRyZW5baV0uYnV0dG9uc1tqXS5jaGVja2VkID0gIWl0ZW07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdy5idXR0b25zICYmIHJvdy5idXR0b25zLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHJvdy5idXR0b25zLmZvckVhY2goYnV0dG9uID0+IHsKICAgICAgICAgICAgYnV0dG9uLmNoZWNrZWQgPSAhaXRlbTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBpZiAoZmxnID09ICcxJykgewogICAgICAgICAgcm93LmNoZWNrZWQgPSAhaXRlbTsKICAgICAgICAgIGlmIChyb3cuYnV0dG9ucyAmJiByb3cuYnV0dG9ucy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93LmJ1dHRvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICByb3cuYnV0dG9uc1tpXS5jaGVja2VkID0gIWl0ZW07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgbGV0IHJlcyA9CiAgICAgICAgICAgIHJvdy5idXR0b25zICYmCiAgICAgICAgICAgIHJvdy5idXR0b25zLmxlbmd0aCA+IDAgJiYKICAgICAgICAgICAgcm93LmJ1dHRvbnMuc29tZSh2YWx1ZSA9PiB2YWx1ZS5jaGVja2VkKQogICAgICAgICAgICAgID8gdHJ1ZQogICAgICAgICAgICAgIDogZmFsc2U7CiAgICAgICAgICBpZiAocmVzKSByb3cuY2hlY2tlZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4LCBhcnIpID0+IHsKICAgICAgICAgIGlmIChpdGVtLmNoaWxkcmVuICYmIGl0ZW0uY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgICAgICByZXR1cm4gKGl0ZW0uY2hlY2tlZCA9IGl0ZW0uY2hpbGRyZW4uc29tZSh2YWx1ZSA9PiB2YWx1ZS5jaGVja2VkKQogICAgICAgICAgICAgID8gdHJ1ZQogICAgICAgICAgICAgIDogZmFsc2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZ29CYWNrKCkgewogICAgICAvL+i/lOWbngogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ3JvbGUnCiAgICAgIH0pOwogICAgfSwKICAgIGhlYWRlclN0eWxlKHsgcm93LCByb3dJbmRleCB9KSB7CiAgICAgIHJldHVybiAnYnNrSGVhZGVyJzsKICAgIH0sCiAgICBjZWxsU3R5bGUoeyByb3csIGNvbHVtbiwgcm93SW5kZXgsIGNvbHVtbkluZGV4IH0pIHsKICAgICAgcmV0dXJuICdic2tDZWxsJzsKICAgIH0sCiAgICBnZXREYXRhKCkgewogICAgICAvL+iOt+WPluWIl+ihqOaVsOaNrgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBheGlvcygKICAgICAgICB7CiAgICAgICAgICBtZXRob2Q6ICdHRVQnLAogICAgICAgICAgdXJsOiBgL3VzZXJndy9hZG1pbi9yb2xlQXV0aC9zZWxlY3RSb2xlQXV0aC8ke3RoaXMuaWR9YAogICAgICAgIH0sCiAgICAgICAgdGhpcy5zZXJ2ZXJUeXBlCiAgICAgICkKICAgICAgICAudGhlbihyZXMgPT4gewogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSB1dGlscy5saXN0Q29udmVydFRyZWUoCiAgICAgICAgICAgIHJlcy5kYXRhLAogICAgICAgICAgICAnbWVudUlkJywKICAgICAgICAgICAgJ2hhc1BhcmVudCcsCiAgICAgICAgICAgIHRydWUKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0sCiAgICBnZXRDaGlsZFRyZWUoZGF0YSkgewogICAgICAvL+i9rOaNouagkeW9oue7k+aehAogICAgICB2YXIgYXJyID0gW107CiAgICAgIGFyciA9IHRyZWVEYXRhQ2hhbmdlRmllbGQoYXJyLCB7CiAgICAgICAgZGF0YTogewogICAgICAgICAgYnV0dG9uczogJ2xpc3QnCiAgICAgICAgfSwKICAgICAgICB0cmVlTm9kZXM6ICdidXR0b25zJwogICAgICB9KTsKICAgICAgcmV0dXJuIGFycjsKICAgIH0sCiAgICBnZXROYW1lKCkgewogICAgICAvL+iOt+WPlum7mOiupOinkuiJsgogICAgICByZXR1cm4gYXhpb3MoCiAgICAgICAgewogICAgICAgICAgbWV0aG9kOiAnR0VUJywKICAgICAgICAgIHVybDogYC91c2VyZ3cvYWRtaW4vcm9sZUF1dGgvZ2V0Um9sZU5hbWUvJHt0aGlzLmlkfWAKICAgICAgICB9LAogICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICApCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMucm9sZU5hbWUgPSByZXMuZGF0YTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgaXNUb3BNZW51KGl0ZW0pIHsKICAgICAgLy/mmK/lkKbkuIDnuqfoj5zljZUKICAgICAgcmV0dXJuIGl0ZW0uaGFzUGFyZW50ID09ICctMSc7CiAgICB9LAogICAgc2F2ZURhdGEoKSB7CiAgICAgIC8v5L+d5a2YCiAgICAgIHZhciBidG5JZHMgPSBbXSwKICAgICAgICBtZW51SWRzID0gW107CiAgICAgIHRoaXMudGFibGVEYXRhLmZvckVhY2goKGl0ZW0sIGluZGV4LCBhcnIpID0+IHsKICAgICAgICBpZiAoaXRlbS5jaGVja2VkKSB7CiAgICAgICAgICBtZW51SWRzLnB1c2goaXRlbS5tZW51SWQpOwogICAgICAgIH0KICAgICAgICAvLyDniLbnuqfoj5zljZXnmoTmjInpkq7mnYPpmZAKICAgICAgICBBcnJheS5pc0FycmF5KGl0ZW0uYnV0dG9ucykgJiYKICAgICAgICAgIGl0ZW0uYnV0dG9ucy5mb3JFYWNoKGl0ZW0yID0+IHsKICAgICAgICAgICAgaXRlbTIuY2hlY2tlZCAmJiBidG5JZHMucHVzaChpdGVtMi5idG5JZCk7CiAgICAgICAgICB9KTsKICAgICAgICBpZiAoaXRlbS5jaGlsZHJlbiAmJiBpdGVtLmNoaWxkcmVuLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGl0ZW0uY2hpbGRyZW4uZm9yRWFjaCgoaXRlbTIsIGluZGV4MiwgYXJyMikgPT4gewogICAgICAgICAgICBpZiAoaXRlbTIuY2hlY2tlZCkgewogICAgICAgICAgICAgIG1lbnVJZHMucHVzaChpdGVtMi5tZW51SWQpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChpdGVtMi5idXR0b25zICYmIGl0ZW0yLmJ1dHRvbnMubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgIGl0ZW0yLmJ1dHRvbnMuZm9yRWFjaCgoaXRlbTMsIGluZGV4MywgYXJyMykgPT4gewogICAgICAgICAgICAgICAgaWYgKGl0ZW0zLmNoZWNrZWQpIHsKICAgICAgICAgICAgICAgICAgYnRuSWRzLnB1c2goaXRlbTMuYnRuSWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBheGlvcygKICAgICAgICB7CiAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgIHVybDogJy91c2VyZ3cvYWRtaW4vcm9sZUF1dGgvc2F2ZVJvbGVBdXRoJywKICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgYnRuSWRzLAogICAgICAgICAgICBtZW51aWRzOiBtZW51SWRzLAogICAgICAgICAgICByb2xlSWQ6IHRoaXMuaWQKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHRoaXMuc2VydmVyVHlwZQogICAgICApCiAgICAgICAgLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkv53lrZjmiJDlip8hJwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/business/BRoleAuthMenu","sourcesContent":["<template>\n  <!-- 测试动态页面 -->\n  <div class=\"app-container\">\n    <div class=\"rolePermission\">\n      <div class=\"header\">\n        <div class=\"header-right\">\n          <span class=\"current-role\">当前角色：</span>\n          <el-tag>{{ roleName }}</el-tag>\n        </div>\n        <div class=\"header-left\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-arrow-left\"\n            size=\"small\"\n            @click=\"$router.push('/system/role')\"\n            >返回</el-button\n          >\n          <el-button size=\"small\" type=\"primary\" @click=\"saveData\"\n            >保存</el-button\n          >\n        </div>\n      </div>\n      <div class=\"table\">\n        <el-table\n          :data=\"tableData\"\n          v-loading=\"loading\"\n          style=\"width: 100%\"\n          row-key=\"menuId\"\n          border\n          default-expand-all\n          :header-cell-class-name=\"headerStyle\"\n          :cell-class-name=\"cellStyle\"\n          :tree-props=\"{ children: 'children', hasChildren: 'hasChildren' }\"\n        >\n          <el-table-column prop=\"menuName\" label=\"菜单列表\" width=\"300\">\n          </el-table-column>\n          <el-table-column label=\"菜单权限\" width=\"100\">\n            <template slot-scope=\"scope\">\n              <div\n                v-if=\"\n                  scope.row.hasParent == '-1' &&\n                    scope.row.children &&\n                    scope.row.children.length > 0\n                \"\n                style=\"text-align:center;\"\n              >\n                <img\n                  :src=\"\n                    scope.row.checked\n                      ? selectedCheckboxIcon\n                      : normalCheckboxIcon\n                  \"\n                  class=\"f-l\"\n                  @click=\"check(scope.row.checked, scope.row, '0')\"\n                />\n              </div>\n              <div\n                v-else-if=\"\n                  scope.row.hasParent == '-1' &&\n                    (!scope.row.children || scope.row.children.length <= 0)\n                \"\n                style=\"text-align:center;\"\n              >\n                <img\n                  :src=\"\n                    scope.row.checked\n                      ? selectedCheckboxIcon\n                      : normalCheckboxIcon\n                  \"\n                  class=\"f-l\"\n                  @click=\"check(scope.row.checked, scope.row, '0')\"\n                />\n              </div>\n              <div\n                v-else-if=\"scope.row.buttons && scope.row.buttons.length > 0\"\n              >\n                <img\n                  :src=\"\n                    scope.row.checked\n                      ? selectedCheckboxIcon\n                      : normalCheckboxIcon\n                  \"\n                  class=\"f-l\"\n                  @click=\"check(scope.row.checked, scope.row, '1')\"\n                />\n              </div>\n              <div v-else>\n                <img\n                  :src=\"\n                    scope.row.checked\n                      ? selectedCheckboxIcon\n                      : normalCheckboxIcon\n                  \"\n                  class=\"f-l\"\n                  @click=\"check(scope.row.checked, scope.row, '1')\"\n                />\n              </div>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"按钮权限\">\n            <template slot-scope=\"scope\">\n              <div class=\"f-c table-list\">\n                <div\n                  class=\"f-c f-l table-list-item\"\n                  v-for=\"(item, i) in scope.row.buttons\"\n                  :key=\"i\"\n                  @click=\"\n                    item.checked = !item.checked;\n                    check(item.checked, scope.row, '2');\n                  \"\n                >\n                  <img\n                    :src=\"\n                      item.checked ? selectedCheckboxIcon : normalCheckboxIcon\n                    \"\n                    class=\"f-l\"\n                  />\n                  <div class=\"f-l\">{{ item.btnName }}</div>\n                </div>\n              </div>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from '@/plugins/axios';\nimport normalCheckboxIcon from '@/assets/images/icon/checkbox-normal.png';\nimport selectedCheckboxIcon from '@/assets/images/icon/checkbox-selected.png';\nimport utils from '@/plugins/common/utils';\nimport { Table, TableColumn, Button, Tag } from 'element-ui';\n// eslint-disable-next-line indent\nfunction treeDataChangeField(arrData, settings) {\n  //对象数组或对象字段key修改\n  settings = settings || {};\n  settings.refer = settings.refer === undefined ? 1 : settings.refer;\n  var data;\n  if (Object.prototype.toString.call(arrData) === '[object Array]') {\n    //数组\n    data = [];\n    for (var i in arrData) {\n      data.push(this.treeDataChangeField(arrData[i], settings));\n    }\n  } else if (arrData && typeof arrData === 'object') {\n    //对象\n    var opt = settings.data;\n    data = {};\n    for (let i in settings.refer ? arrData : opt) {\n      if (arrData[i] !== undefined) {\n        settings.contain && (data[i] = arrData[i]); //包含原数据所有字段，可能会被覆盖\n        if (typeof opt[i] == 'function') {\n          var obj = opt[i](i, arrData[i], arrData);\n          if (Object.prototype.toString.call(obj) === '[object Array]') {\n            data[obj[0]] = obj[1];\n          } else if (obj && typeof obj === 'object') {\n            for (var j in obj) {\n              data[j] = obj[j];\n            }\n          }\n        } else {\n          var isArr =\n            Object.prototype.toString.call(settings.treeNodes) ===\n            '[object Array]';\n          let key = opt[i] ? opt[i] : i;\n          if (isArr) {\n            data[key] = settings.treeNodes.indexOf(i) >= 0;\n          } else {\n            data[key] =\n              !settings.treeNodes || settings.treeNodes === i\n                ? this.treeDataChangeField(arrData[i], settings)\n                : arrData[i];\n          }\n        }\n      }\n    }\n  } else {\n    data = arrData;\n  }\n  return data;\n}\nexport default {\n  name: 'BRoleAuthMenu',\n  // 注册组件\n  components: {\n    [Table.name]: Table,\n    [TableColumn.name]: TableColumn,\n    [Button.name]: Button,\n    [Tag.name]: Tag\n  },\n  props: {\n    /**\n     * 服务器类型\n     */\n    serverType: {\n      type: String,\n      default: ''\n    }\n  },\n  // 定义数据\n  data() {\n    return {\n      id: this.$route.query.id,\n      tableData: [],\n      normalCheckboxIcon: normalCheckboxIcon,\n      selectedCheckboxIcon: selectedCheckboxIcon,\n      roleName: '', //当前角色\n      loading: false // 加载中\n    };\n  },\n  // 计算属性\n  computed: {},\n  // 侦听器\n  watch: {},\n  // 创建完成钩子\n  created() {\n    this.getData();\n    this.getName();\n  },\n  // 挂在完成钩子\n  mounted() {},\n  // 方法定义\n  methods: {\n    check(item, row, flg) {\n      //flg 0根节点 1子节点 2 按钮权限节点\n      if (flg == '0') {\n        row.checked = !item;\n        if (row.children && row.children.length > 0) {\n          for (let i = 0; i < row.children.length; i++) {\n            row.children[i].checked = !item;\n            for (let j = 0; j < row.children[i].buttons.length; j++) {\n              row.children[i].buttons[j].checked = !item;\n            }\n          }\n        }\n        if (row.buttons && row.buttons.length > 0) {\n          row.buttons.forEach(button => {\n            button.checked = !item;\n          });\n        }\n      } else {\n        if (flg == '1') {\n          row.checked = !item;\n          if (row.buttons && row.buttons.length > 0) {\n            for (let i = 0; i < row.buttons.length; i++) {\n              row.buttons[i].checked = !item;\n            }\n          }\n        } else {\n          let res =\n            row.buttons &&\n            row.buttons.length > 0 &&\n            row.buttons.some(value => value.checked)\n              ? true\n              : false;\n          if (res) row.checked = true;\n        }\n        this.tableData.forEach((item, index, arr) => {\n          if (item.children && item.children.length > 0) {\n            return (item.checked = item.children.some(value => value.checked)\n              ? true\n              : false);\n          }\n        });\n      }\n    },\n    goBack() {\n      //返回\n      this.$router.push({\n        name: 'role'\n      });\n    },\n    headerStyle({ row, rowIndex }) {\n      return 'bskHeader';\n    },\n    cellStyle({ row, column, rowIndex, columnIndex }) {\n      return 'bskCell';\n    },\n    getData() {\n      //获取列表数据\n      this.loading = true;\n      axios(\n        {\n          method: 'GET',\n          url: `/usergw/admin/roleAuth/selectRoleAuth/${this.id}`\n        },\n        this.serverType\n      )\n        .then(res => {\n          this.tableData = utils.listConvertTree(\n            res.data,\n            'menuId',\n            'hasParent',\n            true\n          );\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    },\n    getChildTree(data) {\n      //转换树形结构\n      var arr = [];\n      arr = treeDataChangeField(arr, {\n        data: {\n          buttons: 'list'\n        },\n        treeNodes: 'buttons'\n      });\n      return arr;\n    },\n    getName() {\n      //获取默认角色\n      return axios(\n        {\n          method: 'GET',\n          url: `/usergw/admin/roleAuth/getRoleName/${this.id}`\n        },\n        this.serverType\n      )\n        .then(res => {\n          this.roleName = res.data;\n        })\n        .catch(() => {});\n    },\n    isTopMenu(item) {\n      //是否一级菜单\n      return item.hasParent == '-1';\n    },\n    saveData() {\n      //保存\n      var btnIds = [],\n        menuIds = [];\n      this.tableData.forEach((item, index, arr) => {\n        if (item.checked) {\n          menuIds.push(item.menuId);\n        }\n        // 父级菜单的按钮权限\n        Array.isArray(item.buttons) &&\n          item.buttons.forEach(item2 => {\n            item2.checked && btnIds.push(item2.btnId);\n          });\n        if (item.children && item.children.length > 0) {\n          item.children.forEach((item2, index2, arr2) => {\n            if (item2.checked) {\n              menuIds.push(item2.menuId);\n            }\n            if (item2.buttons && item2.buttons.length > 0) {\n              item2.buttons.forEach((item3, index3, arr3) => {\n                if (item3.checked) {\n                  btnIds.push(item3.btnId);\n                }\n              });\n            }\n          });\n        }\n      });\n      this.loading = true;\n      axios(\n        {\n          method: 'POST',\n          url: '/usergw/admin/roleAuth/saveRoleAuth',\n          data: {\n            btnIds,\n            menuids: menuIds,\n            roleId: this.id\n          }\n        },\n        this.serverType\n      )\n        .then(res => {\n          this.$message({\n            type: 'success',\n            message: '保存成功!'\n          });\n          this.loading = false;\n        })\n        .catch(() => {\n          this.loading = false;\n        });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.header {\n  margin-bottom: 15px;\n  &-right {\n    float: right;\n    font-size: 14px;\n    line-height: 32px;\n    .current-role {\n      font-weight: bold;\n    }\n  }\n}\n.rolePermission {\n  background: #fff;\n  .btns {\n    margin-bottom: 15px;\n  }\n  &-main {\n    &-title {\n      font-size: 14px;\n      // font-family: PingFangSC-Regular, PingFang SC;\n      font-weight: 400;\n      line-height: 20px;\n      &-label {\n        color: rgba(50, 50, 50, 1);\n        margin-bottom: 15px;\n      }\n      &-text {\n        color: rgba(112, 114, 118, 1);\n      }\n    }\n    &-btnicon {\n      width: 14px;\n      position: absolute;\n      top: 8px;\n      left: 20px;\n    }\n  }\n  .table {\n    font-size: 14px;\n    // font-family: PingFangSC-Regular, PingFang SC;\n    font-weight: 400;\n    color: rgba(112, 114, 118, 1);\n    line-height: 20px;\n    &-list {\n      &-item {\n        height: 20px;\n        line-height: 20px;\n        margin-right: 30px;\n        img {\n          margin: 2px 6px 0 0 !important;\n          cursor: pointer;\n        }\n      }\n    }\n    /deep/.el-icon-arrow-right {\n      font-size: 14px;\n      line-height: 14px;\n    }\n    /deep/.el-icon-arrow-right:before {\n      content: '\\e723';\n    }\n    /deep/.el-table__expand-icon--expanded .el-icon-arrow-right:before {\n      content: '\\e722';\n    }\n    /deep/.el-table__expand-icon--expanded {\n      transform: rotate(0deg);\n      margin-left: -14px;\n    }\n    img {\n      width: 16px;\n      margin: 0px 32px 0;\n      cursor: pointer;\n    }\n  }\n\n  /deep/.bskHeader {\n    background-color: #f5f6f7 !important;\n    color: #313131;\n    padding: 0 !important;\n    text-align: center !important;\n    height: 47px;\n  }\n  /deep/.bskCell {\n    text-align: center !important;\n    padding: 8px 0 !important;\n  }\n  /deep/.el-table--enable-row-hover .el-table__body tr:hover > td {\n    background-color: #f1f6ff;\n  }\n  /deep/.el-table__row .el-button {\n    box-shadow: none;\n    border: none;\n    color: #4375ef;\n    border-color: transparent;\n    background-color: transparent;\n  }\n  /deep/.el-table th.is-leaf,\n  .el-table td {\n    border-bottom: 1px solid #ebebeb;\n  }\n  /deep/.el-table--border td {\n    height: 47px;\n  }\n  /deep/.el-table .cell {\n    display: inline-block;\n    line-height: 20px;\n    text-overflow: -o-ellipsis-lastline;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 2;\n    line-clamp: 2;\n    -webkit-box-orient: vertical;\n    word-wrap: break-word;\n  }\n}\n.table-list {\n  display: table;\n}\n.table-list-item {\n  text-align: left;\n  display: table-cell;\n  cursor: pointer;\n}\n.f-l {\n  float: left;\n}\n</style>\n"]}]}