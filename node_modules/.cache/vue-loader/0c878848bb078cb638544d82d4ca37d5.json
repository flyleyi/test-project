{"remainingRequest":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/survey-add/components/DateChoose.vue?vue&type=style&index=0&id=81810b4a&lang=less&scoped=true&","dependencies":[{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/src/pages/jx-questionnaire-h5/views/survey-add/components/DateChoose.vue","mtime":1645178321141},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/style-resources-loader/lib/index.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/fuyueyi/Desktop/yjy-projects/multi-project/mutilwap/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi9kZWVwLy52YW4tcGlja2VyX19jYW5jZWwgewogIGNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuODUpOwp9Ci9kZWVwLy52YW4tcGlja2VyX19jb25maXJtIHsKICBjb2xvcjogIzVlY2ZhODsKfQo="},{"version":3,"sources":["DateChoose.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgHA;AACA;AACA;AACA;AACA;AACA","file":"DateChoose.vue","sourceRoot":"src/pages/jx-questionnaire-h5/views/survey-add/components","sourcesContent":["<!--  -->\n<template>\n  <div class=\"app\">\n    <van-picker\n      :cancel-button-text=\"cancelText ? cancelText : '取消'\"\n      show-toolbar\n      :columns=\"columns\"\n      value-key=\"name\"\n      @confirm=\"onConfirm\"\n      @cancel=\"onCancel\"\n    />\n  </div>\n</template>\n\n<script>\nimport { Picker } from 'vant';\nexport default {\n  name: 'DateChoose',\n  components: {\n    [Picker.name]: Picker\n  },\n  props: {\n    dateList: {\n      type: Array,\n      default: () => {\n        return [];\n      }\n    },\n    cancelText: {\n      type: String,\n      default: () => {\n        return '';\n      }\n    }\n  },\n  data() {\n    return {};\n  },\n  computed: {\n    columns() {\n      return this.dateFormat();\n    }\n  },\n  mounted() {},\n  methods: {\n    // 日期数据格式处理\n    dateFormat() {\n      let columns = [];\n      // 获取完整的年月日 时分秒，以及默认显示的数组\n      var myDate = new Date();\n      var year = myDate.getFullYear(),\n        month = myDate.getMonth() + 1,\n        day = myDate.getDate(),\n        hour =\n          myDate.getHours() >= 10\n            ? '' + myDate.getHours()\n            : '0' + myDate.getHours();\n      var dateTime = [],\n        currentDate = year + '-' + month + '-' + day;\n      // 日期时间选择范围\n      var dateTimeArray = [\n        [],\n        [],\n        [\n          { name: '00分', key: '00' },\n          { name: '30分', key: '30' }\n        ]\n      ];\n      this.dateList.forEach((item, index) => {\n        var dateArray = item.split('-');\n        var dateForm =\n          dateArray[1] + '月' + dateArray[2] + '日' + this.getWeek(item);\n        dateTimeArray[0].push({\n          name: dateForm,\n          key: item\n        });\n        // 获取当前日期的下标\n        if (item == currentDate) {\n          dateTime.push(index, +hour, 0);\n        }\n      });\n      for (var i = 0; i <= 23; i++) {\n        if (i < 10) {\n          dateTimeArray[1].push({ name: '0' + i + '时', key: '0' + i });\n        } else {\n          dateTimeArray[1].push({ name: '' + i + '时', key: '' + i });\n        }\n      }\n      dateTimeArray.forEach((item, index) => {\n        columns.push({\n          values: item,\n          defaultIndex: dateTime[index]\n        });\n      });\n      return columns;\n    },\n    // 根据日期判断星期几\n    getWeek(dateString) {\n      var dateArray = dateString.split('-'),\n        date = new Date(dateArray[0], parseInt(dateArray[1] - 1), dateArray[2]);\n      return '星期' + '日一二三四五六'.charAt(date.getDay());\n    },\n    onConfirm(value, index) {\n      this.$emit('handleChooseDate', value, index);\n    },\n    onCancel() {\n      this.$emit('closePopup');\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n/deep/.van-picker__cancel {\n  color: rgba(0, 0, 0, 0.85);\n}\n/deep/.van-picker__confirm {\n  color: #5ecfa8;\n}\n</style>\n"]}]}