{"version":3,"sources":["webpack:///./src/components/common/CTable/index.vue?199e","webpack:///./src/components/common/CTable/props.js","webpack:///./src/components/common/CTable/index.vue?376d","webpack:///./src/components/common/CTable/index.vue?deb7","webpack:///./src/components/common/CTable/index.vue","webpack:///./src/pages/bonus-tool-admin/views/account/index.vue?e75e","webpack:///./src/pages/bonus-tool-admin/views/account/index.vue?2336","webpack:///./src/pages/bonus-tool-admin/views/account/index.vue?dbd7","webpack:///src/pages/bonus-tool-admin/views/account/index.vue","webpack:///./src/pages/bonus-tool-admin/views/account/index.vue","webpack:///./src/components/common/CTable/index.vue?96fa"],"names":["p","headers","type","Array","default","data","height","Number","String","maxHeight","border","Boolean","stripe","size","fit","showHeader","highlightCurrentRow","currentRowKey","rowClassName","Function","rowStyle","Object","cellClassName","cellStyle","headerRowClassName","headerRowStyle","headerCellClassName","headerCellStyle","rowKey","emptyText","defaultExpandAll","expandRowKeys","defaultSort","tooltipEffect","showSummary","sumText","summaryMethod","spanMethod","selectOnIndeterminate","indent","lazy","load","treeProps","name","components","ElButton","ElTable","ElTableColumn","props","activated","this","doLayout","methods","_this","$nextTick","$refs","table","isShowButton","row","rowIndex","btn","hidden","component","_vm","_h","$createElement","_c","_self","staticClass","_g","_b","ref","$props","$listeners","_l","col","index","colType","_e","key","scopedSlots","_u","fn","scope","_t","slotName","prop","$index","btnIndex","directives","rawName","value","expression","attrs","on","$event","stopPropagation","click","_v","_s","label","staticRenderFns","CTable","tableData","addAccountDialog","show","schoolName","doNext","errorTip","loading","created","ajaxGetUserList","text","target","ajaxVailSchoolName","ajaxAddUser","ajaxResetPassword","ajaxDeleteUser","onAddAccount","onResetPwd","$set","model","callback","$$v","trim","slot","onSubmitAddAccount"],"mappings":"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","file":"js/bta-account-list.dc6bccaa.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-table\"},[_c('el-table',_vm._g(_vm._b({ref:\"table\"},'el-table',_vm.$props,false),_vm.$listeners),[_vm._l((_vm.headers),function(col,index){return [(col.colType == 'btns' && !col.hidden)?_c('el-table-column',_vm._b({key:index,scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return _vm._l((col.btns),function(btn,btnIndex){return _c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowButton(scope.row, scope.$index, btn)),expression:\"isShowButton(scope.row, scope.$index, btn)\"}],key:btnIndex,attrs:{\"size\":btn.size,\"type\":btn.type},on:{\"click\":function($event){$event.stopPropagation();return btn.click(scope.row, scope.$index, btnIndex)}}},[_vm._v(_vm._s(btn.label))])})}}],null,true)},'el-table-column',col,false)):(col.colType == 'column' && !col.hidden)?_c('el-table-column',_vm._b({key:index,scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._t('column|' + (col.slotName || col.prop),null,{\"row\":scope.row,\"$index\":scope.$index})]}}],null,true)},'el-table-column',col,false)):(!col.hidden)?_c('el-table-column',_vm._b({key:index},'el-table-column',col,false)):_vm._e()]})],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import \"core-js/modules/es.number.constructor.js\";\nvar props = {\n  //****************自定义入参************* */\n  //表头数组，根据内容渲染列内容\n  headers: {\n    type: Array,\n    default: function _default() {\n      return [];\n    }\n  },\n\n  /*******************element-ui自带入参******************/\n  //展示数据内容\n  data: {\n    type: Array,\n    default: function _default() {\n      return [];\n    }\n  },\n  //table高度\n  height: {\n    type: [Number, String]\n  },\n  //table最大高\n  maxHeight: {\n    type: [Number, String]\n  },\n  //是否带有纵向边框\n  border: {\n    type: Boolean,\n    default: false\n  },\n  //斑马纹\n  stripe: {\n    type: Boolean,\n    default: false\n  },\n  //尺寸 medium / small / mini\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  //列的宽度是否自撑开\n  fit: {\n    type: Boolean,\n    default: true\n  },\n  //是否显示表头\n  showHeader: {\n    type: Boolean,\n    default: true\n  },\n  //是否高亮当前行\n  highlightCurrentRow: {\n    type: Boolean,\n    default: true\n  },\n  //当前行的 key，只写属性\n  currentRowKey: {\n    type: [String, Number]\n  },\n  //行的 className 的回调方法，也可以使用字符串为所有行设置一个固定的 className Function({row, rowIndex})/String\n  rowClassName: {\n    type: [Function, String]\n  },\n  //行的 style 的回调方法，也可以使用一个固定的 Object 为所有行设置一样的 Style。 | Function({row, rowIndex})/Object\n  rowStyle: {\n    type: [Function, Object]\n  },\n  //单元格的 className 的回调方法，也可以使用字符串为所有单元格设置一个固定的 className。 | Function({row, column, rowIndex, columnIndex})/String\n  cellClassName: {\n    type: [Function, String]\n  },\n  //单元格的 style 的回调方法，也可以使用一个固定的 Object 为所有单元格设置一样的 Style。 | Function({row, column, rowIndex, columnIndex})/Object\n  cellStyle: {\n    type: [Function, Object]\n  },\n  //表头行的 className 的回调方法，也可以使用字符串为所有表头行设置一个固定的 className。 | Function({row, rowIndex})/String\n  headerRowClassName: {\n    type: [Function, String]\n  },\n  //表头行的 style 的回调方法，也可以使用一个固定的 Object 为所有表头行设置一样的 Style。 | Function({row, rowIndex})/Object\n  headerRowStyle: {\n    type: [Function, Object]\n  },\n  //表头单元格的 className 的回调方法，也可以使用字符串为所有表头单元格设置一个固定的 className。 | Function({row, column, rowIndex, columnIndex})/String\n  headerCellClassName: {\n    type: [Function, String]\n  },\n  //表头单元格的 style 的回调方法，也可以使用一个固定的 Object 为所有表头单元格设置一样的 Style。 | Function({row, column, rowIndex, columnIndex})/Object\n  headerCellStyle: {\n    type: [Function, Object]\n  },\n  //行数据的 Key，用来优化 Table 的渲染；在使用 reserve-selection 功能与显示树形数据时，该属性是必填的。类型为 String 时，\n  //支持多层访问：`user.info.id`，但不支持 `user.info[0].id`，此种情况请使用 `Function`。 | Function(row)/String\n  rowKey: {\n    type: [Function, String]\n  },\n  //空数据时显示的文本内容，也可以通过 `slot=\"empty\"` 设置  默认“暂无数据”\n  emptyText: {\n    type: String,\n    default: '暂无数据'\n  },\n  //是否默认展开所有行，当 Table 包含展开行存在或者为树形表格时有效\n  defaultExpandAll: {\n    type: Boolean,\n    default: false\n  },\n  //可以通过该属性设置 Table 目前的展开行，需要设置 row-key 属性才能使用，该属性为展开行的 keys 数组\n  expandRowKeys: {\n    type: Array\n  },\n\n  /**\r\n   * 默认的排序列的 prop 和顺序\r\n   * @property {String} order ascending, descending 指定默认排序的顺序 @default ascending\r\n   * @property {String} prop 指定默认的排序的列\r\n   */\n  defaultSort: {\n    type: Object\n  },\n  //tool-tip effect属性  dark/light\n  tooltipEffect: {\n    type: String\n  },\n  // 是否在表尾显示合计行\n  showSummary: {\n    type: Boolean,\n    default: false\n  },\n  //合计行第一列的文本\n  sumText: {\n    type: String,\n    default: '合计'\n  },\n  //自定义的合计计算方法 Function({ columns, data }\n  summaryMethod: {\n    type: Function\n  },\n  //合并列或行的计算方法 Function({ row, column, rowIndex, columnIndex }\n  spanMethod: {\n    type: Function\n  },\n  //在多选表格中，当仅有部分行被选中时，点击表头的多选框时的行为。若为 true，则选中所有行；若为 false，则取消选择所有行\n  selectOnIndeterminate: {\n    type: Boolean,\n    default: true\n  },\n  //展示树形数据时，树节点的缩进\n  indent: {\n    type: Number,\n    default: 16\n  },\n  //是否懒加载子节点数据\n  lazy: {\n    type: Boolean\n  },\n  //加载子节点数据的函数，lazy 为 true 时生效，函数第二个参数包含了节点的层级信息 Function(row, treeNode, resolve)\n  load: {\n    type: Function\n  },\n  //渲染嵌套数据的配置选项\n  treeProps: {\n    type: Object\n  }\n};\nexport default props;","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import _TableColumn2 from \"element-ui/lib/theme-chalk/table-column.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _TableColumn from \"element-ui/lib/table-column\";\nimport _Table2 from \"element-ui/lib/theme-chalk/table.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Table from \"element-ui/lib/table\";\nimport _Button2 from \"element-ui/lib/theme-chalk/button.css\";\nimport \"element-ui/lib/theme-chalk/base.css\";\nimport _Button from \"element-ui/lib/button\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport props from './props';\nexport default {\n  name: 'CTable',\n  components: {\n    ElButton: _Button,\n    ElTable: _Table,\n    ElTableColumn: _TableColumn\n  },\n  props: props,\n  activated: function activated() {\n    // 解决缓存切换错位问题\n    this.doLayout();\n  },\n  methods: {\n    /**\r\n     * 重新渲染\r\n     */\n    doLayout: function doLayout() {\n      var _this = this;\n\n      this.$nextTick(function () {\n        _this.$refs.table && _this.$refs.table.doLayout();\n      });\n    },\n\n    /**\r\n     * 是否显示按钮\r\n     * @param {Object} row table行数据\r\n     * @param {Number} rowIndex table行索引\r\n     * @param {Object} btn 按钮配置项\r\n     */\n    isShowButton: function isShowButton(row, rowIndex, btn) {\n      var hidden = btn.hidden;\n      if (typeof hidden === 'function') return !hidden(row, rowIndex, btn);\n      return !hidden;\n    }\n  }\n};","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5ed8e428&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5ed8e428&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ed8e428\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3f0587db&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3f0587db&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container\"},[_c('div',{staticClass:\"common-title\"},[_vm._v(\"用户列表\")]),_c('div',{staticClass:\"common-container\"},[_c('c-table',{attrs:{\"headers\":_vm.headers,\"data\":_vm.tableData,\"border\":true},scopedSlots:_vm._u([{key:\"column|operator\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('el-button',{staticClass:\"reset-btn\",attrs:{\"size\":\"small\",\"type\":\"blue\",\"icon\":\"custom-reset-icon\"},on:{\"click\":function($event){return _vm.onResetPwd(row)}}},[_vm._v(\"重置密码\")])]}}])})],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.addAccountDialog.show,\"center\":true,\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false,\"width\":\"456px\"},on:{\"update:visible\":function($event){return _vm.$set(_vm.addAccountDialog, \"show\", $event)}}},[_c('div',{staticClass:\"dialog-content\"},[_c('div',{staticClass:\"item-label\"},[_vm._v(\"学校名称\")]),_c('el-input',{model:{value:(_vm.addAccountDialog.schoolName),callback:function ($$v) {_vm.$set(_vm.addAccountDialog, \"schoolName\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"addAccountDialog.schoolName\"}}),_c('div',{staticClass:\"error-tip\"},[_vm._v(_vm._s(_vm.addAccountDialog.errorTip))]),_c('el-checkbox',{staticClass:\"next-checkbox\",model:{value:(_vm.addAccountDialog.doNext),callback:function ($$v) {_vm.$set(_vm.addAccountDialog, \"doNext\", $$v)},expression:\"addAccountDialog.doNext\"}},[_vm._v(\"继续新增下一个\")])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"loading\":_vm.addAccountDialog.loading},on:{\"click\":function($event){_vm.addAccountDialog.show = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"loading\":_vm.addAccountDialog.loading,\"type\":\"primary\"},on:{\"click\":_vm.onSubmitAddAccount}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"app-container\">\n    <div class=\"common-title\">用户列表</div>\n    <div class=\"common-container\">\n      <!-- 头部 -->\n      <!-- 产品（史耀军）要求隐藏新增按钮，之后也不需要展示 -->\n      <!-- <div class=\"common-header\">\n        <div class=\"common-header-left\">\n          <el-button type=\"primary\" size=\"medium\" @click=\"onAddAccount\">\n            新增账号\n          </el-button>\n        </div>\n        <div class=\"common-header-right\"></div>\n      </div> -->\n      <c-table :headers=\"headers\" :data=\"tableData\" :border=\"true\">\n        <template v-slot:column|operator=\"{ row }\">\n          <el-button\n            size=\"small\"\n            type=\"blue\"\n            icon=\"custom-reset-icon\"\n            class=\"reset-btn\"\n            @click=\"onResetPwd(row)\"\n            >重置密码</el-button\n          >\n          <!-- 需求变更，要求隐藏删除按钮 -->\n          <!-- <el-button\n            size=\"small\"\n            type=\"red\"\n            icon=\"custom-delete-icon\"\n            class=\"delete-btn\"\n            @click=\"onDelAccount(row)\"\n            >删除账号</el-button\n          > -->\n        </template>\n      </c-table>\n    </div>\n    <el-dialog\n      title=\"提示\"\n      :visible.sync=\"addAccountDialog.show\"\n      :center=\"true\"\n      :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\"\n      :show-close=\"false\"\n      width=\"456px\"\n    >\n      <div class=\"dialog-content\">\n        <div class=\"item-label\">学校名称</div>\n        <el-input v-model.trim=\"addAccountDialog.schoolName\"></el-input>\n        <div class=\"error-tip\">{{ addAccountDialog.errorTip }}</div>\n        <el-checkbox class=\"next-checkbox\" v-model=\"addAccountDialog.doNext\"\n          >继续新增下一个</el-checkbox\n        >\n      </div>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button\n          :loading=\"addAccountDialog.loading\"\n          @click=\"addAccountDialog.show = false\"\n          >取 消</el-button\n        >\n        <el-button\n          :loading=\"addAccountDialog.loading\"\n          type=\"primary\"\n          @click=\"onSubmitAddAccount\"\n          >确 定</el-button\n        >\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nimport CTable from '@/components/common/CTable';\nimport {\n  getUserList,\n  vailSchoolName,\n  addUser,\n  resetPassword,\n  deleteUser\n} from '../../api/user';\nimport {\n  MessageBox,\n  Form,\n  FormItem,\n  Input,\n  Checkbox,\n  Loading\n} from 'element-ui';\nexport default {\n  name: 'Account',\n  components: {\n    CTable,\n    [Form.name]: Form,\n    [FormItem.name]: FormItem,\n    [Input.name]: Input,\n    [Checkbox.name]: Checkbox\n  },\n  data() {\n    return {\n      //表头配置\n      headers: [\n        {\n          label: '序号',\n          type: 'index',\n          width: '100px'\n        },\n        {\n          label: '校方名称',\n          prop: 'schoolName'\n        },\n        {\n          label: '关联账号',\n          prop: 'username'\n        },\n        {\n          label: '创建时间',\n          prop: 'updateTime',\n          formatter: (r, c, v) =>\n            this.$util.dateConverter('yyyy-MM-dd hh:mm', v)\n        },\n        {\n          label: '操作',\n          colType: 'column',\n          slotName: 'operator'\n        }\n      ],\n      //表数据\n      tableData: [],\n      //新增弹窗\n      addAccountDialog: {\n        show: false,\n        schoolName: '',\n        doNext: false,\n        errorTip: '',\n        loading: false\n      }\n    };\n  },\n  created() {\n    this.ajaxGetUserList();\n  },\n  methods: {\n    /**\n     * 查询用户列表\n     */\n    ajaxGetUserList() {\n      let loading = Loading.service({\n        text: '正在查询用户列表，请稍后...',\n        target: '.app-container'\n      });\n      getUserList()\n        .then(({ data }) => {\n          this.tableData = data;\n        })\n        .finally(() => {\n          loading.close();\n        });\n    },\n    /**\n     * 验证学校名称是否已存在\n     * @param {String} schoolName 学校名称\n     */\n    ajaxVailSchoolName(schoolName) {\n      return vailSchoolName({ schoolName });\n    },\n    /**\n     * 新增账号\n     * @param {String} schoolName 学校名称\n     */\n    ajaxAddUser(schoolName) {\n      return addUser({ schoolName });\n    },\n    /**\n     * 重置账号密码\n     * @param {String} userId 用户id\n     */\n    ajaxResetPassword(userId) {\n      return resetPassword({ userId });\n    },\n    /**\n     * 重置账号密码\n     * @param {String} userId 用户id\n     */\n    ajaxDeleteUser(userId) {\n      return deleteUser({ userId });\n    },\n    /**\n     * 点击重置密码\n     * @param {Object} row table行数据\n     */\n    async onResetPwd(row) {\n      let loading;\n      try {\n        await MessageBox.confirm('确定重置该账号密码?', '提醒', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          center: true\n        });\n        loading = Loading.service({\n          text: '操作中，请稍后...',\n          target: '.app-container'\n        });\n        await this.ajaxResetPassword(row.userId);\n        this.$message.success(`重置账号${row.username}的密码成功`);\n        loading.close();\n      } catch (error) {\n        console.log(error);\n        loading && loading.close();\n      }\n    },\n    /**\n     * 点击删除账号\n     * @param {Object} row table行数据\n     */\n    async onDelAccount(row) {\n      let loading;\n      try {\n        await MessageBox.confirm('确定删除该账号?', '提醒', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          center: true\n        });\n        loading = Loading.service({\n          text: '操作中，请稍后...',\n          target: '.app-container'\n        });\n        await this.ajaxDeleteUser(row.userId);\n        this.$message.success(`删除账号${row.username}成功`);\n        loading.close();\n        this.ajaxGetUserList(); //重新获取账号列表\n      } catch (error) {\n        console.log(error);\n        loading && loading.close();\n      }\n    },\n    /**\n     * 点开新增账号按钮\n     */\n    onAddAccount() {\n      this.addAccountDialog.schoolName = '';\n      this.addAccountDialog.doNext = false;\n      this.addAccountDialog.errorTip = '';\n      this.addAccountDialog.show = true;\n    },\n    /**\n     * 点击确定新增账号\n     */\n    async onSubmitAddAccount() {\n      let { schoolName, doNext } = this.addAccountDialog;\n      if (!schoolName) {\n        this.addAccountDialog.errorTip = '学校名称不能为空！';\n        return;\n      }\n      try {\n        this.addAccountDialog.loading = true;\n        //验证填入的学校名是否已存在\n        let { data } = await this.ajaxVailSchoolName(schoolName);\n        if (!data) {\n          this.addAccountDialog.errorTip = '该学校名称已存在，请勿重复添加！';\n          this.addAccountDialog.loading = false;\n          return;\n        }\n        this.addAccountDialog.errorTip = ''; //置空error-tip\n        await this.ajaxAddUser(schoolName); //调用新增账号接口\n        this.addAccountDialog.loading = false;\n        this.addAccountDialog.schoolName = ''; //置空学校名称\n        this.$message.success('新增账号成功');\n        //未勾选继续新建下一个，则创建完成关闭窗口\n        if (!doNext) {\n          this.addAccountDialog.show = false;\n        }\n        this.ajaxGetUserList(); //刷新用户列表\n      } catch (error) {\n        console.error(error);\n        this.addAccountDialog.loading = false;\n      }\n    }\n  }\n};\n</script>\n<style lang=\"less\" scoped>\n/deep/ .el-table td {\n  padding: 6px 0;\n}\n.app-container {\n  .dialog-content {\n    & /deep/ {\n      .item-label {\n        font-size: 14px;\n        line-height: 20px;\n        color: rgba(0, 0, 0, 0.85);\n      }\n      .el-input /deep/ .el-input__inner {\n        margin-top: 12px;\n        height: 36px;\n        line-height: 36px;\n        border-color: rgba(0, 0, 0, 0.45);\n      }\n      .error-tip {\n        margin-top: 8px;\n        height: 17px;\n        line-height: 17px;\n        font-size: 12px;\n        color: #ff4635;\n      }\n      .next-checkbox {\n        margin-top: 20px;\n        /deep/ .el-checkbox__label {\n          color: rgba(0, 0, 0, 0.65);\n        }\n      }\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3f0587db&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3f0587db&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f0587db\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5ed8e428&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5ed8e428&lang=less&scoped=true&\""],"sourceRoot":""}